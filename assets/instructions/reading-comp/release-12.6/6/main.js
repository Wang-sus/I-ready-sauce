!function(e){function t(t){for(var r,a,s=t[0],u=t[1],c=t[2],f=0,h=[];f<s.length;f++)a=s[f],i[a]&&h.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);h.length;)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={3:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var o,s=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=function(e){return a.p+""+({}[e]||e)+".js"}(e),o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,s.appendChild(u)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;o.push([319,0]),n()}([function(e,t,n){"use strict";var r=n(2),i=n(123);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"AccessibilityModule",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"PropTypes",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"React",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return h.Redirect}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return h.Switch}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return d.HashRouter}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return d.Route}}),Object.defineProperty(t,"ReactDOM",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ReactModal",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"LiveAnnouncer",{enumerable:!0,get:function(){return v.LiveAnnouncer}}),Object.defineProperty(t,"LiveMessage",{enumerable:!0,get:function(){return v.LiveMessage}}),Object.defineProperty(t,"classNames",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"CoreExpressionEngine",{enumerable:!0,get:function(){return A.ExpressionEngine}}),Object.defineProperty(t,"expressionWarning",{enumerable:!0,get:function(){return A.expressionWarning}}),Object.defineProperty(t,"StateMachine",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"c2d",{enumerable:!0,get:function(){return E.api}}),Object.defineProperty(t,"immutable",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"Sizzle",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"ScrollToPlugin",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"EaselPlugin",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"GsapDraggable",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"Howler",{enumerable:!0,get:function(){return k.Howler}}),Object.defineProperty(t,"Howl",{enumerable:!0,get:function(){return k.Howl}}),Object.defineProperty(t,"uuid",{enumerable:!0,get:function(){return P.v4}}),Object.defineProperty(t,"KeyEnum",{enumerable:!0,get:function(){return I.Key}}),Object.defineProperty(t,"ca",{enumerable:!0,get:function(){return R.ca}}),t.AGC=t.CAAssetProfiler=t.Key=t.HowlerGlobal=t.FPSMeter=t.txtjs=t.TimelineMax=t.TimelineLite=t.TweenLite=t.TweenMax=t.createjs=t.Defiant=t.createAudioContext=void 0;var o=i(n(321));t.AGC=o;var a=r(n(15)),s=r(n(13)),u=r(n(193)),c=r(n(322)),l=r(n(27)),f=r(n(3)),h=n(31),d=n(332),p=r(n(106)),g=r(n(333)),v=n(697),m=r(n(343)),y=r(n(344)),_=r(n(105)),b=r(n(345)),A=n(698),w=r(n(365)),E=n(366),x=r(n(367));n(368);var T=r(n(369));n(370);var S=r(n(371)),O=r(n(372)),C=r(n(373));n(374),n(375),n(376);var k=n(377),P=n(378),N=n(380),I=n(381),R=n(382),L=n(384),D=window.Defiant;t.Defiant=D;var M=window.HowlerGlobal;t.HowlerGlobal=M;var j=window.FPSMeter;t.FPSMeter=j;var B=window.createjs||Object.assign({},m.default,y.default);t.createjs=B;var F=window.txt;t.txtjs=F;var U=window.Sound,H=window.com.greensock.TweenMax;t.TweenMax=H;var G=window.com.greensock.TweenLite;t.TweenLite=G;var Q=window.com.greensock.TimelineLite;t.TimelineLite=Q;var z=window.com.greensock.TimelineMax;t.TimelineMax=z;var V=b.default.CAAssetProfiler;t.CAAssetProfiler=V,(0,L.applyMonkeyPatches)({React:f.default,txt:F,is:s.default,TimelineMax:z,Emitter:u.default,Howl:k.Howl,Sound:U,createjs:B});t.createAudioContext=function(e){var t=window.AudioContext||window.webkitAudioContext,n=a.default.isNumber(e)?e:33200,r=t?new t:null;if(r&&s.default.ios()&&r.sampleRate!==n){var i=r.createBuffer(1,1,n),o=r.createBufferSource();return o.buffer=i,o.connect(r.destination),o.start(0),o.disconnect(),r.close(),new t}return r};var W=N.Key;t.Key=W},function(e,t,n){"use strict";n.r(t),n.d(t,"LESSON_STATE_LOAD_REQUEST",(function(){return r})),n.d(t,"LESSON_STATE_LOAD_SUCCESS",(function(){return i})),n.d(t,"LESSON_STATE_LOAD_FAILURE",(function(){return o})),n.d(t,"LESSON_STATE_SNAPSHOT",(function(){return a})),n.d(t,"LESSON_STATE_SAVE_SUCCESS",(function(){return s})),n.d(t,"LESSON_STATE_SAVE_FAILURE",(function(){return u})),n.d(t,"LESSON_STATE_DELETE_SUCCESS",(function(){return c})),n.d(t,"LESSON_STATE_DELETE_FAILURE",(function(){return l})),n.d(t,"LESSON_STATE_RESET",(function(){return f})),n.d(t,"LESSON_STATE_UPDATE",(function(){return h})),n.d(t,"LESSON_CONTENT_LOAD_REQUEST",(function(){return d})),n.d(t,"LESSON_CONTENT_LOAD_SUCCESS",(function(){return p})),n.d(t,"LESSON_CONTENT_LOAD_FAILURE",(function(){return g})),n.d(t,"LESSON_CONTENT_SANITIZED",(function(){return v})),n.d(t,"LESSON_CONTENT_PREPARED",(function(){return m})),n.d(t,"LESSON_CONTENT_NAVIGATION_UPDATED",(function(){return y})),n.d(t,"LESSON_COMPLETE",(function(){return _})),n.d(t,"ANIMATION_IN_PROGRESS",(function(){return b})),n.d(t,"AUDIO_IN_PROGRESS",(function(){return A})),n.d(t,"SCREEN_UPDATE",(function(){return w})),n.d(t,"SCREEN_REFRESH",(function(){return E})),n.d(t,"OPEN_LESSON_MODAL",(function(){return x})),n.d(t,"CLOSE_LESSON_MODAL",(function(){return T})),n.d(t,"ENABLE_SCREEN_ELEMENTS",(function(){return S})),n.d(t,"DISABLE_SCREEN_ELEMENTS",(function(){return O})),n.d(t,"ENABLE_LESSON_CONTROLS",(function(){return C})),n.d(t,"DISABLE_LESSON_CONTROLS",(function(){return k})),n.d(t,"SCREEN_READY",(function(){return P})),n.d(t,"SCREEN_DONE",(function(){return N})),n.d(t,"EXIT_DATA_INIT",(function(){return I})),n.d(t,"EXIT_DATA_UPDATE",(function(){return R})),n.d(t,"SHARED_DATA_SCREEN_INJECTION",(function(){return L})),n.d(t,"SHARED_DATA_DIRECTIVES_UPDATE",(function(){return D})),n.d(t,"RESULTS_SAVE_SUCCESS",(function(){return M})),n.d(t,"RESULTS_SAVE_FAILURE",(function(){return j})),n.d(t,"RESULTS_UPDATE",(function(){return B})),n.d(t,"APP_INITIALIZED",(function(){return F})),n.d(t,"APP_READY",(function(){return U})),n.d(t,"APP_START_SUCCESS",(function(){return H})),n.d(t,"APP_IDLED",(function(){return G})),n.d(t,"APP_TOGGLE_CHEATS",(function(){return Q})),n.d(t,"APP_AUDIO_DECODER",(function(){return z})),n.d(t,"USER_DETAILS_LOAD_REQUEST",(function(){return V})),n.d(t,"USER_DETAILS_LOAD_SUCCESS",(function(){return W})),n.d(t,"USER_DETAILS_LOAD_FAILURE",(function(){return q})),n.d(t,"CHEAT_UPDATED",(function(){return X})),n.d(t,"CHEAT_ADDED",(function(){return Y})),n.d(t,"CHEAT_REMOVED",(function(){return K})),n.d(t,"LC_SET_LOADING",(function(){return $})),n.d(t,"LC_RENDERER_STATE_UPDATED",(function(){return J})),n.d(t,"LC_SET_PRELOADING",(function(){return Z})),n.d(t,"LC_LOAD_SUCCESS",(function(){return ee})),n.d(t,"LC_LOAD_FAILURE",(function(){return te})),n.d(t,"TEXT_TOGGLE_CONTENT_VISIBLE",(function(){return ne})),n.d(t,"TEXT_CONTENT_SET",(function(){return re})),n.d(t,"TEXT_ENABLE_UI",(function(){return ie})),n.d(t,"TEXT_GO_TO_PAGE",(function(){return oe})),n.d(t,"TEXT_NEXT_PAGE",(function(){return ae})),n.d(t,"TEXT_PREV_PAGE",(function(){return se})),n.d(t,"TEXT_SEEK",(function(){return ue})),n.d(t,"TEXT_PLAY_AUDIO",(function(){return ce})),n.d(t,"TEXT_ENABLE_DONE",(function(){return le})),n.d(t,"TEXT_PLACE_WIDGET",(function(){return fe})),n.d(t,"TEXT_TOGGLE_CLASS",(function(){return he})),n.d(t,"TEXT_TOGGLE_CONTENT",(function(){return de})),n.d(t,"TEXT_TOGGLE_NAVIGATION",(function(){return pe})),n.d(t,"TEXT_TOGGLE_CLOSE_BTN",(function(){return ge})),n.d(t,"TEXT_TOGGLE_WIDGET",(function(){return ve})),n.d(t,"TEXT_TOGGLE_TITLE",(function(){return me})),n.d(t,"TEXT_ENABLE_WORDS",(function(){return ye})),n.d(t,"TEXT_READER_LOCATION",(function(){return _e})),n.d(t,"TEXT_EVAL_SELECTION",(function(){return be})),n.d(t,"TEXT_INIT",(function(){return Ae})),n.d(t,"NAVIGATION_ON_BACK",(function(){return we})),n.d(t,"NAVIGATION_ON_FORWARD",(function(){return Ee})),n.d(t,"NAVIGATION_JUMP_TO_SCREEN",(function(){return xe})),n.d(t,"NAVIGATION_JUMP_TO_STEP",(function(){return Te})),n.d(t,"NAVIGATION_INIT",(function(){return Se})),n.d(t,"NAVIGATION_GOTO_STEP",(function(){return Oe})),n.d(t,"NAVIGATION_UPDATE",(function(){return Ce})),n.d(t,"NAVIGATION_CURRENT_STEP_STATE",(function(){return ke})),n.d(t,"NAVIGATION_ENABLE",(function(){return Pe})),n.d(t,"NAVIGATION_COMPLETE_COMPONENT_IMMEDIATELY",(function(){return Ne})),n.d(t,"NAVIGATION_PERSIST_RANDOM_ADP_VALUE",(function(){return Ie})),n.d(t,"NAVIGATION_CONTROLS_DONE_ENABLED",(function(){return Re})),n.d(t,"NAVIGATION_CONTROLS_DONE_VISIBLE",(function(){return Le})),n.d(t,"NAVIGATION_CONTROLS_DONE_CALLBACK",(function(){return De})),n.d(t,"NAVIGATION_CONTROLS_HELP_ENABLED",(function(){return Me})),n.d(t,"NAVIGATION_CONTROLS_HELP_VISIBLE",(function(){return je})),n.d(t,"NAVIGATION_CONTROLS_HELP_CALLBACK",(function(){return Be})),n.d(t,"NAVIGATION_CONTROLS_HELP_PULSE_TIMEOUT",(function(){return Fe})),n.d(t,"NAVIGATION_CONTROLS_HELP_PULSING",(function(){return Ue})),n.d(t,"NAVIGATION_CONTROLS_BACK_ENABLED",(function(){return He})),n.d(t,"NAVIGATION_CONTROLS_CUSTOM_BTN_ENABLED",(function(){return Ge})),n.d(t,"NAVIGATION_CONTROLS_CUSTOM_BTN_VISIBLE",(function(){return Qe})),n.d(t,"NAVIGATION_CONTROLS_CUSTOM_BTN_CALLBACK",(function(){return ze})),n.d(t,"NAVIGATION_CONTROLS_CUSTOM_BTN_LABEL",(function(){return Ve})),n.d(t,"NAVIGATION_CONTROLS_CUSTOM_BTN_CREATE",(function(){return We})),n.d(t,"NAVIGATION_SET_CLASS_NAME",(function(){return qe})),n.d(t,"NAVIGATION_SET_TAB_BUTTONS_SIZE",(function(){return Xe})),n.d(t,"NAVIGATION_SET_SHOW_MENU",(function(){return Ye})),n.d(t,"NAVIGATION_ON_TOGGLE_NAV",(function(){return Ke})),n.d(t,"NAVIGATION_REGISTER_BUTTON_PRESS",(function(){return $e})),n.d(t,"NAVIGATION_KEYBOARD_NAV",(function(){return Je})),n.d(t,"NAVIGATION_PAUSE",(function(){return Ze})),n.d(t,"NAVIGATION_UNPAUSE",(function(){return et})),n.d(t,"NAVIGATION_ON_ENABLE_PAUSE",(function(){return tt})),n.d(t,"NAVIGATION_OVERRIDE_NAVIGATION",(function(){return nt})),n.d(t,"PREFERENCES_UPDATE",(function(){return rt})),n.d(t,"AUTOMATION_INITIAL_LESSON_STATE",(function(){return it})),n.d(t,"AUTOMATION_TOGGLE_ALERT",(function(){return ot})),n.d(t,"AUTOMATION_SAVE_LESSON_SCORE",(function(){return at}));const r="LESSON_STATE_LOAD_REQUEST",i="LESSON_STATE_LOAD_SUCCESS",o="LESSON_STATE_LOAD_FAILURE",a="LESSON_STATE_SNAPSHOT",s="LESSON_STATE_SAVE_SUCCESS",u="LESSON_STATE_SAVE_FAILURE",c="LESSON_STATE_DELETE_SUCCESS",l="LESSON_STATE_DELETE_FAILURE",f="LESSON_STATE_RESET",h="LESSON_STATE_UPDATE",d="LESSON_CONTENT_LOAD_REQUEST",p="LESSON_CONTENT_LOAD_SUCCESS",g="LESSON_CONTENT_LOAD_FAILURE",v="LESSON_CONTENT_SANITIZED",m="LESSON_CONTENT_PREPARED",y="LESSON_CONTENT_NAVIGATION_UPDATED",_="LESSON_COMPLETE",b="ANIMATION_IN_PROGRESS",A="AUDIO_IN_PROGRESS",w="SCREEN_UPDATE",E="SCREEN_REFRESH",x="OPEN_LESSON_MODAL",T="CLOSE_LESSON_MODAL",S="ENABLE_SCREEN_ELEMENTS",O="DISABLE_SCREEN_ELEMENTS",C="ENABLE_LESSON_CONTROLS",k="DISABLE_LESSON_CONTROLS",P="SCREEN_READY",N="SCREEN_DONE",I="EXIT_DATA_INIT",R="EXIT_DATA_UPDATE",L="SHARED_DATA_SCREEN_INJECTION",D="SHARED_DATA_DIRECTIVES_UPDATE",M="RESULTS_SAVE_SUCCESS",j="RESULTS_SAVE_FAILURE",B="RESULTS_UPDATE",F="APP_INITIALIZED",U="APP_READY",H="APP_START_SUCCESS",G="APP_IDLED",Q="APP_TOGGLE_CHEATS",z="APP_AUDIO_DECODER",V="USER_DETAILS_LOAD_REQUEST",W="USER_DETAILS_LOAD_SUCCESS",q="USER_DETAILS_LOAD_FAILURE",X="CHEAT_UPDATED",Y="CHEAT_ADDED",K="CHEAT_REMOVED",$="LC_SET_LOADING",J="LC_RENDERER_STATE_UPDATED",Z="LC_SET_PRELOADING",ee="LC_LOAD_SUCCESS",te="LC_LOAD_FAILURE",ne="TEXT_TOGGLE_CONTENT_VISIBLE",re="TEXT_CONTENT_SET",ie="TEXT_ENABLE_UI",oe="TEXT_GO_TO_PAGE",ae="TEXT_NEXT_PAGE",se="TEXT_PREV_PAGE",ue="TEXT_SEEK",ce="TEXT_PLAY_AUDIO",le="TEXT_ENABLE_DONE",fe="TEXT_PLACE_WIDGET",he="TEXT_TOGGLE_CLASS",de="TEXT_TOGGLE_CONTENT",pe="TEXT_TOGGLE_NAVIGATION",ge="TEXT_TOGGLE_CLOSE_BTN",ve="TEXT_TOGGLE_WIDGET",me="TEXT_TOGGLE_TITLE",ye="TEXT_ENABLE_WORDS",_e="TEXT_READER_LOCATION",be="TEXT_EVAL_SELECTION",Ae="TEXT_INIT",we="NAVIGATION_ON_BACK",Ee="NAVIGATION_ON_FORWARD",xe="NAVIGATION_JUMP_TO_SCREEN",Te="NAVIGATION_JUMP_TO_STEP",Se="NAVIGATION_INIT",Oe="NAVIGATION_GOTO_STEP",Ce="NAVIGATION_UPDATE",ke="NAVIGATION_CURRENT_STEP_STATE",Pe="NAVIGATION_ENABLE",Ne="NAVIGATION_COMPLETE_COMPONENT_IMMEDIATELY",Ie="NAVIGATION_PERSIST_RANDOM_ADP_VALUE",Re="NAVIGATION_CONTROLS_DONE_ENABLED",Le="NAVIGATION_CONTROLS_DONE_VISIBLE",De="NAVIGATION_CONTROLS_DONE_CALLBACK",Me="NAVIGATION_CONTROLS_HELP_ENABLED",je="NAVIGATION_CONTROLS_HELP_VISIBLE",Be="NAVIGATION_CONTROLS_HELP_CALLBACK",Fe="NAVIGATION_CONTROLS_HELP_PULSE_TIMEOUT",Ue="NAVIGATION_CONTROLS_HELP_PULSING",He="NAVIGATION_CONTROLS_BACK_ENABLED",Ge="NAVIGATION_CONTROLS_CUSTOM_BTN_ENABLED",Qe="NAVIGATION_CONTROLS_CUSTOM_BTN_VISIBLE",ze="NAVIGATION_CONTROLS_CUSTOM_BTN_CALLBACK",Ve="NAVIGATION_CONTROLS_CUSTOM_BTN_LABEL",We="NAVIGATION_CONTROLS_CUSTOM_BTN_CREATE",qe="NAVIGATION_SET_CLASS_NAME",Xe="NAVIGATION_SET_TAB_BUTTONS_SIZE",Ye="NAVIGATION_SET_SHOW_MENU",Ke="NAVIGATION_ON_TOGGLE_NAV",$e="NAVIGATION_REGISTER_BUTTON_PRESS",Je="NAVIGATION_KEYBOARD_NAV",Ze="NAVIGATION_PAUSE",et="NAVIGATION_UNPAUSE",tt="NAVIGATION_ON_ENABLE_PAUSE",nt="NAVIGATION_OVERRIDE_NAVIGATION",rt="PREFERENCES_UPDATE",it="AUTOMATION_INITIAL_LESSON_STATE",ot="AUTOMATION_TOGGLE_ALERT",at="AUTOMATION_SAVE_LESSON_SCORE"},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";e.exports=n(324)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalAudioPath=function(e){w=e},t.initializeGlobalSFX=function(){return E.initializeGlobalSFX()},t.isGlobalSFX=function(e){return E.isGlobalSFX(e)},t.DC_EVENT_CONSTANTS=t.BUTTONS=t.ACCESSIBILITY=t.SCREEN_ELEMENT_SELECTOR=t.GlobalAudio=t.SELECTORS=t.LESSON_REPORT_MANIFEST=t.LESSON_SECTION=t.CURSOR=t.PROCESS_SPAN_ANIMATION=t.AUDIO=t.GLOBAL=t.LESSON_MODES=t.SCREEN=t.FPS=t.SEQUENCE_EXECUTION=t.LOOP_LIMITER_BEHAVIOR=t.MODES=t.COLLIDABLE_TYPES=t.COLORS=t.CHEATS=t.GRADE=t.TAB_BUTTON_SIZES=t.YEAR_LEVEL=t.GRAPHICS_QUALITY=t.LAYER=t.ANIMATION_QUEUE=t.ALGORITHMS=t.NPC=t.AGC_CONSTS=t.STATE_PROPERTIES=t.ADP=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(124),u=n(74),c=n(17);t.ADP={ACTIONS:{GOTO_SCREEN:"goto_screen",COMPLETE_COMPONENT:"complete_component"},SELECTORS:{CORRECT_SEQUENTIAL:"correct_sequential",EXIT_DATA:"exit_data",INCORRECT_SEQUENTIAL:"incorrect_sequential",PREVIOUSLY_FAILED_LESSON:"previously_failed_lesson",CHRON_GRADE:"chron_grade",USE_ALTERNATE_INSTRUCTION_CONTENT:"use_alternate_instruction_content",RANDOM_VALUE:"random_value"},DEFAULT_SCHEMA_VERSION:"1.0.0"};var l={get SERIALIZABLE(){return Object.values(c.NavigationSerializableProperties)}};t.STATE_PROPERTIES=l;t.AGC_CONSTS={LESSON_SEED:"lessonSeed",AGC_DATA:"agc_data",VARIABLES:"@variables"};var f={get YOOP(){return"yoop"},get PLORY(){return"plory"},get SNARGG(){return"snargg"}};t.NPC=f;t.ALGORITHMS={STRAIGHT_AVERAGE:"STRAIGHT_AVERAGE",ACTIVITY_BASED_AVERAGE:"ACTIVITY_BASED_AVERAGE"};var h={get CHARACTERS(){return"characters"},get DISPLAY(){return"display"}};t.ANIMATION_QUEUE=h;var d={get FRONT(){return"front"},get BACK(){return"back"}};t.LAYER=d;t.GRAPHICS_QUALITY={DEFAULT:-1,LOW:0,HIGH:1};t.YEAR_LEVEL={EMERGING:"Emerging",EARLY:"Early",MID:"Mid"};t.TAB_BUTTON_SIZES={DEFAULT:"",SMALL:"small-tab-buttons"};t.GRADE=["Grade K","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Grade 8"];t.CHEATS={QUALITY:"quality",BACK:"back",FORWARD:"forward",RESET:"reset",REFRESH:"refresh",CLEAR:"clear",MEMORY:"memory",SOUND:"sound",SEEDLESSON:"seedLesson",TIMEOUTMODE:"timeoutMode",AUTOMATION:"automation",LOG:"log",CACHE:"cache",PREVIOUSLYFAILEDLESSON:"previouslyFailedLesson",USEALTERNATEINSTRUCTIONCONTENT:"useAlternateInstructionContent",FPS:"fps",RAF:"raf",SHOWMENU:"showMenu",USE_DIRECTIVE:"useDirective",PREVIEWMODE:"previewMode",INTRO:"intro",DISABLELESSONSAVE:"disableLessonSave",DISABLESCOREALERT:"disableScoreAlert",RANDOMDISABLED:"randomDisabled",DATACAPTURE:"dataCapture",CHRONGRADE:"chronGrade",PLACEMENTGRADE:"placementGrade",SCHOOLYEAR:"schoolYear",EXTRAS:{CLIPLENGTH:"clipLength",LESSONSEED:"lessonSeed",TIMEOUTVALUE:"timeoutValue",CHRONGRADEVALUE:"chronGradeValue",GRADE:"grade",SCHOOLYEARLEVEL:"schoolYearLevel",RANDOMVALUE:"randomValueADPCheat"},TYPE:{TOGGLE:"toggle",SELECT:"select",BUTTON:"button",TOGGLE_INPUT:"toggle-input",TOGGLE_SELECT:"toggle-select"},DISABLEFLUIDRESIZE:"disableFluidResize",RANDOMVALUEADP:"enableRandomADPCheat"};t.COLORS={option_correct:{hue:50},option_incorrect:{hue:-50},option_incorrect_inactive:{hue:-25},option_active:{hue:100},option_disabled:{hue:-100}};var p={get BUCKET(){return"BUCKET"},get DRAG_AND_DROP(){return"DRAGANDDROP"}};t.COLLIDABLE_TYPES=p;t.MODES={NORMAL:"normal",CLIPPED:"clipped"};var g={get CUTOFF(){return"cutoff"},get FINISH_LOOP(){return"finish_loop"}};t.LOOP_LIMITER_BEHAVIOR=g;var v={get PARALLEL(){return"PARALLEL"},get SEQUENTIAL(){return"SEQUENTIAL"}};t.SEQUENCE_EXECUTION=v;t.FPS=24;var m={LOGO_SCALE_FACTOR:.95,DEFAULT_MIN_RES:{WIDTH:800,HEIGHT:600},DEFAULT_MAX_RES:{WIDTH:2048,HEIGHT:1536},DEFAULT_BASE_RES:{WIDTH:1250,HEIGHT:937},MIN_RES:{WIDTH:800,HEIGHT:600},MAX_RES:{WIDTH:2048,HEIGHT:1536},BASE_RES:{WIDTH:1250,HEIGHT:937},get WIDTH_MIN(){return this.MIN_RES.WIDTH},set WIDTH_MIN(e){console.warn("You should not be setting the min width of the application."),this.MIN_RES.WIDTH=e||this.DEFAULT_MIN_RES.WIDTH},get HEIGHT_MIN(){return this.MIN_RES.HEIGHT},set HEIGHT_MIN(e){console.warn("You should not be setting the min height of the application."),this.MIN_RES.HEIGHT=e||this.DEFAULT_MIN_RES.HEIGHT},get WIDTH_MAX(){return this.MAX_RES.WIDTH},set WIDTH_MAX(e){console.warn("You should not be setting the max width of the application."),this.MAX_RES.WIDTH=e||this.DEFAULT_MAX_RES.WIDTH},get HEIGHT_MAX(){return this.MAX_RES.HEIGHT},set HEIGHT_MAX(e){console.warn("You should not be setting the max height of the application."),this.MAX_RES.HEIGHT=e||this.DEFAULT_MAX_RES.HEIGHT},get WIDTH(){return this.BASE_RES.WIDTH},set WIDTH(e){console.warn("You should not be setting the width of the application."),this.BASE_RES.WIDTH=e||this.DEFAULT_BASE_RES.WIDTH},get HEIGHT(){return this.BASE_RES.HEIGHT},set HEIGHT(e){console.warn("You should not be setting the height of the application."),this.BASE_RES.HEIGHT=e||this.DEFAULT_BASE_RES.HEIGHT},TOP:27,BOTTOM:58,TRANSITION:1,DEFAULT_SCALE:1};t.SCREEN=m;var y={id:"sentinel",type:"sentinel",parts:[]};t.LESSON_MODES={LESSON:"lesson",PREVIEW:"preview",DEMO:"demo",LOCAL:"local"};var _={ASSETS:s.GLOBAL,SFX:{ACTIVE:y,ARCADE_4:y,AUDIENCE_APPLAUSE:y,BALL_MOVE:y,BATMAN:y,BEAM:y,BIGSWITCH:y,BIGSWITCH01:y,BIGSWITCH02:y,BIGSWITCH03:y,BLAST_01:y,BLAST_02:y,BLAST_03:y,BLAST_04:y,BLIPBLIP:y,BOING_ON:y,BONK:y,BOX_CLOSE:y,BOX_OPEN:y,BUBBLES:y,BUBBLE_APPEARING:y,BUBBLE_POPPING:y,BUBBLE_RISING:y,BUBBLE_RISING_SHORT:y,BUZZ:y,CHICKEN:y,CHIME_DONE:y,CHIME_PARTY:y,CLANK:y,CLICK:y,CLICK_2:y,CLOCK:y,CORRECT:y,CORRECT_MILDER:y,COVER_CLOSE:y,COVER_OPEN:y,CRACKLE:y,CRYSTAL_CHIME01:y,CRYSTAL_CHIME02:y,CRYSTAL_CHIME03:y,CRYSTAL_CHIME04:y,CRYSTAL_CHIME05:y,CRYSTAL_CHIME06:y,CRYSTAL_CHIME07:y,CRYSTAL_CHIME08:y,DEAD_OBJECT:y,DEAL:y,DISAPPEAR:y,DOME_LIGHT:y,DROP_8BIT:y,DROP_LITE:y,DRUM:y,EXTEND:y,EXTEND2:y,FALLING_DOWN_TUBE:y,FLAME_ON:y,FLASHLIGHTON:y,FLYOFF:y,FORCE_FIELD:y,FRIDGE_DOOR:y,FROG:y,GAMEBOARD:y,GO_DRAWEROPEN:y,GOOP_1:y,GURGLESPLAT:y,HAPPYDANCE:y,HAPPYDANCE1:y,HAPPYDANCE2:y,HEAVY_DROP:y,HEAVY_SLIDE:y,HEAVYSLIDE:y,HOVER:y,INCINERATE:y,INCORRECT:y,INCORRECT_MILDER:y,INTRO:y,LASER_BUZZ:y,LAUNCH:y,LAVALAMP:y,LIGHT_BULB:y,LIGHT_ON:y,LIGHT_RAY:y,LILBOING:y,LITE_SLIDE:y,MACHINE_2:y,MACHINECLICK:y,MAGNET:y,MAGNET_CLICK:y,MECHANICAL:y,MERGE:y,MORPH:y,NEUTRAL:y,ON_CLICK:y,ON_CLICK_MOVABLE:y,ORB_1:y,ORB_2:y,ORB_3:y,ORB_CHURN_FULL:y,ORB_CHURN:y,ORB_OUT:y,ORB_OUT_BOOK:y,ORB_OUT_SHORT:y,ORB_SLIDE:y,PAGE_TURN:y,PANNING:y,PARROT_EAT:y,PARTY_MUSIC:y,PARTY_MUSIC_SHORT:y,PENGUIN_NO_SQUAWK:y,PENGUIN:y,PLINKITY_PLINK:y,PLOP_1:y,POOF:y,POP_2:y,POP_8BIT:y,POP:y,POPDOUBLE2:y,POPON:y,POPON2:y,POPON2_QUIETER:y,POP_SOFT:y,PORTAL_DOOR:y,RAY:y,REWARD:y,REWARD_2:y,ROBOT_SERVO:y,ROLLING:y,ROPE_SLIDE:y,ROTATE:y,SHAPPY_DANCE1:y,SHRINK:y,SHUFFLE_CLINK:y,SHUT_DOWN:y,SIZZLE:y,SLIDE_AND_LAND:y,SLIDE_BACK:y,SLIDE_OVER:y,SLIDEWHISTLE:y,SNAPS_CONNECT:y,SNAPS_IN_PLACE:y,SNARGG_BURP:y,SNARGG_EAT1:y,SNARGG_EAT2:y,SNARGG_SATISFIED:y,SPARKLE:y,SQUEAKY_ROTATE:y,SQUISH_ON:y,START_ROTATE:y,STATIC:y,SUCKUP:y,SWISH:y,TADA:y,THUD:y,TOXIC_BUBBLES:y,TREADMILL:y,TRILL_8BIT:y,TRUMPET:y,TUBE_FILL:y,TWINKLE:y,TWINKLE_SHORT:y,UNMERGE:y,VORTEX_PULSE:y,VORTEX_SORT:y,WHISTLE:y,WHOOSH:y,WORMHOLE_ABYSS:y,YOOP_BUZZ:y}};t.GLOBAL=_;var b={get LESSON_CLOSE_DIALOG_AUDIO(){return u.i18nUtil.translate("audio.LESSON_CLOSE_DIALOG_AUDIO")},get INACCESSIBLE_SCREEN_MODAL_AUDIO(){return u.i18nUtil.translate("audio.INACCESSIBLE_SCREEN_MODAL_AUDIO")}};t.AUDIO=b;t.PROCESS_SPAN_ANIMATION="process-span-animation";var A={CURSOR:"default",GRAB:"grab",GRABBING:"grabbing",POINTER:"pointer"};t.CURSOR=A;t.LESSON_SECTION={PRACTICE:"Practice",INSTRUCTION:"Instruction",QUIZ:"Quiz",REVIEW:"Review Activity"};t.LESSON_REPORT_MANIFEST=["reportDate","environment","ifabricVersion","-----Lesson-Authoring-Information-----","lessonContentData.authoring.export_info.authoring_env","lessonContentData.authoring.export_info.database_id","lessonContentData.authoring.export_info.authoring_version","lessonContentData.authoring.export_info.checksum","-----Lesson-Content-Information-----","lessonContentData.lessonId","lessonContentData.info.title","lessonContentData.info.domain","lessonContentData.info.grade","lessonContentData.info.lessonLevel","lessonContentData.authoring.author_name","lessonContentData.authoring.export_date","lessonContentData.authoring.modified_date","lessonContentData.authoring.lesson_revision","-----Lesson-Navigation-Information-----","lessonNavigationData.cheatsEnabled","lessonNavigationData.highestReachedStepId","lessonNavigationData.currentStep","lessonNavigationData.totalSteps","lessonNavigationData.currentStyle","lessonNavigationData.lessonComplete"];t.SELECTORS={CLOSE_BUTTON:"#lesson-close",DONE_BUTTON:"#done-button",NEXT_BUTTON:"#next-button",BACK_BUTTON:"#bottom-bar-container #nav-back",FORWARD_BUTTON:"#bottom-bar-container #nav-forward",HELP_BUTTON:"#bottom-bar-container #screen-help",PLAY_PAUSE_BUTTON:"#bottom-bar-container #play-pause",TEACHER_MENU_BUTTON:"#bottom-bar-container #teacher-menu",PROGRESS_BAR:"#bottom-bar-container #progress-bar",SETTINGS:"#bottom-bar-container #settings-gear",LOGGING:'.cheats label[for="log"]',CACHING:'.cheats label[for="cache"]',SHOW_MENU:'.cheats label[for="showMenu"]',PREVIEW_MODE:'.cheats label[for="previewMode"]',HIDE_INTRO_OUTRO:'.cheats label[for="intro"]',DISABLE_LESSON_SAVE:'.cheats label[for="disableLessonSave"]',RANDOMIZE_OPTIONS:'.cheats label[for="randomDisabled"]',DATA_CAPTURE:'.cheats label[for="dataCapture"]',CC_TOGGLE:"button.closed-captions-toggle",LESSON_TABLE:"#lesson-table-container",LESSON_TABLE_NAME_FILTER:"#name-filter-lesson-table-container",LESSON_TABLE_GRADE_FILTER:"#level-filter-lesson-table-container"},a.is.chrome("<68")&&(A.GRAB="-webkit-grab",A.GRABBING="-webkit-grabbing");var w=y;var E=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"create",value:function(e){return{id:"sfx_".concat(e.toLowerCase()),type:"audio",parts:[{src:"".concat(w).concat(e.toLowerCase(),".mp3")}]}}},{key:"initializeGlobalSFX",value:function(){var t=_.SFX;return new Promise((function(n){return Object.keys(t).forEach((function(n){t[n]===y&&(t[n]=e.create(n))})),n(t)}))}},{key:"isGlobalSFX",value:function(e){return"audio"===e.type&&!a._.isUndefined(a._.find(_.SFX,{id:e.id}))}},{key:"extend",value:function(t){var n,r=_.SFX;return a._.isArray(t)?(n={},t.forEach((function(e){n[e]=e}))):n=t,a._.forEach(n,(function(t,n){var i=n.toUpperCase();r[i]=e.create(t||i)})),Promise.resolve()}}]),e}();t.GlobalAudio=E;t.SCREEN_ELEMENT_SELECTOR='main [tabindex]:not([tabindex="-1"])';var x={DEFAULT_LOGO:"i-Ready",get LOGO(){return this._LOGO||this.DEFAULT_LOGO},set LOGO(e){return this._LOGO=e},get DEFAULT_DONE_BTN(){return u.i18nUtil.translate("doneButton")},get TOOLS_AND_SETTINGS(){return u.i18nUtil.translate("TOOLS_AND_SETTINGS")},get LESSON_TITLE(){return this._LESSON_TITLE||u.i18nUtil.translate("DEFAULT_LESSON_TITLE")},set LESSON_TITLE(e){return this._LESSON_TITLE=e},get CLOSE_BTN(){return this._CLOSE_BTN||u.i18nUtil.translate("DEFAULT_CLOSE_BTN")},set CLOSE_BTN(e){return this._CLOSE_BTN=e},get DONE_BTN(){return this._DONE_BTN||u.i18nUtil.translate("DEFAULT_DONE_BTN")},set DONE_BTN(e){return this._DONE_BTN=e},get PREVIOUS_BTN(){return this._PREVIOUS_BTN||u.i18nUtil.translate("DEFAULT_PREVIOUS_BTN")},set PREVIOUS_BTN(e){return this._PREVIOUS_BTN=e},get NEXT_BTN(){return this._NEXT_BTN||u.i18nUtil.translate("DEFAULT_NEXT_BTN")},set NEXT_BTN(e){return this._NEXT_BTN=e},get PROGRESS(){return this._PROGRESS||u.i18nUtil.translate("DEFAULT_PROGRESS")},set PROGRESS(e){return this._PROGRESS=e},get HELP_BTN(){return this._HELP_BTN||u.i18nUtil.translate("DEFAULT_HELP_BTN")},set HELP_BTN(e){return this._HELP_BTN=e},get PAUSE_BTN(){return this._PAUSE_BTN||u.i18nUtil.translate("DEFAULT_PAUSE_BTN")},set PAUSE_BTN(e){return this._PAUSE_BTN=e},get UNPAUSE_BTN(){return this._UNPAUSE_BTN||u.i18nUtil.translate("DEFAULT_UNPAUSE_BTN")},set UNPAUSE_BTN(e){return this._UNPAUSE_BTN=e},get SETTINGS_BTN(){return this._SETTINGS_BTN||u.i18nUtil.translate("DEFAULT_SETTINGS_BTN")},set SETTINGS_BTN(e){return this._SETTINGS_BTN=e},get TEACHER_MENU_BTN(){return this._TEACHER_MENU_BTN||u.i18nUtil.translate("DEFAULT_TEACHER_MENU_BTN")},set TEACHER_MENU_BTN(e){return this._TEACHER_MENU_BTN=e},get CONTINUE_BTN(){return this._CONTINUE_BTN||u.i18nUtil.translate("DEFAULT_CONTINUE_BTN")},set CONTINUE_BTN(e){return this._CONTINUE_BTN=e},get PAUSE_ALERT(){return this._PAUSE_ALERT||u.i18nUtil.translate("DEFAULT_PAUSE_ALERT")},set PAUSE_ALERT(e){return this._PAUSE_ALERT=e},get UNPAUSE_ALERT(){return this._UNPAUSE_ALERT||u.i18nUtil.translate("DEFAULT_UNPAUSE_ALERT")},set UNPAUSE_ALERT(e){return this._UNPAUSE_ALERT=e},get LESSON_LOADING(){return this._LESSON_LOADING||u.i18nUtil.translate("DEFAULT_LESSON_LOADING")},set LESSON_LOADING(e){return this._LESSON_LOADING=e},get LESSON_LOADED(){return this._LESSON_LOADED||u.i18nUtil.translate("DEFAULT_LESSON_LOADED")},set LESSON_LOADED(e){return this._LESSON_LOADED=e},get CLOSE_MODAL(){return this._CLOSE_MODAL||u.i18nUtil.translate("DEFAULT_CLOSE_MODAL")},set CLOSE_MODAL(e){return this._CLOSE_MODAL=e},get CLOSE_MODAL_YES(){return this._CLOSE_MODAL_YES||u.i18nUtil.translate("DEFAULT_CLOSE_MODAL_YES")},set CLOSE_MODAL_YES(e){return this._CLOSE_MODAL_YES=e},get CLOSE_MODAL_NO(){return this._CLOSE_MODAL_NO||u.i18nUtil.translate("DEFAULT_CLOSE_MODAL_NO")},set CLOSE_MODAL_NO(e){return this._CLOSE_MODAL_NO=e},get INACCESSIBLE_MODAL_YES(){return this._CLOSE_MODAL_YES||u.i18nUtil.translate("DEFAULT_INACCESSIBLE_MODAL_YES")},set INACCESSIBLE_MODAL_YES(e){return this._CLOSE_MODAL_YES=e},get INACCESSIBLE_MODAL_NO(){return this._INACCESSIBLE_MODAL_NO||u.i18nUtil.translate("DEFAULT_INACCESSIBLE_MODAL_NO")},set INACCESSIBLE_MODAL_NO(e){return this._INACCESSIBLE_MODAL_NO=e},get FFW_MODAL_MSG(){return this._FFW_MODAL_MSG||u.i18nUtil.translate("DEFAULT_FFW_MODAL_MSG")},set FFW_MODAL_MSG(e){return this._FFW_MODAL_MSG=e}};t.ACCESSIBILITY=x;t.BUTTONS={LESSON_CLOSE:"lesson-close",CONTINUE_BTN:"continue-btn",BOTTOM_BAR:{TEACHER_MENU:"teacher-menu",HELP:"screen-help",PLAY_PAUSE:"play-pause",PROGRESS_BAR:{BACK:"nav-back",FORWARD:"nav-forward"},SETTINGS:"settings-gear"}};t.DC_EVENT_CONSTANTS={DC_RESPONSE_TYPE_SELECTION:"selections",DC_RESPONSE_TYPE_VALUE:"values",DC_RESPONSE_TYPE_HYBRID:"hybrid",DC_RESPONSE_TYPE_SORT:"sortingSelections"}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.serializeVideo=function(e){var t=e.readyState,n=e.networkState,r=e.buffered,i=e.error;return{errorCode:i?i.code:0,readyState:t,networkState:n,buffered:JSON.stringify(a._.map(a._.range(r.length),(function(e){return{start:r.start(e),end:r.end(e)}})))}},t.reducerLogger=t.processorLogger=t.orchstratorLogger=t.utilLogger=t.rendererLogger=t.storeLogger=t.actionLogger=t.controllerLogger=t.errorLogger=t.globalLogger=t.loggingToggle=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=Symbol("map of context loggers"),u={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},c=function(){function e(){(0,i.default)(this,e),this[s]={},this._enabled=!1}return(0,o.default)(e,null,[{key:"contexts",get:function(){return{global:"global",error:"error",controller:"controller",action:"action",util:"util",renderer:"renderer",store:"store",orchestrator:"orchestrator",processor:"processor",reducer:"reducer"}}}]),(0,o.default)(e,[{key:"logger",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.contexts.global,r=this[s][n];if(!r){this[s][n]=a.ca.logger.context(n),r=this[s][n],a._.forEach(r,(function(e,n){if(a._.isFunction(e)){var i=t;r[n]=function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];(i._enabled||a._.includes(["error","warn"],n))&&(a._.forEach(o,(function(e,t){window.trackJs&&e instanceof MediaError&&(o[t]="ERRCODE: ".concat(e.code," ").concat(u[e.code])),window.trackJs&&e instanceof Error?o[t]="".concat(e.name,": ").concat(e.message||e.description):window.trackJs&&e instanceof Event?o.splice(t,t+1):window.trackJs&&a._.isPlainObject(e)?o[t]=(0,a._)(e).keys().map((function(t){return t?"".concat(t,": ").concat(e[t]):null})).compact().join(", "):e instanceof Error&&(o.push("".concat(e.name,": ").concat(e.message)),o.push(e.stack))})),window.trackJs&&a._.isArray(o)&&(o=[o.join(", ")]),e.apply(r,o))}}}));var i={};r.time=function(e){r.log("[".concat((new Date).toUTCString(),"] ").concat(e)),i[e]=performance.now()},r.timeEnd=function(e){for(var t,n=performance.now(),o=i[e],a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];(t=r).log.apply(t,["[".concat((new Date).toUTCString(),"] ").concat(e,": ").concat(n-o,"ms")].concat(s))},r.filteredTimeEnd=function(e,t){var n=performance.now(),o=i[e],a=n-o;if(a>=t){for(var s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];(s=r).log.apply(s,["[".concat((new Date).toUTCString(),"] ").concat(e,": ").concat(a,"ms")].concat(c))}},r.profile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.constructor.name,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!window.prod&&o){for(var s=[],u=e;u;)s=s.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u);s=a._.uniq(s),r.info("Profiling ".concat(i)),a._.forEach(s,(function(o){if(!~n.concat(["caller","arguments"]).indexOf(o))try{var s=e[o];a._.isFunction(s)&&(e[o]=a._.wrap(s,(function(e){r.time("".concat(i,".").concat(o));for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var u=e.apply(this,a);return r.filteredTimeEnd("".concat(i,".").concat(o),t),u})))}catch(e){r.info("Unable to profile ".concat(i,".").concat(o))}}))}}}return r}},{key:"enabled",set:function(e){this._enabled=e}}]),e}(),l=new c,f={set enabled(e){l.enabled=e}};t.loggingToggle=f;var h=l.logger();t.globalLogger=h;var d=l.logger(c.contexts.error);t.errorLogger=d;var p=l.logger(c.contexts.controller);t.controllerLogger=p;var g=l.logger(c.contexts.action);t.actionLogger=g;var v=l.logger(c.contexts.store);t.storeLogger=v;var m=l.logger(c.contexts.renderer);t.rendererLogger=m;var y=l.logger(c.contexts.util);t.utilLogger=y;var _=l.logger(c.contexts.orchestrator);t.orchstratorLogger=_;var b=l.logger(c.contexts.processor);t.processorLogger=b;var A=l.logger(c.contexts.reducer);t.reducerLogger=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=t.store=void 0;var i=r(n(386)),o=(0,r(n(388)).default)();t.store=o;var a=(0,i.default)(o);t.subscribe=a},function(e,t,n){"use strict";n.r(t),n.d(t,"getNavigationState",(function(){return d})),n.d(t,"getCurrentStep",(function(){return p})),n.d(t,"isLastActiveStep",(function(){return g})),n.d(t,"isLessonControlsEnabled",(function(){return v})),n.d(t,"isScreenElementsEnabled",(function(){return m})),n.d(t,"getCustomBtnState",(function(){return y})),n.d(t,"getDoneState",(function(){return _})),n.d(t,"getHelpState",(function(){return b})),n.d(t,"getBackState",(function(){return A})),n.d(t,"getAdaptivityResults",(function(){return w})),n.d(t,"getRandomAdpValues",(function(){return E})),n.d(t,"isComponentCompletedImmediately",(function(){return x})),n.d(t,"getTotalSteps",(function(){return T})),n.d(t,"getTeacherNav",(function(){return S})),n.d(t,"isNavShown",(function(){return O})),n.d(t,"isNavEnabled",(function(){return C})),n.d(t,"getFooterClass",(function(){return k})),n.d(t,"isLessonComplete",(function(){return P})),n.d(t,"getSectionMarkers",(function(){return N})),n.d(t,"getHighestReachedStepId",(function(){return I})),n.d(t,"isPaused",(function(){return R})),n.d(t,"isPauseEnabled",(function(){return L})),n.d(t,"getStepState",(function(){return D})),n.d(t,"isCurrentInProgress",(function(){return M})),n.d(t,"isCurrentCompleted",(function(){return j})),n.d(t,"isCurrentFinished",(function(){return B})),n.d(t,"isMenuButtonShown",(function(){return F})),n.d(t,"isBackBtnDisabled",(function(){return U})),n.d(t,"isForwardBtnDisabled",(function(){return H})),n.d(t,"getStep",(function(){return G})),n.d(t,"getProgress",(function(){return Q})),n.d(t,"getCurrentSelection",(function(){return z})),n.d(t,"getPreviousStep",(function(){return V})),n.d(t,"getNextStep",(function(){return W})),n.d(t,"isFinalStep",(function(){return q})),n.d(t,"hasVisitedStep",(function(){return X})),n.d(t,"hasCompletedStep",(function(){return Y})),n.d(t,"getWatermark",(function(){return K})),n.d(t,"isNextBtnVisible",(function(){return $})),n.d(t,"isCurrentScreenFirstItem",(function(){return J})),n.d(t,"isCurrentScreenLastItem",(function(){return Z})),n.d(t,"initialNavigationState",(function(){return te}));var r=n(25),i=n(0),o=n(17),a=n(1),s=n(7),u=n(16),c=n(50),l=n(6),f=n(33),h=n(36);const d=e=>i._.get(e,o.NAV_STATE_ROOT),p=e=>f.statefulNavStepsUtil.getCurrentStep(d(e)),g=e=>{const{highestReachedStepId:t,currentStep:n}=d(e);return n===t},v=e=>i._.get(d(e),"lessonControlsEnabled",!1),m=e=>i._.get(d(e),"screenElementsEnabled",!1),y=(e,t)=>i._.get(d(e),"customBtns")[t],_=e=>i._.get(d(e),"done"),b=e=>i._.get(d(e),"help"),A=e=>i._.get(d(e),"back"),w=e=>i._.get(d(e),"adaptivityResults",{}),E=e=>i._.get(d(e),"randomAdpValues",{}),x=e=>i._.get(d(e),"componentCompletedImmediately",!1),T=e=>i._.get(d(e),"totalSteps",0),S=e=>i._.get(d(e),"teacherNav",[]),O=e=>i._.get(d(e),"showNavPopover",!1),C=e=>!i._.get(d(e),"navigationDisabled",!1),k=e=>i._.get(d(e),"footerClassName",""),P=e=>i._.get(d(e),"lessonComplete",!1),N=e=>i._.get(d(e),"sectionMarkers",[]),I=e=>i._.get(d(e),"highestReachedStepId"),R=e=>i._.get(d(e),"paused",!1),L=e=>i._.get(d(e),"pauseEnabled",!1),D=e=>i._.get(d(e),"stepState"),M=e=>h.navStepsUtil.isCurrentInProgress(d(e)),j=e=>h.navStepsUtil.isCurrentCompleted(d(e)),B=e=>h.navStepsUtil.isCurrentFinished(d(e)),F=e=>d(e).showMenuButton||u.environmentUtil.isTeacherMode(),U=e=>{let t=!1;const n=d(e),{currentStep:r,navigationDisabled:o,overrideNavigation:a,stepState:s}=n,u=s[r];if(a.backBtn)t=!A(e).enabled;else if(!i._.isEmpty(f.statefulNavStepsUtil.getAllSteps())){const r=u.complete&&!u.finished;t=!h.navStepsUtil.getVisitableStep({data:n,startWithStep:p(e).prev,direction:"prev"})||u.inProgress||o||r}return t},H=e=>{const{overrideNavigation:t,navigationDisabled:n}=d(e);return!t.forwardBtn&&!p(e).skippable&&(g(e)||n)},G=e=>f.statefulNavStepsUtil.getStep(e),Q=(e,t)=>h.navStepsUtil.getProgress({data:d(e),step:t}),z=e=>f.statefulNavStepsUtil.getCurrentSection(d(e)),V=e=>p(e).prev,W=e=>p(e).next,q=e=>!p(e).next,X=(e,t)=>{const n=h.navStepsUtil.getStepId(t);return D(e)[n].visited},Y=(e,t)=>D(e)[t].complete,K=e=>Q(e,I(e)),$=e=>B(e)&&g(e)&&!q(e)&&!x(e),J=e=>{var t;if(!V(e))return!0;return p(e).style!==(null===(t=V(e))||void 0===t?void 0:t.style)},Z=e=>{var t;if(!W(e))return!0;return p(e).style!==(null===(t=W(e))||void 0===t?void 0:t.style)},ee={currentStep:c.NAV_ROOT_ID,highestReachedStepId:c.NAV_ROOT_ID,adaptivityResults:{},skips:[],buttonPresses:{next:[],back:[],pause:[],unpause:[],help:[]},totalSteps:0,overrideNavigation:{backBtn:!1,forwardBtn:!1},navigationDisabled:!1,lessonControlsEnabled:!0,screenElementsEnabled:!1,paused:!1,showNavPopover:!1,lessonComplete:!1,showMenuButton:!1,pauseEnabled:!1,tabButtonsSize:"",footerClassName:"",customBtn:{callback:i._.noop,enabled:!1,visible:!1,label:""},customBtns:{default:{visible:!1,enabled:!1,callback:i._.noop,label:""}},done:{visible:!1,enabled:!1,callback:i._.noop},componentCompletedImmediately:!1,help:{visible:!1,enabled:!1,callback:i._.noop,pulsing:!1,pulseTimeout:3e4},back:{enabled:!1},teacherNav:[],sectionMarkers:[],decisionPoints:{},stepState:{},sectionState:{},keyboardNavigation:!1,tabButtonsOrder:["next","done","default"],lessonClose:!1,randomAdpValues:{}},te=i._.cloneDeep(ee);t.default=Object(r.a)((e,t)=>{switch(t.type){case"HACK_FORCE_NAV_SYNC":i._.merge(e,i._.cloneDeep(t.payload));break;case a.ENABLE_LESSON_CONTROLS:e.lessonControlsEnabled=!0;break;case a.DISABLE_LESSON_CONTROLS:e.lessonControlsEnabled=!1;break;case a.ENABLE_SCREEN_ELEMENTS:e.screenElementsEnabled=!0;break;case a.DISABLE_SCREEN_ELEMENTS:e.screenElementsEnabled=!1;break;case a.NAVIGATION_SET_TAB_BUTTONS_SIZE:{const n=t.payload;switch(n){case l.TAB_BUTTON_SIZES.DEFAULT:case l.TAB_BUTTON_SIZES.SMALL:e.tabButtonsSize=n;break;default:throw new Error(`Tab button size for ${n} is not supported`)}break}case a.NAVIGATION_SET_CLASS_NAME:{const n=t.payload;e.footerClassName=n;break}case a.NAVIGATION_OVERRIDE_NAVIGATION:{s.storeLogger.info("Toggle navigation buttons");const n=t.payload;e.overrideNavigation.backBtn=n;break}case a.NAVIGATION_CONTROLS_CUSTOM_BTN_ENABLED:{const{enabled:n,buttonName:r}=t.payload;e.customBtns[r].enabled=n;break}case a.NAVIGATION_CONTROLS_CUSTOM_BTN_VISIBLE:{const{visible:n,buttonName:r}=t.payload;e.customBtns[r].visible=n;break}case a.NAVIGATION_CONTROLS_CUSTOM_BTN_CALLBACK:{const{callback:n,buttonName:r}=t.payload;e.customBtns[r].callback=n;break}case a.NAVIGATION_CONTROLS_CUSTOM_BTN_LABEL:{const{label:n,buttonName:r}=t.payload;e.customBtns[r].label=n;break}case a.NAVIGATION_CONTROLS_CUSTOM_BTN_CREATE:{const{label:n,buttonName:r,newButtonOrder:i,callback:o}=t.payload;e.customBtns[r]={label:n,callback:o,visible:!1,enabled:!1},e.tabButtonsOrder=i;break}case a.NAVIGATION_CONTROLS_DONE_ENABLED:{const n=t.payload;e.done.enabled=n;break}case a.NAVIGATION_CONTROLS_DONE_VISIBLE:{const n=t.payload;e.done.visible=n;break}case a.NAVIGATION_CONTROLS_DONE_CALLBACK:{const n=t.payload;e.done.callback=n;break}case a.NAVIGATION_CONTROLS_HELP_ENABLED:{const n=t.payload;e.help.enabled=n;break}case a.NAVIGATION_CONTROLS_HELP_VISIBLE:{const n=t.payload;e.help.visible=n;break}case a.NAVIGATION_CONTROLS_HELP_CALLBACK:e.help.callback=t.payload;break;case a.NAVIGATION_CONTROLS_HELP_PULSE_TIMEOUT:{const n=t.payload;e.help.pulseTimeout=n;break}case a.NAVIGATION_CONTROLS_HELP_PULSING:{const n=t.payload;e.help.pulsing=n;break}case a.NAVIGATION_CONTROLS_BACK_ENABLED:{const n=t.payload;e.back.enabled=n;break}case a.NAVIGATION_SET_SHOW_MENU:{const n=t.payload;e.showMenuButton=n;break}case a.NAVIGATION_ENABLE:e.navigationDisabled=!1;break;case a.NAVIGATION_ON_ENABLE_PAUSE:e.pauseEnabled=t.payload;break;case a.NAVIGATION_PAUSE:e.paused=!0;break;case a.NAVIGATION_UNPAUSE:e.paused=!1;break;case a.NAVIGATION_REGISTER_BUTTON_PRESS:{const n=t.payload,r=e.buttonPresses[n]||[],o=i._.get(f.statefulNavStepsUtil.getCurrentStep(e),"id");r.push(o),e.buttonPresses[n]=r;break}case a.NAVIGATION_ON_TOGGLE_NAV:{const{showNavPopover:t}=e;e.showNavPopover=!t;break}case a.NAVIGATION_INIT:e=i._.merge(e,t.payload);break;case a.LESSON_COMPLETE:e.lessonComplete=!0;break;case a.NAVIGATION_GOTO_STEP:{const n=t.payload,r=h.navStepsUtil.getGotoStepUpdate({data:e,targetStep:n});r&&(s.storeLogger.info("Going to step "+n.id),e=i._.merge(e,r));break}case a.NAVIGATION_UPDATE:e=i._.merge(e,t.payload);break;case a.NAVIGATION_CURRENT_STEP_STATE:{const{currentStep:n}=e;e.stepState[n]=i._.merge(e.stepState[n],t.payload);break}case a.NAVIGATION_COMPLETE_COMPONENT_IMMEDIATELY:e.componentCompletedImmediately=!0;break;case a.NAVIGATION_KEYBOARD_NAV:e.keyboardNavigation=t.payload;break;case a.NAVIGATION_PERSIST_RANDOM_ADP_VALUE:e.randomAdpValues[t.payload.key]=t.payload.value}return e},ee)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(208);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(43),i=n(24);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){(function(r){var i,o;
/*!
 * is.js 0.8.0
 * Author: Aras Atasaygin
 */o=this,void 0===(i=function(){return o.is=function(){var e={VERSION:"0.8.0",not:{},all:{},any:{}},t=Object.prototype.toString,n=Array.prototype.slice,i=Object.prototype.hasOwnProperty;function o(e){return function(){return!e.apply(null,n.call(arguments))}}function a(e){return function(){for(var t=l(arguments),n=t.length,r=0;r<n;r++)if(!e.call(null,t[r]))return!1;return!0}}function s(e){return function(){for(var t=l(arguments),n=t.length,r=0;r<n;r++)if(e.call(null,t[r]))return!0;return!1}}var u={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t}};function c(e,t){var n=t+"",r=+(n.match(/\d+/)||NaN),i=n.match(/^[<>]=?|/)[0];return u[i]?u[i](e,r):e==r||r!=r}function l(t){var r=n.call(t);return 1===r.length&&e.array(r[0])&&(r=r[0]),r}e.arguments=function(e){return"[object Arguments]"===t.call(e)||null!=e&&"object"==typeof e&&"callee"in e},e.array=Array.isArray||function(e){return"[object Array]"===t.call(e)},e.boolean=function(e){return!0===e||!1===e||"[object Boolean]"===t.call(e)},e.char=function(t){return e.string(t)&&1===t.length},e.date=function(e){return"[object Date]"===t.call(e)},e.domNode=function(t){return e.object(t)&&t.nodeType>0},e.error=function(e){return"[object Error]"===t.call(e)},e.function=function(e){return"[object Function]"===t.call(e)||"function"==typeof e},e.json=function(e){return"[object Object]"===t.call(e)},e.nan=function(e){return e!=e},e.null=function(e){return null===e},e.number=function(n){return e.not.nan(n)&&"[object Number]"===t.call(n)},e.object=function(e){return Object(e)===e},e.regexp=function(e){return"[object RegExp]"===t.call(e)},e.sameType=function(n,r){var i=t.call(n);return i===t.call(r)&&("[object Number]"!==i||!e.any.nan(n,r)||e.all.nan(n,r))},e.sameType.api=["not"],e.string=function(e){return"[object String]"===t.call(e)},e.undefined=function(e){return void 0===e},e.windowObject=function(e){return null!=e&&"object"==typeof e&&"setInterval"in e},e.empty=function(t){if(e.object(t)){var n=Object.getOwnPropertyNames(t).length;return!!(0===n||1===n&&e.array(t)||2===n&&e.arguments(t))}return""===t},e.existy=function(e){return null!=e},e.falsy=function(e){return!e},e.truthy=o(e.falsy),e.above=function(t,n){return e.all.number(t,n)&&t>n},e.above.api=["not"],e.decimal=function(t){return e.number(t)&&t%1!=0},e.equal=function(t,n){return e.all.number(t,n)?t===n&&1/t==1/n:e.all.string(t,n)||e.all.regexp(t,n)?""+t==""+n:!!e.all.boolean(t,n)&&t===n},e.equal.api=["not"],e.even=function(t){return e.number(t)&&t%2==0},e.finite=isFinite||function(t){return e.not.infinite(t)&&e.not.nan(t)},e.infinite=function(e){return e===1/0||e===-1/0},e.integer=function(t){return e.number(t)&&t%1==0},e.negative=function(t){return e.number(t)&&t<0},e.odd=function(t){return e.number(t)&&t%2==1},e.positive=function(t){return e.number(t)&&t>0},e.under=function(t,n){return e.all.number(t,n)&&t<n},e.under.api=["not"],e.within=function(t,n,r){return e.all.number(t,n,r)&&t>n&&t<r},e.within.api=["not"];var f={affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,alphaNumeric:/^[A-Za-z0-9]+$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,dateString:/^(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])(?:\2)(?:[0-9]{2})?[0-9]{2}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,hexadecimal:/^(?:0x)?[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/};function h(t,n){e[t]=function(e){return n[t].test(e)}}for(var d in f)f.hasOwnProperty(d)&&h(d,f);e.ip=function(t){return e.ipv4(t)||e.ipv6(t)},e.capitalized=function(t){if(e.not.string(t))return!1;for(var n=t.split(" "),r=0;r<n.length;r++){var i=n[r];if(i.length){var o=i.charAt(0);if(o!==o.toUpperCase())return!1}}return!0},e.endWith=function(t,n){if(e.not.string(t))return!1;n+="";var r=t.length-n.length;return r>=0&&t.indexOf(n,r)===r},e.endWith.api=["not"],e.include=function(e,t){return e.indexOf(t)>-1},e.include.api=["not"],e.lowerCase=function(t){return e.string(t)&&t===t.toLowerCase()},e.palindrome=function(t){if(e.not.string(t))return!1;for(var n=(t=t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase()).length-1,r=0,i=Math.floor(n/2);r<=i;r++)if(t.charAt(r)!==t.charAt(n-r))return!1;return!0},e.space=function(t){if(e.not.char(t))return!1;var n=t.charCodeAt(0);return n>8&&n<14||32===n},e.startWith=function(t,n){return e.string(t)&&0===t.indexOf(n)},e.startWith.api=["not"],e.upperCase=function(t){return e.string(t)&&t===t.toUpperCase()};var p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],g=["january","february","march","april","may","june","july","august","september","october","november","december"];e.day=function(t,n){return e.date(t)&&n.toLowerCase()===p[t.getDay()]},e.day.api=["not"],e.dayLightSavingTime=function(e){var t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1),r=Math.max(t.getTimezoneOffset(),n.getTimezoneOffset());return e.getTimezoneOffset()<r},e.future=function(t){var n=new Date;return e.date(t)&&t.getTime()>n.getTime()},e.inDateRange=function(t,n,r){if(e.not.date(t)||e.not.date(n)||e.not.date(r))return!1;var i=t.getTime();return i>n.getTime()&&i<r.getTime()},e.inDateRange.api=["not"],e.inLastMonth=function(t){return e.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},e.inLastWeek=function(t){return e.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},e.inLastYear=function(t){return e.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},e.inNextMonth=function(t){return e.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},e.inNextWeek=function(t){return e.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},e.inNextYear=function(t){return e.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},e.leapYear=function(t){return e.number(t)&&(t%4==0&&t%100!=0||t%400==0)},e.month=function(t,n){return e.date(t)&&n.toLowerCase()===g[t.getMonth()]},e.month.api=["not"],e.past=function(t){var n=new Date;return e.date(t)&&t.getTime()<n.getTime()},e.quarterOfYear=function(t,n){return e.date(t)&&e.number(n)&&n===Math.floor((t.getMonth()+3)/3)},e.quarterOfYear.api=["not"],e.today=function(t){var n=(new Date).toDateString();return e.date(t)&&t.toDateString()===n},e.tomorrow=function(t){var n=new Date,r=new Date(n.setDate(n.getDate()+1)).toDateString();return e.date(t)&&t.toDateString()===r},e.weekend=function(t){return e.date(t)&&(6===t.getDay()||0===t.getDay())},e.weekday=o(e.weekend),e.year=function(t,n){return e.date(t)&&e.number(n)&&n===t.getFullYear()},e.year.api=["not"],e.yesterday=function(t){var n=new Date,r=new Date(n.setDate(n.getDate()-1)).toDateString();return e.date(t)&&t.toDateString()===r};var v=e.windowObject("object"==typeof r&&r)&&r,m=e.windowObject("object"==typeof self&&self)&&self,y=e.windowObject("object"==typeof this&&this)&&this,_=v||m||y||Function("return this")(),b=m&&m.document,A=_.is,w=m&&m.navigator,E=(w&&w.appVersion||"").toLowerCase(),x=(w&&w.userAgent||"").toLowerCase(),T=(w&&w.vendor||"").toLowerCase();return e.android=function(){return/android/.test(x)},e.android.api=["not"],e.androidPhone=function(){return/android/.test(x)&&/mobile/.test(x)},e.androidPhone.api=["not"],e.androidTablet=function(){return/android/.test(x)&&!/mobile/.test(x)},e.androidTablet.api=["not"],e.blackberry=function(){return/blackberry/.test(x)||/bb10/.test(x)},e.blackberry.api=["not"],e.chrome=function(e){var t=/google inc/.test(T)?x.match(/(?:chrome|crios)\/(\d+)/):null;return null!==t&&c(t[1],e)},e.chrome.api=["not"],e.desktop=function(){return e.not.mobile()&&e.not.tablet()},e.desktop.api=["not"],e.edge=function(e){var t=x.match(/edge\/(\d+)/);return null!==t&&c(t[1],e)},e.edge.api=["not"],e.firefox=function(e){var t=x.match(/(?:firefox|fxios)\/(\d+)/);return null!==t&&c(t[1],e)},e.firefox.api=["not"],e.ie=function(e){var t=x.match(/(?:msie |trident.+?; rv:)(\d+)/);return null!==t&&c(t[1],e)},e.ie.api=["not"],e.ios=function(){return e.iphone()||e.ipad()||e.ipod()},e.ios.api=["not"],e.ipad=function(e){var t=x.match(/ipad.+?os (\d+)/);return null!==t&&c(t[1],e)},e.ipad.api=["not"],e.iphone=function(e){var t=x.match(/iphone(?:.+?os (\d+))?/);return null!==t&&c(t[1]||1,e)},e.iphone.api=["not"],e.ipod=function(e){var t=x.match(/ipod.+?os (\d+)/);return null!==t&&c(t[1],e)},e.ipod.api=["not"],e.linux=function(){return/linux/.test(E)},e.linux.api=["not"],e.mac=function(){return/mac/.test(E)},e.mac.api=["not"],e.mobile=function(){return e.iphone()||e.ipod()||e.androidPhone()||e.blackberry()||e.windowsPhone()},e.mobile.api=["not"],e.offline=o(e.online),e.offline.api=["not"],e.online=function(){return!w||!0===w.onLine},e.online.api=["not"],e.opera=function(e){var t=x.match(/(?:^opera.+?version|opr)\/(\d+)/);return null!==t&&c(t[1],e)},e.opera.api=["not"],e.phantom=function(e){var t=x.match(/phantomjs\/(\d+)/);return null!==t&&c(t[1],e)},e.phantom.api=["not"],e.safari=function(e){var t=x.match(/version\/(\d+).+?safari/);return null!==t&&c(t[1],e)},e.safari.api=["not"],e.tablet=function(){return e.ipad()||e.androidTablet()||e.windowsTablet()},e.tablet.api=["not"],e.touchDevice=function(){return!!b&&("ontouchstart"in m||"DocumentTouch"in m&&b instanceof DocumentTouch)},e.touchDevice.api=["not"],e.windows=function(){return/win/.test(E)},e.windows.api=["not"],e.windowsPhone=function(){return e.windows()&&/phone/.test(x)},e.windowsPhone.api=["not"],e.windowsTablet=function(){return e.windows()&&e.not.windowsPhone()&&/touch/.test(x)},e.windowsTablet.api=["not"],e.propertyCount=function(t,n){if(e.not.object(t)||e.not.number(n))return!1;var r=0;for(var o in t)if(i.call(t,o)&&++r>n)return!1;return r===n},e.propertyCount.api=["not"],e.propertyDefined=function(t,n){return e.object(t)&&e.string(n)&&n in t},e.propertyDefined.api=["not"],e.inArray=function(t,n){if(e.not.array(n))return!1;for(var r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},e.inArray.api=["not"],e.sorted=function(t,n){if(e.not.array(t))return!1;for(var r=u[n]||u[">="],i=1;i<t.length;i++)if(!r(t[i],t[i-1]))return!1;return!0},function(){var t=e;for(var n in t)if(i.call(t,n)&&e.function(t[n]))for(var r=t[n].api||["not","all","any"],u=0;u<r.length;u++)"not"===r[u]&&(e.not[n]=o(e[n])),"all"===r[u]&&(e.all[n]=a(e[n])),"any"===r[u]&&(e.any[n]=s(e[n]))}(),e.setNamespace=function(){return _.is=A,this},e.setRegexp=function(e,t){for(var n in f)i.call(f,n)&&t===n&&(f[n]=e)},e}()}.call(t,n,t,e))||(e.exports=i)}).call(this,n(48))},function(e,t,n){"use strict";n.r(t),n.d(t,"initialScreenState",(function(){return c})),n.d(t,"getScreensState",(function(){return l})),n.d(t,"getExitData",(function(){return f})),n.d(t,"getScreen",(function(){return h})),n.d(t,"getCurrentScreen",(function(){return d})),n.d(t,"getSection",(function(){return p})),n.d(t,"getAllProperties",(function(){return g})),n.d(t,"getDsExpressions",(function(){return v})),n.d(t,"getHTMLAssets",(function(){return m})),n.d(t,"getLessonModalState",(function(){return y})),n.d(t,"getMediaState",(function(){return _})),n.d(t,"getAnimations",(function(){return b})),n.d(t,"getSharedDataDirectives",(function(){return A}));var r=n(25),i=n(0),o=n(17),a=n(20),s=n(1);const u={animations:i._.noop,screens:{},version:"",mediaState:{animationInProgress:!1,audioInProgress:!1},lessonModalState:{isOpen:!1},refreshKey:1e5,ready:!1,done:!1,sharedDataDirectives:{},exitData:{}},c=i._.cloneDeep(u),l=e=>i._.get(e,o.SCREEN_STATE_ROOT),f=e=>l(e).exitData,h=(e,t)=>l(e).screens[t],d=e=>{const t=i._.get(e[o.NAV_STATE_ROOT],"currentStep");return h(e,t)},p=(e,t)=>i._.get(h(e,t),"properties.section",null),g=e=>i._.mapValues(l(e).screens,e=>e.properties),v=e=>i._.get(e,"fetch_shared_data.expression",""),m=e=>{const t=d(e).shared;return JSON.search(Object(a.getLessonShared)(e)[t],'//*[type="html"]')},y=e=>l(e).lessonModalState,_=e=>l(e).mediaState,b=e=>l(e).animations(),A=(e,t)=>i._.get(l(e).sharedDataDirectives,t);t.default=Object(r.a)((e,t)=>{switch(t.type){case s.ANIMATION_IN_PROGRESS:{const n=t.payload;e.mediaState.animationInProgress=n;break}case s.AUDIO_IN_PROGRESS:{const n=t.payload;e.mediaState.audioInProgress=n;break}case s.LESSON_CONTENT_NAVIGATION_UPDATED:{const{screens:n,version:r}=t.payload;e.screens=n,e.version=r;break}case s.SCREEN_UPDATE:e.screens=i._.merge(e.screens,t.payload);break;case s.EXIT_DATA_INIT:e.exitData=t.payload;break;case s.EXIT_DATA_UPDATE:{const{screenId:n,data:r}=t.payload,o=i._.get(e.exitData,n,{});e.exitData=i._.merge(e.exitData,{[n]:Object.assign(Object.assign({},o),{[r.key]:r.value})});break}case s.SHARED_DATA_DIRECTIVES_UPDATE:{const{id:n,data:r}=t.payload;e.sharedDataDirectives[n]=r;break}case s.SHARED_DATA_SCREEN_INJECTION:{const{id:n,screen:r}=t.payload;e.screens=i._.merge(e.screens,{[n]:r});break}case s.OPEN_LESSON_MODAL:e.lessonModalState.isOpen=!0;break;case s.CLOSE_LESSON_MODAL:e.lessonModalState.isOpen=!1;break;case s.SCREEN_REFRESH:e.refreshKey++;break;case s.SCREEN_READY:e.ready=!0;break;case s.SCREEN_DONE:e.done=!0}},u)},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",A="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",x="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",N="[object Uint16Array]",I="[object Uint32Array]",R=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,B=RegExp(M.source),F=RegExp(j.source),U=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,q=RegExp(W.source),X=/^\s+/,Y=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",ge="["+de+"]",ve="["+he+"]",me="\\d+",ye="[\\u2700-\\u27bf]",_e="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+de+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="\\ud83c[\\udffb-\\udfff]",we="[^\\ud800-\\udfff]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+_e+"|"+be+")",Oe="(?:"+Te+"|"+be+")",Ce="(?:"+ve+"|"+Ae+")"+"?",ke="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[we,Ee,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Ee,xe].join("|")+")"+ke,Ne="(?:"+[we+ve+"?",ve,Ee,xe,pe].join("|")+")",Ie=RegExp("[']","g"),Re=RegExp(ve,"g"),Le=RegExp(Ae+"(?="+Ae+")|"+Ne+ke,"g"),De=RegExp([Te+"?"+_e+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ge,Te,"$"].join("|")+")",Oe+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ge,Te+Se,"$"].join("|")+")",Te+"?"+Se+"+(?:['](?:d|ll|m|re|s|t|ve))?",Te+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Pe].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ue={};Ue[T]=Ue[S]=Ue[O]=Ue[C]=Ue[k]=Ue[P]=Ue["[object Uint8ClampedArray]"]=Ue[N]=Ue[I]=!0,Ue[u]=Ue[c]=Ue[E]=Ue[l]=Ue[x]=Ue[f]=Ue[h]=Ue[d]=Ue[g]=Ue[v]=Ue[m]=Ue[y]=Ue[_]=Ue[b]=Ue[w]=!1;var He={};He[u]=He[c]=He[E]=He[x]=He[l]=He[f]=He[T]=He[S]=He[O]=He[C]=He[k]=He[g]=He[v]=He[m]=He[y]=He[_]=He[b]=He[A]=He[P]=He["[object Uint8ClampedArray]"]=He[N]=He[I]=!0,He[h]=He[d]=He[w]=!1;var Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=parseFloat,ze=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,qe=Ve||We||Function("return this")(),Xe=t&&!t.nodeType&&t,Ye=Xe&&"object"==typeof r&&r&&!r.nodeType&&r,Ke=Ye&&Ye.exports===Xe,$e=Ke&&Ve.process,Je=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||$e&&$e.binding&&$e.binding("util")}catch(e){}}(),Ze=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ft(e,t){return!!(null==e?0:e.length)&&At(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function gt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function vt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=Tt("length");function _t(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function At(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,Et,n)}function wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Et(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Tt(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Ot(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ct(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Pt(e){return e?e.slice(0,Xt(e)+1).replace(X,""):e}function Nt(e){return function(t){return e(t)}}function It(e,t){return dt(t,(function(t){return e[t]}))}function Rt(e,t){return e.has(t)}function Lt(e,t){for(var n=-1,r=e.length;++n<r&&At(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length;n--&&At(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var jt=St({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Bt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+Ge[e]}function Ut(e){return Me.test(e)}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Gt(e,t){return function(n){return e(t(n))}}function Qt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Wt(e){return Ut(e)?function(e){var t=Le.lastIndex=0;for(;Le.test(e);)++t;return t}(e):yt(e)}function qt(e){return Ut(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.split("")}(e)}function Xt(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var Yt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Kt=function e(t){var n,r=(t=null==t?qe:Kt.defaults(qe.Object(),t,Kt.pick(qe,Be))).Array,i=t.Date,Y=t.Error,he=t.Function,de=t.Math,pe=t.Object,ge=t.RegExp,ve=t.String,me=t.TypeError,ye=r.prototype,_e=he.prototype,be=pe.prototype,Ae=t["__core-js_shared__"],we=_e.toString,Ee=be.hasOwnProperty,xe=0,Te=(n=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Se=be.toString,Oe=we.call(pe),Ce=qe._,ke=ge("^"+we.call(Ee).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ke?t.Buffer:void 0,Ne=t.Symbol,Le=t.Uint8Array,Me=Pe?Pe.allocUnsafe:void 0,Ge=Gt(pe.getPrototypeOf,pe),Ve=pe.create,We=be.propertyIsEnumerable,Xe=ye.splice,Ye=Ne?Ne.isConcatSpreadable:void 0,$e=Ne?Ne.iterator:void 0,Je=Ne?Ne.toStringTag:void 0,yt=function(){try{var e=eo(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),St=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,$t=i&&i.now!==qe.Date.now&&i.now,Jt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Zt=de.ceil,en=de.floor,tn=pe.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,on=ye.join,an=Gt(pe.keys,pe),sn=de.max,un=de.min,cn=i.now,ln=t.parseInt,fn=de.random,hn=ye.reverse,dn=eo(t,"DataView"),pn=eo(t,"Map"),gn=eo(t,"Promise"),vn=eo(t,"Set"),mn=eo(t,"WeakMap"),yn=eo(pe,"create"),_n=mn&&new mn,bn={},An=Co(dn),wn=Co(pn),En=Co(gn),xn=Co(vn),Tn=Co(mn),Sn=Ne?Ne.prototype:void 0,On=Sn?Sn.valueOf:void 0,Cn=Sn?Sn.toString:void 0;function kn(e){if(Va(e)&&!La(e)&&!(e instanceof Rn)){if(e instanceof In)return e;if(Ee.call(e,"__wrapped__"))return ko(e)}return new In(e)}var Pn=function(){function e(){}return function(t){if(!za(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Nn(){}function In(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Rn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Mn;++t<n;)this.add(e[t])}function Bn(e){var t=this.__data__=new Dn(e);this.size=t.size}function Fn(e,t){var n=La(e),r=!n&&Ra(e),i=!n&&!r&&Ba(e),o=!n&&!r&&!i&&Za(e),a=n||r||i||o,s=a?kt(e.length,ve):[],u=s.length;for(var c in e)!t&&!Ee.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||so(c,u))||s.push(c);return s}function Un(e){var t=e.length;return t?e[jr(0,t-1)]:void 0}function Hn(e,t){return To(yi(e),Kn(t,0,e.length))}function Gn(e){return To(yi(e))}function Qn(e,t,n){(void 0!==n&&!Pa(e[t],n)||void 0===n&&!(t in e))&&Xn(e,t,n)}function zn(e,t,n){var r=e[t];Ee.call(e,t)&&Pa(r,n)&&(void 0!==n||t in e)||Xn(e,t,n)}function Vn(e,t){for(var n=e.length;n--;)if(Pa(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function qn(e,t){return e&&_i(t,As(t),e)}function Xn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:vs(e,t[n]);return o}function Kn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function $n(e,t,n,r,i,o){var a,s=1&t,c=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!za(e))return e;var w=La(e);if(w){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return yi(e,a)}else{var R=ro(e),L=R==d||R==p;if(Ba(e))return hi(e,s);if(R==m||R==u||L&&!i){if(a=c||L?{}:oo(e),!s)return c?function(e,t){return _i(e,no(e),t)}(e,function(e,t){return e&&_i(t,ws(t),e)}(a,e)):function(e,t){return _i(e,to(e),t)}(e,qn(a,e))}else{if(!He[R])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case E:return di(e);case l:case f:return new r(+e);case x:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case T:case S:case O:case C:case k:case P:case"[object Uint8ClampedArray]":case N:case I:return pi(e,n);case g:return new r;case v:case b:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return new r;case A:return i=e,On?pe(On.call(i)):{}}var i}(e,R,s)}}o||(o=new Bn);var D=o.get(e);if(D)return D;o.set(e,a),Ka(e)?e.forEach((function(r){a.add($n(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,$n(r,t,n,i,e,o))}));var M=w?void 0:(h?c?qi:Wi:c?ws:As)(e);return st(M||e,(function(r,i){M&&(r=e[i=r]),zn(a,i,$n(r,t,n,i,e,o))})),a}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new me(o);return Ao((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=dt(t,Nt(n))),r?(o=ht,a=!1):t.length>=200&&(o=Rt,a=!1,t=new jn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}kn.templateSettings={escape:U,evaluate:H,interpolate:G,variable:"",imports:{_:kn}},kn.prototype=Nn.prototype,kn.prototype.constructor=kn,In.prototype=Pn(Nn.prototype),In.prototype.constructor=In,Rn.prototype=Pn(Nn.prototype),Rn.prototype.constructor=Rn,Ln.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},Ln.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ee.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Dn.prototype.get=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]},Dn.prototype.has=function(e){return Vn(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var n=this.__data__,r=Vn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Mn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(pn||Dn),string:new Ln}},Mn.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Mn.prototype.get=function(e){return Ji(this,e).get(e)},Mn.prototype.has=function(e){return Ji(this,e).has(e)},Mn.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},jn.prototype.add=jn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Bn.prototype.get=function(e){return this.__data__.get(e)},Bn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mn(r)}return n.set(e,t),this.size=n.size,this};var tr=wi(cr),nr=wi(lr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,u=o}return u}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ao),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):pt(i,s):r||(i[i.length]=s)}return i}var sr=Ei(),ur=Ei(!0);function cr(e,t){return e&&sr(e,t,As)}function lr(e,t){return e&&ur(e,t,As)}function fr(e,t){return lt(t,(function(t){return Ha(e[t])}))}function hr(e,t){for(var n=0,r=(t=ui(t,e)).length;null!=e&&n<r;)e=e[Oo(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return La(e)?r:pt(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in pe(e)?function(e){var t=Ee.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch(e){}var i=Se.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Se.call(e)}(e)}function gr(e,t){return e>t}function vr(e,t){return null!=e&&Ee.call(e,t)}function mr(e,t){return null!=e&&t in pe(e)}function yr(e,t,n){for(var i=n?ht:ft,o=e[0].length,a=e.length,s=a,u=r(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=dt(f,Nt(t))),c=un(f.length,c),u[s]=!n&&(t||o>=120&&f.length>=120)?new jn(s&&f):void 0}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&l.length<c;){var p=f[h],g=t?t(p):p;if(p=n||0!==p?p:0,!(d?Rt(d,g):i(l,g,n))){for(s=a;--s;){var v=u[s];if(!(v?Rt(v,g):i(e[s],g,n)))continue e}d&&d.push(g),l.push(p)}}return l}function _r(e,t,n){var r=null==(e=mo(e,t=ui(t,e)))?e:e[Oo(Uo(t))];return null==r?void 0:ot(r,e,n)}function br(e){return Va(e)&&pr(e)==u}function Ar(e,t,n,r,i){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=La(e),s=La(t),d=a?c:ro(e),p=s?c:ro(t),w=(d=d==u?m:d)==m,T=(p=p==u?m:p)==m,S=d==p;if(S&&Ba(e)){if(!Ba(t))return!1;a=!0,w=!1}if(S&&!w)return o||(o=new Bn),a||Za(e)?zi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!o(new Le(e),new Le(t)));case l:case f:case v:return Pa(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case g:var s=Ht;case _:var u=1&r;if(s||(s=zt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var d=zi(s(e),s(t),r,i,o,a);return a.delete(e),d;case A:if(On)return On.call(e)==On.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var O=w&&Ee.call(e,"__wrapped__"),C=T&&Ee.call(t,"__wrapped__");if(O||C){var k=O?e.value():e,P=C?t.value():t;return o||(o=new Bn),i(k,P,n,r,o)}}if(!S)return!1;return o||(o=new Bn),function(e,t,n,r,i,o){var a=1&n,s=Wi(e),u=s.length,c=Wi(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:Ee.call(t,f)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);var g=a;for(;++l<u;){f=s[l];var v=e[f],m=t[f];if(r)var y=a?r(m,v,f,t,e,o):r(v,m,f,e,t,o);if(!(void 0===y?v===m||i(v,m,n,r,o):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,Ar,i))}function wr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=pe(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Bn;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?Ar(l,c,3,r,f):h))return!1}}return!0}function Er(e){return!(!za(e)||(t=e,Te&&Te in t))&&(Ha(e)?ke:ae).test(Co(e));var t}function xr(e){return"function"==typeof e?e:null==e?qs:"object"==typeof e?La(e)?Pr(e[0],e[1]):kr(e):nu(e)}function Tr(e){if(!ho(e))return an(e);var t=[];for(var n in pe(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Sr(e){if(!za(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=ho(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}function Or(e,t){return e<t}function Cr(e,t){var n=-1,i=Ma(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function kr(e){var t=Zi(e);return 1==t.length&&t[0][2]?go(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Pr(e,t){return co(e)&&po(t)?go(Oo(e),t):function(n){var r=vs(n,e);return void 0===r&&r===t?ms(n,e):Ar(t,r,3)}}function Nr(e,t,n,r,i){e!==t&&sr(t,(function(o,a){if(i||(i=new Bn),za(o))!function(e,t,n,r,i,o,a){var s=_o(e,n),u=_o(t,n),c=a.get(u);if(c)return void Qn(e,n,c);var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=La(u),d=!h&&Ba(u),p=!h&&!d&&Za(u);l=u,h||d||p?La(s)?l=s:ja(s)?l=yi(s):d?(f=!1,l=hi(u,!0)):p?(f=!1,l=pi(u,!0)):l=[]:Xa(u)||Ra(u)?(l=s,Ra(s)?l=ss(s):za(s)&&!Ha(s)||(l=oo(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));Qn(e,n,l)}(e,t,a,n,Nr,r,i);else{var s=r?r(_o(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Qn(e,a,s)}}),ws)}function Ir(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Rr(e,t,n){t=t.length?dt(t,(function(e){return La(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[qs];var r=-1;return t=dt(t,Nt($i())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Cr(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=gi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Lr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=hr(e,a);n(s,a)&&Gr(o,ui(a,e),s)}return o}function Dr(e,t,n,r){var i=r?wt:At,o=-1,a=t.length,s=e;for(e===t&&(t=yi(t)),n&&(s=dt(e,Nt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;so(i)?Xe.call(e,i,1):ei(e,i)}}return e}function jr(e,t){return e+en(fn()*(t-e+1))}function Br(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Fr(e,t){return wo(vo(e,t,qs),e+"")}function Ur(e){return Un(Ps(e))}function Hr(e,t){var n=Ps(e);return To(n,Kn(t,0,n.length))}function Gr(e,t,n,r){if(!za(e))return e;for(var i=-1,o=(t=ui(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Oo(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=za(l)?l:so(t[i+1])?[]:{})}zn(s,u,c),s=s[u]}return e}var Qr=_n?function(e,t){return _n.set(e,t),e}:qs,zr=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:zs(t),writable:!0})}:qs;function Vr(e){return To(Ps(e))}function Wr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function qr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Xr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ja(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Yr(e,t,qs,n)}function Yr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,u=Ja(t),c=void 0===t;i<o;){var l=en((i+o)/2),f=n(e[l]),h=void 0!==f,d=null===f,p=f==f,g=Ja(f);if(a)var v=r||p;else v=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=t:f<t);v?i=l+1:o=l}return un(o,4294967294)}function Kr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Pa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function $r(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(La(e))return dt(e,Jr)+"";if(Ja(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ht;else if(o>=200){var c=t?null:Bi(e);if(c)return zt(c);a=!1,i=Rt,u=new jn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ei(e,t){return null==(e=mo(e,t=ui(t,e)))||delete e[Oo(Uo(t))]}function ti(e,t,n,r){return Gr(e,t,n(hr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wr(e,r?0:o,r?o+1:i):Wr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof Rn&&(n=n.value()),gt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Zr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=er(a[o]||s,e[u],t,n));return Zr(ar(a,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ai(e){return ja(e)?e:[]}function si(e){return"function"==typeof e?e:qs}function ui(e,t){return La(e)?e:co(e,t)?[e]:So(us(e))}var ci=Fr;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var fi=St||function(e){return qe.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=Me?Me(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function pi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ja(e),a=void 0!==t,s=null===t,u=t==t,c=Ja(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function vi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=sn(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function mi(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=sn(a-u,0),h=r(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=e[o++]);return h}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function _i(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Xn(n,s,u):zn(n,s,u)}return n}function bi(e,t){return function(n,r){var i=La(n)?at:Wn,o=t?t():{};return i(n,e,$i(r,2),o)}}function Ai(e){return Fr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!Ma(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=pe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=pe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function xi(e){return function(t){var n=Ut(t=us(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Ti(e){return function(t){return gt(Hs(Rs(t).replace(Ie,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),r=e.apply(n,t);return za(r)?r:n}}function Oi(e){return function(t,n,r){var i=pe(t);if(!Ma(t)){var o=$i(n,3);t=As(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ci(e){return Vi((function(t){var n=t.length,r=n,i=In.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new me(o);if(i&&!s&&"wrapper"==Yi(a))var s=new In([],!0)}for(r=s?r:n;++r<n;){var u=Yi(a=t[r]),c="wrapper"==u?Xi(a):void 0;s=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Yi(c[0])].apply(s,c[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&La(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ki(e,t,n,i,o,a,s,u,c,l){var f=128&t,h=1&t,d=2&t,p=24&t,g=512&t,v=d?void 0:Si(e);return function m(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(p)var A=Ki(m),w=Mt(_,A);if(i&&(_=vi(_,i,o,p)),a&&(_=mi(_,a,s,p)),y-=w,p&&y<l){var E=Qt(_,A);return Mi(e,t,ki,m.placeholder,n,_,E,u,c,l-y)}var x=h?n:this,T=d?x[e]:e;return y=_.length,u?_=yo(_,u):g&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==qe&&this instanceof m&&(T=v||Si(T)),T.apply(x,_)}}function Pi(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ni(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=$r(n),r=$r(r)),i=e(n,r)}return i}}function Ii(e){return Vi((function(t){return t=dt(t,Nt($i())),Fr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Ri(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Br(t,e):t;var r=Br(t,Zt(e/Wt(t)));return Ut(t)?li(qt(r),0,e).join(""):r.slice(0,e)}function Li(e){return function(t,n,i){return i&&"number"!=typeof i&&uo(t,n,i)&&(n=i=void 0),t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n,i){for(var o=-1,a=sn(Zt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:rs(i),e)}}function Di(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Mi(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return lo(e)&&bo(h,f),h.placeholder=r,Eo(h,e,t)}function ji(e){var t=de[e];return function(e,n){if(e=as(e),(n=null==n?0:un(is(n),292))&&rn(e)){var r=(us(e)+"e").split("e");return+((r=(us(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Bi=vn&&1/zt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Js;function Fi(e){return function(t){var n=ro(t);return n==g?Ht(t):n==_?Vt(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,n,i,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new me(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),c=void 0===c?c:sn(is(c),0),l=void 0===l?l:is(l),h-=s?s.length:0,64&t){var d=i,p=s;i=s=void 0}var g=f?void 0:Xi(e),v=[e,t,n,i,s,d,p,u,c,l];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?vi(c,u,t[4]):u,e[4]=c?Qt(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?mi(c,u,t[6]):u,e[6]=c?Qt(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:un(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(v,g),e=v[0],t=v[1],n=v[2],i=v[3],s=v[4],!(l=v[9]=void 0===v[9]?f?0:e.length:sn(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var i=Si(e);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Ki(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Qt(s,c);if((a-=l.length)<n)return Mi(e,t,ki,o.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==qe&&this instanceof o?i:e;return ot(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?ki.apply(void 0,v):function(e,t,n,i){var o=1&t,a=Si(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==qe&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return ot(h,o?n:this,f)}}(e,t,n,i);else var m=function(e,t,n){var r=1&t,i=Si(e);return function t(){var o=this&&this!==qe&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((g?Qr:bo)(m,v),e,t)}function Hi(e,t,n,r){return void 0===e||Pa(e,be[n])&&!Ee.call(r,n)?t:e}function Gi(e,t,n,r,i,o){return za(e)&&za(t)&&(o.set(t,e),Nr(e,t,void 0,Gi,o),o.delete(t)),e}function Qi(e){return Xa(e)?void 0:e}function zi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new jn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var v=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!mt(t,(function(e,t){if(!Rt(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Vi(e){return wo(vo(e,void 0,Do),e+"")}function Wi(e){return dr(e,As,to)}function qi(e){return dr(e,ws,no)}var Xi=_n?function(e){return _n.get(e)}:Js;function Yi(e){for(var t=e.name+"",n=bn[t],r=Ee.call(bn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ki(e){return(Ee.call(kn,"placeholder")?kn:e).placeholder}function $i(){var e=kn.iteratee||Xs;return e=e===Xs?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=As(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,po(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=pe(e),lt(tn(e),(function(t){return We.call(e,t)})))}:ou,no=tn?function(e){for(var t=[];e;)pt(t,to(e)),e=Ge(e);return t}:ou,ro=pr;function io(e,t,n){for(var r=-1,i=(t=ui(t,e)).length,o=!1;++r<i;){var a=Oo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qa(i)&&so(a,i)&&(La(e)||Ra(e))}function oo(e){return"function"!=typeof e.constructor||ho(e)?{}:Pn(Ge(e))}function ao(e){return La(e)||Ra(e)||!!(Ye&&e&&e[Ye])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function uo(e,t,n){if(!za(n))return!1;var r=typeof t;return!!("number"==r?Ma(n)&&so(t,n.length):"string"==r&&t in n)&&Pa(n[t],e)}function co(e,t){if(La(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ja(e))||(z.test(e)||!Q.test(e)||null!=t&&e in pe(t))}function lo(e){var t=Yi(e),n=kn[t];if("function"!=typeof n||!(t in Rn.prototype))return!1;if(e===n)return!0;var r=Xi(n);return!!r&&e===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=x||pn&&ro(new pn)!=g||gn&&"[object Promise]"!=ro(gn.resolve())||vn&&ro(new vn)!=_||mn&&ro(new mn)!=w)&&(ro=function(e){var t=pr(e),n=t==m?e.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case An:return x;case wn:return g;case En:return"[object Promise]";case xn:return _;case Tn:return w}return t});var fo=Ae?Ha:au;function ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}function po(e){return e==e&&!za(e)}function go(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function vo(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=sn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),ot(e,this,u)}}function mo(e,t){return t.length<2?e:hr(e,Wr(t,0,-1))}function yo(e,t){for(var n=e.length,r=un(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=so(o,n)?i[o]:void 0}return e}function _o(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bo=xo(Qr),Ao=Jt||function(e,t){return qe.setTimeout(e,t)},wo=xo(zr);function Eo(e,t,n){var r=t+"";return wo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(K,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match($);return t?t[1].split(J):[]}(r),n)))}function xo(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function To(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=jr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var So=function(e){var t=xa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Oo(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Co(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ko(e){if(e instanceof Rn)return e.clone();var t=new In(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Po=Fr((function(e,t){return ja(e)?er(e,ar(t,1,ja,!0)):[]})),No=Fr((function(e,t){var n=Uo(t);return ja(n)&&(n=void 0),ja(e)?er(e,ar(t,1,ja,!0),$i(n,2)):[]})),Io=Fr((function(e,t){var n=Uo(t);return ja(n)&&(n=void 0),ja(e)?er(e,ar(t,1,ja,!0),void 0,n):[]}));function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),bt(e,$i(t,3),i)}function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=is(n),i=n<0?sn(r+i,0):un(i,r-1)),bt(e,$i(t,3),i,!0)}function Do(e){return(null==e?0:e.length)?ar(e,1):[]}function Mo(e){return e&&e.length?e[0]:void 0}var jo=Fr((function(e){var t=dt(e,ai);return t.length&&t[0]===e[0]?yr(t):[]})),Bo=Fr((function(e){var t=Uo(e),n=dt(e,ai);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,$i(t,2)):[]})),Fo=Fr((function(e){var t=Uo(e),n=dt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ho=Fr(Go);function Go(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var Qo=Vi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Mr(e,dt(t,(function(e){return so(e,n)?+e:e})).sort(gi)),r}));function zo(e){return null==e?e:hn.call(e)}var Vo=Fr((function(e){return Zr(ar(e,1,ja,!0))})),Wo=Fr((function(e){var t=Uo(e);return ja(t)&&(t=void 0),Zr(ar(e,1,ja,!0),$i(t,2))})),qo=Fr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Zr(ar(e,1,ja,!0),void 0,t)}));function Xo(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(ja(e))return t=sn(e.length,t),!0})),kt(t,(function(t){return dt(e,Tt(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Xo(e);return null==t?n:dt(n,(function(e){return ot(t,void 0,e)}))}var Ko=Fr((function(e,t){return ja(e)?er(e,t):[]})),$o=Fr((function(e){return ii(lt(e,ja))})),Jo=Fr((function(e){var t=Uo(e);return ja(t)&&(t=void 0),ii(lt(e,ja),$i(t,2))})),Zo=Fr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ii(lt(e,ja),void 0,t)})),ea=Fr(Xo);var ta=Fr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function na(e){var t=kn(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var ia=Vi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Rn&&so(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new In(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var oa=bi((function(e,t,n){Ee.call(e,n)?++e[n]:Xn(e,n,1)}));var aa=Oi(Ro),sa=Oi(Lo);function ua(e,t){return(La(e)?st:tr)(e,$i(t,3))}function ca(e,t){return(La(e)?ut:nr)(e,$i(t,3))}var la=bi((function(e,t,n){Ee.call(e,n)?e[n].push(t):Xn(e,n,[t])}));var fa=Fr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ma(e)?r(e.length):[];return tr(e,(function(e){a[++i]=o?ot(t,e,n):_r(e,t,n)})),a})),ha=bi((function(e,t,n){Xn(e,n,t)}));function da(e,t){return(La(e)?dt:Cr)(e,$i(t,3))}var pa=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ga=Fr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&uo(e,t[0],t[1])?t=[]:n>2&&uo(t[0],t[1],t[2])&&(t=[t[0]]),Rr(e,ar(t,1),[])})),va=$t||function(){return qe.Date.now()};function ma(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new me(o);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var _a=Fr((function(e,t,n){var r=1;if(n.length){var i=Qt(n,Ki(_a));r|=32}return Ui(e,r,t,n,i)})),ba=Fr((function(e,t,n){var r=3;if(n.length){var i=Qt(n,Ki(ba));r|=32}return Ui(t,r,e,n,i)}));function Aa(e,t,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new me(o);function p(t){var n=r,o=i;return r=i=void 0,l=t,s=e.apply(o,n)}function g(e){return l=e,u=Ao(m,t),f?p(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function m(){var e=va();if(v(e))return y(e);u=Ao(m,function(e){var n=t-(e-c);return h?un(n,a-(e-l)):n}(e))}function y(e){return u=void 0,d&&r?p(e):(r=i=void 0,s)}function _(){var e=va(),n=v(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return g(c);if(h)return fi(u),u=Ao(m,t),p(c)}return void 0===u&&(u=Ao(m,t)),s}return t=as(t)||0,za(n)&&(f=!!n.leading,a=(h="maxWait"in n)?sn(as(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),_.cancel=function(){void 0!==u&&fi(u),l=0,r=c=i=u=void 0},_.flush=function(){return void 0===u?s:y(va())},_}var wa=Fr((function(e,t){return Zn(e,1,t)})),Ea=Fr((function(e,t,n){return Zn(e,as(t)||0,n)}));function xa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new me(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(xa.Cache||Mn),n}function Ta(e){if("function"!=typeof e)throw new me(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xa.Cache=Mn;var Sa=ci((function(e,t){var n=(t=1==t.length&&La(t[0])?dt(t[0],Nt($i())):dt(ar(t,1),Nt($i()))).length;return Fr((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Oa=Fr((function(e,t){return Ui(e,32,void 0,t,Qt(t,Ki(Oa)))})),Ca=Fr((function(e,t){return Ui(e,64,void 0,t,Qt(t,Ki(Ca)))})),ka=Vi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function Pa(e,t){return e===t||e!=e&&t!=t}var Na=Di(gr),Ia=Di((function(e,t){return e>=t})),Ra=br(function(){return arguments}())?br:function(e){return Va(e)&&Ee.call(e,"callee")&&!We.call(e,"callee")},La=r.isArray,Da=Ze?Nt(Ze):function(e){return Va(e)&&pr(e)==E};function Ma(e){return null!=e&&Qa(e.length)&&!Ha(e)}function ja(e){return Va(e)&&Ma(e)}var Ba=nn||au,Fa=et?Nt(et):function(e){return Va(e)&&pr(e)==f};function Ua(e){if(!Va(e))return!1;var t=pr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Xa(e)}function Ha(e){if(!za(e))return!1;var t=pr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ga(e){return"number"==typeof e&&e==is(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function za(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Wa=tt?Nt(tt):function(e){return Va(e)&&ro(e)==g};function qa(e){return"number"==typeof e||Va(e)&&pr(e)==v}function Xa(e){if(!Va(e)||pr(e)!=m)return!1;var t=Ge(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==Oe}var Ya=nt?Nt(nt):function(e){return Va(e)&&pr(e)==y};var Ka=rt?Nt(rt):function(e){return Va(e)&&ro(e)==_};function $a(e){return"string"==typeof e||!La(e)&&Va(e)&&pr(e)==b}function Ja(e){return"symbol"==typeof e||Va(e)&&pr(e)==A}var Za=it?Nt(it):function(e){return Va(e)&&Qa(e.length)&&!!Ue[pr(e)]};var es=Di(Or),ts=Di((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Ma(e))return $a(e)?qt(e):yi(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=ro(e);return(t==g?Ht:t==_?zt:Ps)(e)}function rs(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=rs(e),n=t%1;return t==t?n?t-n:t:0}function os(e){return e?Kn(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if(za(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=za(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=oe.test(e);return n||se.test(e)?ze(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function ss(e){return _i(e,ws(e))}function us(e){return null==e?"":Jr(e)}var cs=Ai((function(e,t){if(ho(t)||Ma(t))_i(t,As(t),e);else for(var n in t)Ee.call(t,n)&&zn(e,n,t[n])})),ls=Ai((function(e,t){_i(t,ws(t),e)})),fs=Ai((function(e,t,n,r){_i(t,ws(t),e,r)})),hs=Ai((function(e,t,n,r){_i(t,As(t),e,r)})),ds=Vi(Yn);var ps=Fr((function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&uo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||Pa(l,be[c])&&!Ee.call(e,c))&&(e[c]=o[c])}return e})),gs=Fr((function(e){return e.push(void 0,Gi),ot(xs,void 0,e)}));function vs(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function ms(e,t){return null!=e&&io(e,t,mr)}var ys=Pi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Se.call(t)),e[t]=n}),zs(qs)),_s=Pi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Se.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),$i),bs=Fr(_r);function As(e){return Ma(e)?Fn(e):Tr(e)}function ws(e){return Ma(e)?Fn(e,!0):Sr(e)}var Es=Ai((function(e,t,n){Nr(e,t,n)})),xs=Ai((function(e,t,n,r){Nr(e,t,n,r)})),Ts=Vi((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=ui(t,e),r||(r=t.length>1),t})),_i(e,qi(e),n),r&&(n=$n(n,7,Qi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Ss=Vi((function(e,t){return null==e?{}:function(e,t){return Lr(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function Os(e,t){if(null==e)return{};var n=dt(qi(e),(function(e){return[e]}));return t=$i(t),Lr(e,n,(function(e,n){return t(e,n[0])}))}var Cs=Fi(As),ks=Fi(ws);function Ps(e){return null==e?[]:It(e,As(e))}var Ns=Ti((function(e,t,n){return t=t.toLowerCase(),e+(n?Is(t):t)}));function Is(e){return Us(us(e).toLowerCase())}function Rs(e){return(e=us(e))&&e.replace(ce,jt).replace(Re,"")}var Ls=Ti((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ds=Ti((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ms=xi("toLowerCase");var js=Ti((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Bs=Ti((function(e,t,n){return e+(n?" ":"")+Us(t)}));var Fs=Ti((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Us=xi("toUpperCase");function Hs(e,t,n){return e=us(e),void 0===(t=n?void 0:t)?function(e){return je.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Gs=Fr((function(e,t){try{return ot(e,void 0,t)}catch(e){return Ua(e)?e:new Y(e)}})),Qs=Vi((function(e,t){return st(t,(function(t){t=Oo(t),Xn(e,t,_a(e[t],e))})),e}));function zs(e){return function(){return e}}var Vs=Ci(),Ws=Ci(!0);function qs(e){return e}function Xs(e){return xr("function"==typeof e?e:$n(e,1))}var Ys=Fr((function(e,t){return function(n){return _r(n,e,t)}})),Ks=Fr((function(e,t){return function(n){return _r(e,n,t)}}));function $s(e,t,n){var r=As(t),i=fr(t,r);null!=n||za(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=fr(t,As(t)));var o=!(za(n)&&"chain"in n&&!n.chain),a=Ha(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Js(){}var Zs=Ii(dt),eu=Ii(ct),tu=Ii(mt);function nu(e){return co(e)?Tt(Oo(e)):function(e){return function(t){return hr(t,e)}}(e)}var ru=Li(),iu=Li(!0);function ou(){return[]}function au(){return!1}var su=Ni((function(e,t){return e+t}),0),uu=ji("ceil"),cu=Ni((function(e,t){return e/t}),1),lu=ji("floor");var fu,hu=Ni((function(e,t){return e*t}),1),du=ji("round"),pu=Ni((function(e,t){return e-t}),0);return kn.after=function(e,t){if("function"!=typeof t)throw new me(o);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},kn.ary=ma,kn.assign=cs,kn.assignIn=ls,kn.assignInWith=fs,kn.assignWith=hs,kn.at=ds,kn.before=ya,kn.bind=_a,kn.bindAll=Qs,kn.bindKey=ba,kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return La(e)?e:[e]},kn.chain=na,kn.chunk=function(e,t,n){t=(n?uo(e,t,n):void 0===t)?1:sn(is(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Zt(i/t));o<i;)s[a++]=Wr(e,o,o+=t);return s},kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(La(n)?yi(n):[n],ar(t,1))},kn.cond=function(e){var t=null==e?0:e.length,n=$i();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new me(o);return[n(e[0]),e[1]]})):[],Fr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},kn.conforms=function(e){return function(e){var t=As(e);return function(n){return Jn(n,e,t)}}($n(e,1))},kn.constant=zs,kn.countBy=oa,kn.create=function(e,t){var n=Pn(e);return null==t?n:qn(n,t)},kn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.debounce=Aa,kn.defaults=ps,kn.defaultsDeep=gs,kn.defer=wa,kn.delay=Ea,kn.difference=Po,kn.differenceBy=No,kn.differenceWith=Io,kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:is(t))<0?0:t,r):[]},kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t):[]},kn.dropRightWhile=function(e,t){return e&&e.length?ni(e,$i(t,3),!0,!0):[]},kn.dropWhile=function(e,t){return e&&e.length?ni(e,$i(t,3),!0):[]},kn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&uo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=is(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:is(r))<0&&(r+=i),r=n>r?0:os(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},kn.filter=function(e,t){return(La(e)?lt:or)(e,$i(t,3))},kn.flatMap=function(e,t){return ar(da(e,t),1)},kn.flatMapDeep=function(e,t){return ar(da(e,t),1/0)},kn.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ar(da(e,t),n)},kn.flatten=Do,kn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},kn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:is(t)):[]},kn.flip=function(e){return Ui(e,512)},kn.flow=Vs,kn.flowRight=Ws,kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},kn.functions=function(e){return null==e?[]:fr(e,As(e))},kn.functionsIn=function(e){return null==e?[]:fr(e,ws(e))},kn.groupBy=la,kn.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},kn.intersection=jo,kn.intersectionBy=Bo,kn.intersectionWith=Fo,kn.invert=ys,kn.invertBy=_s,kn.invokeMap=fa,kn.iteratee=Xs,kn.keyBy=ha,kn.keys=As,kn.keysIn=ws,kn.map=da,kn.mapKeys=function(e,t){var n={};return t=$i(t,3),cr(e,(function(e,r,i){Xn(n,t(e,r,i),e)})),n},kn.mapValues=function(e,t){var n={};return t=$i(t,3),cr(e,(function(e,r,i){Xn(n,r,t(e,r,i))})),n},kn.matches=function(e){return kr($n(e,1))},kn.matchesProperty=function(e,t){return Pr(e,$n(t,1))},kn.memoize=xa,kn.merge=Es,kn.mergeWith=xs,kn.method=Ys,kn.methodOf=Ks,kn.mixin=$s,kn.negate=Ta,kn.nthArg=function(e){return e=is(e),Fr((function(t){return Ir(t,e)}))},kn.omit=Ts,kn.omitBy=function(e,t){return Os(e,Ta($i(t)))},kn.once=function(e){return ya(2,e)},kn.orderBy=function(e,t,n,r){return null==e?[]:(La(t)||(t=null==t?[]:[t]),La(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(e,t,n))},kn.over=Zs,kn.overArgs=Sa,kn.overEvery=eu,kn.overSome=tu,kn.partial=Oa,kn.partialRight=Ca,kn.partition=pa,kn.pick=Ss,kn.pickBy=Os,kn.property=nu,kn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},kn.pull=Ho,kn.pullAll=Go,kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,$i(n,2)):e},kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},kn.pullAt=Qo,kn.range=ru,kn.rangeRight=iu,kn.rearg=ka,kn.reject=function(e,t){return(La(e)?lt:or)(e,Ta($i(t,3)))},kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=$i(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Mr(e,i),n},kn.rest=function(e,t){if("function"!=typeof e)throw new me(o);return Fr(e,t=void 0===t?t:is(t))},kn.reverse=zo,kn.sampleSize=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:is(t),(La(e)?Hn:Hr)(e,t)},kn.set=function(e,t,n){return null==e?e:Gr(e,t,n)},kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Gr(e,t,n,r)},kn.shuffle=function(e){return(La(e)?Gn:Vr)(e)},kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&uo(e,t,n)?(t=0,n=r):(t=null==t?0:is(t),n=void 0===n?r:is(n)),Wr(e,t,n)):[]},kn.sortBy=ga,kn.sortedUniq=function(e){return e&&e.length?Kr(e):[]},kn.sortedUniqBy=function(e,t){return e&&e.length?Kr(e,$i(t,2)):[]},kn.split=function(e,t,n){return n&&"number"!=typeof n&&uo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=us(e))&&("string"==typeof t||null!=t&&!Ya(t))&&!(t=Jr(t))&&Ut(e)?li(qt(e),0,n):e.split(t,n):[]},kn.spread=function(e,t){if("function"!=typeof e)throw new me(o);return t=null==t?0:sn(is(t),0),Fr((function(n){var r=n[t],i=li(n,0,t);return r&&pt(i,r),ot(e,this,i)}))},kn.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},kn.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t,r):[]},kn.takeRightWhile=function(e,t){return e&&e.length?ni(e,$i(t,3),!1,!0):[]},kn.takeWhile=function(e,t){return e&&e.length?ni(e,$i(t,3)):[]},kn.tap=function(e,t){return t(e),e},kn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new me(o);return za(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Aa(e,t,{leading:r,maxWait:t,trailing:i})},kn.thru=ra,kn.toArray=ns,kn.toPairs=Cs,kn.toPairsIn=ks,kn.toPath=function(e){return La(e)?dt(e,Oo):Ja(e)?[e]:yi(So(us(e)))},kn.toPlainObject=ss,kn.transform=function(e,t,n){var r=La(e),i=r||Ba(e)||Za(e);if(t=$i(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:za(e)&&Ha(o)?Pn(Ge(e)):{}}return(i?st:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},kn.unary=function(e){return ma(e,1)},kn.union=Vo,kn.unionBy=Wo,kn.unionWith=qo,kn.uniq=function(e){return e&&e.length?Zr(e):[]},kn.uniqBy=function(e,t){return e&&e.length?Zr(e,$i(t,2)):[]},kn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},kn.unset=function(e,t){return null==e||ei(e,t)},kn.unzip=Xo,kn.unzipWith=Yo,kn.update=function(e,t,n){return null==e?e:ti(e,t,si(n))},kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,si(n),r)},kn.values=Ps,kn.valuesIn=function(e){return null==e?[]:It(e,ws(e))},kn.without=Ko,kn.words=Hs,kn.wrap=function(e,t){return Oa(si(t),e)},kn.xor=$o,kn.xorBy=Jo,kn.xorWith=Zo,kn.zip=ea,kn.zipObject=function(e,t){return oi(e||[],t||[],zn)},kn.zipObjectDeep=function(e,t){return oi(e||[],t||[],Gr)},kn.zipWith=ta,kn.entries=Cs,kn.entriesIn=ks,kn.extend=ls,kn.extendWith=fs,$s(kn,kn),kn.add=su,kn.attempt=Gs,kn.camelCase=Ns,kn.capitalize=Is,kn.ceil=uu,kn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Kn(as(e),t,n)},kn.clone=function(e){return $n(e,4)},kn.cloneDeep=function(e){return $n(e,5)},kn.cloneDeepWith=function(e,t){return $n(e,5,t="function"==typeof t?t:void 0)},kn.cloneWith=function(e,t){return $n(e,4,t="function"==typeof t?t:void 0)},kn.conformsTo=function(e,t){return null==t||Jn(e,t,As(t))},kn.deburr=Rs,kn.defaultTo=function(e,t){return null==e||e!=e?t:e},kn.divide=cu,kn.endsWith=function(e,t,n){e=us(e),t=Jr(t);var r=e.length,i=n=void 0===n?r:Kn(is(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},kn.eq=Pa,kn.escape=function(e){return(e=us(e))&&F.test(e)?e.replace(j,Bt):e},kn.escapeRegExp=function(e){return(e=us(e))&&q.test(e)?e.replace(W,"\\$&"):e},kn.every=function(e,t,n){var r=La(e)?ct:rr;return n&&uo(e,t,n)&&(t=void 0),r(e,$i(t,3))},kn.find=aa,kn.findIndex=Ro,kn.findKey=function(e,t){return _t(e,$i(t,3),cr)},kn.findLast=sa,kn.findLastIndex=Lo,kn.findLastKey=function(e,t){return _t(e,$i(t,3),lr)},kn.floor=lu,kn.forEach=ua,kn.forEachRight=ca,kn.forIn=function(e,t){return null==e?e:sr(e,$i(t,3),ws)},kn.forInRight=function(e,t){return null==e?e:ur(e,$i(t,3),ws)},kn.forOwn=function(e,t){return e&&cr(e,$i(t,3))},kn.forOwnRight=function(e,t){return e&&lr(e,$i(t,3))},kn.get=vs,kn.gt=Na,kn.gte=Ia,kn.has=function(e,t){return null!=e&&io(e,t,vr)},kn.hasIn=ms,kn.head=Mo,kn.identity=qs,kn.includes=function(e,t,n,r){e=Ma(e)?e:Ps(e),n=n&&!r?is(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),$a(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&At(e,t,n)>-1},kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),At(e,t,i)},kn.inRange=function(e,t,n){return t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n){return e>=un(t,n)&&e<sn(t,n)}(e=as(e),t,n)},kn.invoke=bs,kn.isArguments=Ra,kn.isArray=La,kn.isArrayBuffer=Da,kn.isArrayLike=Ma,kn.isArrayLikeObject=ja,kn.isBoolean=function(e){return!0===e||!1===e||Va(e)&&pr(e)==l},kn.isBuffer=Ba,kn.isDate=Fa,kn.isElement=function(e){return Va(e)&&1===e.nodeType&&!Xa(e)},kn.isEmpty=function(e){if(null==e)return!0;if(Ma(e)&&(La(e)||"string"==typeof e||"function"==typeof e.splice||Ba(e)||Za(e)||Ra(e)))return!e.length;var t=ro(e);if(t==g||t==_)return!e.size;if(ho(e))return!Tr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},kn.isEqual=function(e,t){return Ar(e,t)},kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Ar(e,t,void 0,n):!!r},kn.isError=Ua,kn.isFinite=function(e){return"number"==typeof e&&rn(e)},kn.isFunction=Ha,kn.isInteger=Ga,kn.isLength=Qa,kn.isMap=Wa,kn.isMatch=function(e,t){return e===t||wr(e,t,Zi(t))},kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Zi(t),n)},kn.isNaN=function(e){return qa(e)&&e!=+e},kn.isNative=function(e){if(fo(e))throw new Y("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},kn.isNil=function(e){return null==e},kn.isNull=function(e){return null===e},kn.isNumber=qa,kn.isObject=za,kn.isObjectLike=Va,kn.isPlainObject=Xa,kn.isRegExp=Ya,kn.isSafeInteger=function(e){return Ga(e)&&e>=-9007199254740991&&e<=9007199254740991},kn.isSet=Ka,kn.isString=$a,kn.isSymbol=Ja,kn.isTypedArray=Za,kn.isUndefined=function(e){return void 0===e},kn.isWeakMap=function(e){return Va(e)&&ro(e)==w},kn.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==pr(e)},kn.join=function(e,t){return null==e?"":on.call(e,t)},kn.kebabCase=Ls,kn.last=Uo,kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=is(n))<0?sn(r+i,0):un(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,Et,i,!0)},kn.lowerCase=Ds,kn.lowerFirst=Ms,kn.lt=es,kn.lte=ts,kn.max=function(e){return e&&e.length?ir(e,qs,gr):void 0},kn.maxBy=function(e,t){return e&&e.length?ir(e,$i(t,2),gr):void 0},kn.mean=function(e){return xt(e,qs)},kn.meanBy=function(e,t){return xt(e,$i(t,2))},kn.min=function(e){return e&&e.length?ir(e,qs,Or):void 0},kn.minBy=function(e,t){return e&&e.length?ir(e,$i(t,2),Or):void 0},kn.stubArray=ou,kn.stubFalse=au,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=hu,kn.nth=function(e,t){return e&&e.length?Ir(e,is(t)):void 0},kn.noConflict=function(){return qe._===this&&(qe._=Ce),this},kn.noop=Js,kn.now=va,kn.pad=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ri(en(i),n)+e+Ri(Zt(i),n)},kn.padEnd=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;return t&&r<t?e+Ri(t-r,n):e},kn.padStart=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;return t&&r<t?Ri(t-r,n)+e:e},kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(us(e).replace(X,""),t||0)},kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&uo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=fn();return un(e+i*(t-e+Qe("1e-"+((i+"").length-1))),t)}return jr(e,t)},kn.reduce=function(e,t,n){var r=La(e)?gt:Ot,i=arguments.length<3;return r(e,$i(t,4),n,i,tr)},kn.reduceRight=function(e,t,n){var r=La(e)?vt:Ot,i=arguments.length<3;return r(e,$i(t,4),n,i,nr)},kn.repeat=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:is(t),Br(us(e),t)},kn.replace=function(){var e=arguments,t=us(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kn.result=function(e,t,n){var r=-1,i=(t=ui(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Oo(t[r])];void 0===o&&(r=i,o=n),e=Ha(o)?o.call(e):o}return e},kn.round=du,kn.runInContext=e,kn.sample=function(e){return(La(e)?Un:Ur)(e)},kn.size=function(e){if(null==e)return 0;if(Ma(e))return $a(e)?Wt(e):e.length;var t=ro(e);return t==g||t==_?e.size:Tr(e).length},kn.snakeCase=js,kn.some=function(e,t,n){var r=La(e)?mt:qr;return n&&uo(e,t,n)&&(t=void 0),r(e,$i(t,3))},kn.sortedIndex=function(e,t){return Xr(e,t)},kn.sortedIndexBy=function(e,t,n){return Yr(e,t,$i(n,2))},kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Xr(e,t);if(r<n&&Pa(e[r],t))return r}return-1},kn.sortedLastIndex=function(e,t){return Xr(e,t,!0)},kn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,$i(n,2),!0)},kn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Xr(e,t,!0)-1;if(Pa(e[n],t))return n}return-1},kn.startCase=Bs,kn.startsWith=function(e,t,n){return e=us(e),n=null==n?0:Kn(is(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},kn.subtract=pu,kn.sum=function(e){return e&&e.length?Ct(e,qs):0},kn.sumBy=function(e,t){return e&&e.length?Ct(e,$i(t,2)):0},kn.template=function(e,t,n){var r=kn.templateSettings;n&&uo(e,t,n)&&(t=void 0),e=us(e),t=fs({},t,r,Hi);var i,o,a=fs({},t.imports,r.imports,Hi),s=As(a),u=It(a,s),c=0,l=t.interpolate||le,f="__p += '",h=ge((t.escape||le).source+"|"+l.source+"|"+(l===G?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),d="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(fe,Ft),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var p=Ee.call(t,"variable")&&t.variable;if(p){if(ee.test(p))throw new Y("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(R,""):f).replace(L,"$1").replace(D,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Gs((function(){return he(s,d+"return "+f).apply(void 0,u)}));if(g.source=f,Ua(g))throw g;return g},kn.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,r=un(e,4294967295);e-=4294967295;for(var i=kt(r,t=$i(t));++n<e;)t(n);return i},kn.toFinite=rs,kn.toInteger=is,kn.toLength=os,kn.toLower=function(e){return us(e).toLowerCase()},kn.toNumber=as,kn.toSafeInteger=function(e){return e?Kn(is(e),-9007199254740991,9007199254740991):0===e?e:0},kn.toString=us,kn.toUpper=function(e){return us(e).toUpperCase()},kn.trim=function(e,t,n){if((e=us(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Jr(t)))return e;var r=qt(e),i=qt(t);return li(r,Lt(r,i),Dt(r,i)+1).join("")},kn.trimEnd=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.slice(0,Xt(e)+1);if(!e||!(t=Jr(t)))return e;var r=qt(e);return li(r,0,Dt(r,qt(t))+1).join("")},kn.trimStart=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Jr(t)))return e;var r=qt(e);return li(r,Lt(r,qt(t))).join("")},kn.truncate=function(e,t){var n=30,r="...";if(za(t)){var i="separator"in t?t.separator:i;n="length"in t?is(t.length):n,r="omission"in t?Jr(t.omission):r}var o=(e=us(e)).length;if(Ut(e)){var a=qt(e);o=a.length}if(n>=o)return e;var s=n-Wt(r);if(s<1)return r;var u=a?li(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ya(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ge(i.source,us(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Jr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},kn.unescape=function(e){return(e=us(e))&&B.test(e)?e.replace(M,Yt):e},kn.uniqueId=function(e){var t=++xe;return us(e)+t},kn.upperCase=Fs,kn.upperFirst=Us,kn.each=ua,kn.eachRight=ca,kn.first=Mo,$s(kn,(fu={},cr(kn,(function(e,t){Ee.call(kn.prototype,t)||(fu[t]=e)})),fu),{chain:!1}),kn.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kn[e].placeholder=kn})),st(["drop","take"],(function(e,t){Rn.prototype[e]=function(n){n=void 0===n?1:sn(is(n),0);var r=this.__filtered__&&!t?new Rn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Rn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Rn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:$i(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Rn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Rn.prototype[e]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(qs)},Rn.prototype.find=function(e){return this.filter(e).head()},Rn.prototype.findLast=function(e){return this.reverse().find(e)},Rn.prototype.invokeMap=Fr((function(e,t){return"function"==typeof e?new Rn(this):this.map((function(n){return _r(n,e,t)}))})),Rn.prototype.reject=function(e){return this.filter(Ta($i(e)))},Rn.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Rn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},Rn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},cr(Rn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=kn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(kn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Rn,u=a[0],c=s||La(t),l=function(e){var t=i.apply(kn,pt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&c){t=p?t:new Rn(this);var g=e.apply(t,a);return g.__actions__.push({func:ra,args:[l],thisArg:void 0}),new In(g,f)}return d&&p?e.apply(this,a):(g=this.thru(l),d?r?g.value()[0]:g.value():g)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(La(i)?i:[],e)}return this[n]((function(n){return t.apply(La(n)?n:[],e)}))}})),cr(Rn.prototype,(function(e,t){var n=kn[t];if(n){var r=n.name+"";Ee.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var e=new Rn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Rn.prototype.reverse=function(){if(this.__filtered__){var e=new Rn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Rn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=La(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=un(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=un(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ri(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var g=-1,v=e[c+=t];++g<f;){var m=l[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue e;break e}}p[h++]=v}return p},kn.prototype.at=ia,kn.prototype.chain=function(){return na(this)},kn.prototype.commit=function(){return new In(this.value(),this.__chain__)},kn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},kn.prototype.plant=function(e){for(var t,n=this;n instanceof Nn;){var r=ko(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Rn){var t=e;return this.__actions__.length&&(t=new Rn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[zo],thisArg:void 0}),new In(t,this.__chain__)}return this.thru(zo)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,$e&&(kn.prototype[$e]=function(){return this}),kn}();qe._=Kt,void 0===(i=function(){return Kt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(48),n(63)(e))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.environmentUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(87),u=n(7),c=new(function(){function e(){(0,i.default)(this,e);var t={};window.location.search.slice(1).split("&").forEach((function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")})),this._query=JSON.parse(JSON.stringify(t)),this._simulateAutomation=!1}return(0,o.default)(e,[{key:"getHostName",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{e=t.self!==t.top?t.parent.location.hostname:t.location.hostname}catch(t){e="defaultHostName"}return e}},{key:"getLessonIdFromUrl",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/automationLesson";return e=t.match(/local|demo|preview|lesson/)?t.split("/")[2]:t.split("/")[1],(a.default.isUndefined(e)||a.default.isEmpty(e))&&(e="automationLesson"),e}},{key:"getTopWindowViewportSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return{width:e.top.innerWidth,height:e.top.innerHeight}}},{key:"isIntegratedEnvironment",value:function(){return window!==window.parent}},{key:"lessonBridgeExists",value:function(){return!a.default.isUndefined(window.parent.lessonBridge)}},{key:"isAutomationRunning",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.webdriver||this.simulateAutomation;return!a.default.isNull(t)&&!0===t.valueOf()}},{key:"isTeacherMode",value:function(){return!(!this.query.showMenu&&!(0,s.getCheats)().showMenu)}},{key:"warn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t&&"production"===t&&u.utilLogger.warn(e)}},{key:"simulateAutomation",set:function(e){this._simulateAutomation=e},get:function(){return this._simulateAutomation}},{key:"query",get:function(){return this._query},set:function(e){this._query=e}}]),e}());t.environmentUtil=c},function(e,t,n){"use strict";n.r(t),n.d(t,"LESSON_STATE_ROOT",(function(){return r})),n.d(t,"LESSON_CONTENT_ROOT",(function(){return i})),n.d(t,"LESSON_RESULTS_ROOT",(function(){return o})),n.d(t,"NAV_STATE_ROOT",(function(){return a})),n.d(t,"LC_STATE_ROOT",(function(){return s})),n.d(t,"SCREEN_STATE_ROOT",(function(){return u})),n.d(t,"USER_DETAILS_STATE_ROOT",(function(){return c})),n.d(t,"TEXT_READ_ROOT",(function(){return l})),n.d(t,"TEXT_HTML_ROOT",(function(){return f})),n.d(t,"PREFERENCES_STATE_ROOT",(function(){return h})),n.d(t,"AUTOMATION_STATE_ROOT",(function(){return d})),n.d(t,"AudioDecoder",(function(){return p})),n.d(t,"NavigationSerializableProperties",(function(){return g})),n.d(t,"LessonStateDirectiveKeys",(function(){return v})),n.d(t,"LessonStateDirectiveActions",(function(){return m})),n.d(t,"LessonStateDirectiveActionCriterions",(function(){return y})),n.d(t,"DCEventCallbackFunctions",(function(){return _}));const r="lesson.state",i="lesson.content",o="lesson.results",a="navigation",s="learningComponent",u="screen",c="userDetails",l="text.read",f="text.html",h="preferences",d="automation";var p,g,v,m,y,_;!function(e){e.NATIVE="native",e.CUSTOM="custom"}(p||(p={})),function(e){e.CURRENT_STEP="currentStep",e.HIGHEST_REACHED_STEP_ID="highestReachedStepId",e.STEP_STATE="stepState",e.ADAPTIVITY_RESULTS="adaptivityResults",e.SKIPS="skips",e.BUTTON_PRESSES="buttonPresses",e.RANDOM_ADP_VALUES="randomAdpValues"}(g||(g={})),function(e){e.DIRECTIVE="lessonDirectives",e.FINGERPRINT="fingerprint",e.ACTION="action",e.ACTION_TYPE="type",e.ACTION_CRITERIA="constraints",e.ACTION_PARAMS="parameters"}(v||(v={})),function(e){e.UPDATE_FINGERPRINT="update-fingerprint",e.RESET_COMPONENT="reset-component",e["update-fingerprint"]="UPDATE_FINGERPRINT",e["reset-component"]="RESET_COMPONENT"}(m||(m={})),function(e){e.BEFORE_SCREEN="before-screen",e.COMPONENT="component"}(y||(y={})),function(e){e.IS_VALID_EVENT="isValidEvent"}(_||(_={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"initNavigation",(function(){return R})),n.d(t,"setCurrentStepState",(function(){return L})),n.d(t,"performScreenInjection",(function(){return D})),n.d(t,"enableNavigation",(function(){return M})),n.d(t,"setDoneEnabled",(function(){return j})),n.d(t,"setDoneVisible",(function(){return B})),n.d(t,"setHelpCallback",(function(){return F})),n.d(t,"setHelpEnabled",(function(){return U})),n.d(t,"setHelpVisible",(function(){return H})),n.d(t,"setDoneCallback",(function(){return G})),n.d(t,"setBackEnabled",(function(){return Q})),n.d(t,"registerButtonPress",(function(){return z})),n.d(t,"completeComponentImmediately",(function(){return V})),n.d(t,"gotoStep",(function(){return W})),n.d(t,"assignHelpButtonCallback",(function(){return q})),n.d(t,"initLessonNavigation",(function(){return X})),n.d(t,"startLessonNavigation",(function(){return Y})),n.d(t,"handleAppStarted",(function(){return K})),n.d(t,"back",(function(){return $})),n.d(t,"forward",(function(){return J})),n.d(t,"jumpToStep",(function(){return Z})),n.d(t,"jumpToScreen",(function(){return ee})),n.d(t,"pause",(function(){return te})),n.d(t,"unpause",(function(){return ne})),n.d(t,"togglePause",(function(){return re})),n.d(t,"toggleNav",(function(){return ie})),n.d(t,"overrideNavigation",(function(){return oe})),n.d(t,"setClassName",(function(){return ae})),n.d(t,"setTabButtonsSize",(function(){return se})),n.d(t,"startProgress",(function(){return ue})),n.d(t,"stopProgress",(function(){return ce})),n.d(t,"setCustomBtnCallback",(function(){return le})),n.d(t,"setCustomBtnEnabled",(function(){return fe})),n.d(t,"setCustomBtnVisible",(function(){return he})),n.d(t,"setCustomBtnLabel",(function(){return de})),n.d(t,"createCustomBtn",(function(){return pe})),n.d(t,"enablePause",(function(){return ge})),n.d(t,"setShowMenu",(function(){return ve})),n.d(t,"resetNavigation",(function(){return me})),n.d(t,"setHelpPulseTimeout",(function(){return ye})),n.d(t,"setHelpPulsing",(function(){return _e})),n.d(t,"setKeyboardNavEnabled",(function(){return be}));var r=n(1),i=n(20),o=n(103),a=n(0),s=n(6),u=n(149),c=n(121),l=n(65),f=n(9),h=n(7),d=n(34),p=n(70),g=n(19),v=n(14),m=n(16),y=n(29),_=n(189),b=n(50),A=n(8),w=n(61),E=n(22),x=n(26),T=n(38),S=n(36),O=n(33),C=n(97),k=n(294),P=n(64),N=n(151),I=n(79);function R(e){return{type:r.NAVIGATION_INIT,payload:e}}function L(e){return{type:r.NAVIGATION_CURRENT_STEP_STATE,payload:e}}function D(e,t,n){const o=Object(v.getScreen)(t(),n),s=Object(v.getDsExpressions)(o);if(a._.isEmpty(s))return;a._.isEmpty(N.dataShareEngine.instance)&&N.dataShareEngine.createInstance({stepsMap:Object(f.getStepState)(t()),state:Object(f.getNavigationState)(t()),screens:Object(v.getScreensState)(t()).screens,results:Object(i.getLessonResults)(t()).results,additionalRuntime:{getSharedData:v.getExitData}});const u=N.dataShareEngine.instance.evaluate({expressions:s}),c=Object(v.getScreen)(t(),n),l=I.dataShareUtil.updateScreenValues(c,u.value);e({type:r.SHARED_DATA_SCREEN_INJECTION,payload:{id:n,screen:l}})}function M(){return{type:r.NAVIGATION_ENABLE}}function j(e){return{type:r.NAVIGATION_CONTROLS_DONE_ENABLED,payload:e}}function B(e){return{type:r.NAVIGATION_CONTROLS_DONE_VISIBLE,payload:e}}function F(e){return{type:r.NAVIGATION_CONTROLS_HELP_CALLBACK,payload:e}}function U(e){return{type:r.NAVIGATION_CONTROLS_HELP_ENABLED,payload:e}}function H(e){return{type:r.NAVIGATION_CONTROLS_HELP_VISIBLE,payload:e}}function G(e){return{type:r.NAVIGATION_CONTROLS_DONE_CALLBACK,payload:e}}function Q(e){return{type:r.NAVIGATION_CONTROLS_BACK_ENABLED,payload:e}}function z(e){return{type:r.NAVIGATION_REGISTER_BUTTON_PRESS,payload:e}}function V(){return{type:r.NAVIGATION_COMPLETE_COMPONENT_IMMEDIATELY}}const W=e=>(t,n)=>{const{id:i}=e;if(t({type:r.NAVIGATION_GOTO_STEP,payload:e}),a._.isNil(Object(v.getSharedDataDirectives)(n(),i))){const e=Object(v.getScreen)(n(),i);t({type:r.SHARED_DATA_DIRECTIVES_UPDATE,payload:{id:i,data:I.dataShareUtil.findSharedDataDirectives(e)}})}D(t,n,i)},q=e=>t=>{const n=a._.wrap(e,e=>{t(z("help")),e()});t(F(n))},X=e=>(t,n)=>{const r=e,u=Object(i.getLessonState)(n()),c=m.environmentUtil.isTeacherMode(),f=o.navigationUtil.prepareContent(r,E.assetUtil.config,c);t(Object(y.updateScreensFromLessonContent)(f));const h=k.navStateUtil.prepareState(u);h.decisionPoints=C.adaptivityUtil.transformDecisionPoints(f);const{adaptivityResults:d}=h;if(a._.some(d,{to:{action:s.ADP.ACTIONS.COMPLETE_COMPONENT}}))t(Object(l.completeLesson)());else{const{navigationState:e,screenState:n}=o.navigationUtil.prepareNavigationSequence(h,f,E.assetUtil.config);t(R(e)),t(Object(y.updateScreen)(n))}x.preloadUtil.updateAndEase({pct:x.PROGRESS.INIT_LESSON_NAVIGATION,msg:"initialized lesson navigation"})},Y=()=>(e,t)=>{const n=Object(f.getNavigationState)(t()),{lessonComplete:r}=n;if(!r){let r;const o=Object(i.getLessonState)(t()).screenId;if(o)r=O.statefulNavStepsUtil.getStep(o);else{const t=m.environmentUtil.isTeacherMode(),o=a._.get(m.environmentUtil.query,"type"),s=a._.get(Object(i.getLessonContent)(A.store.getState()),"navigation"),{config:u}=E.assetUtil;if(!u.multiSection&&o&&t){const e=P.navSectionUtil.getSectionName(o),t=a._.find(s,t=>t.name.toLowerCase()===e);if(t){const e=a._.find(t.screens,e=>!a._.isUndefined(e.screen_id)),n=a._.get(e,"screen_id");r=n?O.statefulNavStepsUtil.getStep(n):null}}if(!r){r=O.statefulNavStepsUtil.getStep(n.highestReachedStepId);const{stepState:t}=n;let i=!1;t[r.id].complete?r.adpId?i=!0:r=r.next:r.isRoot&&(i=!0),i&&(r=e(Object(c.a)(r,y.updateScreen,T.createAndSaveLessonState)))}}r?(e(W(r)),e(Object(w.changeScreen)(Object(f.getCurrentStep)(t())))):e(Object(u.a)())}x.preloadUtil.updateAndEase({pct:x.PROGRESS.START_LESSON_NAVIGATION,msg:"started lesson navigation"})},K=()=>(e,t)=>{a._.get(Object(f.getNavigationState)(t()),"lessonComplete",!1)&&e(Object(l.completeLesson)())},$=()=>(e,t)=>{d.audioPlayer.getContext("USER").clean(),d.audioPlayer.getContext("SYSTEM").clean(),p.sequenceRunner.abort();const n=t().navigation,r=S.navStepsUtil.getVisitableStep({data:n,startWithStep:O.statefulNavStepsUtil.getCurrentStep(n).prev,direction:"prev"});r?(e(z("back")),e(W(r)),e(Object(w.changeScreen)(Object(f.getCurrentStep)(t())))):h.storeLogger.error("No prev step available before "+Object(f.getCurrentStep)(t()).id)},J=()=>(e,t)=>{d.audioPlayer.getContext("USER").clean(),d.audioPlayer.getContext("SYSTEM").clean(),p.sequenceRunner.abort();const n=Object(f.getCurrentStep)(t()).id;if(Object(f.isCurrentInProgress)(t())&&e(L({inProgress:!1})),Object(f.isComponentCompletedImmediately)(t()))return void h.storeLogger.warn(n+" was completed immediately");let r=Object(f.getNextStep)(t());r?(r=S.navStepsUtil.getVisitableStep({data:t().navigation,startWithStep:r,direction:"next"}),r&&(e(z("next")),e(W(r)),e(Object(w.changeScreen)(Object(f.getCurrentStep)(t()))))):(e(V()),a._.delay(()=>{e(Object(l.completeLesson)())},1500)),r||t().navigation.lessonComplete||h.storeLogger.error("No next step available after "+n)},Z=e=>(t,n)=>{const r=Object(f.getStep)(e);h.storeLogger.info("Jumping to step "+r.id),t(W(r)),t(Object(w.changeScreen)(Object(f.getCurrentStep)(n())))},ee=e=>(t,n)=>{const r=Object(f.getStep)(e);r?(h.storeLogger.info("Jumping to step "+r.id),t(W(r)),t(Object(w.changeScreen)(Object(f.getCurrentStep)(n())))):h.storeLogger.info(`Saving screen ${e} until loaded`)},te=()=>(e,t)=>{Object(f.isPaused)(t())||(g.dataCaptureUtil.sendEvent({payload:g.DC_EVENT_PAYLOADS.PAUSE,contextData:{screen:Object(v.getCurrentScreen)(t())}}),e({type:r.NAVIGATION_PAUSE}))},ne=()=>(e,t)=>{Object(f.isPaused)(t())&&(g.dataCaptureUtil.sendEvent({payload:g.DC_EVENT_PAYLOADS.UNPAUSE,contextData:{screen:Object(v.getCurrentScreen)(t())}}),e({type:r.NAVIGATION_UNPAUSE}))},re=()=>(e,t)=>{Object(f.isPauseEnabled)(t())&&(Object(f.isPaused)(t())?(e(z("unpause")),e(ne())):(e(z("pause")),e(te())))},ie=()=>e=>{e(re()),e({type:r.NAVIGATION_ON_TOGGLE_NAV})};function oe(e){return{type:r.NAVIGATION_OVERRIDE_NAVIGATION,payload:e}}function ae(e){return{type:r.NAVIGATION_SET_CLASS_NAME,payload:e}}function se(e){return{type:r.NAVIGATION_SET_TAB_BUTTONS_SIZE,payload:e}}const ue=()=>e=>{e(L({inProgress:!0}))},ce=()=>e=>{e(L({inProgress:!1}))};function le(e,t){return{type:r.NAVIGATION_CONTROLS_CUSTOM_BTN_CALLBACK,payload:{callback:e,buttonName:t}}}function fe(e,t){return{type:r.NAVIGATION_CONTROLS_CUSTOM_BTN_ENABLED,payload:{enabled:e,buttonName:t}}}function he(e,t){return{type:r.NAVIGATION_CONTROLS_CUSTOM_BTN_VISIBLE,payload:{visible:e,buttonName:t}}}function de(e,t){return{type:r.NAVIGATION_CONTROLS_CUSTOM_BTN_LABEL,payload:{label:e,buttonName:t}}}const pe=(e,t,n)=>i=>{const{tabButtonsOrder:o}=Object(f.getNavigationState)(A.store.getState()),s=a._.clone(o);if(a._.includes(s,e))return void h.storeLogger.error("A custom button already exists with that name. Please use a unique name to create an additional custom button.");-1===t?s.push(e):s.splice(t,0,e);const u="customButtonLabel - "+e;i({type:r.NAVIGATION_CONTROLS_CUSTOM_BTN_CREATE,payload:{label:u,buttonName:e,newButtonOrder:s,callback:n}})};function ge(e){return{type:r.NAVIGATION_ON_ENABLE_PAUSE,payload:e}}function ve(e){return{type:r.NAVIGATION_SET_SHOW_MENU,payload:e}}const me=()=>(e,t)=>{h.storeLogger.info("Reset navigation");const n=Object(f.getStep)(b.NAV_ROOT_ID);e(W(n.next)),e(Object(w.changeScreen)(Object(f.getCurrentStep)(t())))};function ye(e){return{type:r.NAVIGATION_CONTROLS_HELP_PULSE_TIMEOUT,payload:e}}function _e(e){return{type:r.NAVIGATION_CONTROLS_HELP_PULSING,payload:e}}function be(e){return{type:r.NAVIGATION_KEYBOARD_NAV,payload:e}}_.actionEmitterUtil.on("jumpToScreen",e=>{A.store.dispatch(ee(e))})},function(e,t,n){"use strict";n.r(t),n.d(t,"DC_SERVICE_LEVEL_LOG",(function(){return h})),n.d(t,"DC_SERVICE_LEVEL_POST",(function(){return d})),n.d(t,"DC_EVENT_TYPES",(function(){return A})),n.d(t,"DC_EVENT_PAYLOADS",(function(){return w})),n.d(t,"dcClientApi",(function(){return E})),n.d(t,"dcPayloadBuilders",(function(){return x})),n.d(t,"isLessonResumed",(function(){return S})),n.d(t,"dataCaptureUtil",(function(){return O}));var r=n(118),i=n(0),o=n(8),a=n(16),s=n(7),u=n(35),c=n(20),l=n(14),f=n(9);const h="log",d="post",{api:p,DCContext:g,DCPayloadBuilders:v,DCConfig:m}=r.default,{DC_LEVELS:y,DC_EVENTS:_,DC_PAYLOADS:b}=r.default.DCConstants,A=Object.assign(Object.assign({},y),_),w=b,E=p,x=v,T={[b.START.status]:p.sendStart,[b.PAUSE.status]:p.sendPause,[b.UNPAUSE.status]:p.sendUnpause,[A.RESPONSE]:p.sendAttempt,[A.DECISION_POINT]:p.sendDecisionPoint,[b.COMPLETE.status]:p.sendComplete,[b.CLOSE.status]:p.sendClose,[b.FINISH.status]:p.sendFinish,[b.DESTROY.status]:p.sendDestroy,[b.HELP]:p.sendHelp,[A.ELEMENT]:p.sendElement},S=(()=>{let e=!1;return()=>{if(!e){e=!0;return Object(c.getLessonState)(o.store.getState()).resumed}return!1}})();const O=new class{constructor(){this._areEqualPayloads=(e,t)=>i._.eq(e,t)||e.status===t.status,this._dcCheatEnabled=!1,this._activityId="",this._studentId="",this._requestUrl="",this._dcEnabled=!1,this._dcMaxRetries=1,this._dcRetryDelay=500,this._data="",this._callbacks={isValidEvent:(e,t)=>this._isValidEvent(e,t)}}get activityId(){return this._activityId}set activityId(e){this._activityId=e}get studentId(){return this._studentId}set studentId(e){this._studentId=e}set dcEndPoint(e){i._.isUndefined(e)&&s.utilLogger.warn(`[dataCaptureUtil][dcEndPoint] received url=${e} must be a valid string`),this._requestUrl=e}get dcEndPoint(){return this._requestUrl}set dcEnabled(e){this._dcEnabled=e}get dcEnabled(){return this._dcEnabled}set dcMaxRetries(e){this._dcMaxRetries=e}get dcMaxRetries(){return this._dcMaxRetries}get dcCallbacks(){return this._callbacks}set dcCallbacks(e){this._callbacks=e}get dcRetryDelay(){return this._dcRetryDelay}set dcRetryDelay(e){this._dcRetryDelay=e}get dcCheatEnabled(){return this._dcCheatEnabled}set dcCheatEnabled(e){this._dcCheatEnabled=e}_createContext({section:e,screen:t,partNum:n,attemptNum:r}={}){const s=t||this.getScreenData(),u=i._.get(s,"id"),l=i._.get(s,"style.id"),f=e||i._.get(s,"properties.section"),{lessonId:h,info:d}=Object(c.getLessonContent)(o.store.getState()),{fingerprints:p}=Object(c.getLessonState)(o.store.getState()),v={lessonVersion:i._.get(p,"lesson",void 0)||"automation-lesson",sittingId:parent.getCookie?parent.getCookie("iready_login_id"):Object(i.uuid)(),domain:d.domain||"automation-domain",lessonId:a.environmentUtil.query.csid||h||"automation-lesson-id",activityId:this._activityId,studentId:this._studentId,subject:h?h.split(".")[1]:"automation-subject",sectionId:f,screenId:u,styleId:l,partNum:n||(u?1:void 0),partAttemptNum:r};return this._data=JSON.stringify(v),new g(v)}sendEvent({type:e,payload:t,contextData:n={}}){try{let r;return r=this._shouldSendEvent()?e===A.SCREEN||this._areEqualPayloads(t,w.DESTROY)?this._sendScreenEvent(t,n):this._callApi({type:e,contextData:n,payload:t}):Promise.resolve(),r}catch(n){return n instanceof Error&&(n.message+=`, DC_start${this._data}DC_end`),s.utilLogger.error(`Error calling Data Capture API: event [${e||""}][status: ${i._.get(t,"status","")}].`,n),Promise.reject(n)}}getScreenData(e){const{currentStep:t}=Object(f.getNavigationState)(o.store.getState()),{screens:n}=Object(l.getScreensState)(o.store.getState());return e?i._.get(n,e,null):i._.get(n,t,null)}_isSectionChanged(e,t=!1){const n=i._.get(Object(f.getNavigationState)(o.store.getState()),`sectionState.${e}.isSectionChanged`,{});return this._isLessonResumed()||(t?n.onStepAhead:n.onCurrentStep)}_callApi({type:e,contextData:t,payload:n}){const r=this._createConfig(),o=this._createContext(t);let a=n;if(i._.isFunction(n))a=n();else if(a instanceof v.BaseResponsePayload)throw new Error("You passed in a payload builder. You should instead pass a factory function that returns the payload builder.  See the fault-tolerance dev guide for details.");return this._getAction({type:e,payload:n}).call(p,{type:e,level:e,context:o,config:r,payload:a})}_getAction({type:e,payload:t}){const n=i._.get(T,t.status)||T[e]||i._.get(T,t);return u.assertUtil.isDefined("dataCaptureUtil","_callApi","action",n),n}_sendScreenEvent(e,t){const n=(e,n=!1)=>{const r=i._.get(t,"screen.id")||Object(f.getNavigationState)(o.store.getState()).currentStep,{screens:a}=Object(l.getScreensState)(o.store.getState()),s=Object.assign(Object.assign({},t),{section:a[r].component});return this._isSectionChanged(r,n)?this._callApi({type:A.SECTION,contextData:s,payload:e}):Promise.resolve()};let r;return r=this._areEqualPayloads(e,w.START)?n(e).then(this._callApi({type:A.SCREEN,contextData:t,payload:e})):this._areEqualPayloads(e,w.DESTROY)?this._callApi({contextData:t,payload:e}).then(n(w.COMPLETE,!0)):this._callApi({type:A.SCREEN,contextData:t,payload:e}),r}_getDCRequestType(){let e=d;return a.environmentUtil.isIntegratedEnvironment()&&!a.environmentUtil.isAutomationRunning()||(e=h),e}_shouldSendEvent(){const e=Object(f.getNavigationState)(o.store.getState()),t=e.showMenuButton||!1;return!e.lessonClose&&(this.dcCheatEnabled||this.dcEnabled&&!t)}_isValidEvent(e,t){const n=i._.get(t,"screenId"),r=this.getScreenData(n),o=i._.get(r,"style.dataCapture.enabled",!1),a=i._.includes([A.SCREEN,A.RESPONSE,A.ELEMENT],e);return this.dcCheatEnabled||o||!a}_isLessonResumed(){return S()}_createConfig(){const e=new m;return e.backoffMaxRetries=this.dcMaxRetries,e.backoffRetryDelay=this.dcRetryDelay,e.requestUrl=this.dcEndPoint,e.callbacks=this.dcCallbacks,e.requestType=this._getDCRequestType(),e}}},function(e,t,n){"use strict";n.r(t);var r=n(71),i=n(0),o=n(17),a=n(25),s=n(1),u=n(7);var c=Object(a.a)((e,t)=>{switch(t.type){case s.LESSON_STATE_LOAD_REQUEST:{const{lessonId:n=null,lessonURL:r=null,demoId:o=null,localFileName:a=null}=t.payload;i._.isNull(n)||i._.isUndefined(n)?o?u.reducerLogger.info("Init demo lesson "+o):a?u.reducerLogger.info("Init local lesson "+a):u.reducerLogger.info("Init lesson via URL "+r):u.reducerLogger.info("Init lesson "+n),Object.assign(e,{lessonId:n,lessonURL:r,demoId:o,localFileName:a});break}case s.LESSON_CONTENT_PREPARED:case s.LESSON_CONTENT_LOAD_SUCCESS:e=i._.merge(e,t.payload);break;case s.LESSON_CONTENT_LOAD_FAILURE:{const{lessonId:n,lessonURL:r,demoId:i,localFileName:o}=e;u.reducerLogger.error("Error fetching content for "+(n||r||i||o)),u.reducerLogger.error(t.payload);break}}return e},{lessonId:null,lessonURL:null,demoId:null,localFileName:null});const l={lastDispatched:{},fingerprints:{},currentLessonId:"",lessonId:"",lessonURL:"",demoId:""};var f=Object(a.a)((e,t)=>{switch(t.type){case s.LESSON_STATE_LOAD_REQUEST:{const{lessonId:n,lessonURL:r,demoId:i,screenId:o}=t.payload;Object.assign(e,{lessonId:n,lessonURL:r,demoId:i,screenId:o,progress:0,cheatsEnabled:!1,started:!1,resumed:!1});break}case s.LESSON_STATE_LOAD_SUCCESS:{const{payload:n}=t,{fingerprints:r}=n,{lessonId:i,lessonURL:o,demoId:a}=e;u.reducerLogger.info("State loaded "+(r?"with fingerprints "+JSON.stringify(r):"without fingerprints")),Object.assign(e,Object.assign(Object.assign({},n),{fingerprints:r,currentLessonId:i||a||o,resumed:!0}));break}case s.LESSON_STATE_SAVE_FAILURE:e.lastDispatched={},u.reducerLogger.error("Error updating state for "+e.currentLessonId),u.reducerLogger.error(t.payload);break;case s.LESSON_STATE_DELETE_FAILURE:u.reducerLogger.error("Error deleting state for "+e.currentLessonId),u.reducerLogger.error(t.payload);break;case s.LESSON_STATE_LOAD_FAILURE:u.reducerLogger.error("Error fetching state for "+e.currentLessonId),u.reducerLogger.error(t.payload);break;case s.LESSON_STATE_RESET:return l;case s.LESSON_STATE_UPDATE:i._.merge(e,t.payload);break;case s.LESSON_STATE_SNAPSHOT:e.lastDispatched=t.payload;break;case s.LESSON_CONTENT_LOAD_SUCCESS:{const{fingerprints:n}=t.payload;e.fingerprints=n;break}}return e},l);var h=Object(a.a)((e,t)=>{switch(t.type){case s.LESSON_CONTENT_SANITIZED:{const{state:e,content:n}=i._.cloneDeep(t.payload),{screens:r}=n;let o=i._.get(e,"resultsStore.results",{});return i._.isEmpty(o)&&(o=i._.mapValues(r,(e,t)=>({screenId:t,raw:0,max:0}))),{results:o}}case s.RESULTS_UPDATE:i._.mergeWith(e,t.payload)}return e},{});n.d(t,"getLessonContent",(function(){return d})),n.d(t,"getLessonInfo",(function(){return p})),n.d(t,"getLessonAuthoring",(function(){return g})),n.d(t,"getLessonShared",(function(){return v})),n.d(t,"getLessonSharedScreenContent",(function(){return m})),n.d(t,"getLessonState",(function(){return y})),n.d(t,"getLessonResults",(function(){return _})),n.d(t,"isRCL",(function(){return b}));const d=e=>i._.get(e,o.LESSON_CONTENT_ROOT,{}),p=e=>i._.get(d(e),"info",{}),g=e=>i._.get(d(e),"authoring",{}),v=e=>i._.get(d(e),"shared",{}),m=e=>i._.get(d(e),"sharedScreenContent",{}),y=e=>i._.get(e,o.LESSON_STATE_ROOT,{}),_=e=>i._.get(e,o.LESSON_RESULTS_ROOT,{}),b=e=>{const t=p(e),n=i._.get(t,"domain","");return i._.includes(n,"Ready Classroom")},A=Object(r.combineReducers)({content:c,state:f,results:h});t.default=A},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=function(e){(k=e).preload&&(N.retryCount=k.preload.maxRetries,N.retryInterval=k.preload.retryInterval)},t.assetUtil=t.criticalAssetErrorHandler=t.HTTP_FINGERPRINT_HEADER=void 0;var i=r(n(23)),o=r(n(37)),a=r(n(4)),s=r(n(5)),u=n(399),c=n(0),l=n(8),f=n(207),h=n(7),d=n(401),p=n(6),g=n(209),v=n(81),m=n(402),y=n(65),_=n(89),b=n(17);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={Audio:/(wav|mp3|ogg|aac|m4a)$/,Image:/(jpeg|jpg|gif|png)$/,Font:/(ttf|otf|woff|woff2|eot)$/,Json:/(json)$/,Video:/(mp4)$/,Animation:/(js)$/,AnimAsset:/(js)$/},x=["m4a","ogg","mp3"],T={autoUpdateContext:!1,image:{}},S={IMAGE:"image",VIDEO:"video",ANIMATION:"animation",ANIMASSET:"animasset",AUDIO:"audio",FONT:"font"},O=".vtt",C=".mp3",k={};t.HTTP_FINGERPRINT_HEADER="x-amz-meta-fingerprint";var P=function(e,t,n){var r="There was an error loading a critical file for this lesson. The lesson needs to close.\n  Type: ".concat(t,",\n  Path: ").concat(n||"file path not available");throw l.store.dispatch((0,y.closeLesson)(r,!0)),e};t.criticalAssetErrorHandler=P;var N=new(function(){function e(){(0,a.default)(this,e),h.utilLogger.profile(this,15,[],this.displayName),this._loadedAssets={audio:{},json:{},image:{},file:{},font:{},video:{},animation:{},animAsset:{}},this._callableEvents=[],this._assetLog=[],this._currentProgress={assetsPending:0,assetsLoading:0,assetsFailed:0,assetsLoaded:0},this._maxRetries=0,this._retryInterval=500,this.audioCodecs=x.filter(c.Howler.codecs,c.Howler)}return(0,s.default)(e,[{key:"getAudioEvents",value:function(e){var t=this,n=e.replace(/\.\w+([mp3]|[aac]|[ogg])$/,""),r=[];return this._callableEvents.forEach((function(e){r.push(t.tokenize(e.src).replace(/\.\w+([mp3]|[aac]|[ogg])$/,""))})),!!c._.find(r,(function(e){return e===n}))}},{key:"defaultAssets",get:function(){return[{name:"sweater_school_sb",src:"instruction/reading-comp/release-12.6/6/fonts/sweater_school_sb.json",type:S.FONT},{name:"sweater_school_bd",src:"instruction/reading-comp/release-12.6/6/fonts/sweater_school_bd.json",type:S.FONT},{name:"sweater_school_xb",src:"./fonts/sweater_school_xb.json",type:S.FONT},{name:"indieflower",src:"instruction/reading-comp/release-12.6/6/fonts/indieflower.json",type:S.FONT}]}},{key:"fonts",get:function(){var e=this.config.globalAssets||this.defaultAssets;return c._.map(e,(function(e){if(e.type===S.FONT)return e.name}))}},{key:"globalAssets",get:function(){return this.config.globalAssets||this.defaultAssets}},{key:"silenceAudioSettings",get:function(){return this.config.silence||{src:"${content}/shared/global/audio/500ms_no_sound.mp3",silenceLength:500}}},{key:"options",set:function(e){c._.merge(T,e)},get:function(){return T}},{key:"config",get:function(){return k}}],[{key:"getType",value:function(e){var t=Object.keys(E).filter((function(t){return!!e.match(E[t])}));if(t<1)throw new Error("Cannot determine asset type for URL: ".concat(e));return t[0]}}]),(0,s.default)(e,[{key:"createNew",value:function(){return new e}},{key:"clearContext",value:function(e){var t=this;c._.forEach(this._loadedAssets,(function(n,r){t._loadedAssets[r]=c._.omitBy(n,(function(n){var i,o=n.url||n.src||n.id;if(t.isSharedAsset(o))i=!1;else if(n.context===e){switch(n.assetLoader.abort&&n.assetLoader.abort(),r){case S.AUDIO:n.unload&&n.unload();break;case S.ANIMATION:delete t._loadedAssets.animation[n.src];break;case S.ANIMASSET:delete t._loadedAssets.animAsset[n.url]}i=!0}return i}))}))}},{key:"isSharedAsset",value:function(e){return!c._.isUndefined(this._sharedAssets[e])&&this._sharedAssets[e]>0}},{key:"getLoadedContexts",value:function(){var e=[];return c._.forEach(this._loadedAssets,(function(t,n){c._.forEach(t,(function(t){t.context&&-1===e.indexOf(t.context)&&e.push(t.context)}))})),e}},{key:"dispose",value:function(){this._loadedAssets=null,this._currentProgress=null}},{key:"setCurrentFFWSrc",value:function(e){c._.isString(e)&&(this._currentFFWSrc=e)}},{key:"getCurrentFFWSrc",value:function(){return this._currentFFWSrc}},{key:"setFFWReference",value:function(e){var t=e.src,n=e.ffw,r=this._tokenize(t),i=c._.find(this._loadedAssets.animation,{src:r});!c._.isUndefined(i)&&n instanceof c.createjs.Container&&(i.ffw=n)}},{key:"getFFWReference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.src,n=e.context,r=c._.find(this._loadedAssets.animation,t?{src:this._tokenize(t)}:{context:n});return c._.get(r,"ffw",null)}},{key:"loadAsset",value:function(e,t){var n=e.type,r=e.src,i=e.suppressVTT,o=e.options,a=this._tokenize(r),s=a,u=this["load".concat(c._.capitalize(n))](a,{id:s,context:t,suppressVTT:i,options:o});return T.autoUpdateContext&&t!==u.context&&(u.context=t),u}},{key:"getAsset",value:function(e){var t=e.type,n=e.src,r=this._tokenize(n),i=this._loadedAssets[t][r]&&this._loadedAssets[t][r].asset;return i||h.utilLogger.error("".concat(n," ").concat(t," not loaded.")),i}},{key:"getLoadedAssets",value:function(e){var t=e.type,n=e.id,r=c._.isUndefined(t)?this._loadedAssets:this._loadedAssets[t];return c._.isUndefined(n)?r:c._.find(r,{id:n})}},{key:"getContentRoot",value:function(e){var t=e&&this._tokenize(e);return t&&t.substring(0,t.lastIndexOf("/"))}},{key:"loadGlobalAssets",value:function(){var e=this;return this.loadManifest({assets:this.globalAssets}).then((function(){return e.fetchFontMetrics()}))}},{key:"determineSharedAssets",value:function(e,t){var n=this,r=t.screens,i=this.findAssetsFromScreens(r),o=this.tokenizeUrls(c._.compact(i));this._sharedAssets={},c._.forEach(o,(function(e){n._sharedAssets[e]=c._.isUndefined(n._sharedAssets[e])?0:++n._sharedAssets[e]})),c._.forEach(this._sharedAssets,(function(e,t){0===e&&delete n._sharedAssets[t]}))}},{key:"findAssetsFromScreens",value:function(e){var t=this,n=[];c._.forEach(e,(function(e){c._.forEach(S,(function(r,i){var o=JSON.search(e,'//*[type="'.concat(r,'"]'));c._.forEach(o,(function(e){n=t.retrieveAssetSrc({assetsFound:n,asset:e,assetType:r})}))}))}));var r=c._.get(this.config,"productSpecificAssets",{});return c._.forEach(r,(function(e,t){n=n.concat(e)})),n}},{key:"retrieveAssetSrc",value:function(e){var t=this,n=e.assetsFound,r=e.asset;if(e.assetType===S.AUDIO)c._.forEach(r.parts,(function(e){return n.push(t._tokenize(e.src))}));else{var i=c._.get(r,"src",void 0);c._.isUndefined(i)||n.push(i)}return n}},{key:"tokenizeUrls",value:function(e){var t=this,n=[];return c._.forEach(e,(function(e){return n.push(t._tokenize(e.src||e))})),n}},{key:"loadManifest",value:function(e,t){var n,r=this;if("string"==typeof e)h.utilLogger.log("Loading manifest from ".concat(e)),n=this.loadJson(e).assetLoader.then((function(e){return r.loadManifest(e)}));else{var i=e.isAnimation||!1,o=e.assets.map((function(e){c._.forIn(e,(function(t,n){"events"===n&&(v.cuepointDispatcher.storeCues(r.tokenize(e.src),e.events),r._callableEvents.push(e))})),e.options={isAnimationAsset:i};var n=r.loadAsset(e,t);return n.assetLoader.then((function(t){return h.utilLogger.info("loadManifest: loaded ".concat(t)),{id:n.id,asset:t,src:e.src,type:e.type,loaded:!0}})).catch((function(t){return h.utilLogger.error("Failed loading asset of type='".concat(e.type,"' and source='").concat(e.src,"'"),t),{id:n.id,asset:null,src:e.src,type:e.type,loaded:!1}}))}));n=Promise.all(o).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve(t)}))}return n}},{key:"fetchFontMetrics",value:function(){var e=this;return new f.RetriablePromise((function(t){d.FontLoader.on("complete",(function(){return t()})),d.FontLoader.load(e.fonts)}),this._maxRetries,this._retryInterval).catch((function(t){return P(t,S.FONT,e.fonts)}))}},{key:"loadVttFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tokenize(e),r=t.context,i=this._loadedAssets.file[n];return i||((i={url:n,context:r}).assetLoader=this._fetch(n,"text","file",t),this._loadedAssets.file[n]=i),this._loadedAssets.file[n]}},{key:"loadAudio",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.tokenize(e).replace(/#.+/,""),i=r,a=n.context,s=n.onUnload,u=n.suppressVTT,l=n.sfx||!1,f=this._loadedAssets.audio[r],h=this.config.lipSyncDisabled;if(f){var d=this._getVttLoader(r,a);d.then((function(e){var t=u||f.suppressVTT;e&&v.cuepointDispatcher.storeCues(r,(0,m.getCues)(e,t))}))}else{var p,g=h?Promise.resolve():this.loadVolumeData(e,{id:i,url:r,context:a}).assetLoader,y=this._getVttLoader(r,a),_=Promise.resolve();_=_.then((function(){var e=c._.merge(n,{id:i,url:r});return p=t.loadAudioFile(r.substring(r.indexOf("#")+1),e).assetLoader}));var b=Promise.all([_,g,y]).then((function(e){var t=(0,o.default)(e,3),n=t[0],i=t[1],a=t[2];return a&&v.cuepointDispatcher.storeCues(r,(0,m.getCues)(a,u)),{audio:n,volume:i}}));b.abort=function(){p.abort(),g.abort&&g.abort(),y&&y.abort&&y.abort()},this._loadedAssets.audio[r]={id:i,assetLoader:b,context:a,sfx:l,suppressVTT:u},(f=this._loadedAssets.audio[r]).unload=function(){v.cuepointDispatcher.destroyLoadedCues(r),f.asset&&f.asset.unload(),s&&s(i)}}return f}},{key:"_getVttLoader",value:function(e,t){var n=this._urlToVTT(e);return this.loadVttFile(n,{url:e,context:t,critical:!1,maxRetries:0}).assetLoader}},{key:"hasStoredCues",value:function(e){return v.cuepointDispatcher.hasCues(e)}},{key:"isAssetLoaded",value:function(e){var t=this;return c._.every(e.parts,(function(e){var n=e.src;return c._.find(c._.keys(t._loadedAssets.audio),(function(e){return e===n}))}))}},{key:"isSFXAudio",value:function(e){return(0,p.isGlobalSFX)(e)}},{key:"loadAllAudioParts",value:function(e,t,n){var r=this,i=this.isSFXAudio(e),o=c._.map(e.parts,(function(e){var t=e.src,n=e.suppress_captions;return r.loadAudio(t,{sfx:i,suppressVTT:n}).assetLoader}));Promise.all(o).then(t).catch(n)}},{key:"loadAnimasset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tokenize(e),r=t.context,i=this._loadedAssets.animAsset[n];return i||((i={url:n,context:r}).assetLoader=this._fetch(n,"text","animAsset",t),this._loadedAssets.animAsset[n]=i),this._loadedAssets.animAsset[n]}},{key:"loadAudioFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.tokenize(e),i=n.context,o=r,a=new Date,s=r.substr(0,r.lastIndexOf(C)),u=x.map((function(e){return"".concat(s,".").concat(e)}));h.utilLogger.info("Loading ".concat(r," audio)."));var d={id:o,url:r,context:i},p=(0,_.getAudioDecoder)(l.store.getState())===b.AudioDecoder.NATIVE;return d.assetLoader=new f.RetriablePromise((function(e,s){++t._currentProgress.assetsLoading;var l=Object.assign({},n,c._.merge({src:u,preload:!1,html5:!p},n.options)),f=new c.Howl(l).on("load",(function(){h.utilLogger.info("Loaded ".concat(r)),++t._currentProgress.assetsLoaded&&--t._currentProgress.assetsLoading,t._logAsset({type:S.AUDIO,id:o,context:i,url:r,reqStart:a,loaded:!0}),e(d.assetLoader.asset=f),e(t._loadedAssets.audio[r].asset=f)})).on("loaderror",(function(e){h.utilLogger.error("Could not load ".concat(u,"."),e),++t._currentProgress.assetsFailed&&--t._currentProgress.assetsLoading,t._logAsset({type:S.AUDIO,id:o,context:i,url:r,reqStart:a,error:e,loaded:!1}),s(e)}));h.utilLogger.profile(f,0,[],r),f._animationAudio=l.isAnimationAsset,f.load()}),this._maxRetries,this._retryInterval),d}},{key:"loadVolumeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tokenize(e),r=n.substr(0,n.lastIndexOf(C));return this.loadImage("".concat(r,".jpg"),w({critical:!1},t))}},{key:"loadImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{critical:!0},r=this.tokenize(e),i=n.context,o=this._loadedAssets.image[r],a=!!c._.isUndefined(n.critical)||n.critical;if(!o){var s=new Date;h.utilLogger.info("Loading image: ".concat(r)),(o={url:r,context:i}).assetLoader=new f.RetriablePromise((function(e,n){var o=new Image;if(o.crossOrigin="anonymous",++t._currentProgress.assetsLoading,o.onerror=o.onabort=function(e){++t._currentProgress.assetsFailed&&--t._currentProgress.assetsLoading,t._logAsset({type:S.IMAGE,context:i,url:r,reqStart:s,error:e,loaded:!1}),h.utilLogger.error("Could not load ".concat(r,"."),e),n(e)},o.onload=function(){h.utilLogger.info("Loaded ".concat(r)),++t._currentProgress.assetsLoaded&&--t._currentProgress.assetsLoading,t._logAsset({type:S.IMAGE,context:i,url:r,reqStart:s,loaded:!0}),e(t._loadedAssets.image[r].asset=o)},T.image.blobify){var a=new XMLHttpRequest;a.onload=function(){o.src=URL.createObjectURL(this.response)},a.open("GET",r,!0),a.responseType="blob",a.send()}else o.src=r}),this._maxRetries,this._retryInterval),a&&o.assetLoader.catch((function(e){return P(e,S.IMAGE,r)})),this._loadedAssets.image[r]=o}return this._loadedAssets.image[r]}},{key:"loadFont",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tokenize(e),r=t.context,i=this._loadedAssets.font[n];return i||((i={url:n,context:r}).assetLoader=this._fetch(n,"json",S.FONT,t),this._loadedAssets.font[n]=i),this._loadedAssets.font[n]}},{key:"loadJson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.absoluteUrl?e:this.tokenize(e),r=t.context,i=this._loadedAssets.json[n];return i||((i={url:n,context:r}).assetLoader=this._fetch(n,"json","json",t),this._loadedAssets.json[n]=i),this._loadedAssets.json[n]}},{key:"loadAnimation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._tokenize(e),i=n.context,o=new Date;h.utilLogger.info("Loading animation: ".concat(r));var a={context:i,src:r,ffw:null};return a.assetLoader=new f.RetriablePromise((function(e,n){++t._currentProgress.assetsLoading;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=r,a.appendChild(s),s.onload=function(){++t._currentProgress.assetsLoaded&&--t._currentProgress.assetsLoading,t._logAsset({type:S.ANIMATION,context:i,url:r,reqStart:o,loaded:!0}),e()},s.onerror=function(e){++t._currentProgress.assetsFailed&&--t._currentProgress.assetsLoading,t._logAsset({type:S.ANIMATION,context:i,url:r,reqStart:o,error:e,loaded:!1}),n(e)}}),this._maxRetries,this._retryInterval).catch((function(e){return P(e,S.ANIMATION,r)})),this._loadedAssets.animation[r]=a,this._loadedAssets.animation[r]}},{key:"removeScript",value:function(e){var t=this.tokenize(e),n=document.getElementsByTagName("script"),r=c._.find(n,(function(e){return c._.endsWith(e.src,t)}));r&&r.parentNode.removeChild(r)}},{key:"loadModule",value:function(e){return new Promise((function(t,n){var r=document.querySelector("head"),i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.onload=function(e){t(e.currentTarget)},i.onerror=function(e){n(e)},i.src=e,r.appendChild(i)}))}},{key:"loadVideo",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.tokenize(e),i=r,o=n.context,a=this._urlToVTT(r),s=this.loadVttFile(a,{id:i,context:o,critical:!1,maxRetries:0}).assetLoader,u=this._loadedAssets.video[r];return u||((u={url:r,context:o}).assetLoader=new Promise((function(e,n){s.then((function(i){i&&v.cuepointDispatcher.storeCues(r,(0,m.getCues)(i)),t.continueLoadingVideo(r,o).then((function(t){e(t)})).catch(n)}))})),this._loadedAssets.video[r]=u),u}},{key:"continueLoadingVideo",value:function(e,t){var n=this,r=new Date;return new f.RetriablePromise((function(i,o){var a=document.createElement("video"),s=document.createElement("source");a.id=e,++n._currentProgress.assetsLoading;var u=document.getElementById("videoInitializerHolder");u||((u=document.createElement("div")).id="videoInitializerHolder",u.style.display="none",document.body.appendChild(u)),a.crossOrigin="anonymous",a.autoplay=!0,a.preload="auto";var l=function(){u.contains(a)&&u.removeChild(a)},f=c._.once((function(i){++n._currentProgress.assetsFailed&&--n._currentProgress.assetsLoading,l(),n._logAsset({type:S.VIDEO,context:t,url:e,reqStart:r,e:i,loaded:!1}),o(a.error)})),d=function(){a.pause()},p=function(){++n._currentProgress.assetsLoaded&&--n._currentProgress.assetsLoading,c.is.ios()||l(),n._logAsset({type:S.VIDEO,context:t,url:e,reqStart:r,loaded:!0}),a.removeEventListener("error",f),s.removeEventListener("error",f),i(n._loadedAssets.video[e].asset=a)};c.is.edge()&&a.addEventListener("canplay",d),a.addEventListener("canplaythrough",p),s.type="video/mp4",s.src=e;var v=!1;a.addEventListener("play",(function(){return v=!0}));a.addEventListener("error",(function(){return h.utilLogger.error("Video error ".concat(v?"playing":"loading"," ").concat(e,"."),(0,h.serializeVideo)(a))})),s.addEventListener("error",f),a.addEventListener("error",f),a.src=e,a.appendChild(s),a.pause&&a.pause(),a.unload=function(){delete n._loadedAssets.video[e],l(),c.is.edge()&&a.removeEventListener("canplay",d),g.videoMonitor.unregister(a,e),a.removeEventListener("canplaythrough",p),a.contains(s)&&a.removeChild(s),a.removeAttribute("src"),a.load()},g.videoMonitor.register(a,e),u.appendChild(a)}),0,this._retryInterval)}},{key:"_fetch",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new Date,a=i.context,s=i.maxRetries,u=i.retryInterval;return new f.RetriablePromise((function(s,u){++r._currentProgress.assetsLoading,fetch(e).then((function(c){if(200===c.status){var l=c.headers&&c.headers.get("x-amz-meta-fingerprint");c[t]().then((function(t){++r._currentProgress.assetsLoaded&&--r._currentProgress.assetsLoading,r._logAsset({type:n,context:a,url:e,reqStart:o,loaded:!0}),r._loadedAssets[n][e].asset=t,s(i.fingerprint?{asset:t,fingerprint:l}:t)}))}else u("Error loading URL: ".concat(e,". Status Code: ").concat(c.status)),++r._currentProgress.assetsFailed&&--r._currentProgress.assetsLoading})).catch((function(t){++r._currentProgress.assetsFailed&&--r._currentProgress.assetsLoading,u("Error: ".concat(t.message,". Asset type: '").concat(n,"', url: '").concat(e,"'."))}))}),s,u).catch((function(t){r._logAsset({type:n,context:a,url:e,reqStart:o,error:t,loaded:!1}),h.utilLogger.error("".concat(t,". Asset type: ").concat(n,", asset url: ").concat(e)),(!!c._.isUndefined(i.critical)||i.critical)&&P(t,n,e)}))}},{key:"_tokenize",value:function(e){return e.indexOf("${")>-1?c._.template((0,u.normalize)(e))(this.config.paths):e}},{key:"tokenize",value:function(e){return this._tokenize(e)}},{key:"_logAsset",value:function(e){var t=c._.find(this._assetLog,{id:e.id||e.url,type:e.type});t?(t.retriedAt=new Date,t.retries+=1):(e.reqEnd=new Date,e.reqTime=e.reqEnd-e.reqStart,e.retries=0,this._assetLog.push(e))}},{key:"_urlToVTT",value:function(e){return e.replace(/\.[^/.]+$/,O)}},{key:"loadedAssets",get:function(){return this._loadedAssets}},{key:"sharedAssets",get:function(){return this._sharedAssets}},{key:"progress",get:function(){var e=this,t=this._currentProgress;return t.loaded=c._.forEach(this._loadedAssets,(function(t,n){return e._loadedAssets[n]})).value,t}},{key:"retryCount",get:function(){return this._maxRetries},set:function(e){this._maxRetries=e}},{key:"retryInterval",get:function(){return this._retryInterval},set:function(e){this._retryInterval=e}},{key:"assetLog",get:function(){return this._assetLog}},{key:"audioCodecs",get:function(){return this._audioCodecs},set:function(e){this._audioCodecs=e}}]),e}());t.assetUtil=N},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[q]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Y}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||h(e)||d(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:K)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[q];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return G&&e instanceof Map}function d(e){return Q&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$(e);delete t[q];for(var n=K(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&a(e,(function(e,t){return v(t,!0)}),!0)),e}function m(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _(e){var t=J[e];return t||r(18,e),t}function b(e,t){J[e]||(J[e]=t)}function A(){return U}function w(e,t){t&&(_("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){x(e),e.p.forEach(S),e.p=null}function x(e){e===U&&(U=e.l)}function T(e){return U={p:[],l:U,h:e,m:!0,_:0}}function S(e){var t=e[q];0===t.i||1===t.i?t.j():t.O=!0}function O(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||_("ES5").S(t,e,i),i?(n[q].P&&(E(t),r(4)),o(e)&&(e=C(t,e),t.l||P(t,e)),t.u&&_("Patches").M(n[q].t,e,t.u,t.s)):e=C(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function C(e,t,n){if(y(t))return t;var r=t[q];if(!r)return a(t,(function(i,o){return k(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return P(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return k(e,r,i,t,o,n)})),P(e,i,!1),n&&e.u&&_("Patches").R(r,n,e.u,e.s)}return r.o}function k(e,t,n,r,a,s){if(i(a)){var c=C(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.F&&e._<1)return;C(e,a),t&&t.A.l||P(e,a)}}function P(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function N(e,t){var n=e[q];return(n?p(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function R(e){e.P||(e.P=!0,e.l&&R(e.l))}function L(e){e.o||(e.o=g(e.t))}function D(e,t,n){var r=h(t)?_("MapSet").N(t,n):d(t)?_("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:A(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Z;n&&(i=[r],o=ee);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):_("ES5").J(t,n);return(n?n.A:A()).p.push(r),r}function M(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[q],i=s(t);if(r){if(!r.P&&(r.i<4||!_("ES5").K(r)))return r.t;r.I=!0,n=j(t,i),r.I=!1}else n=j(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function B(){function e(e,t){function n(){this.constructor=e}s(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var n=D(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function i(e){e.O&&r(3,JSON.stringify(p(e)))}var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},u=function(){function n(e,t){return this[q]={i:2,l:t,A:t?t.A:A(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[q]).size}}),r.has=function(e){return p(this[q]).has(e)},r.set=function(e,n){var r=this[q];return i(r),p(r).has(e)&&p(r).get(e)===n||(t(r),R(r),r.D.set(e,!0),r.o.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[q];return i(n),t(n),R(n),n.t.has(e)?n.D.set(e,!1):n.D.delete(e),n.o.delete(e),!0},r.clear=function(){var e=this[q];i(e),p(e).size&&(t(e),R(e),e.D=new Map,a(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},r.forEach=function(e,t){var n=this;p(this[q]).forEach((function(r,i){e.call(t,n.get(i),i,n)}))},r.get=function(e){var n=this[q];i(n);var r=p(n).get(e);if(n.I||!o(r))return r;if(r!==n.t.get(e))return r;var a=D(n.A.h,r,n);return t(n),n.o.set(e,a),a},r.keys=function(){return p(this[q]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[X]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[X]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[X]=function(){return this.entries()},n}(),c=function(){function t(e,t){return this[q]={i:3,l:t,A:t?t.A:A(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[q]).size}}),r.has=function(e){var t=this[q];return i(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},r.add=function(e){var t=this[q];return i(t),this.has(e)||(n(t),R(t),t.o.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[q];return i(t),n(t),R(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},r.clear=function(){var e=this[q];i(e),p(e).size&&(n(e),R(e),e.o.clear())},r.values=function(){var e=this[q];return i(e),n(e),e.o.values()},r.entries=function(){var e=this[q];return i(e),n(e),e.o.entries()},r.keys=function(){return this.values()},r[X]=function(){return this.values()},r.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();b("MapSet",{N:function(e,t){return new u(e,t)},T:function(e,t){return new c(e,t)}})}n.d(t,"b",(function(){return B}));var F,U,H="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),G="undefined"!=typeof Map,Q="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=H?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),W=H?Symbol.for("immer-draftable"):"__$immer_draftable",q=H?Symbol.for("immer-state"):"__$immer_state",X="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Y=""+Object.prototype.constructor,K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},Z={get:function(e,t){if(t===q)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=I(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===N(e.t,t)?(L(e),e.o[t]=D(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=I(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=N(p(e),t),o=null==i?void 0:i[q];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;L(e),R(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,L(e),R(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},ee={};a(Z,(function(e,t){ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var te=new(function(){function e(e){var t=this;this.g=z,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var c=T(t),l=D(t,e,void 0),f=!0;try{u=n(l),f=!1}finally{f?E(c):x(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return w(c,i),O(e,c)}),(function(e){throw E(c),e})):(w(c,i),O(u,c))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===V&&(u=void 0),t.F&&v(u,!0),i){var h=[],d=[];_("Patches").M(e,u,h,d),i(h,d)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=M(e));var t=T(this),n=D(this,e,void 0);return n[q].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[q]).A;return w(n,t),O(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!z&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=_("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}()),ne=te.produce;te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te);t.a=ne},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preloadUtil=t.PROGRESS=void 0;var r=n(7),i=n(54),o=0;t.PROGRESS={LOADED_MAIN:33,LOADED_CONFIG_JSON:34,SET_INITIAL_CONFIG:35,MAPPED_STYLE_IDS:36,INIT_GLOBAL_AUDIO:37,PLATFORM_CONNECTOR_READY:38,LOADED_CTP:39,ASSETUTIL_CONFIG_JSON:40,CHARACTER_INIT:41,LOADED_LESSON_STATE:42,INIT_CHEATS:43,LOADED_USER_DETAILS:44,LOADED_LESSON_CONTENT:45,EXTENDED_CONFIG:47,SHARED_AND_GLOBAL_ASSETS:50,INIT_LESSON_NAVIGATION:58,START_LESSON_NAVIGATION:66,INIT_APPLICATION:75,LOADED_FIRST_RENDERER:98,APPLICATION_STARTED:99,INIT_LOADED_STARTED:100};var a={shouldLog:function(e){var t=100===e&&!this._incomplete;return e<100&&e>=0||t},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.shouldLog(e)&&r.utilLogger.info("[preloading] (".concat(e,"%) => ").concat(t)),this.stopEasing(),this._updateParentProgress(e)},ease:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.timeout,i=void 0===r?10:r,a=100,s=1e3*i,u=s/a,c=(e-o)/u;this.stopEasing(),this._ease=setInterval((function(){var n=o+c;n<=e?t._updateParentProgress(n):t.stopEasing()}),a)},stopEasing:function(){this._ease&&clearInterval(this._ease),this._ease=null},updateAndEase:function(e){var t=e.pct,n=e.msg,r=e.timeout,i=void 0===r?1:r;this.update(t,n),this.ease(t,{timeout:i})},_updateParentProgress:function(e){var t;o<100?(o=Math.max(e,o),i.platformConnectionProvider.setProgress(o),t=!0):(this.stopEasing(),t=!1),this._incomplete=t}};t.preloadUtil=a},function(e,t,n){e.exports=n(328)()},function(e,t,n){var r=n(312);function i(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"animationInProgress",(function(){return l})),n.d(t,"audioInProgress",(function(){return f})),n.d(t,"updateScreen",(function(){return h})),n.d(t,"updateExitData",(function(){return d})),n.d(t,"refreshScreen",(function(){return p})),n.d(t,"openLessonModal",(function(){return g})),n.d(t,"closeLessonModal",(function(){return v})),n.d(t,"enableScreenElements",(function(){return m})),n.d(t,"disableScreenElements",(function(){return y})),n.d(t,"enableLessonControls",(function(){return _})),n.d(t,"disableLessonControls",(function(){return b})),n.d(t,"ready",(function(){return A})),n.d(t,"done",(function(){return w})),n.d(t,"updateScreensFromLessonContent",(function(){return E})),n.d(t,"complete",(function(){return x})),n.d(t,"finish",(function(){return T}));var r=n(1),i=n(0),o=n(147),a=n(38),s=n(14),u=n(101),c=n(121);const l=e=>({type:r.ANIMATION_IN_PROGRESS,payload:e}),f=e=>({type:r.AUDIO_IN_PROGRESS,payload:e}),h=e=>({type:r.SCREEN_UPDATE,payload:e});function d(e,t,n){return{type:r.EXIT_DATA_UPDATE,payload:{screenId:e,data:{key:t,value:n}}}}const p=()=>({type:r.SCREEN_REFRESH}),g=()=>({type:r.OPEN_LESSON_MODAL}),v=()=>({type:r.CLOSE_LESSON_MODAL}),m=()=>({type:r.ENABLE_SCREEN_ELEMENTS}),y=()=>({type:r.DISABLE_SCREEN_ELEMENTS}),_=()=>({type:r.ENABLE_LESSON_CONTROLS}),b=()=>({type:r.DISABLE_LESSON_CONTROLS}),A=()=>({type:r.SCREEN_READY}),w=()=>({type:r.SCREEN_DONE});function E(e){return t=>{const n=i._.cloneDeep(e),{screens:a,version:s}=o.screenUtil.onLoadContent(n);t({type:r.LESSON_CONTENT_NAVIGATION_UPDATED,payload:{screens:a,version:s}})}}function x(e={raw:0,min:0,max:0}){return(t,n)=>{const r=Object(s.getCurrentScreen)(n()).id;t(Object(u.c)(r,e)),t(Object(c.a)(null,h,null)),t(Object(a.createAndSaveLessonState)())}}function T(){return e=>{e(Object(a.createAndSaveLessonState)()),e(Object(c.b)())}}},function(e,t,n){"use strict";n.r(t);var r=n(71),i=n(0),o=n(25),a=n(15),s=n.n(a),u=n(1);var c=Object(o.a)((e,{type:t,payload:n})=>{switch(t){case u.CHEAT_UPDATED:s.a.forEach(e,e=>{e.id===n.id?e.value=n.value:e.extras&&e.extras.id===n.id&&(e.extras.value=n.value)});break;case u.CHEAT_ADDED:s.a.forEach(n,t=>{t.type=t.type||"toggle",e[t.id]=t});break;case u.CHEAT_REMOVED:e[n.id]&&e[n.id].isRemovable&&delete e[n.id]}},{}),l=n(89),f=n(87);n.d(t,"APP_STATE_ROOT",(function(){return h})),n.d(t,"APP_CHEAT_ROOT",(function(){return d})),n.d(t,"getAppState",(function(){return p})),n.d(t,"getCheatState",(function(){return g})),n.d(t,"getCheatValue",(function(){return v}));const h="app.state",d="app.cheat",p=e=>i._.get(e,h,{}),g=e=>i._.get(e,d,{}),v=e=>Object(f.reduceToKeyValuePairs)(g(e)),m=Object(r.combineReducers)({cheat:c,state:l.default});t.default=m},function(e,t,n){"use strict";n.r(t),n.d(t,"MemoryRouter",(function(){return _})),n.d(t,"Prompt",(function(){return A})),n.d(t,"Redirect",(function(){return T})),n.d(t,"Route",(function(){return k})),n.d(t,"Router",(function(){return y})),n.d(t,"StaticRouter",(function(){return D})),n.d(t,"Switch",(function(){return M})),n.d(t,"__HistoryContext",(function(){return v})),n.d(t,"__RouterContext",(function(){return m})),n.d(t,"generatePath",(function(){return x})),n.d(t,"matchPath",(function(){return C})),n.d(t,"useHistory",(function(){return F})),n.d(t,"useLocation",(function(){return U})),n.d(t,"useParams",(function(){return H})),n.d(t,"useRouteMatch",(function(){return G})),n.d(t,"withRouter",(function(){return j}));var r=n(47),i=n(3),o=n.n(i),a=(n(27),n(53)),s=n(289),u=n(55),c=n(21),l=n(190),f=n.n(l),h=(n(188),n(42)),d=n(107),p=n.n(d),g=function(e){var t=Object(s.a)();return t.displayName=e,t},v=g("Router-History"),m=g("Router"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(v.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(a.d)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return o.a.createElement(y,{history:this.history,children:this.props.children})},t}(o.a.Component);var b=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);function A(e){var t=e.message,n=e.when,r=void 0===n||n;return o.a.createElement(m.Consumer,null,(function(e){if(e||Object(u.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return o.a.createElement(b,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var w={},E=0;function x(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(w[e])return w[e];var t=f.a.compile(e);return E<1e4&&(w[e]=t,E++),t}(e)(t,{pretty:!0})}function T(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(m.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,f=Object(a.c)(t?"string"==typeof n?x(n,t.params):Object(c.a)({},n,{pathname:x(n.pathname,t.params)}):n);return s?(l(f),null):o.a.createElement(b,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},f,{key:n.key}))||l(f)},to:n})}))}var S={},O=0;function C(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=S[n]||(S[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return O<1e4&&(r[e]=o,O++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?C(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(m.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"==typeof s?s(i):null)}))},t}(o.a.Component);function P(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){if(!e)return t;var n=P(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function I(e){return"string"==typeof e?e:Object(a.e)(e)}function R(e){return function(){Object(u.a)(!1)}}function L(){}var D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return L},t.handleBlock=function(){return L},t}Object(r.a)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=t,s.location=function(e,t){return e?Object(c.a)({},t,{pathname:P(e)+t.pathname}):t}(i,Object(a.c)(e)),s.url=I(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,l=Object(h.a)(e,["basename","context","location"]),f={createHref:function(e){return P(n+I(e))},action:"POP",location:N(n,Object(a.c)(u)),push:this.handlePush,replace:this.handleReplace,go:R(),goBack:R(),goForward:R(),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(y,Object(c.a)({},l,{history:f,staticContext:i}))},t}(o.a.Component);var M=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(m.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?C(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function j(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(h.a)(t,["wrappedComponentRef"]);return o.a.createElement(m.Consumer,null,(function(t){return t||Object(u.a)(!1),o.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}var B=o.a.useContext;function F(){return B(v)}function U(){return B(m).location}function H(){var e=B(m).match;return e?e.params:{}}function G(e){var t=U(),n=B(m).match;return e?C(t.pathname,e):n}},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=(n(27),i.a.createContext(null));var a=function(e){e()};function s(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=u;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=s())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=u)},getListeners:function(){return r}};return a}var l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var f=n||o;return i.a.createElement(f.Provider,{value:s},a)},h=n(21),d=n(42),p=n(107),g=n.n(p),v=n(188),m=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],y=["reactReduxForwardedRef"],_=[],b=[null,null];function A(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){l((function(){return e.apply(void 0,t)}),n)}function E(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function x(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var T=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,f=n.renderCountProp,p=void 0===f?void 0:f,S=n.shouldHandleStateChanges,O=void 0===S||S,C=n.storeKey,k=void 0===C?"store":C,P=(n.withRef,n.forwardRef),N=void 0!==P&&P,I=n.context,R=void 0===I?o:I,L=Object(d.a)(n,m),D=R;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(h.a)({},L,{getDisplayName:s,methodName:l,renderCountProp:p,shouldHandleStateChanges:O,storeKey:k,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=L.pure;var f=u?r.useMemo:function(e){return e()};function m(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(d.a)(n,y);return[n.context,e,t]}),[n]),s=o[0],u=o[1],l=o[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(v.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:D}),[s,D]),g=Object(r.useContext)(p),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var S=m?n.store:g.store,C=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(S)}),[S]),k=Object(r.useMemo)((function(){if(!O)return b;var e=c(S,m?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,m,g]),P=k[0],N=k[1],I=Object(r.useMemo)((function(){return m?g:Object(h.a)({},g,{subscription:P})}),[m,g,P]),R=Object(r.useReducer)(A,_,T),L=R[0][0],M=R[1];if(L&&L.error)throw L.error;var j=Object(r.useRef)(),B=Object(r.useRef)(l),F=Object(r.useRef)(),U=Object(r.useRef)(!1),H=f((function(){return F.current&&l===B.current?F.current:C(S.getState(),l)}),[S,L,l]);w(E,[B,j,U,l,H,F,N]),w(x,[O,S,P,C,B,j,U,F,N,M],[S,P,C]);var G=Object(r.useMemo)((function(){return i.a.createElement(t,Object(h.a)({},H,{ref:u}))}),[u,t,H]);return Object(r.useMemo)((function(){return O?i.a.createElement(p.Provider,{value:I},G):G}),[p,G,I])}var S=u?i.a.memo(m):m;if(S.WrappedComponent=t,S.displayName=m.displayName=o,N){var C=i.a.forwardRef((function(e,t){return i.a.createElement(S,Object(h.a)({},e,{reactReduxForwardedRef:t}))}));return C.displayName=o,C.WrappedComponent=t,g()(C,t)}return g()(S,t)}}function O(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function C(e,t){if(O(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!O(e[n[i]],t[n[i]]))return!1;return!0}function k(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=P(i),i=r(t,n)),i},r}}var I=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:k((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?k((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var R=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:k((function(){return{}}))}];function L(e,t,n){return Object(h.a)({},n,e,t)}var D=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return L}}];var M=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function j(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function B(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p,g,v=!f(d,a),m=!l(i,o);return o=i,a=d,v&&m?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):v?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?(p=e(o,a),g=!h(p,s),s=p,g&&(c=n(s,u,a)),c):c}return function(i,l){return d?p(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function F(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(d.a)(t,M),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?B:j)(a,s,u,e,o)}var U=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function G(e,t){return e===t}function Q(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?R:i,a=t.mapDispatchToPropsFactories,s=void 0===a?I:a,u=t.mergePropsFactories,c=void 0===u?D:u,l=t.selectorFactory,f=void 0===l?F:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,g=void 0===p?G:p,v=a.areOwnPropsEqual,m=void 0===v?C:v,y=a.areStatePropsEqual,_=void 0===y?C:y,b=a.areMergedPropsEqual,A=void 0===b?C:b,w=Object(d.a)(a,U),E=H(e,o,"mapStateToProps"),x=H(t,s,"mapDispatchToProps"),T=H(n,c,"mergeProps");return r(f,Object(h.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:x,initMergeProps:T,pure:l,areStatesEqual:g,areOwnPropsEqual:m,areStatePropsEqual:_,areMergedPropsEqual:A},w))}}var z=Q();function V(){return Object(r.useContext)(o)}function W(e){void 0===e&&(e=o);var t=e===o?V:function(){return Object(r.useContext)(e)};return function(){return t().store}}var q=W();function X(e){void 0===e&&(e=o);var t=e===o?q:W(e);return function(){return t().dispatch}}var Y=X(),K=function(e,t){return e===t};function $(e){void 0===e&&(e=o);var t=e===o?V:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=K);var i=t(),o=function(e,t,n,i){var o,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return c(n,i)}),[n,i]),u=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),d=Object(r.useRef)(),p=n.getState();try{if(e!==f.current||p!==h.current||u.current){var g=e(p);o=void 0!==d.current&&t(g,d.current)?d.current:g}else o=d.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return l((function(){f.current=e,h.current=p,d.current=o,u.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===h.current)return;var r=f.current(e);if(t(r,d.current))return;d.current=r,h.current=e}catch(e){u.current=e}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(o),o}}var J,Z=$(),ee=n(106);n.d(t,"Provider",(function(){return f})),n.d(t,"connectAdvanced",(function(){return S})),n.d(t,"ReactReduxContext",(function(){return o})),n.d(t,"connect",(function(){return z})),n.d(t,"useDispatch",(function(){return Y})),n.d(t,"createDispatchHook",(function(){return X})),n.d(t,"useSelector",(function(){return Z})),n.d(t,"createSelectorHook",(function(){return $})),n.d(t,"useStore",(function(){return q})),n.d(t,"createStoreHook",(function(){return W})),n.d(t,"shallowEqual",(function(){return C})),n.d(t,"batch",(function(){return ee.unstable_batchedUpdates})),J=ee.unstable_batchedUpdates,a=J},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.statefulNavStepsUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(50),u={},c={},l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"setNavSteps",value:function(e){u=e,delete(c=Object.assign({},e))[s.NAV_ROOT_ID]}},{key:"getNavSteps",value:function(){return u}},{key:"getAllSteps",value:function(){return c}},{key:"getCurrentSection",value:function(e){return this.getCurrentStep(e).section}},{key:"getStep",value:function(e){return a.default.isString(e)?this.getNavSteps()[e]:e}},{key:"getCurrentStep",value:function(e){return this.getStep(e.currentStep)}}]),e}());t.statefulNavStepsUtil=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.audioPlayer=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=r(n(24)),u=r(n(28)),c=r(n(11)),l=r(n(12)),f=r(n(10)),h=n(0),d=n(22),p=n(81),g=n(82),v=n(7),m=n(413),y=n(8),_=n(9),b=n(6),A=n(44),w=n(16),E=n(29);function x(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}v.utilLogger.profile(h.Howl.prototype,0,[],"Howl"),v.utilLogger.profile(h.HowlerGlobal.prototype,0,[],"HowlerGlobal");var S=Symbol("map of assets ids to Promise<Howl> objects"),O=Symbol("map of play ids to sound objects"),C=Symbol("map of sound ids to Howler ids"),k=Symbol("map of sound ids to VolumeData objects"),P=Symbol("map of AudioContexts"),N=Symbol("mode enum for audioPlayer"),I=Symbol("global delay between chained audio"),R=Symbol("clip audio to this maximum duration"),L=new(function(e){(0,c.default)(n,e);var t=T(n);function n(){var e;return(0,o.default)(this,n),e=t.call(this),v.utilLogger.profile((0,s.default)(e),0,[],e.displayName),e[S]={},e[O]={},e[C]={},e[k]={},p.cuepointDispatcher.player=(0,s.default)(e),e[P]=m.AudioContext.getDefaultContexts((0,s.default)(e)),e[N]=b.MODES.NORMAL,e[I]=100,e[R]=1e3,h._.bindAll((0,s.default)(e),"isPlaying","getProgress","play","stop","pause","resume","interrupt"),h.Howler.autoSuspend=!1,e._listenToAudioContext(),e}return(0,a.default)(n,[{key:"getContext",value:function(e){return this[P][e]}},{key:"getContexts",value:function(){return h._.values(this[P])}},{key:"lock",value:function(){v.utilLogger.warn("audioPlayer.lock is deprecated. Please remove.")}},{key:"unlock",value:function(){v.utilLogger.warn("audioPlayer.unlock is deprecated. Please remove.")}},{key:"isPlaying",value:function(e){return this._exists(e)&&this[S][e].playing()}},{key:"getProgress",value:function(e){return this._exists(e)?{playing:this.isPlaying(e),position:this[S][e].seek(),duration:this[S][e].duration(),sound:this[S][e]}:{playing:!1,position:0,duration:0,sound:null}}},{key:"getCurrentVolume",value:function(e){if(d.assetUtil.config.lipSyncDisabled)return this.volume;var t=this[k][e],n=this.getProgress(e),r=t.getVolume(n.position),i=Math.max(r.left,r.right);return h._.isNaN(i)?0:i}},{key:"getAverageVolume",value:function(e){if(d.assetUtil.config.lipSyncDisabled)return this.volume;var t=this[k][e],n=this.getProgress(e),r=t.getAverageVolume(n.position-.05,n.position+.05),i=(r.left+r.right)/2;return h._.isNaN(i)?0:i}},{key:"once",value:function(e,t){var r=arguments,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(h._.isNull(o))(0,u.default)((0,f.default)(n.prototype),"once",this).call(this,e,t);else var a=this.on(e,(function(n){o===n&&(i.off(e,a),t.apply(i,r))}))}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!h._.isArray(e))throw Error("Must pass an array of sound URLs");var r=(0,g.createId)();this[O][r]=[];var i=e.map((function(e){var n=d.assetUtil.loadAudio(e,{onUnload:function(e){return t.remove(e)}}),i=n.id,o=n.assetLoader,a=e.indexOf("#"),s=~a?e.substr(a+1):null;return t[O][r].push({id:i,assetLoader:o,sfx:s}),i})),o=function e(){if(h._.size(t[O])>1&&(t[O]=h._.pick(t[O],r)),t[O][r]&&t[O][r].length>0){var i=t[O][r].shift();t._playSound(i,n,t[O][r].length?e:null)}};return h.is.ios()&&("interrupted"===h.Howler.ctx.state||"suspended"===h.Howler.ctx.state)&&h._.isFunction(h.Howler.ctx.resume)?h.Howler.ctx.resume().then((function(){o()})):o(),i}},{key:"_playSound",value:function(e){var t=this,n=e.id,r=e.assetLoader,o=e.sfx,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onStart:h._.noop},s=arguments.length>2?arguments[2]:void 0,u=d.assetUtil.config.lipSyncDisabled;r.then((function(e){var r=e.audio,c=e.volume;if(a.onStart&&a.onStart(),v.utilLogger.time("audioPlayer._playSound executor"),!u){var l=new VolumeData(c);l.gain=2.5,t[k][n]=l}t[S][n]=r,t[C][n]=t[C][n]||[],t.emit("load",n),a.position&&r.seek(a.position*r.duration()),a.fade&&r.fade.apply(r,x(i.default,a.fade));var f=r.play(o||void 0),p=null;r.once("play",(function(){var e=(0,_.getNavigationState)(y.store.getState()).paused;if(t[C][n].push(f),e)t.pause(n);else{y.store.dispatch((0,E.audioInProgress)(!0)),p={url:r._src,completed:!1,length:r.duration()};var i=w.environmentUtil.isAutomationRunning()&&d.assetUtil.getAudioEvents(r._src);A.automationUtil.recordNewSoundPlayed(p),t.emit("play",n),t.mode!==b.MODES.CLIPPED&&!a.clip||i||h._.delay((function(){return t.stop(n)}),a.clip||t.clipLength)}}),f).once("end",(function(){h._.pull(t[C][n],f),h._.isFunction(s)&&h._.delay(s,t._chainDelay),p&&(p.completed=!0),y.store.dispatch((0,E.audioInProgress)(!1)),t.emit("end",n)}),f),v.utilLogger.timeEnd("audioPlayer._playSound executor")})).catch((function(e){v.utilLogger.error(e),y.store.dispatch((0,E.audioInProgress)(!1)),t.emit("end",n)}))}},{key:"remove",value:function(e){delete this[S][e]}},{key:"stop",value:function(e){var t=this;y.store.dispatch((0,E.audioInProgress)(!1)),this._exists(e)&&(this[S][e].stop(),h._.forEach(this[C][e],(function(n){t[S][e]._emit("end",n)})),this.emit("stop",e))}},{key:"interrupt",value:function(e){var t=this;this.stop(e),h._.forEach(this[O],(function(e,n){return delete t[O][n]}))}},{key:"pause",value:function(e){var t=this;this._exists(e)&&(h._.forEach(this[C][e],(function(n){t[S][e].pause(n)})),this.emit("pause",e))}},{key:"resume",value:function(e){var t=this;this._exists(e)&&(h._.forEach(this[C][e],(function(n){t[S][e].play(n)})),this.emit("resume",e))}},{key:"_exists",value:function(e){return!h._.isEmpty(this[S][e])}},{key:"_listenToAudioContext",value:function(){var e=this;h.is.ios()&&(h.Howler.unload=function(){h.HowlerGlobal.prototype.unload.call(h.Howler),e._setAudioContextListener(h.Howler.ctx)},h.Howler.volume(),this._setAudioContextListener(h.Howler.ctx))}},{key:"_setAudioContextListener",value:function(e){e.onstatechange=function(e){var t=e.target,n=t.state,r=h.Howler.state;"suspended"===n&&"running"===r?h.Howler.ctx.resume():"closed"===n&&(t.onstatechange=null)}}},{key:"locked",get:function(){return!1}},{key:"mode",set:function(e){this[N]=e},get:function(){return this[N]}},{key:"volume",set:function(e){h.Howler.volume(e)},get:function(){return h.Howler.volume()}},{key:"chainDelay",set:function(e){this[I]=e},get:function(){return this[I]}},{key:"clipLength",set:function(e){this[R]=e},get:function(){return this[R]}}]),n}(h.Emitter));t.audioPlayer=L},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.assertUtil=t.OBJECT_TYPE=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s={audio:"audio",audioGroup:"audioGroup",audioPart:"audioPart",cuePoint:"cuePoint",optionClick:"optionClick",bounds:"bounds",renderer:"renderer",executorFunction:"executorFunction",lessonState:"lessonState",userDetails:"userDetails",lessonContent:"lessonContent"};t.OBJECT_TYPE=s;var u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"isTrue",value:function(e,t,n,r,i){var o=i||"".concat(n,"=").concat(r," is not true");this._assertFatal(!0==!!r,"[".concat(e,".").concat(t,"] ").concat(o))}},{key:"isNotTrue",value:function(e,t,n,r,i){var o=i||"".concat(n,"=").concat(r," is not falsy");this._assertFatal(!1==!!r,"[".concat(e,".").concat(t,"] ").concat(o))}},{key:"isNull",value:function(e,t,n,r){this._assertFatal(null===r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not null"))}},{key:"isNotNull",value:function(e,t,n,r,i){var o=i||"".concat(n,"=").concat(r," is null or undefined");this._assertFatal(null!=r,"[".concat(e,".").concat(t,"] ").concat(o))}},{key:"isDefined",value:function(e,t,n,r){this._assertFatal(void 0!==r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not defined"))}},{key:"isString",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal("string"==typeof r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not a string"))}},{key:"isNotEmptyString",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.isString(e,t,n,r,i),this._assertFatal(r.length>0,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is empty"))}},{key:"isEmptyString",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.isString(e,t,n,r,i),this._assertFatal(0===r.length,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not empty"))}},{key:"isStringEqualTo",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isString(e,t,n,r,o),this._assertFatal(r===i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is equal to ").concat(i))}},{key:"isNumber",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal("number"==typeof r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not a number"))}},{key:"isNumberGreaterThan",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isNumber(e,t,n,r,o),this._assertFatal(r>i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not greater than ").concat(i))}},{key:"isNumberGreaterEqualTo",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isNumber(e,t,n,r,o),this._assertFatal(r>=i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not greater or equal to ").concat(i))}},{key:"isNumberNotGreaterThan",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isNumber(e,t,n,r,o),this._assertFatal(r<=i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is greater than ").concat(i))}},{key:"isNumberEqualTo",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isNumber(e,t,n,r,o),this._assertFatal(r===i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not equal to ").concat(i))}},{key:"isNumberNotEqualTo",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isNumber(e,t,n,r,o),this._assertFatal(r!==i,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is equal ").concat(i))}},{key:"isFunction",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal("function"==typeof r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not a function"))}},{key:"isBoolean",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal("boolean"==typeof r,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not a boolean"))}},{key:"isArray",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal(!0===a._.isArray(r),"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not an array"))}},{key:"isNotEmptyArray",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.isArray(e,t,n,r,i),this._assertFatal(r.length>0,"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is empty"))}},{key:"isObject",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];switch(i){case s.audio:this._isAudio(e,t,n,r,o);break;case s.audioGroup:this._isAudioGroup(e,t,n,r,o);break;case s.audioPart:this._isAudioPart(e,t,n,r,o);break;case s.bounds:this._isBounds(e,t,n,r,o);break;case s.cuePoint:this._isCuePoint(e,t,n,r,o);break;case s.executorFunction:this._isExecutorFunction(e,t,n,r,o);break;case s.lessonContent:this._isLessonContent(e,t,n,r,o);break;case s.lessonState:this._isLessonState(e,t,n,r,o);break;case s.optionClick:this._isOptionClick(e,t,n,r,o);break;case s.renderer:this._isRenderer(e,t,n,r,o);break;case s.userDetails:this._isUserDetails(e,t,n,r,o);break;case s.any:this._isObject(e,t,n,r,o);break;default:throw new Error("invalid or unsupported object type ".concat(i))}}},{key:"_isObject",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&!r||this._assertFatal(a._.isObject(r),"[".concat(e,".").concat(t,"] ").concat(n,"=").concat(r," is not an object"))}},{key:"_isAudio",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&!this.isDefined(e,t,n,r)||(this.isNotNull(e,t,n,r),this.isStringEqualTo(e,t,"".concat(n,".type"),r.type,"audio"),this.isArray(e,t,"".concat(n,".parts"),r.parts),a._.forEach(r.parts,(function(r){i._isAudioPart(e,t,"".concat(n,".parts.part"),r)})))}},{key:"_isAudioGroup",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&null==r||(this.isNotNull(e,t,n,r),this.isString(e,t,"".concat(n,".id"),r.id),this.isArray(e,t,"".concat(n,".soundIds"),r.soundIds),a._.forEach(r.soundIds,(function(r){i.isNumber(e,t,"".concat(n,".soundIds.id"),r)})))}},{key:"_isAudioPart",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&null==r||(this.isNotNull(e,t,n,r),this.isString(e,t,"".concat(n,".src"),r.src),this.isArray(e,t,"".concat(n,".events"),r.events,!0),a._.forEach(r.events,(function(r){i._isCuePoint(e,t,"".concat(n,".events.event"),r,!0)})))}},{key:"_isCuePoint",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&null==r||(this.isNotNull(e,t,n,r),a._.forEach(r.events,(function(r){i.isNumber(e,t,"".concat(n,".time"),r.time),i.isArray(e,t,"".concat(n,".targets"),r.targets),i.isString(e,t,"".concat(n,".type"),r.type)})))}},{key:"_isOptionClick",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&null==r||(this.isNotNull(e,t,n,r),this.isArray(e,t,"".concat(n,".optionData"),r.optionData),a._.forEach(r.optionData,(function(r){i.isString(e,t,"".concat(n,".option.id"),r.id,!0),i._isBounds(e,t,"".concat(n,".option.bounds"),r.bounds,!0)})))}},{key:"_isBounds",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&null==r||(this.isNotNull(e,t,n,r),this.isNumber(e,t,"".concat(n,".x"),r.x),this.isNumber(e,t,"".concat(n,".y"),r.y),this.isNumber(e,t,"".concat(n,".height"),r.height),this.isNumber(e,t,"".concat(n,".width"),r.width))}},{key:"_isRenderer",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&null==r||(this.isNotNull(e,t,n,r),this.isString(e,t,"".concat(n,".name"),r.name),this.isString(e,t,"".concat(n,".type"),r.type),this.isFunction(e,t,"".concat(n,".rendererModule"),r.module))}},{key:"_isExecutorFunction",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&null==r||(this.isNotNull(e,t,n,r),this.isFunction(e,t,"".concat(n,".resolve"),r.resolve),this.isFunction(e,t,"".concat(n,".reject"),r.reject,!0))}},{key:"_isLessonState",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&null==r||(this.isNotNull(e,t,n,r),this.isString(e,t,"".concat(n,".currentLessonId"),r.currentLessonId),this.isString(e,t,"".concat(n,".currentScreenId"),r.currentScreenId,!0),this.isString(e,t,"".concat(n,".currentStepId"),r.currentStepId,!0))}},{key:"_isUserDetails",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i&&null==r||(this.isNotNull(e,t,n,r),this.isString(e,t,"".concat(n,".firstName"),r.firstName),this.isString(e,t,"".concat(n,".lastName"),r.lastName),this.isString(e,t,"".concat(n,".stateId"),r.stateId),this.isString(e,t,"".concat(n,".dateOfBirth"),r.dateOfBirth),this.isString(e,t,"".concat(n,".grade"),r.grade),this.isString(e,t,"".concat(n,".school"),r.school))}},{key:"_isLessonContent",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o&&null==r||(this.isNotNull(e,t,n,r),this.isNotNull(e,t,"".concat(n,".info"),r.info),this.isString(e,t,"".concat(n,".info.lessonType"),r.info.lessonType),this.isString(e,t,"".concat(n,".info.title"),r.info.title),this.isArray(e,t,"".concat(n,".navigation"),r.navigation),a._.forEach(r.navigation,(function(r){i.isString(e,t,"".concat(n,".navigation.title"),r.name),i.isArray(e,t,"".concat(n,".navigation.screens"),r.screens)})),this.isNotNull(e,t,"".concat(n,".screens"),r.screens))}},{key:"_assertFatal",value:function(e,t){if(!e)throw new Error(t)}}]),e}());t.assertUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.navStepsUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=r(n(15)),u=n(50),c=n(33),l=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"createRootStep",value:function(){return new u.Step({id:u.NAV_ROOT_ID,updateProgress:!1,revisitable:!1,section:{}})}},{key:"createStep",value:function(e){var t=e.screenId,n=e.section,r=void 0===n?{}:n,i=e.prevStep,o=e.updateProgress,a=void 0===o||o,s=e.revisitable,c=void 0===s||s,l=e.skippable,f=void 0!==l&&l,h=e.adpId,d=e.skipFilter,p=e.preloadArray,g=void 0===p?[]:p,v=new u.Step({id:t,section:r.name,updateProgress:a,revisitable:c,skippable:f,adpId:h,skipFilter:d,preloadArray:g});return i&&(i.next=v,v.prev=i),v}},{key:"createDefaultNavigationStep",value:function(){return{visited:!1,inProgress:!1,complete:!1,finished:!1}}},{key:"getGotoStepUpdate",value:function(e){var t=e.data,n=e.targetStep;if(!n)throw new Error("No targetStep supplied");var r=t.stepState,o=t.currentStep,a=t.navigationDisabled,l=t.highestReachedStepId,f=this._getSectionState({data:t,step:n,currentSection:c.statefulNavStepsUtil.getCurrentSection(t)}),h=c.statefulNavStepsUtil.getCurrentStep(t),d=this.getProgress({data:t}),p=null;if(!a){if(p={},n.id!==o){var g=s.default.cloneDeep(r[n.id]);if(g.visited=!0,g.progress===u.DYNAMIC_PROGRESS)g.progress=d+1;else if(n.isMenuScreen){var v=h;v.parentMenuId===n.id&&r[v.id].progress>g.progress&&(g.progress=r[v.id].progress)}if(g.progress>r[l].progress&&(l=n.id),r[l].complete){var m=c.statefulNavStepsUtil.getStep(l).next;m&&(l=m.id)}var y=s.default.cloneDeep(t.customBtns);s.default.forEach(y,(function(e){return e.visible=!1})),p={highestReachedStepId:l,pauseEnabled:!1,navigationDisabled:!0,customBtns:y,done:{visible:!1},next:{visible:!1},currentStep:n.id,stepState:(0,i.default)({},n.id,g)}}p.sectionState=f}return p}},{key:"getProgress",value:function(e){var t,n=e.data,r=e.step;if(r){var i=this.getStepId(r);t=n.stepState[i].progress}else t=this._getFromCurrentStepState({data:n,prop:"progress"});return t}},{key:"isNoCompletedScreensOnOrAfter",value:function(e,t){var n=!0;if(s.default.has(e,t)){var r=e[t].progress;n=s.default.chain(e).filter((function(e){var t=e.complete,n=e.progress;return t&&n>=r})).isEmpty().value()}return n}},{key:"getVisitableStep",value:function(e){var t=e.data,n=e.startWithStep,r=e.direction;if("next"!==r&&"prev"!==r)throw new Error("direction must be either 'next' or 'prev'. Got: ".concat(r));for(var i=t.stepState,o=s.default.isString(n)?c.statefulNavStepsUtil.getStep(n):n;o&&i[o.id].complete&&!o.revisitable;)o=o[r];return o}},{key:"_getFromCurrentStepState",value:function(e){var t=e.data,n=e.prop,r=e.defaultValue,i=t.stepState,o=t.currentStep;return s.default.isEmpty(i)?r:i[o][n]}},{key:"isCurrentInProgress",value:function(e){return this._getFromCurrentStepState({data:e,prop:"inProgress",defaultValue:!1})}},{key:"isCurrentCompleted",value:function(e){return this._getFromCurrentStepState({data:e,prop:"complete",defaultValue:!1})}},{key:"isCurrentFinished",value:function(e){return this._getFromCurrentStepState({data:e,prop:"finished",defaultValue:!1})}},{key:"_getSectionState",value:function(e){var t=e.data,n=e.step,r=e.currentSection,o=(0,i.default)({},n.id,{isSectionChanged:{onCurrentStep:n.section!==r,onStepAhead:!n.next||n.next.section!==n.section}}),a=t.sectionState;return a&&(o=s.default.assign(o,s.default.pickBy(a,(function(e,n){return n===c.statefulNavStepsUtil.getCurrentStep(t).id})))),o}},{key:"getStepId",value:function(e){return s.default.isString(e)?e:e.id}},{key:"setProgress",value:function(e,t){var n=-1;t[u.NAV_ROOT_ID].progress=n;for(var r=e[u.NAV_ROOT_ID].next;r;)r.updateProgress?n++:n<0&&(n=0),t[r.id].progress=n,r.isMenuScreen&&(n+=this._setProgressMenuChildren(r,e,t)),r=r.next}},{key:"isSameStyle",value:function(e,t){return e.style===t.style}},{key:"_setProgressMenuChildren",value:function(e,t,n){var r=0;return e.menuFirstChildren.forEach((function(i){var o=t[i];do{if(!o.updateProgress)throw new Error("expect child step [".concat(o.id,"] to update progress"));r++;var a=n[o.id];null==a.progress&&(a.progress=u.DYNAMIC_PROGRESS),o=o.next!==e?o.next:null}while(o)})),r}}]),e}());t.navStepsUtil=l},function(e,t,n){var r=n(392),i=n(393),o=n(203),a=n(394);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){"use strict";n.r(t),n.d(t,"loadLessonStateRequest",(function(){return v})),n.d(t,"loadLessonStateSuccess",(function(){return m})),n.d(t,"loadLessonStateFailure",(function(){return y})),n.d(t,"moveExitData",(function(){return _})),n.d(t,"loadLessonState",(function(){return b})),n.d(t,"updateLessonState",(function(){return A})),n.d(t,"resetLessonState",(function(){return w})),n.d(t,"updateNewState",(function(){return E})),n.d(t,"createAndSaveLessonState",(function(){return x})),n.d(t,"deleteLessonStateSuccess",(function(){return T})),n.d(t,"deleteLessonStateFailure",(function(){return S})),n.d(t,"clearLessonState",(function(){return O})),n.d(t,"sanitizeOnContentLoaded",(function(){return C}));var r=n(0),i=n(20),o=n(72),a=n(26),s=n(1),u=n(6),c=n(46),l=n(22),f=n(14),h=n(9),d=n(102),p=n(16),g=n(30);const v=e=>({type:s.LESSON_STATE_LOAD_REQUEST,payload:e}),m=e=>({type:s.LESSON_STATE_LOAD_SUCCESS,payload:e}),y=e=>({type:s.LESSON_STATE_LOAD_FAILURE,payload:e}),_=e=>t=>{t({type:s.EXIT_DATA_INIT,payload:o.stateUtil.exitDataFromStateToRedux(e)})},b=e=>t=>(t(v(e)),o.stateUtil.loadState().then(e=>{r._.forEach(e.storage,(e,t)=>{c.storageUtil.setItem(t,e)}),t(_(e)),t(m(e)),p.environmentUtil.isAutomationRunning()&&t(Object(d.a)(e)),a.preloadUtil.updateAndEase({pct:a.PROGRESS.LOADED_LESSON_STATE,msg:"loaded lesson state"})},e=>{t(y(e))})),A=(e={})=>({type:s.LESSON_STATE_UPDATE,payload:e}),w=()=>e=>{c.storageUtil.clear(),e({type:s.LESSON_STATE_RESET})},E=(e,t)=>{const n=r._.get(e,"lesson.state.navigationStore",null);if(n){if(r._.some(n.adaptivityResults,{to:{action:u.ADP.ACTIONS.COMPLETE_COMPONENT}})){const{adaptivityResults:e,stepState:r,currentStep:i,highestReachedStepId:o}=n;t.navigationStore.adaptivityResults=e,t.navigationStore.stepState=r,t.navigationStore.currentStep=i,t.navigationStore.highestReachedStepId=o}}},x=()=>(e,t)=>{const n=t(),a=Object(g.getCheatValue)(n);if(!r._.get(a,"disableLessonSave",!1)){const a=o.stateUtil.createState({navigation:r._.pick(Object(h.getNavigationState)(t()),u.STATE_PROPERTIES.SERIALIZABLE),results:o.stateUtil.exitDataReduxToState(Object(i.getLessonResults)(t()),Object(f.getExitData)(t())),version:Object(f.getScreensState)(t()).version,fingerprints:Object(i.getLessonContent)(t()).fingerprints});E(n,a);const c=Object(i.getLessonState)(t()).lastDispatched;if(!r._.isEqual(c,a)){e({type:s.LESSON_STATE_SNAPSHOT,payload:a});const n=r._.get(Object(i.getLessonState)(t()),"currentLessonId"),u=r._.get(l.assetUtil,"config.state.warnAtOverallSize",1e5);return o.stateUtil.saveState(a,n,u).then(t=>{var n;e((n=t,{type:s.LESSON_STATE_SAVE_SUCCESS,payload:n}))},t=>{e((e=>({type:s.LESSON_STATE_SAVE_FAILURE,payload:e}))(t))})}}return Promise.resolve()},T=()=>({type:s.LESSON_STATE_DELETE_SUCCESS}),S=e=>({type:s.LESSON_STATE_DELETE_FAILURE,payload:e}),O=()=>e=>o.stateUtil.clearState().then(()=>{e(T())},t=>{e(S(t))}),C=e=>(t,n)=>{const r=Object(i.getLessonState)(n());if(r.navigationStore&&!o.stateUtil.isFingerprinted(r)){!o.stateUtil.checkVersion(e,r)&&t(w())}}},function(e,t,n){var r=n(349),i=n(350),o=n(203),a=n(351);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var i=r(n(153)),o=r(n(4)),a=r(n(24)),s=r(n(5)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(0),h=n(181);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,u.default)(n,e);var t=d(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).focus=function(){r.ref&&r.ref.focus()},r._buttonRef=f.React.createRef(),f._.bindAll((0,a.default)(r),["endPulse","startPulse","keyHandler"]),r.state={isPulsing:e.isPulsing||!1},r.idleTimer=null,r.keyHandler=f._.debounce(r.keyHandler,e.onClickDebounce,{leading:!0,trailing:!1}),r}return(0,s.default)(n,null,[{key:"propTypes",get:function(){return{id:f.PropTypes.string,className:f.PropTypes.string,content:f.PropTypes.node,iconName:f.PropTypes.string,onClick:f.PropTypes.func,onClickDebounce:f.PropTypes.number,disabled:f.PropTypes.bool,isHidden:f.PropTypes.bool,doneVisible:f.PropTypes.bool,title:f.PropTypes.string,type:f.PropTypes.string,children:f.PropTypes.oneOfType([f.PropTypes.arrayOf,f.PropTypes.element,f.PropTypes.string]),"aria-label":f.PropTypes.string.isRequired,"aria-labelledby":f.PropTypes.string,tabIndex:f.PropTypes.number.isRequired,forwardedRef:f.PropTypes.object,pulseStart:f.PropTypes.number,isPulsing:f.PropTypes.bool,"aria-checked":f.PropTypes.string,role:f.PropTypes.string,stopPropagation:f.PropTypes.bool}}},{key:"defaultProps",get:function(){return{className:"btn",onClick:f._.noop,type:"button",onClickDebounce:0,stopPropagation:!0}}}]),(0,s.default)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.disabled,r=t.isHidden,i=t.pulseStart,o=t.doneVisible,a=t.isPulsing;e.disabled===n&&e.isHidden===r&&e.doneVisible===o||(n||r||o?this.idleTimer&&this.idleTimer.pause():this.idleTimer&&(this.endPulse(),this.idleTimer.reset())),e.isPulsing!==a&&(a?this.startPulse():this.endPulse()),e.pulseStart!==i&&(this.idleTimer&&this.idleTimer.kill(),this.idleTimer=i>0?h.idleService.create(i,this.startPulse,this.endPulse):null)}},{key:"componentDidMount",value:function(){var e=this.props.pulseStart;e>0&&(this.idleTimer=h.idleService.create(e,this.startPulse,this.endPulse))}},{key:"componentWillUnmount",value:function(){this.idleTimer&&this.idleTimer.kill(),delete this.idleTimer}},{key:"keyHandler",value:function(e){var t=this.props,n=t.onClick,r=t.stopPropagation;e.which===f.Key.Enter&&e.preventDefault(),e.which!==f.Key.Enter&&e.which!==f.Key.Space||!0===e.repeat||(r&&e.stopPropagation(),n(e))}},{key:"endPulse",value:function(){this.setState({isPulsing:!1})}},{key:"startPulse",value:function(){this.setState({isPulsing:!0})}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.id,o=t.forwardedRef,a=t.iconName,s=t.isHidden,u=t.type,c=t.disabled,l=t.title,h=t.onClick,d=t.onClickDebounce,p=t.tabIndex,g=t.children,v=t.content,m=t["aria-label"],y=t["aria-labelledby"],_=t["aria-checked"],b=t.role,A=this.state.isPulsing,w={backgroundImage:"url(./img/".concat(a,".png)")},E={};return m&&(E["aria-label"]=m),y&&(E["aria-labelledby"]=y),_&&(E["aria-checked"]=_),s&&(E["aria-hidden"]=s),e=d?f._.debounce(h,d,{leading:!0,trailing:!1}):h,f.React.createElement("button",(0,i.default)({id:r,ref:o||this._buttonRef,className:(0,f.classNames)(n,{hidden:s,pulse:A}),style:a?w:{},type:u,disabled:c||s||!1,title:l,onClick:e,onKeyDown:this.keyHandler,onKeyUp:function(e){e.which===f.Key.Space&&e.preventDefault()},tabIndex:c||s?-1:p,role:b},E),v||g)}},{key:"ref",get:function(){return this._buttonRef.current}}]),n}(f.React.Component);t.Button=p},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.automationUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=r(n(118)),u=n(0),c=n(51),l=n(16),f=n(189),h=n(8),d=n(9),p=n(146),g=n(33),v=n(6),m=n(7);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=new(function(){function e(){(0,o.default)(this,e),this._cmState={active:{},history:[]},this._cuepoints={history:[]},this._audioHistory=[],this._audioHistoryByScreen={},this._dcHistory=[],this._currentScreenInfo={}}return(0,a.default)(e,[{key:"exposeRendererInfo",value:function(e){u._.set(window,"display",e)}},{key:"initPublicApi",value:function(){var e=this;this.isAutomationRunning()&&(s.default.api.emitter.on("event",(function(t){e.recordDCEvent(t)})),this._createPublicApi())}},{key:"_createPublicApi",value:function(){var e=this,t=u._.get(window,"com.cainc.ifabric.automation",{});u._.set(window,"com.cainc.ifabric.automation",t),t.saveLessonState=function(t){return e.saveLessonState(t)},t.getLessonState=function(){return e.getLessonState()},t.getAudioHistory=function(){return e.getAudioHistory()},t.getAudioHistoryByScreen=function(t){return e.getAudioHistoryByScreen(t)},t.resetAudioHistoryByScreen=function(t){return e.resetAudioHistoryByScreen(t)},t.getDCEventHistory=function(t){return e.getDCEventHistory(t)},t.resetDCEventHistory=function(){return e._dcHistory=[]},t.jumpToScreen=function(t){return e.jumpToScreen(t)},t.getAssetsTotal=function(){return e.getAssetsTotal()},t.getAssetsReport=function(){return e.getAssetsReport()},t.getSelectors=function(){return e.getSelectors()},t.getActiveCallableMechanism=function(){return e._cmState.active},t.getCallableMechanismHistory=function(){return e._cmState.history},t.resetCallableMechanismState=function(){return e._cmState={active:{},history:[]}},t.getCuepointHistory=function(){return e.getCuepointHistory()},t.resetCuepointHistory=function(){return e._cuepoints={history:[]}},t.getCurrentScreenInfo=function(){return e.getCurrentScreenInfo()},t.getScreenState=function(t){return e.getScreenState(t)},t.getInitialStateSnapshot=function(){return e.getInitialStateSnapshot()},t.getNavigableScreenIds=function(){return e.getNavigableScreenIds()},t.getLessonScore=function(){return e.getLessonScore()}}},{key:"recordNewSoundPlayed",value:function(e){var t=this.getCurrentScreenInfo().screenId;t&&u._.isUndefined(this._audioHistoryByScreen[t])&&(this._audioHistoryByScreen[t]=[]),t&&this._audioHistoryByScreen[t].push(e),this._audioHistory.push(e)}},{key:"recordDCEvent",value:function(e){this._dcHistory.push(e)}},{key:"getInitialStateSnapshot",value:function(){return(0,p.getAutomationState)(h.store.getState()).initialLessonState}},{key:"getAudioHistory",value:function(){return this._audioHistory}},{key:"getAudioHistoryByScreen",value:function(e){return this._audioHistoryByScreen[e]}},{key:"getDCEventHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.context,r=e.payload;return u._.chain(this._dcHistory).map((function(e){return{type:e.type,context:u._.get(e.meta,"context",void 0),payload:e.payload}})).filter((function(e){return u._.isMatchWith(e,{type:t,context:n,payload:r},(function(e,t){return!!u._.isUndefined(t)||u._.isMatch(e,t)}))})).value()}},{key:"jumpToScreen",value:function(e){this.isAutomationRunning()&&(window.display.state.uiEnabled=!1,f.actionEmitterUtil.emit("jumpToScreen",e))}},{key:"resetAudioHistory",value:function(){this._audioHistory=[]}},{key:"resetAudioHistoryByScreen",value:function(e){delete this._audioHistoryByScreen[e]}},{key:"startAssetProfiling",value:function(){m.utilLogger.info("Starting asset profiling..."),u.CAAssetProfiler.start()}},{key:"stopAssetProfiling",value:function(){u.CAAssetProfiler.stop()}},{key:"getAssetsTotal",value:function(){return u.CAAssetProfiler.total()}},{key:"getAssetsReport",value:function(){return u.CAAssetProfiler.report()}},{key:"updateCallableMechanismState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=e.start;this._cmState.active={action:t,start:n}}},{key:"recordCallableMechanismPlayed",value:function(e){var t=e.action,n=e.start;this._cmState.history.push({action:t,start:n})}},{key:"recordCuepoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.data;this._cuepoints.history.push(_({url:t},n))}},{key:"getCuepointHistory",value:function(){return this._cuepoints.history}},{key:"isApiPublic",value:function(){var e=u._.get(window,"com.cainc.ifabric.automation",null);return!!u._.isObject(e)&&Object.keys(window.com.cainc.ifabric.automation).length>0}},{key:"addPublicApi",value:function(){this._createPublicApi()}},{key:"removePublicApi",value:function(){this.isAutomationRunning()||(u._.set(window,"com.cainc.ifabric.automation",void 0),u._.set(window,"display",void 0))}},{key:"isAutomationRunning",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return l.environmentUtil.isAutomationRunning(e)}},{key:"saveLessonState",value:function(e){return c.webApiUtil.saveLessonState(e)}},{key:"getLessonState",value:function(){return c.webApiUtil.fetchLessonState()}},{key:"getLessonScore",value:function(){return(0,p.getAutomationState)(h.store.getState()).lessonScore}},{key:"setCurrentScreenInfo",value:function(e){this._currentScreenInfo=e}},{key:"getCurrentScreenInfo",value:function(){return this._currentScreenInfo}},{key:"resetCurrentScreenInfo",value:function(){this._currentScreenInfo={}}},{key:"getScreenState",value:function(e){return(0,d.getStepState)(h.store.getState())[e]}},{key:"getNavigableScreenIds",value:function(){var e=u._.toArray(g.statefulNavStepsUtil.getAllSteps());return u._.map(e,(function(e){return{screen_id:e.id}}))}},{key:"getSelectors",value:function(){return v.SELECTORS}}]),e}());t.automationUtil=b},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.animationUtil=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=Symbol("canvas stage ids"),d=Symbol("FPS Meter instance"),p=Symbol("The global ticker"),g=!1,v=new(function(e){(0,s.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),e=t.call(this),l._.bindAll((0,o.default)(e),"isValid","register","unregister","_update"),e[h]={},e[p]=l.TweenLite.ticker,e[p].fps(n.TARGET_FPS),e[d]=new l.FPSMeter({maxFps:n.TARGET_FPS,top:"35px"}),e.showFps=!1,e.autoTick=!1,e[p].addEventListener("tick",e._update),e}return(0,a.default)(n,null,[{key:"TARGET_FPS",get:function(){return 24}}]),(0,a.default)(n,[{key:"isValid",value:function(e){return this[h][e]&&this[h][e].valid}},{key:"invalidate",value:function(e){this[h][e].valid=!1}},{key:"invalidateAll",value:function(){var e=this;Object.keys(this[h]).forEach((function(t){return e.invalidate(t)}))}},{key:"pauseUpdates",value:function(){g||(g=!0,createjs.Ticker.paused=!0,TweenMax.pauseAll(),this.emit("pause"))}},{key:"resumeUpdates",value:function(){g&&(g=!1,createjs.Ticker.paused=!1,TweenMax.resumeAll(),this.emit("unpause"))}},{key:"stopUpdates",value:function(){TweenMax.killAll(),TimelineMax.clearLoops()}},{key:"addTimelineAnimation",value:function(e,t){var n=this[h][e];l._.includes(n.timelineAnimations,t)||(t.timeline.addEventListener("change",n.invalidate),n.timelineAnimations.push(t))}},{key:"removeTimelineAnimation",value:function(e,t){var n=this[h][e];l._.includes(n.timelineAnimations,t)&&(t.timeline.removeEventListener("change",n.invalidate),l._.pull(n.timelineAnimations,t))}},{key:"register",value:function(e,t){var n=l._.bind(t.update,t),r=l._.bind(this.invalidate,this,e);t.tickOnUpdate=this.autoTick,this[h][e]={updateCallback:n,invalidate:r,timelineAnimations:[],valid:!1}}},{key:"unregister",value:function(e){var t=this,n=this[h][e];l._.each(n.timelineAnimations,(function(n){return t.removeTimelineAnimation(e,n)})),this[h][e]=null,delete this[h][e]}},{key:"_update",value:function(){var e=this;this.paused||(this[d].tickStart(),Object.keys(this[h]).forEach((function(t){var n=e[h][t];e.autoTick||n.timelineAnimations.forEach((function(e){e.advance()})),!n.valid&&n.updateCallback&&(e.emit("beforeUpdate"),n.updateCallback(),e.emit("afterUpdate"),n.valid=!0)})),this.emit("tick"),this[d].tick())}},{key:"paused",get:function(){return createjs.Ticker.paused}},{key:"showFps",set:function(e){e?this[d].show():this[d].hide()}},{key:"useRAF",set:function(e){l.TweenLite.ticker.useRAF(e)},get:function(){return l.TweenLite.ticker.useRAF()}}]),n}(l.Emitter));t.animationUtil=v},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.storageUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new(function(){function e(){(0,i.default)(this,e),this.clear(),a._.bindAll(this,["getItem","setItem","removeItem","clear","key"])}return(0,o.default)(e,[{key:"getItem",value:function(e){var t=this._data[e];return a._.isUndefined(t)?null:t}},{key:"setItem",value:function(e,t){if(!a._.isString(t))throw new Error("Error in setItem for key: ".concat(e,", value must be a string."));this._disabled||(this._data[e]=t)}},{key:"removeItem",value:function(e){this._data[e]&&delete this._data[e]}},{key:"clear",value:function(){this._data={}}},{key:"key",value:function(e){return a._.keys(this._data)[e]}},{key:"disabled",set:function(e){this._disabled=e}},{key:"length",get:function(){return a._.size(this._data)}}]),e}());t.storageUtil=s},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(221),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Step=t.NAV_ROOT_ID=t.DYNAMIC_PROGRESS=void 0;var i=r(n(4)),o=r(n(5));t.DYNAMIC_PROGRESS=-999;t.NAV_ROOT_ID="nav-steps-root";var a=function(){function e(t){var n=t.id,r=t.section,o=void 0===r?"":r,a=t.updateProgress,s=void 0===a||a,u=t.revisitable,c=void 0===u||u,l=t.skippable,f=void 0!==l&&l,h=t.adpId,d=t.skipFilter,p=t.preloadArray,g=void 0===p?[]:p;(0,i.default)(this,e),this.id=n,this.section=o,this.updateProgress=s,this.revisitable=c,this.skippable=f,this.adpId=h,this.skipFilter=d,this.preloadArray=g,this.next=null,this.prev=null,this.style=null,this.activityId=null}return(0,o.default)(e,[{key:"screen",get:function(){return this.id}},{key:"isAdaptivePoint",get:function(){return null!=this.adpId}},{key:"isRoot",get:function(){return"nav-steps-root"===this.id}}]),e}();t.Step=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.useModuleMapping=function(e){Object.assign(l.MAPPING,e),m.preloadUtil.updateAndEase({pct:m.PROGRESS.MAPPED_STYLE_IDS,msg:"mapped style IDs to orchestrator and display modules"})},t.webApiUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(22),c=n(54),l=n(210),f=n(116),h=n(75),d=n(19),p=n(125),g=n(7),v=n(16),m=n(26),y=n(146),_=n(8);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"fetchUserDetails",value:function(){return c.platformConnectionProvider.userDetails}},{key:"fetchLessonPreview",value:function(e){if(!s._.isString(e))throw new Error("The target url must be a string to retrieve the lesson preview.");return u.assetUtil.loadJson(e).assetLoader}},{key:"fetchLessonContent",value:function(e,t){if(!s._.isString(e))throw new Error("The lesson id must be a string for a proper lesson content url.");var n=(0,h.getPathFromConfig)("lessons"),r=t?"/".concat(t,"_").concat(e,".json"):"",i="".concat(n,"/").concat(e,"/").concat(e,".json").concat(r);return u.assetUtil.loadJson(i,{fingerprint:!0}).assetLoader}},{key:"fetchLessonExtraContent",value:function(e,t){if(!s._.isString(e))throw new Error("The lesson id must be a string for a proper extra content url.");var n,r=(0,h.getPathFromConfig)("lessons"),i=t?"/".concat(t,"_lesson-extra.json"):"";return n=/^_/.test(e)?"temp-content/lessons/".concat(e,"/lesson-extra.json").concat(i):"".concat(r,"/").concat(e,"/lesson-extra.json").concat(i),u.assetUtil.loadJson(n,{fingerprint:!0}).assetLoader}},{key:"fetchDemoLesson",value:function(e){if(!s._.isString(e))throw new Error("The demo id must be a string for a proper demo content url.");var t=(0,h.getPathFromConfig)("demoLesson"),n="".concat(t,"/").concat(e,"/").concat(e,".json");return u.assetUtil.loadJson(n).assetLoader}},{key:"fetchLocalLesson",value:function(e){if(!s._.isString(e))throw new Error("The localFileName must be a string representing a filename in test-app/lessons.");var t=(0,h.getPathFromConfig)("localTestLesson"),n="".concat(t,"/").concat(e,".json");return u.assetUtil.loadJson(n).assetLoader}},{key:"fetchLessonState",value:function(){return c.platformConnectionProvider.connection.stateStore.fetch().then((function(e){return JSON.parse(JSON.stringify(e))}))}},{key:"clearLessonState",value:function(){return c.platformConnectionProvider.connection.stateStore.delete()}},{key:"saveLessonState",value:function(e){return c.platformConnectionProvider.connection.stateStore.save(e)}},{key:"saveLessonResults",value:function(e){var t=e.score,n=e.rawScore,r=e.rawMaxScore,i=A(A({},d.DC_EVENT_PAYLOADS.COMPLETE),{score:t,rawScore:n,rawMaxScore:r,maxScore:s._.isNull(t)?null:100});return Promise.race([d.dataCaptureUtil.sendEvent({type:d.DC_EVENT_TYPES.LESSON,payload:i}),new p.DelayedPromise(300)]).then().catch((function(e){g.utilLogger.error("Error calling Data Capture API: event='".concat(d.DC_EVENT_TYPES.LESSON,"' and payload='").concat(i,"'"),e)})).then((function(){c.platformConnectionProvider.connection.component.complete(t);var e=(0,y.getAutomationState)(_.store.getState()).alertEnabled;!v.environmentUtil.isIntegratedEnvironment()&&e&&(v.environmentUtil.warn("The alert box depicting the lesson score is deprecated. The lesson score is now outputted to the console."),alert("Lesson completed: ".concat(t))),g.utilLogger.info("Lesson completed: ".concat(t))}))}},{key:"closeLesson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Promise.race([d.dataCaptureUtil.sendEvent({type:d.DC_EVENT_TYPES.LESSON,payload:d.DC_EVENT_PAYLOADS.CLOSE,contextData:{screen:e}}),new p.DelayedPromise(300)]).then().catch((function(e){g.utilLogger.error("Error calling Data Capture API: event='".concat(d.DC_EVENT_TYPES.LESSON,"' and payload='").concat(d.DC_EVENT_PAYLOADS.CLOSE,"'"),e)})).then((function(){s._.isEmpty(t)?c.platformConnectionProvider.connection.component.close():c.platformConnectionProvider.connection.remoteLogger.fatal(t)}))}},{key:"startLesson",value:function(){return d.dataCaptureUtil.sendEvent({type:d.DC_EVENT_TYPES.LESSON,payload:d.DC_EVENT_PAYLOADS.START}),c.platformConnectionProvider.connection.component.start()}},{key:"fetchContentRef",value:function(e){if(!s._.isString(e))throw new Error("The ref url must be a string to reference a style json to load.");var t="".concat(e);return u.assetUtil.loadJson(t).assetLoader.then((function(t){return Promise.resolve(s._.merge({ref:e},t))}))}},{key:"fetchLearningComponent",value:function(e){var t=(0,f.queryProvider)(e)||(0,f.queryProvider)("learningComponent");if(!t||!t.load)throw new Error("The Learning Component Provider has not been correctly configured. The iFabric SDK will not be able to load renderers correctly.");return t.load(e).then((function(t){return Promise.resolve({name:e,module:t.module,type:e})})).catch((function(e){return(0,u.criticalAssetErrorHandler)(e)}))}},{key:"loadDisplay",value:function(e){var t=(0,f.queryProvider)("renderer");if(!t||!t.display)throw new Error('The Renderer Provider "renderer" has not been correctly configured. The iFabric SDK will not be able to load renderers correctly.');return t.display(e).then((function(t){return Promise.resolve({name:e,module:t.module,type:e})})).catch((function(e){return(0,u.criticalAssetErrorHandler)(e)}))}},{key:"loadOrchestrator",value:function(e){var t=(0,f.queryProvider)("renderer");if(!t||!t.orchestrator)throw new Error('The Renderer Provider "renderer" has not been correctly configured. The iFabric SDK will not be able to load renderers correctly.');return t.orchestrator(e).then((function(t){return Promise.resolve({name:e,module:t.module})}))}}]),e}());t.webApiUtil=w},function(e,t,n){"use strict";n.r(t);var r=n(71),i=n(0),o=n(25),a=n(1),s=n(120);var u=Object(o.a)((e,t)=>{switch(t.type){case a.NAVIGATION_ON_BACK:case a.NAVIGATION_ON_FORWARD:case a.NAVIGATION_JUMP_TO_SCREEN:case a.NAVIGATION_JUMP_TO_STEP:{const{shared:n}=t.payload;delete e.activeSpans,Object.assign(e,{activeSpans:{},thumbnailsVisible:!1,closeBtnVisible:!1,titleVisible:!0,widgetVisible:!1,navigationVisible:!1,contentVisible:!1}),n&&Object.assign(e,{currentPage:null});break}case a.LESSON_CONTENT_SANITIZED:{const{shared:n}=t.payload.content;Object.assign(e,{readTexts:n});break}case a.TEXT_INIT:Object.assign(e,{thumbnailsVisible:!1,titleVisible:!0,closeBtnVisible:!0,contentVisible:!1,widgetVisible:!0,widgetInitialized:!0,doneEnabled:!1,currentPage:0});break;case a.TEXT_TOGGLE_CONTENT_VISIBLE:{const n=t.payload;Object.assign(e,{contentVisible:n});break}case a.TEXT_ENABLE_UI:{const n=t.payload;Object.assign(e,{enableUI:n});break}case a.TEXT_GO_TO_PAGE:{const n=t.payload;Object.assign(e,{currentPage:n,titleVisible:s.textUtil.shouldShowTitle(n)});break}case a.TEXT_NEXT_PAGE:{const{currentPage:t}=e,n=t+1;Object.assign(e,{currentPage:n,titleVisible:s.textUtil.shouldShowTitle(n)});break}case a.TEXT_PREV_PAGE:{const{currentPage:t}=e,n=t-1;Object.assign(e,{currentPage:n,titleVisible:s.textUtil.shouldShowTitle(n)});break}case a.TEXT_ENABLE_DONE:{const n=t.payload;Object.assign(e,{doneEnabled:n});break}case a.TEXT_PLACE_WIDGET:{const n=t.payload;Object.assign(e,{widgetLocation:n});break}case a.TEXT_TOGGLE_CLASS:{const n=t.payload;Object.assign(e,{activeSpans:n});break}case a.TEXT_TOGGLE_NAVIGATION:{const n=t.payload,r=i._.isNull(n)?e.navigationVisible:n,o=r;Object.assign(e,{navigationVisible:r,thumbnailsVisible:o});break}case a.TEXT_TOGGLE_CLOSE_BTN:{const n=t.payload,r=i._.isNull(n)?e.closeBtnVisible:n;Object.assign(e,{closeBtnVisible:r});break}case a.TEXT_TOGGLE_WIDGET:{const n=t.payload,r=i._.isNull(n)?e.widgetVisible:n;Object.assign(e,{widgetVisible:r});break}case a.TEXT_TOGGLE_TITLE:{const n=t.payload;Object.assign(e,{titleVisible:n});break}case a.TEXT_ENABLE_WORDS:{const n=t.payload;Object.assign(e,{enableWords:n});break}case a.TEXT_READER_LOCATION:{const n=t.payload;Object.assign(e,{readerLocation:n});break}case a.TEXT_EVAL_SELECTION:{const n=t.payload;Object.assign(e,{evalSelection:n});break}}},{contentVisible:!1,readTexts:{},activeHTML:[],currentPage:null,activeSpans:{},navigationVisible:!1,closeBtnVisible:!1,thumbnailsVisible:!1,titleVisible:!0,enableWords:!0,evalSelection:!0,uiEnabled:!1,widgetLocation:{},widgetVisible:!1,doneEnabled:!1,readerLocation:{x:137,y:78,scaleX:1,scaleY:1}}),c=n(77);var l=Object(o.a)((e,t)=>{switch(t.type){case a.LESSON_CONTENT_SANITIZED:{const{screens:n}=t.payload.content,r=JSON.search(n,'//*[(type="html" or type="text") and html="true"]'),o=i._.chain(r).map(({id:e,type:t,value:n})=>({id:e,type:t,value:n})).keyBy("id").value(),a=i._.map(o,e=>{const t=c.htmlUtil.getHTMLText(e);return{id:e.id,getElement:()=>t}});Object.assign(e,{htmlTexts:o,activeHTML:a});break}}},{}),f=n(17);n.d(t,"getReadTextState",(function(){return h})),n.d(t,"getHTMLTextState",(function(){return d}));const h=e=>i._.get(e,f.TEXT_READ_ROOT,{}),d=e=>i._.get(e,f.TEXT_HTML_ROOT,{}),p=Object(r.combineReducers)({read:u,html:l});t.default=p},function(e,t,n){"use strict";var r=n(21);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(55);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}function b(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,u=void 0!==s&&s,f=a.getUserConfirmation,v=void 0===f?_:f,A=a.keyLength,w=void 0===A?6:A,E=e.basename?d(l(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return E&&(o=h(o,E)),g(o,r,n)}function T(){return Math.random().toString(36).substr(2,w)}var S=m();function O(e){Object(r.a)(F,e),F.length=n.length,S.notifyListeners(F.location,F.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(x(e.state))}function k(){N(x(b()))}var P=!1;function N(e){if(P)P=!1,O();else{S.confirmTransitionTo(e,"POP",v,(function(t){t?O({action:"POP",location:e}):function(e){var t=F.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,D(i))}(e)}))}}var I=x(b()),R=[I.key];function L(e){return E+p(e)}function D(e){n.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?(window.addEventListener("popstate",C),o&&window.addEventListener("hashchange",k)):0===M&&(window.removeEventListener("popstate",C),o&&window.removeEventListener("hashchange",k))}var B=!1;var F={length:n.length,action:"POP",location:I,createHref:L,push:function(e,t){var r=g(e,t,T(),F.location);S.confirmTransitionTo(r,"PUSH",v,(function(e){if(e){var t=L(r),o=r.key,a=r.state;if(i)if(n.pushState({key:o,state:a},null,t),u)window.location.href=t;else{var s=R.indexOf(F.location.key),c=R.slice(0,s+1);c.push(r.key),R=c,O({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=g(e,t,T(),F.location);S.confirmTransitionTo(r,"REPLACE",v,(function(e){if(e){var t=L(r),o=r.key,a=r.state;if(i)if(n.replaceState({key:o,state:a},null,t),u)window.location.replace(t);else{var s=R.indexOf(F.location.key);-1!==s&&(R[s]=r.key),O({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),t()}},listen:function(e){var t=S.appendListener(e);return j(1),function(){j(-1),t()}}};return F}var w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(E(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",f=w[s],v=f.encodePath,b=f.decodePath;function A(){var e=b(x());return u&&(e=h(e,u)),g(e)}var S=m();function O(e){Object(r.a)(F,e),F.length=t.length,S.notifyListeners(F.location,F.action)}var C=!1,k=null;function P(){var e,t,n=x(),r=v(n);if(n!==r)T(r);else{var i=A(),a=F.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(k===p(i))return;k=null,function(e){if(C)C=!1,O();else{S.confirmTransitionTo(e,"POP",o,(function(t){t?O({action:"POP",location:e}):function(e){var t=F.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,D(i))}(e)}))}}(i)}}var N=x(),I=v(N);N!==I&&T(I);var R=A(),L=[p(R)];function D(e){t.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?window.addEventListener("hashchange",P):0===M&&window.removeEventListener("hashchange",P)}var B=!1;var F={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n=g(e,void 0,void 0,F.location);S.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=v(u+t);if(x()!==r){k=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(p(F.location)),o=L.slice(0,i+1);o.push(t),L=o,O({action:"PUSH",location:n})}else O()}}))},replace:function(e,t){var n=g(e,void 0,void 0,F.location);S.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=v(u+t);x()!==r&&(k=t,T(r));var i=L.indexOf(p(F.location));-1!==i&&(L[i]=t),O({action:"REPLACE",location:n})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),t()}},listen:function(e){var t=S.appendListener(e);return j(1),function(){j(-1),t()}}};return F}function O(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=m();function f(e){Object(r.a)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(s,0,o.length-1),v=o.map((function(e){return g(e,void 0,"string"==typeof e?h():e.key||h())})),y=p;function _(e){var t=O(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:y,push:function(e,t){var r=g(e,t,h(),b.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=g(e,t,h(),b.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(b.entries[b.index]=r,f({action:"REPLACE",location:r}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.platformConnectionProviderFactory=t.platformConnectionProvider=void 0;var i=r(n(395)),o=r(n(398)),a=r(n(4)),s=r(n(5)),u=n(0),c=n(16),l=n(7),f=n(19),h=n(46),d=n(86),p=n(8),g=n(206),v=function(){function e(){(0,a.default)(this,e),this._connection=null,this._ready=this._load()}var t,r,v,m;return(0,s.default)(e,[{key:"_load",value:(m=(0,o.default)(i.default.mark((function e(){var t,r,o,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.environmentUtil.isIntegratedEnvironment()?n.e(18).then(n.bind(null,728)):n.e(17).then(n.bind(null,729));case 3:return r=e.sent,o=r.platformConnectionFactory,c.environmentUtil.isIntegratedEnvironment()?t=o():(a=window.location.hash,s=c.environmentUtil.getLessonIdFromUrl(a),t=o(s)),e.next=8,t.ready();case 8:return this._connection=t,e.next=11,this._getDashboardDetails();case 11:c.environmentUtil.lessonBridgeExists()&&(window.parent.lessonBridge.setScore=function(){return l.utilLogger.error("You should not be using this method!")}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),l.utilLogger.error("Loading/initializing module ".concat(c.environmentUtil.isIntegratedEnvironment()?"@cainc/platform-connector":"@cainc/mock-platform-connector","\n"),e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(){return m.apply(this,arguments)})},{key:"ready",value:function(){return this._ready}},{key:"setProgress",value:(v=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:this.connection.loader.setProgress(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"_getDashboardDetails",value:(r=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,l,h,d,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.activity.fetch();case 2:return t=e.sent,e.next=5,this.connection.dataCapture.config();case 5:return n=e.sent,e.next=8,this.connection.settings.fetch();case 8:return r=e.sent,e.next=11,this.connection.student.fetch();case 11:if(o=e.sent,f.dataCaptureUtil.activityId=t.id,f.dataCaptureUtil.studentId=o.id,f.dataCaptureUtil.dcEndPoint=u._.get(n,"endpoint",null),f.dataCaptureUtil.dcEnabled=u._.get(n,"serviceEnabled",!1),f.dataCaptureUtil.dcMaxRetries=u._.get(n,"retries.max",1),f.dataCaptureUtil.dcRetryDelay=u._.get(n,"retries.delay",500),c.environmentUtil.isIntegratedEnvironment()||(f.dataCaptureUtil.dcEnabled=!0),a=t.previouslyFailed,s=r.previewMode,l=r.reviewMode,h=r.superUser,d=o,s){e.next=27;break}return e.next=25,this.connection.preferences.fetch();case 25:v=e.sent,p.store.dispatch((0,g.updatePreferences)(v));case 27:this._previouslyFailedLesson=a,this._previewMode=s,this._reviewMode=l,this._userDetails=d,this._superUser=h;case 32:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"persistPreferencesToPlatform",value:(t=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:return t=(0,d.getPreferencesState)(p.store.getState()),e.abrupt("return",this.connection.preferences.update(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"connection",get:function(){if(null===this._connection)throw new Error("Not ready use `await platformConnectionProvider.ready();` before getting connection.");return this._connection}},{key:"superUser",get:function(){return this._superUser}},{key:"credits",set:function(e){l.utilLogger.info("Setting credits to:",e),this.connection.loader.setCredits(e)}},{key:"previouslyFailedLesson",get:function(){return this._previouslyFailedLesson}},{key:"previewMode",get:function(){return this._previewMode},set:function(e){this._previewMode=e,h.storageUtil.disabled=e}},{key:"reviewMode",get:function(){return this._reviewMode}},{key:"userDetails",get:function(){return this._userDetails}}]),e}(),m=new v;t.platformConnectionProvider=m;t.platformConnectionProviderFactory=function(){return new v}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.layoutUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"getBounds",value:function(e){if(!e)throw new Error("getBounds() Failed. clip is undefined or null");var t=e.getBounds&&e.getBounds()||e.nominalBounds;if(a._.isNull(t)||a._.isUndefined(t))throw new Error("getBounds cannot find the bounds of the provided clip");return t}},{key:"center",value:function(e,t){var n=t.getBounds();t.x=.5*(e.width-n.width)|0,t.y=.5*(e.height-n.height)|0,t.x+=e.x,t.y+=e.y,t.x-=t.regX,t.y-=t.regY,t.setBounds(t.x,t.y,n.width,n.height)}}]),e}());t.layoutUtil=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BottomBarContext",{enumerable:!0,get:function(){return r.BottomBarContext}}),Object.defineProperty(t,"UIContext",{enumerable:!0,get:function(){return i.UIContext}}),Object.defineProperty(t,"UIContextProvider",{enumerable:!0,get:function(){return i.UIContextProvider}}),Object.defineProperty(t,"PrefPanelContext",{enumerable:!0,get:function(){return o.PrefPanelContext}}),Object.defineProperty(t,"PrefPanelContextProvider",{enumerable:!0,get:function(){return o.PrefPanelContextProvider}});var r=n(422),i=n(423),o=n(260)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.canvasUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(58),h=n(158),d=n(7),p=n(6);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=Symbol("Max scale"),m=Symbol("Abs max scale"),y=Symbol("Fast"),_=["inheritor","parent","shape","text"],b=new(function(e){(0,s.default)(n,e);var t=g(n);function n(){var e;return(0,i.default)(this,n),e=t.call(this),d.utilLogger.profile((0,a.default)(e),15,[],e.displayName),e._stages=[],e._enabled=[],e._top=null,e._debug=!1,e._waitingWidgets=[],e.graphicsQuality=p.GRAPHICS_QUALITY.HIGH,l.createjs.Ticker.timingMode=l.createjs.Ticker.RAF_SYNCHED,l.createjs.Ticker.framerate=24,e}return(0,o.default)(n,[{key:"recursivelyCleanDisplayObjects",value:function(e){var t=this;e.removeAllEventListeners(),e.bitmapCache&&e.bitmapCache.target&&e.uncache(),l._.forEach(e.children,(function(e){return t.recursivelyCleanDisplayObjects(e)}))}},{key:"getCenter",value:function(e,t){var n=f.layoutUtil.getBounds(e),r=f.layoutUtil.getBounds(t);return{x:n.x+(n.width-r.width)/2-r.x,y:n.y+(n.height-r.height)/2-r.y}}},{key:"addStage",value:function(e){d.utilLogger.info("addStage",e.name),this._stages.push(e),e.enableDOMEvents(!0),l.is.not.ios()&&e.enableMouseOver(),l.createjs.Touch.enable(e,!0,!1),e.preventSelection=!1,this._addWaitingWidgets(e),this.emit("stageAdded",e)}},{key:"_addWaitingWidgets",value:function(e){l._.remove(this._waitingWidgets,(function(t){var n=t.widget,r=t.stageName;return!(e.name!==r&&!l._.isNull(r))&&(e.addChild(n),!0)}))}},{key:"addWidgetToStage",value:function(e,t){var n=this.getStage(t);n?n.addChild(e):this._waitingWidgets.push({widget:e,stageName:t})}},{key:"setLibraryNames",value:function(e){l._.forEach(e,(function(e,t){e&&e.prototype&&(e.prototype.clipName=t)}))}},{key:"getStage",value:function(e){return l._.find(this._stages,(function(t){return t.name===e}))}},{key:"removeStage",value:function(e){if(e.enableDOMEvents(!1),e.enableMouseOver(0),l.createjs.Touch.isSupported()){l.createjs.Touch.disable(e);var t=e.canvas;t.width=0,t.height=0}l._.pull(this._stages,e),this.emit("stageRemoved",e)}},{key:"applyColorFilter",value:function(e,t){var n=t.color,r=t.brightness,i=t.contrast,o=t.saturation,a=t.hue,s=t.replace,u=void 0===s||s;if(e.filters&&!u||(e.filters=[]),r||i||o||a){var c=(new l.createjs.ColorMatrix).setColor(r,i,o,a),h=new l.createjs.ColorMatrixFilter(c);e.filters.push(h)}if(n){var d=n.r,p=n.g,g=n.b,v=n.a,m=new l.createjs.ColorFilter(d[0],p[0],g[0],v[0],d[1],p[1],g[1],v[1]);e.filters.push(m)}var y=f.layoutUtil.getBounds(e);return e.cache(y.x,y.y,y.width,y.height),e}},{key:"removeAllFilters",value:function(e){return e.filters=[],e.cacheID&&e.updateCache(),e}},{key:"tweenColor",value:function(e,t){var n=t.color,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.remove||!1,o=l._.isNumber(r.duration)?r.duration:2,a=r.onUpdate||l._.noop,s=r.onComplete||l._.noop,u=f.layoutUtil.getBounds(e);if(u)if(e.cache(u.x,u.y,u.width,u.height),i)TweenLite.to(e,o,{easel:{tint:16777215,tintAmount:0},onUpdate:a,onComplete:function(){e.updateCache(),s()}});else if(n){var c=n.r,h=n.g,d=n.b,p=n.a,g=new l.createjs.ColorFilter(c[0],h[0],d[0],p[0],c[1],h[1],d[1],p[1]);TweenLite.to(e,o,{easel:{colorFilter:g},onUpdate:a,onComplete:function(){e.updateCache(),s()}})}}},{key:"switchParent",value:function(e,t){var n=e.parent.localToLocal(e.x,e.y,t);t.addChild(e),e.x=n.x,e.y=n.y}},{key:"switchPlacement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"contain",i=e.getTransformedBounds(),o=e.parent;if(o){var a=o.getChildIndex(e);o.addChildAt(t,a),t.x=e.x-e.regX*e.scaleX,t.y=e.y-e.regY*e.scaleY,h.sizingUtil.autoResizeBitmap(t,i.width,i.height,r,"offset"),n?o.removeChild(e):e.visible=!1}else d.utilLogger.error("Placement parent is null, please republish assets",e)}},{key:"ghost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6,n=e.getBounds();e.cache(n.x,n.y,n.width,n.height),e.alpha=t}},{key:"unghost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.uncache(),e.alpha=t}},{key:"moveRegPoint",value:function(e,t,n){var r=t-e.regX,i=n-e.regY;e.regX+=r,e.regY+=i,e.x+=r,e.y+=i}},{key:"scale",value:function(e,t){var n=t.scale,r=void 0===n?1:n,i=t.onUpdate,o=void 0===i?l._.noop:i,a=t.onComplete,s=void 0===a?l._.noop:a,u=t.duration,c=void 0===u?.2:u,h=f.layoutUtil.getBounds(e);this.moveRegPoint(e,h.width/2,h.height/2),TweenMax.to(e,c,{scaleX:r,scaleY:r,ease:Elastic.easeInOut.config(.75,.3),onUpdate:o,onComplete:s})}},{key:"cloneCanvas",value:function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}},{key:"optimize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._debug,i={},o={value:0},a=[];if(n?this._recursiveNodeAnalysis(e,i,y,t,r):(this._recursiveNodeAnalysis(e,i,v,t,r),this._recursiveNodeAnalysis(e,i,m,t,r)),this._cache(i,r,o,a),r){for(var s=0;s<a.length;s++)d.utilLogger.warn("Object with a larger size than ".concat(2048,":\n          (width: ").concat(a[s].nominalBounds.width*a[s].absoluteMaximumScale,",\n          height: ").concat(a[s].nominalBounds.height*a[s].absoluteMaximumScale,"),\n          object: ").concat(a[s]));var u=o.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");u>55e6&&d.utilLogger.log("Total pixels cached (maximum iPad2 55,000,000): ".concat(u," "))}return e}},{key:"showContainerBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"red",n=e.getBounds(),r=new l.createjs.Shape((new l.createjs.Graphics).f(t).dr(0,0,n.width,n.height));return r.alpha=.3,e.addChild(r),r}},{key:"_cache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;l._.forEach(e,(function(i,o){var a=e[o].items[0],s=e[o].absoluteMaximumScale||1,u=a.nominalBounds;if(u.width*s<=2048&&u.height*s<=2048){t&&(a.filters=[new l.createjs.ColorFilter(1,0,0,.3,255,0,0,0)],n.value+=Math.ceil(u.width*u.height*(a.absoluteMaximumScale||1))),a.cache(u.x,u.y,Math.min(2048,u.width),Math.min(2048,u.height),s);for(var c=1;c<e[o].items.length;c++){var f=e[o].items[c];f._cacheOffsetX=a._cacheOffsetX,f._cacheOffsetY=a._cacheOffsetY,f._cacheScale=a._cacheScale,f.cacheCanvas=a.cacheCanvas,f.cacheID=a.cacheID}}else r.push(a)}))}},{key:"_setMaximumScale",value:function(e,t){void 0===e.maximumScale?e.maximumScale=t||1:e.maximumScale=Math.max(t,e.maximumScale)}},{key:"_findMaximumScale",value:function(e){var t=Math.max(e.scaleX,e.scaleY);if(this._setMaximumScale(e,t),e.timeline)for(var n=0;n<e.timeline.tweens.length;n++)for(var r=e.timeline.tweens[n],i=r._stepHead;i;){var o=r._stepHead;if(o.props.state)for(var a=o.props.state,s=0;s<a.length;s++)a[s].t&&(t=Math.max(t,a[s].t.scaleX,a[s].t.scaleY),this._setMaximumScale(a[s].t,t));i=i.next}}},{key:"_findAbsoluteMaximumScale",value:function(e){var t=e.maximumScale;return e.inheritor&&(t*=this._findAbsoluteMaximumScale(e.inheritor)),t}},{key:"_addParent",value:function(e,t){e.inheritor=t}},{key:"_containsATimeline",value:function(e){if(l._.has(e,"containsTimeline"))return e.containsTimeline;if(e.timeline&&e.timeline.duration>0)return e.containsTimeline=!0,!0;if(e.children)for(var t=0;t<e.children.length;t++)if(this._containsATimeline(e.children[t]))return e.containsTimeline=!0,!0;return e.containsTimeline=!1,!1}},{key:"_isCacheable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!!t&&this._containsATimeline(e),i=-1===e.toString().indexOf("[Bitmap ");if(e.nominalBounds&&void 0!==e.inheritor&&!e.noCache&&!r&&i)return!0;if(n){var o="";e.nominalBounds||(o+="(no nominal bounds) "),void 0===e.inheritor&&(o+="(no inheritor) "),r&&(o+="(contains timeline) "),i||(o+="(is bitmap) "),d.utilLogger.info("".concat(e.clipName," not cacheable because: ").concat(o))}return!1}},{key:"_recursiveNodeAnalysis",value:function(e,t,n,r,i){var o=this;if(n===y)void 0!==e.clipName?this._isCacheable(e,r,i)&&(t[e.clipName]?t[e.clipName].items.push(e):t[e.clipName]={items:[e],absoluteMaximumScale:1}):d.utilLogger.warn("no clipName",e);else if(n===v)this._findMaximumScale(e);else if(n===m&&void 0!==e.clipName){var a=this._findAbsoluteMaximumScale(e);l._.has(e,"absoluteMaximumScale")||(e.absoluteMaximumScale=0),e.absoluteMaximumScale=Math.max(a,e.absoluteMaximumScale),this._isCacheable(e,r,i)&&(t[e.clipName]?(t[e.clipName].items.push(e),t[e.clipName].absoluteMaximumScale=Math.max(t[e.clipName].absoluteMaximumScale,e.absoluteMaximumScale)):t[e.clipName]={items:[e],absoluteMaximumScale:e.absoluteMaximumScale})}var s=function(e,a){o._addParent(e,a),o._recursiveNodeAnalysis(e,t,n,r,i)};if(void 0===e.clipName)l._.forEach(e.children,(function(t){s(t,e)}));else for(var u in e)if(l._.has(e,u)){var c=e[u];-1===_.indexOf(u.split("_")[0])&&c&&l._.has(c,"_rectangle")&&s(c,e)}}},{key:"debug",set:function(e){this._debug=e}},{key:"graphicsQuality",get:function(){return this._graphicsQuality},set:function(e){var t=this._graphicsQuality;this._graphicsQuality=e,t!==e&&this.emit("graphicsQualityChanged",e)}}]),n}(l.Emitter));t.canvasUtil=b},function(e,t,n){"use strict";n.r(t),n.d(t,"setComponentLoading",(function(){return A})),n.d(t,"rendererStateUpdated",(function(){return w})),n.d(t,"fetchLearningComponent",(function(){return x})),n.d(t,"loadLearningComponent",(function(){return T})),n.d(t,"changeScreen",(function(){return S})),n.d(t,"preloadNext",(function(){return O}));var r=n(1),i=n(0),o=n(80),a=n(7),s=n(14),u=n(22),c=n(78),l=n(116),f=n(20),h=n(117),d=n(51),p=n(293),g=n.n(p),v=n(46),m=n(26),y=n(89),_=n(97),b=n(90);const A=e=>({type:r.LC_SET_LOADING,payload:e}),w=e=>({type:r.LC_RENDERER_STATE_UPDATED,payload:e}),E=e=>({type:r.LC_SET_PRELOADING,payload:e}),x=(e,t,n,a,s={},u={},c)=>(l,f)=>{const h={lessonInfo:t,screenData:n,userData:a,sharedScreenContent:s,options:u};return d.webApiUtil.fetchLearningComponent(e).then(e=>{const t=e.module.default,n=i._.extend({defaultKeyName:h.screenData.id},{getItem:v.storageUtil.getItem,setItem:v.storageUtil.setItem}),a=new t(h,n,g.a);try{a.load(()=>{const e=h.screenData.id;var t;l((t={screenId:e,component:a},{type:r.LC_LOAD_SUCCESS,payload:t})),o.learningComponentStorage.addComponent(e,a);const{preloading:n}=Object(b.getLearningComponentState)(f());n&&l(E(!1)),e===i._.get(c,"id")&&(m.preloadUtil.updateAndEase({pct:m.PROGRESS.LOADED_FIRST_RENDERER,msg:"first renderer loaded"}),l(A(!1)))})}catch(e){l((s=e,{type:r.LC_LOAD_FAILURE,payload:s}))}var s})},T=(e,t,n=!1)=>(r,o)=>{a.storeLogger.info(`Pre-loading learning component with id '${e}'`);const{preloading:c,modules:d}=Object(b.getLearningComponentState)(o()),p=Object(s.getScreen)(o(),e),g=i._.get(p,"style.id"),v=u.assetUtil.config[g],m=i._.get(v,"module")||(Object(l.queryProvider)(g)?g:null)||d[e]||u.assetUtil.config.defaults.module;c||(r(E(n)),r(x(m,Object(f.getLessonInfo)(o()),i._.cloneDeep(p),Object(h.getUserDetails)(o()),Object(f.getLessonSharedScreenContent)(o()),v,t)),e===i._.get(t,"id")&&r(A(!0)))},S=e=>(t,n)=>{t(E(!1));const r=e?e.id:null,a=o.learningComponentStorage.getComponents();i._.each(a,e=>{r===e.screenData.id||e._started||e.destroy()}),Object(y.isAppReady)(n())&&r&&(o.learningComponentStorage.getComponent(r)?o.learningComponentStorage.resetComponents(i._.pick(a,r)):(o.learningComponentStorage.resetComponents(),t(T(r,e))))},O=({currentStep:e,nextStep:t,adaptivityResults:n,stepState:r,decisionPoints:o})=>(a,s)=>{const{id:u,isAdaptivePoint:l,preloadArray:h}=e;if(l&&!i._.isEmpty(h)){const t=i._.find(n,e=>e.from===u);if(t)a(T(t.to,e));else{const t=i._.cloneDeep(Object(f.getLessonResults)(s()).results);c.learningComponentUtil.updateResultsData(t,u);const n=_.adaptivityUtil.getAdaptiveStepsToPreload({currentStep:e,stepState:r,decisionPoints:o,results:t});i._.forEach(i._.isEmpty(n)?h:n,(t,n)=>{a(T(t,e,!!n))})}}else{const n=i._.get(t,"id");n&&a(T(n,e))}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.screenActions=t.audioActions=t.handler=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new a.Emitter;function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,n=new e,r=[],i=n;i&&i!==Object.getPrototypeOf({});)r=r.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return r=a._.uniq(r),a._.forEach(r,(function(e){if("constructor"!==e){var r=n[e];a._.isFunction(r)&&(n[e]=a._.wrap(r,(function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=n.apply(this,i);s.emit("".concat(t,".").concat(e),a)})))}})),n}t.handler=s;var c=u(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"start",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a._.isString(e))throw new Error("audio asset must be an object");return{asset:e,context:t,overlap:i,onComplete:n,onStart:r}}},{key:"stop",value:function(e){return e}},{key:"overlap",value:function(e,t,n){if(a._.isString(e))throw new Error("audio asset must be an object");return this.start(e,"USER",t,n,!0)}}]),e}(),"AudioActions");t.audioActions=c;var l=u(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"failure",value:function(){return!1}},{key:"ready",value:function(){return!1}},{key:"help",value:function(){return!1}},{key:"awaitingUserInput",value:function(){return!1}},{key:"disableUserInput",value:function(){return!1}},{key:"complete",value:function(){return!1}},{key:"finish",value:function(){return!1}},{key:"done",value:function(){return!1}},{key:"showDone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}},{key:"hideDone",value:function(){return!1}},{key:"enableDone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}},{key:"showCustomButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}},{key:"hideCustomButton",value:function(){return!1}},{key:"enableCustomButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}},{key:"enableHelp",value:function(){return!1}},{key:"disableHelp",value:function(){return!1}},{key:"showConsole",value:function(){return!1}},{key:"hideConsole",value:function(){return!1}},{key:"optionSelect",value:function(e){return a._.isString(e)?{id:e}:e}},{key:"optionDeselect",value:function(e){return e}}]),e}(),"ScreenActions");t.screenActions=l},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.navSectionUtil=t.QUIZ_SECTIONS=void 0;var i=r(n(4)),o=r(n(5)),a=n(6),s=[a.LESSON_SECTION.QUIZ,a.LESSON_SECTION.REVIEW];t.QUIZ_SECTIONS=s;var u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"isQuiz",value:function(e){return s.includes(e)}},{key:"getSectionName",value:function(e){var t=e;return(t="tutorial"===t.toLowerCase()?a.LESSON_SECTION.INSTRUCTION:t).toLowerCase()}},{key:"sections",get:function(){return{INDEPENDENT_PRACTICE:"Independent Practice",MODELED_INSTRUCTION:"Modeled Instruction",GUIDED_PRACTICE:"Guided Practice"}}}]),e}());t.navSectionUtil=u},function(e,t,n){"use strict";n.r(t),n.d(t,"update",(function(){return h})),n.d(t,"setCurrentStepState",(function(){return d})),n.d(t,"closeLesson",(function(){return p})),n.d(t,"completeLesson",(function(){return g}));var r=n(0),i=n(101),o=n(149),a=n(38),s=n(9),u=n(51),c=n(14),l=n(16),f=n(1);function h(e){return{type:f.NAVIGATION_UPDATE,payload:e}}function d(e){return{type:f.NAVIGATION_CURRENT_STEP_STATE,payload:e}}const p=(e="",t=!1)=>(n,i)=>{const o=i();Object(s.isCurrentInProgress)(o)&&n(d({inProgress:!1}));r._.get(o,"app.state.started",!1)&&(Object(s.getNavigationState)(o).lessonComplete||u.webApiUtil.closeLesson(Object(c.getCurrentScreen)(o),e).then(()=>{n(h({lessonClose:!0}))}),l.environmentUtil.isIntegratedEnvironment()?n(h({lessonComplete:!0})):alert("Lesson Closed")),t||n(Object(a.createAndSaveLessonState)())};function g(){return e=>{e(Object(i.a)()),e(Object(o.a)()),e(Object(a.createAndSaveLessonState)())}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.focusManager=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new(function(){function e(){(0,i.default)(this,e),this._backwardElement=null,this._forwardElement=null,a._.bindAll(this,["clearReferences","backward","forward"])}return(0,o.default)(e,[{key:"clearReferences",value:function(){this._backwardElement=null,this._forwardElement=null}},{key:"backward",value:function(){return this._move("_backwardElement")}},{key:"forward",value:function(){return this._move("_forwardElement")}},{key:"_move",value:function(e){var t=!1;return this[e]&&this[e].focus&&(this[e].focus(),t=!0),this.clearReferences(),t}},{key:"backwardElement",get:function(){return this._backwardElement},set:function(e){this._backwardElement=e}},{key:"forwardElement",get:function(){return this._forwardElement},set:function(e){this._forwardElement=e}}]),e}());t.focusManager=s},function(e,t,n){var r=n(391);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseControllerView=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(7);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),f.controllerLogger.profile((0,a.default)(r),15),r.state={},r}return(0,o.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=e!==this.props;for(var r in t){if(n)break;n=t[r]!==this.state[r]}return n}}]),n}(l.React.Component);t.BaseControllerView=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.eventManager=t.INTERNAL_CONTEXT=t.GLOBAL_CONTEXT=t.DEFAULT_TARGET=void 0;var i=r(n(37)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(35),c=n(7),l=window;t.DEFAULT_TARGET=l;t.GLOBAL_CONTEXT="global";t.INTERNAL_CONTEXT="internal";var f=new(function(){function e(){var t=this;(0,o.default)(this,e),this._removeAll=function(e){e.forEach((function(e){var t=e.eventName,n=e.target,r=e.callback;n.removeEventListener(t,r)})),s._.pullAll(t._handlers,e)},this._handlers=[]}return(0,a.default)(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;u.assertUtil.isString("EventManager","on","event",e),u.assertUtil.isFunction("EventManager","on","callback",t);var r=e.split(":"),o=(0,i.default)(r,2),a=o[0],s=o[1];n.addEventListener(a,t),this._handlers.push({eventName:a,eventContext:s,callback:t,target:n})}},{key:"off",value:function(e,t,n){var r=e?e.split(":"):[],o=(0,i.default)(r,2),a={eventName:o[0],eventContext:o[1],callback:t,target:n};Object.keys(a).forEach((function(e){s._.isEmpty(a[e])&&!s._.isFunction(a[e])&&delete a[e]})),u.assertUtil.isNotEmptyArray("EventManager","off","properties",Object.entries(a)),this._removeAll(s._.filter(this._handlers,a))}},{key:"clean",value:function(e){e?s._.find(this._handlers,{eventContext:e})?this._removeAll(this._handlers.filter((function(t){var n=t.eventContext;return e===n}))):c.utilLogger.warn("No event handlers found in eventManager for eventContext: ".concat(e)):(c.utilLogger.warn("No eventContext passed, removing all event handlers added using eventManager except global or internal ones"),this._removeAll(this._handlers.filter((function(e){var t=e.eventContext;return"global"!==t&&"internal"!==t}))))}},{key:"removeAllLocal",value:function(e){this._removeAll(this._handlers.filter((function(e){return e.target!==l})).filter((function(t){var n=t.eventContext;return s._.isUndefined(e)||e===n})))}},{key:"removeAllGlobal",value:function(e){this._removeAll(this._handlers.filter((function(e){return e.target===l})).filter((function(t){var n=t.eventContext;return s._.isUndefined(e)||e===n})))}},{key:"handlers",get:function(){return this._handlers}}]),e}());t.eventManager=f},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceRunner=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=r(n(24)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(6),h=n(8),d=n(0),p=n(424),g=n(214),v=n(426),m=n(127),y=n(427),_=n(62),b=n(45),A=n(34),w=n(92),E=n(82),x=n(7),T=n(29);function S(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var C=new(function(e){(0,u.default)(n,e);var t=O(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this))._runningTasks=[],e._characterProperties={plory:{layer:"fg"},yoop:{layer:"fg"},snargg:{layer:"fg"}},e._characterAudio={plory:{currentAudioId:null},yoop:{currentAudioId:null},snargg:{currentAudioId:null}},e._activeDisplayAnimations=[],e._cacheAnimations=[],e._activeCharacterAnimations=[],e._soundIds={},d._.bindAll((0,s.default)(e),"onPlay","onEnd"),A.audioPlayer.on("play",e.onPlay),A.audioPlayer.on("end",e.onEnd),e.on("change",(function(){h.store.dispatch((0,T.animationInProgress)(e.isAnimationInProgress()))})),e}return(0,a.default)(n,[{key:"start",value:function(e){if(!d._.isEmpty(e)){x.globalLogger.info("START ANIMATION",e);var t=w.jsonUtil.jsonify(e);this._cacheAnimations=JSON.search(t,'//*[type="animation" and queue="'.concat(f.ANIMATION_QUEUE.CHARACTERS,'"]'));var n=this._toTasks(e,[]),r=d._.bind(d._.pull,d._,this._runningTasks,n);return this._runningTasks.push(n),this.emit("change"),n.start().then(r).then((function(){d._.forEach(n,(function(e){return e.clean()}))})).catch(r),n}return null}},{key:"abort",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.killAllTweens,r=void 0===n||n;x.globalLogger.info("Aborting all sequences with killAllTweens = ".concat(r)),d._.forEach(S(i.default,this._runningTasks),(function(t){return e.abortSequenceTasks(t)})),m.Task.resetTaskMap(),A.audioPlayer.getContexts().forEach((function(e){return e.stop()})),r&&b.animationUtil.stopUpdates(),this._activeDisplayAnimations=[],this._cacheAnimations=[],this._activeCharacterAnimations=[],this._characterAudio={plory:{currentAudioId:null},yoop:{currentAudioId:null},snargg:{currentAudioId:null}},this._toTasks({type:"hide"}).start(),this.emit("change")}},{key:"abortSequenceTasks",value:function(e){d._.pull(this._runningTasks,e),e.abort(),e.clean()}},{key:"soundStart",value:function(e){var t=this,n=e.id,r=this.getLatestAudioGroupData(n);r&&d._.forEach(r.npcMap,(function(e,n){t._soundIds[n]=e}))}},{key:"onPlay",value:function(e){var t=this._soundIds[e];if(t){var n=this._characterAudio[t];n&&(n.currentAudioId=e)}this.emit("change")}},{key:"onEnd",value:function(e){var t=this._soundIds[e];if(t){var n=this._characterAudio[t.toLowerCase()];n&&(n.currentAudioId=null,delete this._soundIds[e])}this.emit("change")}},{key:"_toTasks",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,E.createId)(),u=d._.isArray(e)?d._.head(e).type:e.type,c=d._.isArray(e)?d._.head(e).instructionId:e.instructionId;switch(u){case"sequence":var l=d._.remove(d._.cloneDeep(d._.isArray(e)?e:e.value),(function(e){return!d._.isEmpty(e)&&!d._.has(e,"delete")})),h=l.shift(),b=d._.map(l,(function(e){return r._toTasks(e,o,a)}));t=new y.TaskRunner(s,b,h.execution===f.SEQUENCE_EXECUTION.PARALLEL);break;case"audio":t=new p.AudioTask(s,e);break;case"direct":t=new v.InstantTask((0,E.createId)(),(function(){if(e.target){var t=r._characterProperties[e.target];"front"===e.layer?t.layer="fg":"back"===e.layer&&(t.layer="bg"),r.emit("change")}return Promise.resolve()}));break;case"animation":e.queue===f.ANIMATION_QUEUE.DISPLAY?(n=this._startDisplayAnimation.bind(this,e),e.displayAnimationId=(0,E.createId)(),t=new g.DeferredTask(e.displayAnimationId,n),e.complete=this._completeDisplayAnimation.bind(this,e.displayAnimationId,t)):(n=this._startAnimation.bind(this,e,o,a),e.animationId=(0,E.createId)(),t=new g.DeferredTask(e.animationId,n),e.complete=this._completeAnimation.bind(this,e.animationId,t));break;case"tween":case"effect":case"wait":case"hide":n=this._startAnimation.bind(this,e,o,a),e.animationId=(0,E.createId)(),t=new g.DeferredTask(s,n),e.complete=this._completeAnimation.bind(this,e.animationId,t);break;case"delay":e.animationId=(0,E.createId)(),t=new g.DeferredTask(s,(function(){TweenMax.delayedCall(e.duration,t.done)}));break;case"enableUI":t=new v.InstantTask(s,(function(){_.screenActions.awaitingUserInput()}));break;case"disableUI":t=new v.InstantTask(s,(function(){_.screenActions.disableUserInput()}));break;case"enableHelp":t=new v.InstantTask(s,(function(){_.screenActions.enableHelp()}));break;case"disableHelp":t=new v.InstantTask(s,(function(){_.screenActions.disableHelp()}));break;case"completeScreen":t=new v.InstantTask(s,(function(){_.screenActions.complete()}));break;case"finish":t=new v.InstantTask(s,(function(){_.screenActions.finish()}));break;case"attachFocus":t=new v.InstantTask(s,(function(){document.querySelector("".concat(e.selector)).focus()}));break;case"execute":t=new v.InstantTask(s,(function(){e.method.apply(null,e.args)}));break;case"executeAndWait":t=new g.DeferredTask(s,(function(){e.method.apply(null,[t.done].concat(S(i.default,e.args)))}));break;case"navigate":throw new Error('"navigate" is no longer a supported feature.');default:throw new Error("Unknown sequence type: ".concat(u))}return x.globalLogger.info("Created ".concat(u," task ").concat(t.id),e),m.Task.taskMap[t.id]=e,o.push(t.id),a[c]=t,t}},{key:"_startDisplayAnimation",value:function(e){this._activeDisplayAnimations.push(e),this.emit("change")}},{key:"_completeDisplayAnimation",value:function(e,t){t.done(),this._removeDisplayAnimation(e)}},{key:"_removeDisplayAnimation",value:function(e){var t=d._.find(this._activeDisplayAnimations,{displayAnimationId:e});d._.pull(this._activeDisplayAnimations,t),this.emit("change")}},{key:"_startAnimation",value:function(e,t,n){var r;if(e.layer){var i=this._characterProperties[e.target];"front"===e.layer?i.layer="fg":"back"===e.layer&&(i.layer="bg")}if(e.loopWhile||e.loopUntil){var o=e.loopWhile||e.loopUntil;e.loopWhile?(delete e.loopWhile,e.looping=!0,e.waitForComplete=!0):e.loopUntil&&(delete e.loopWhile,e.looping=!0,e.waitForComplete=!1),e.loop=!0,r=n[d._.isArray(o)?d._.head(o).instructionId:o.instructionId]||this._toTasks(o,t,n)}this._activeCharacterAnimations.push(e),this.emit("change"),r&&(r instanceof p.AudioTask&&r._completed?this._closeLoop(e.animationId):r.start().then(this._closeLoop.bind(this,e.animationId)))}},{key:"_closeLoop",value:function(e){var t=d._.find(this._activeCharacterAnimations,{animationId:e});t&&(t.loop=!1),this.emit("change")}},{key:"_completeAnimation",value:function(e,t){t.done(),this._removeAnimation(e)}},{key:"_removeAnimation",value:function(e){var t=d._.find(this._activeCharacterAnimations,{animationId:e});if(t){if(!0===t.loop)throw new Error("Must wait for looped dependency to complete.");d._.pull(this._activeCharacterAnimations,t),this.emit("change")}else x.globalLogger.info("No active character animation found with id ".concat(e,". Ignoring."))}},{key:"isAnimationInProgress",value:function(){if(d._.isEmpty(this.activeDisplayAnimations)&&d._.isEmpty(this.activeCharacterAnimations))return!1;for(var e,t,n=0;n<this.activeDisplayAnimations.length;n++)if(e=this.activeDisplayAnimations[n],(t=d._.get(e,"params.directive.type"))&&"callable-mechanism"!==t)return!0;return!1}},{key:"characterAudio",get:function(){return this._characterAudio}},{key:"characterProperties",get:function(){return this._characterProperties}},{key:"activeDisplayAnimations",get:function(){return this._activeDisplayAnimations}},{key:"activeCharacterAnimations",get:function(){return this._activeCharacterAnimations}},{key:"cacheAnimations",get:function(){return this._cacheAnimations}}]),n}(d.Emitter));t.sequenceRunner=C},function(e,t,n){"use strict";n.r(t);var r=n(100);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return c})),n.d(t,"applyMiddleware",(function(){return v})),n.d(t,"bindActionCreators",(function(){return p})),n.d(t,"combineReducers",(function(){return h})),n.d(t,"compose",(function(){return g})),n.d(t,"createStore",(function(){return f}));var s="function"==typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(a(1));return n(f)(e,t)}if("function"!=typeof e)throw new Error(a(2));var i=e,o=t,u=[],h=u,d=!1;function p(){h===u&&(h=u.slice())}function g(){if(d)throw new Error(a(3));return o}function v(e){if("function"!=typeof e)throw new Error(a(4));if(d)throw new Error(a(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(a(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),u=null}}}function m(e){if(!l(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(d)throw new Error(a(9));try{d=!0,o=i(o,e)}finally{d=!1}for(var t=u=h,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!=typeof e)throw new Error(a(10));i=e,m({type:c.REPLACE})}function _(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return m({type:c.INIT}),(r={dispatch:m,subscribe:v,getState:g,replaceReducer:y})[s]=_,r}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(a(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if(void 0===h){t&&t.type;throw new Error(a(14))}i[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=d(i,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=g.apply(void 0,s)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.stateUtil=t.DEFAULT_STATE_CHAR_LIMIT=t.CURRENT_SCHEMA_ID=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(46),u=n(7),c=n(51),l=n(6),f=n(50);t.CURRENT_SCHEMA_ID="1.3.0";t.DEFAULT_STATE_CHAR_LIMIT=1e5;var h=new(function(){function e(){(0,i.default)(this,e),a._.bindAll(this,["migrate","sanitizeState","isValid"])}return(0,o.default)(e,[{key:"checkVersion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!a._.isNull(t)&&e.author_info.lesson_revision===t.version}},{key:"sanitizeState",value:function(e){return this.isValid(e)?e:{initial:!0}}},{key:"isValid",value:function(e){var t=a._.get(e,"version");return a._.isString(t)&&!a._.isEmpty(t)}},{key:"isFingerprinted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lesson";return!a._.isEmpty(a._.get(e,"fingerprints.".concat(t),""))}},{key:"migrate",value:function(e){var t=function(e){return a._.has(e,"navigationStore.serializable")&&a._.has(e,"screenStore.serializable")},n=e||{};if(n.schema=e&&!n.schema?"1.0.0":n.schema,n.schema&&n.schema!==this.currentSchemaId)for(n=a._.cloneDeep(e);n.schema!==this.currentSchemaId;)switch(n.schema){case"1.0.0":t(n)&&(delete n.navigationStore.serializable,n.screenStore=n.screenStore.states),n=this._convertV100ToV110(n);break;case"1.1.0":n=this._convertV110ToV120(n);break;case"1.2.0":n=this._convertV120ToV130(n);break;default:throw new Error("no migration available for schema: ".concat(n.schema))}return n}},{key:"createState",value:function(e){var t=e.navigation,n=e.results,r=e.version,i=e.fingerprints;return{navigationStore:t,resultsStore:n,storage:a._.transform(a._.range(s.storageUtil.length),(function(e,t){var n=s.storageUtil.key(t);e[n]=s.storageUtil.getItem(n)}),{}),version:r,schema:this.currentSchemaId,fingerprints:i}}},{key:"saveState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=this.isValid(e);return r&&JSON.stringify(e).length>n&&u.storeLogger.warn("state for lesson ".concat(t," exceeds ").concat(n," characters")),r?c.webApiUtil.saveLessonState(e):Promise.reject(new Error("Invalid lesson state: ".concat(e)))}},{key:"exitDataFromStateToRedux",value:function(e){var t=l.ADP.SELECTORS.EXIT_DATA,n=a._.cloneDeep(e),r=a._.get(n,"resultsStore.results",{});return a._.transform(r,(function(e,n,r){var i=a._.get(n,t);i&&(e[r]=i,delete n[t])}),{})}},{key:"exitDataReduxToState",value:function(e,t){var n=l.ADP.SELECTORS.EXIT_DATA,r=a._.cloneDeep(e);return a._.forEach(r.results,(function(e){var r=a._.get(t,e.screenId);r&&(e[n]=r)})),r}},{key:"loadState",value:function(){return c.webApiUtil.fetchLessonState().then(this.sanitizeState).then(this.migrate)}},{key:"clearState",value:function(){return c.webApiUtil.clearLessonState()}},{key:"createDefaultScreenResult",value:function(e){return{screenId:e,raw:0,max:0}}},{key:"_convertV100ToV110",value:function(e){var t=this;e.resultsStore={results:{}},e.storage={};var n=e.navigationStore?e.navigationStore.stepState:null,r=e.screenStore,i=e.resultsStore.results,o=e.storage;return a._.forEach(a._.keys(n),(function(e){var o={inProgress:!1,finished:!1,visited:!1},s=r[e]||o,u=s.inProgress,c=s.finished,l=s.visited;n[e]=a._.merge(o,{inProgress:u,finished:c,visited:l},n[e]),i[e]=t.createDefaultScreenResult(e)})),a._.forEach(r,(function(e,t){var n=e.result,r=n.score,a=n.max,s=n.screenId;i[t]={raw:r,max:a,screenId:s},o[t]=JSON.stringify(e)})),delete e.screenStore,e.schema="1.1.0",e}},{key:"_convertV110ToV120",value:function(e){if(e.navigationStore){delete e.navigationStore.totalSteps,delete e.navigationStore.markers,delete e.navigationStore.firstStep,delete e.navigationStore.lastStep,delete e.navigationStore.priorStep,delete e.navigationStore.activities,delete e.navigationStore.destinationIds,delete e.navigationStore.currentProgress,delete e.navigationStore.showMenuButton,delete e.navigationStore.decisionPoints;var t=e.navigationStore.adaptivityResults,n=a._.find(t,(function(e){return"breadcrumbs-start"===e.from}));n&&(n.from="nav-steps-root"),this._renameKey(e.navigationStore,"apex","highestReachedStepId")}return e.schema="1.2.0",e}},{key:"_convertV120ToV130",value:function(e){var t=e.navigationStore;return t&&(t.skips=[],t.highestReachedStepId===f.NAV_ROOT_ID&&(t.stepState[f.NAV_ROOT_ID].complete=!1)),e.schema="1.3.0",e}},{key:"_renameKey",value:function(e,t,n){e[n]=e[t],delete e[t]}},{key:"currentSchemaId",get:function(){return"1.3.0"}}]),e}());t.stateUtil=h},function(e,t,n){(function(n){var r;
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */!function(n,i){"use strict";var o={},a=n.document,s=n.GreenSockGlobals=n.GreenSockGlobals||n;if(!s.TweenLite){var u,c,l,f,h,d,p,g=function(e){var t,n=e.split("."),r=s;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},v=g("com.greensock"),m=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},y=function(){},_=(d=Object.prototype.toString,p=d.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&d.call(e)===p)}),b={},A=function(n,i,a,u){this.sc=b[n]?b[n].sc:[],b[n]=this,this.gsClass=null,this.func=a;var c=[];this.check=function(l){for(var f,h,d,p,v=i.length,m=v;--v>-1;)(f=b[i[v]]||new A(i[v],[])).gsClass?(c[v]=f.gsClass,m--):l&&f.sc.push(this);if(0===m&&a){if(d=(h=("com.greensock."+n).split(".")).pop(),p=g(h.join("."))[d]=this.gsClass=a.apply(a,c),u)if(s[d]=o[d]=p,e.exports)if("TweenLite"===n)for(v in e.exports=o.TweenLite=p,o)p[v]=o[v];else o.TweenLite&&(o.TweenLite[d]=p);else void 0===(r=function(){return p}.apply(t,[]))||(e.exports=r);for(v=0;v<this.sc.length;v++)this.sc[v].check()}},this.check(!0)},w=n._gsDefine=function(e,t,n,r){return new A(e,t,n,r)},E=v._class=function(e,t,n){return t=t||function(){},w(e,[],(function(){return t}),n),t};w.globals=s;var x=[0,0,1,1],T=E("easing.Ease",(function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?x.concat(t):x}),!0),S=T.map={},O=T.register=function(e,t,n,r){for(var i,o,a,s,u=t.split(","),c=u.length,l=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=u[c],i=r?E("easing."+o,null,!0):v.easing[o]||{},a=l.length;--a>-1;)s=l[a],S[o+"."+s]=S[s+o]=i[s]=e.getRatio?e:e[s]||new e};for((l=T.prototype)._calcEnd=!1,l.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},c=(u=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--c>-1;)l=u[c]+",Power"+c,O(new T(null,null,1,c),l,"easeOut",!0),O(new T(null,null,2,c),l,"easeIn"+(0===c?",easeNone":"")),O(new T(null,null,3,c),l,"easeInOut");S.linear=v.easing.Linear.easeIn,S.swing=v.easing.Quad.easeInOut;var C=E("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(l=C.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,a,s=this._listeners[e],u=0;for(this!==f||h||f.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:t,s:n,up:r,pr:i})},l.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},l.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for((t=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--t>-1;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var k=n.requestAnimationFrame,P=n.cancelAnimationFrame,N=Date.now||function(){return(new Date).getTime()},I=N();for(c=(u=["ms","moz","webkit","o"]).length;--c>-1&&!k;)k=n[u[c]+"RequestAnimationFrame"],P=n[u[c]+"CancelAnimationFrame"]||n[u[c]+"CancelRequestAnimationFrame"];E("Ticker",(function(e,t){var n,r,i,o,s,u=this,c=N(),l=!(!1===t||!k)&&"auto",d=500,p=33,g=function(e){var t,a,l=N()-I;l>d&&(c+=l-p),I+=l,u.time=(I-c)/1e3,t=u.time-s,(!n||t>0||!0===e)&&(u.frame++,s+=t+(t>=o?.004:o-t),a=!0),!0!==e&&(i=r(g)),a&&u.dispatchEvent("tick")};C.call(u),u.time=u.frame=0,u.tick=function(){g(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return d<1/1e-10;d=e||1/1e-10,p=Math.min(t,d,0)},u.sleep=function(){null!=i&&(l&&P?P(i):clearTimeout(i),r=y,i=null,u===f&&(h=!1))},u.wake=function(e){null!==i?u.sleep():e?c+=-I+(I=N()):u.frame>10&&(I=N()-d+5),r=0===n?y:l&&k?k:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===f&&(h=!0),g(2)},u.fps=function(e){if(!arguments.length)return n;o=1/((n=e)||60),s=this.time+o,u.wake()},u.useRAF=function(e){if(!arguments.length)return l;u.sleep(),l=e,u.fps(n)},u.fps(e),setTimeout((function(){"auto"===l&&u.frame<5&&"hidden"!==(a||{}).visibilityState&&u.useRAF(!1)}),1500)})),(l=v.Ticker.prototype=new v.events.EventDispatcher).constructor=v.Ticker;var R=E("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,J){h||f.wake();var n=this.vars.useFrames?$:J;n.add(this,n._time),this.vars.paused&&this.paused(!0)}}));f=R.ticker=new v.Ticker,(l=R.prototype)._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var L=function(){h&&N()-I>2e3&&("hidden"!==(a||{}).visibilityState||!f.lagSmoothing())&&f.wake();var e=setTimeout(L,2e3);e.unref&&e.unref()};L(),l.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},l.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},l.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},l.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},l.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},l.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},l.render=function(e,t,n){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(e,t){return h||f.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(e,t){return this._enabled(!1,!1)},l.kill=function(e,t){return this._kill(e,t),this},l._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},l._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},l._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},l.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=_(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},l.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},l.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},l.totalTime=function(e,t,n){if(h||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(B.length&&ee(),this.render(e,t,!1),B.length&&ee())}return this},l.progress=l.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},l.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},l.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},l.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(h||e||f.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var D=E("core.SimpleTimeline",(function(e){R.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(l=D.prototype=new R).constructor=D,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},l._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},l.rawTime=function(){return h||f.wake(),this._totalTime};var M=E("TweenLite",(function(e,t,r){if(R.call(this,t,r),this.render=M.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:M.selector(e)||e;var i,o,a,s=e.jquery||e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?K[M.defaultOverwrite]:"number"==typeof u?u>>0:K[u],(s||e instanceof Array||e.push&&_(e))&&"number"!=typeof e[0])for(this._targets=a=m(e),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==n&&o[0]&&(o[0]===n||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(m(o))):(this._siblings[i]=te(o,this,!1),1===u&&this._siblings[i].length>1&&re(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=M.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=te(e,this,!1),1===u&&this._siblings.length>1&&re(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))}),!0),j=function(e){return e&&e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType)};(l=M.prototype=new R).constructor=M,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,M.version="1.20.4",M.defaultEase=l._ease=new T(null,null,1,1),M.defaultOverwrite="auto",M.ticker=f,M.autoSleep=120,M.lagSmoothing=function(e,t){f.lagSmoothing(e,t)},M.selector=n.$||n.jQuery||function(e){var t=n.$||n.jQuery;return t?(M.selector=t,t(e)):void 0===a?e:a.querySelectorAll?a.querySelectorAll(e):a.getElementById("#"===e.charAt(0)?e.substr(1):e)};var B=[],F={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=/[\+-]=-?[\.\d]/,G=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},Q=function(e,t,n,r){var i,o,a,s,u,c,l,f=[],h=0,d="",p=0;for(f.start=e,f.end=t,e=f[0]=e+"",t=f[1]=t+"",n&&(n(f),e=f[0],t=f[1]),f.length=0,i=e.match(U)||[],o=t.match(U)||[],r&&(r._next=null,r.blob=1,f._firstPT=f._applyPT=r),u=o.length,s=0;s<u;s++)l=o[s],d+=(c=t.substr(h,t.indexOf(l,h)-h))||!s?c:",",h+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),l===i[s]||i.length<=s?d+=l:(d&&(f.push(d),d=""),a=parseFloat(i[s]),f.push(a),f._firstPT={_next:f._firstPT,t:f,p:f.length-1,s:a,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-a)||0,f:0,m:p&&p<4?Math.round:0}),h+=l.length;return(d+=t.substr(h))&&f.push(d),f.setRatio=G,H.test(t)&&(f.end=null),f},z=function(e,t,n,r,i,o,a,s,u){"function"==typeof r&&(r=r(u||0,e));var c=typeof e[t],l="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:l?a?e[l](a):e[l]():e[t],h="string"==typeof r&&"="===r.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if(("number"!=typeof f||"number"!=typeof r&&!h)&&(a||isNaN(f)||!h&&isNaN(r)||"boolean"==typeof f||"boolean"==typeof r?(d.fp=a,d={t:Q(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):r,s||M.defaultStringFilter,d),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(r)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},V=M._internals={isArray:_,isSelector:j,lazyTweens:B,blobDif:Q},W=M._plugins={},q=V.tweenLookup={},X=0,Y=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=R._rootFramesTimeline=new D,J=R._rootTimeline=new D,Z=30,ee=V.lazyRender=function(){var e,t=B.length;for(F={};--t>-1;)(e=B[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);B.length=0};J._startTime=f.time,$._startTime=f.frame,J._active=$._active=!0,setTimeout(ee,1),R._updateRoot=M.render=function(){var e,t,n;if(B.length&&ee(),J.render((f.time-J._startTime)*J._timeScale,!1,!1),$.render((f.frame-$._startTime)*$._timeScale,!1,!1),B.length&&ee(),f.frame>=Z){for(n in Z=f.frame+(parseInt(M.autoSleep,10)||120),q){for(e=(t=q[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete q[n]}if((!(n=J._first)||n._paused)&&M.autoSleep&&!$._first&&1===f._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||f.sleep()}}},f.addEventListener("tick",R._updateRoot);var te=function(e,t,n){var r,i,o=e._gsTweenID;if(q[o||(e._gsTweenID=o="t"+X++)]||(q[o]={target:e,tweens:[]}),t&&((r=q[o].tweens)[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return q[o].tweens},ne=function(e,t,n,r){var i,o,a=e.vars.onOverwrite;return a&&(i=a(e,t,n,r)),(a=M.onOverwrite)&&(o=a(e,t,n,r)),!1!==i&&!1!==o},re=function(e,t,n,r,i){var o,a,s,u;if(1===r||r>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var c,l=t._startTime+1e-10,f=[],h=0,d=0===t._duration;for(o=i.length;--o>-1;)(s=i[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ie(t,0,d),0===ie(s,c,d)&&(f[h++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((d||!s._initted)&&l-s._startTime<=2e-10||(f[h++]=s)));for(o=h;--o>-1;)if(s=f[o],2===r&&s._kill(n,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!ne(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ie=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>t?o-t:n&&o===t||!e._initted&&o-t<2e-10?1e-10:(o+=e.totalDuration()/e._timeScale/i)>t+1e-10?0:o-t-1e-10};l._init=function(){var e,t,n,r,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,c=!!a.immediateRender,l=a.ease;if(a.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[r]=a.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=M.to(this.target,0,i),c)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(c=!1),n={},a)Y[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==a.lazy,n.immediateRender=c,this._startAt=M.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof T?l:"function"==typeof l?new T(l,a.easeParams):S[l]||M.defaultEase:M.defaultEase,a.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&M._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},l._initProps=function(e,t,r,i,o){var a,s,u,c,l,f;if(null==e)return!1;for(a in F[e._gsTweenID]&&ee(),this.vars.css||e.style&&e!==n&&e.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)Y[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(f=this.vars[a],Y[a])f&&(f instanceof Array||f.push&&_(f))&&-1!==f.join("").indexOf("{self}")&&(this.vars[a]=f=this._swapSelfInParams(f,this));else if(W[a]&&(c=new W[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=l={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)t[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(u=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else t[a]=z.call(this,e,a,"get",f,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,e)?this._initProps(e,t,r,i,o):this._overwrite>1&&this._firstPT&&r.length>1&&re(e,this,t,this._overwrite,r)?(this._kill(t,e),this._initProps(e,t,r,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),u)},l.render=function(e,t,n){var r,i,o,a,s=this._time,u=this._duration,c=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||1e-10===c&&"isPause"!==this.data)&&c!==e&&(n=!0,c>1e-10&&(i="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:1e-10);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&c>0)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(1e-10!==c||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var l=e/u,f=this._easeType,h=this._easePower;(1===f||3===f&&l>=.5)&&(l=1-l),3===f&&(l*=2),1===h?l*=l:2===h?l*=l*l:3===h?l*=l*l*l:4===h&&(l*=l*l*l*l),this.ratio=1===f?1-l:2===f?l:e/u<.5?l/2:1-l/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,B.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===u&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},l._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:M.selector(t)||t;var r,i,o,a,s,u,c,l,f,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((_(t)||j(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,l=e!==i&&"all"!==i&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(M.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(f||(f=[]),f.push(o));if((f||!e)&&!ne(this,n,t,f))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(c)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),l&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},l.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},l._enabled=function(e,t){if(h||f.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=te(r[n],this,!0);else this._siblings=te(this.target,this,!0)}return R.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(e?"_onEnable":"_onDisable",this)},M.to=function(e,t,n){return new M(e,t,n)},M.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new M(e,t,n)},M.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new M(e,t,r)},M.delayedCall=function(e,t,n,r,i){return new M(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},M.set=function(e,t){return new M(e,0,t)},M.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"!=typeof e?e:M.selector(e)||e,(_(e)||j(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(M.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=te(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},M.killTweensOf=M.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=M.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var oe=E("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=oe.prototype}),!0);if(l=oe.prototype,oe.version="1.19.0",oe.API=2,l._firstPT=null,l._addTween=z,l.setRatio=G,l._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},l._mod=l._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},M._onPluginEvent=function(e,t){var n,r,i,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},oe.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===oe.API&&(W[(new e[t])._propName]=e[t]);return!0},w.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=E("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",(function(){oe.call(this,n,r),this._overwriteProps=i||[]}),!0===e.global),s=a.prototype=new oe(n);for(t in s.constructor=a,a.API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,oe.activate([a]),a},u=n._gsQueue){for(c=0;c<u.length;c++)u[c]();for(l in b)b[l].func||n.console.log("GSAP encountered missing dependency: "+l)}h=!1}}(e.exports&&void 0!==n?n:this||window)}).call(this,n(48))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.i18nUtil=t.ES=t.EN=t.LANGUAGES=void 0;var i,o=r(n(4)),a=r(n(5)),s=r(n(23)),u=r(n(696)),c=r(n(15)),l=n(695),f=n(7),h={EN:"English",ES:"Spanish"};t.LANGUAGES=h;var d={lessonClose:"Are you sure you want to <br/>exit the lesson?",exit:"Exit",keepWorking:"Keep Working",doneButton:"done",TOOLS_AND_SETTINGS:"Tools and Settings",DEFAULT_FFW_MODAL_MSG:"Keyboard Navigation is not supported on that screen.",DEFAULT_INACCESSIBLE_MODAL_YES:"Keep Working",DEFAULT_INACCESSIBLE_MODAL_NO:"Move on",DEFAULT_LESSON_TITLE:"Lesson Title",DEFAULT_CLOSE_BTN:"Exit Lesson",DEFAULT_DONE_BTN:"Done",DEFAULT_PREVIOUS_BTN:"Previous activity",DEFAULT_NEXT_BTN:"Next activity",DEFAULT_PROGRESS:"Percent completed of the lesson",DEFAULT_HELP_BTN:"Help",DEFAULT_PAUSE_BTN:"Pause lesson",DEFAULT_UNPAUSE_BTN:"Unpause lesson",DEFAULT_TEACHER_MENU_BTN:"Teacher Menu",DEFAULT_SETTINGS_BTN:"Lesson settings",DEFAULT_PAUSE_ALERT:"Lesson paused",DEFAULT_UNPAUSE_ALERT:"Lesson continued",DEFAULT_CONTINUE_BTN:"Lesson paused, continue with lesson",DEFAULT_LESSON_LOADING:"Lesson Loading",DEFAULT_LESSON_LOADED:"Lesson Loaded",DEFAULT_CLOSE_MODAL:"Exit lesson",DEFAULT_CLOSE_MODAL_YES:"Exit lesson",DEFAULT_CLOSE_MODAL_NO:"Keep working on the lesson",audio:{LESSON_CLOSE_DIALOG_AUDIO:"lesson_close_dialog",INACCESSIBLE_SCREEN_MODAL_AUDIO:"inaccessible_screen_modal"},AYST_MSG:"Are you <br/> still there?",LessonSettings:"Lesson Settings",Accessibility:"Accessibility",ClosedCaptions:"Closed Captions",Cancel:"Cancel",OK:"OK",ON:"ON",OFF:"OFF"};t.EN=d;var p={lessonClose:"Seguro que quieres <br/>salir de la leccin?",exit:"Salir",keepWorking:"Seguir trabajando",doneButton:"acabe",DEFAULT_FFW_MODAL_MSG:"Navegacin con el teclado no es compatible con esta pantalla.",DEFAULT_INACCESSIBLE_MODAL_YES:"Continuar Actividad",DEFAULT_INACCESSIBLE_MODAL_NO:"Siguiente Actividad",DEFAULT_LESSON_TITLE:"Ttulo de la Leccin",DEFAULT_CLOSE_BTN:"Cerrar Leccin",DEFAULT_DONE_BTN:"Acab",DEFAULT_PREVIOUS_BTN:"Actividad previa",DEFAULT_NEXT_BTN:"Prxima actividad",DEFAULT_PROGRESS:"Progreso",DEFAULT_HELP_BTN:"Ayuda",DEFAULT_PAUSE_BTN:"Pausar actividad",DEFAULT_UNPAUSE_BTN:"Continuar actividad",DEFAULT_TEACHER_MENU_BTN:"Men del profesor",DEFAULT_SETTINGS_BTN:"Ajustes",DEFAULT_PAUSE_ALERT:"Actividad pausada",DEFAULT_UNPAUSE_ALERT:"Actividad reiniciada",DEFAULT_CONTINUE_BTN:"",DEFAULT_LESSON_LOADING:"Leccin cargando",DEFAULT_LESSON_LOADED:"Leccin cargada",DEFAULT_CLOSE_MODAL:"Cerrar Leccin",DEFAULT_CLOSE_MODAL_YES:"Salir",DEFAULT_CLOSE_MODAL_NO:"Seguir trabajando",audio:{LESSON_CLOSE_DIALOG_AUDIO:"lesson_close_dialog_es",INACCESSIBLE_SCREEN_MODAL_AUDIO:"inaccessible_screen_modal_es"},AYST_MSG:"Todava <br/> ests ah?",Instruction:"Enseanza",Practice:"Prctica",Quiz:"Prueba",LessonSettings:"Configuracin de la leccin",Accessibility:"Accesibilidad",ClosedCaptions:"Subttulos",Cancel:"Cancelar",OK:"OK",ON:"S",OFF:"NO"};t.ES=p;var g=(i={},(0,s.default)(i,h.EN,{abbr:"en",bundle:d}),(0,s.default)(i,h.ES,{abbr:"es",bundle:p}),i),v=new(function(){function e(){(0,o.default)(this,e),this.i18n=u.default,this.isInitCalled=!1,this._language=h.EN}return(0,a.default)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.EN,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isInitCalled||t){var n=g[e],r=n.abbr,i=n.bundle;this.isInitCalled=!0,this._language=e,f.utilLogger.info("[i18nUtil][init] Loading i18n instance"),this.i18n.use(l.initReactI18next).init({initImmediate:!0,lng:r,ns:"translation",debug:!1,interpolation:{escapeValue:!1},resources:(0,s.default)({},r,{translation:i})})}}},{key:"addTranslations",value:function(e,t){var n=g[e].bundle;c.default.forEach(t,(function(t,n){if("string"!=typeof t)throw new Error("[i18nUtil][addTranslations] The values of each key should be a string. Error Key: ".concat(n,". Language: ").concat(e))})),Object.assign(n,t)}},{key:"translate",value:function(e,t){return this.i18n.t(e,t)}},{key:"currentLanguage",get:function(){return this._language}},{key:"currentLanguageAbbr",get:function(){return g[this.currentLanguage].abbr}},{key:"allLanguages",get:function(){return this.i18n.languages}}]),e}());t.i18nUtil=v},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.loadConfig=function(){var e=s.assetUtil.loadJson("instruction/reading-comp/release-12.6/6/config.json",{absoluteUrl:!0}).assetLoader;return e.then((function(e){var t;return e.extendedConfig&&a._.isUndefined(i)?(window.module={},t=s.assetUtil.loadModule(e.extendedConfig).then((function(t){return i=window.module.exports,u.utilLogger.warn("[configUtil][loadConfig] extended config is deprecated when passed through config json. In future you should be providing an extended config function through bootstrap start method"),delete window.module,t.parentNode.removeChild(t),e}))):t=Promise.resolve(e),c.preloadUtil.updateAndEase({pct:c.PROGRESS.LOADED_CONFIG_JSON,msg:"loaded config.json"}),t})),e},t.setExtendConfigFunction=function(e){a._.isFunction(e)?i=e:u.utilLogger.error("[configUtil][setExtendConfigFunction] expected extended config function to be of type function, but got ".concat((0,o.default)(e)," instead"))},t.extendConfigBasedOnLessonContent=function(e,t){if(i){var n;try{var r=Object.freeze(a._.cloneDeep(t));n=i(e,r,a._)}catch(t){u.utilLogger.error("Error trying to extend config: ".concat(t.message," ").concat(t.stack)),n=e}(0,s.setConfig)(n),c.preloadUtil.updateAndEase({pct:c.PROGRESS.EXTENDED_CONFIG,msg:"extended config based on lesson content"})}},t.getDomainFromConfig=l,t.getAppFromConfig=f,t.getLogoFromConfig=function(){return a._.get(s.assetUtil.config,"paths.logo","instruction/reading-comp/release-12.6/6/img/i-ready-logo.svg")},t.getTitleTemplateFromConfig=function(){return a._.get(s.assetUtil.config,"header.title",{})},t.getStyleConfig=function(e){return a._.get(s.assetUtil.config,e,a._.get(s.assetUtil.config,"default"))},t.getPathFromConfig=function(e){var t,n=l(),r=s.assetUtil.config.paths.audioDomain||n,i=f();switch(e){case"globalSFX":t="".concat(r,"/shared/global/audio/sfx/");break;case"globalAudio":t="".concat(r,"/shared/global/audio/");break;case"lessons":t="".concat(n,"/").concat(i,"/lessons");break;case"demoLesson":t="".concat(n,"/").concat(i,"/demo");break;case"localTestLesson":t="./lessons";break;default:u.utilLogger.warn("no pathId")}return u.utilLogger.info("Path value: ".concat(t)),t};var i,o=r(n(43)),a=n(0),s=n(22),u=n(7),c=n(26);function l(){return s.assetUtil.config.paths.content}function f(){return s.assetUtil.config.app.name}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.htmlUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=a.Sizzle,u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"find",value:function(e,t){return s(t,e)}},{key:"hasClass",value:function(e,t){return e.className.match(new RegExp("(\\s|^)".concat(t,"(\\s|$)")))}},{key:"addClass",value:function(e,t){this.hasClass(e,t)||(e.className+=" ".concat(t))}},{key:"removeClass",value:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)".concat(t,"(\\s|$)"));e.className=e.className.replace(n," ")}}},{key:"search",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],i=new DOMParser,o=a._.pick(e.htmlTexts,n);return a._.forEach(o,(function(e,n){var o=i.parseFromString(e.value,"text/html");a._.forEach(o.querySelectorAll(".clickable"),(function(n){n.innerText.search(t)>=0&&r.push(e.id)}))})),r}},{key:"getHTMLText",value:function(e){var t=document.createElement("div");return t.id=e.id,t.style.visibility="hidden",t.innerHTML=e.value,t}}]),e}());t.htmlUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.learningComponentUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(6),f=n(16),h=(n(148),n(9),n(8)),d=(n(7),n(80)),p=n(30),g=n(86);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=new(function(e){(0,a.default)(n,e);var t=v(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).resizeContainer=function(){var t=l.SCREEN.HEIGHT,n=l.SCREEN.WIDTH,r=t+83,i=e._getScreenScale(!1),o=e._getScreenScale(!0),a=Math.max(0,.5*(window.innerWidth-n*i)),s=Math.max(0,.5*(window.innerWidth-n*o)),u=document.getElementById("container");if(u&&u.style){var c=document.querySelector("header h1.header__title");c&&c.style&&(c.style.fontSize=i<1?"0.750em":"0.875em"),u.style.setProperty("--ifabric-scale",i),u.style.setProperty("--ifabric-left","".concat(a,"px")),u.style.setProperty("--ifabric-scale-cc",o),u.style.setProperty("--ifabric-left-cc","".concat(s,"px")),u.style.setProperty("--ifabric-app-height-cc","".concat(r,"px"))}return e.emit("resize",e.getLearningComponentSize()),u&&u.style},window.addEventListener("resize",e.resizeContainer),e.resizeContainer(),e}return(0,o.default)(n,[{key:"getLearningComponentSize",value:function(){var e=(0,g.getPreferencesState)(h.store.getState()).ccEnabled,t=this._getScreenScale(e),n=l.SCREEN.WIDTH,r=l.SCREEN.HEIGHT;return{scale:t,top:l.SCREEN.TOP,width:n,height:r}}},{key:"updateResultsData",value:function(e,t){var n=d.learningComponentStorage.getComponents(),r=c._.get(n[t],"data.result",{}),i=c._.pick(r,"max");c._.isEmpty(i)||c._.merge(e[t],i)}},{key:"_getScreenScale",value:function(e){if((0,p.getCheatValue)(h.store.getState()).disableFluidResize)return e?937/1020:1;var t=l.SCREEN.WIDTH,n=l.SCREEN.HEIGHT+(e?83:0),r=f.environmentUtil.getTopWindowViewportSize()||{width:l.SCREEN.WIDTH,height:l.SCREEN.HEIGHT},i=Math.min(r.width/t,r.height/n),o=l.SCREEN.WIDTH_MIN/t*(e?937/1020:1),a=l.SCREEN.WIDTH_MAX/t*(e?937/1020:1);return i=c._.clamp(i,o,a)}}]),n}(c.Emitter));t.learningComponentUtil=m},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(7),o=n(6),a=n(8),s=n(14),u=n(29);const c="constraints",l="identifier",f="identifier_suffix",h="common_key",d="reference_id",p="data_key",g="data_value";n.d(t,"SHARED_DATA_DIRECTIVE",(function(){return _})),n.d(t,"SHARED_DATA_DIRECTIVE_COMMON",(function(){return b})),n.d(t,"SHARED_DATA_DIRECTIVE_ID",(function(){return A})),n.d(t,"SHARED_DATA_DIRECTIVE_KEY",(function(){return w})),n.d(t,"SHARED_DATA_DIRECTIVE_VALUE",(function(){return E})),n.d(t,"SHARED_DATA_NAMESPACE",(function(){return x})),n.d(t,"dataShareUtil",(function(){return S}));const{DC_RESPONSE_TYPE_HYBRID:v,DC_RESPONSE_TYPE_SELECTION:m,DC_RESPONSE_TYPE_VALUE:y}=o.DC_EVENT_CONSTANTS,_="data_sharing_directives",b="common",A="data_share_id",w="key",E="value",x="data_share",T=/\$\{(\w+)\}/g;const S=new class{constructor(){r._.mixin({transformDeep:(e,t,n=[])=>r._.transform(e,(e,i,o)=>{r._.isObjectLike(i)&&(o===t?e.push(i):r._.transformDeep(i,t,n))},n)})}dcResponseToShareData(e,t){const{id:n}=t.screen,o=Object(s.getSharedDataDirectives)(a.store.getState(),n);let u=null;if(!r._.isEmpty(o)){const n=r._.get(e,"attemptType"),{attemptNum:a,partNum:s}=t;let c=this._initDsData(a,s,o);try{switch(n){case m:c=this._updateDsDataFromDcSelectionPayload(e,c),u=this._selectionResultsToSharedData(c);break;case y:c=this._updateDsDataFromDcValuePayload(e,c),u=this._valueResultsToSharedData(c);break;case v:c=this._updateDsDataFromDcHybridPayload(e,c),u=this._hybridResultsToSharedData(c);break;default:i.utilLogger.info(`Not supported dc response type '${n}'. Skipped data share.`)}}catch(t){let n="";try{n=JSON.stringify(e)}catch(e){i.utilLogger.error("Error converting dc payload to string. "+t)}i.utilLogger.error(`${t}. Error transformation dc payload to ds exit data:\n '${n}'.\n Used default exit data.`)}}return u}persistSharedData(e,t){if(r._.isEmpty(e))i.utilLogger.info(`Skipped persisting of empty shared data for screen ${t}.`);else{const n={};Object.entries(e).forEach(e=>{const[t,i]=e;r._.merge(n,{[t]:i})}),a.store.dispatch(Object(u.updateExitData)(t,x,n))}}findSharedDataDirectives(e){return function(e){const t=r._.flatten(e),n=r._.filter(t,{type:"common-data-sharing-directive"}),i=r._.difference(t,n),o=[];return r._.transform(i,(e,t)=>{const i=t.type.split(".")[0];switch(i){case"value-data-sharing-directive":{const{[l]:n,[f]:i,[p]:o,[c]:a}=t,s=n+(i?"."+i:"");e.push({common:Object.assign({},!r._.isNil(a)&&{constraints:a}),[s]:{key:o}});break}case"selection-data-sharing-directive":{const{[l]:i,[g]:o,[d]:a}=t,s=r._.find(n,{[d]:a});if(!s)throw new Error(`Not found common data sharing directive by reference id '${a}'.`);{const{[h]:t,[c]:n}=s;e.push({common:Object.assign(Object.assign({},!r._.isNil(n)&&{constraints:n}),{data_share_id:t}),[i]:{value:o}})}break}default:throw new Error(`Not supported data share directive type '${i}'.`)}},o),o}(r._.transformDeep(e,_))}_initDsData(e=0,t=0,n){return{payload:{attemptNum:e,partNum:t,results:[]},directives:n||[{common:{}}]}}_updateDsDataFromDcSelectionPayload(e,t){const n=[];return r._.forEach(e.selectionsResult,e=>{n.push({identifier:e.choiceId})}),t.payload.results=n,t}_updateDsDataFromDcValuePayload(e,t){const n=[];return r._.forEach(e.valuesResult,e=>{const{value:t,identifier:r}=e;n.push({identifier:r,value:t})}),t.payload.results=n,t}_updateDsDataFromDcHybridPayload(e,t){const n=[];return r._.forEach(e.hybridResult,e=>{const{value:t}=e;n.push(Object.assign(Object.assign({},!r._.isNil(t)&&{value:t}),{identifier:e.choiceId||e.identifier}))}),t.payload.results=n,t}_selectionResultsToSharedData(e){const{payload:t,directives:n}=e,i={};return r._.forEach(t.results,e=>{const{identifier:o}=e,a=n.find(e=>r._.has(e,o));if(a){const e=r._.get(a[b],A),n=r._.get(a[o],E),s=!r._.isEmpty(e)&&r._.isString(e)&&r._.isString(n);e&&s?this._areDirectiveConstraintsSatisfied(t,a)&&(e&&!i[e]&&(i[e]=[]),i[e].push(n)):this._reportInvalidDirective(a)}}),i}_valueResultsToSharedData(e){const{payload:t,directives:n}=e,i={};return r._.forEach(t.results,e=>{const{identifier:o,value:a}=e,s=n.find(e=>r._.has(e,o));if(s){const e=r._.get(s[o],w);!r._.isEmpty(e)&&r._.isString(e)?this._areDirectiveConstraintsSatisfied(t,s)&&r._.extend(i,{[e]:a}):this._reportInvalidDirective(s)}}),i}_hybridResultsToSharedData(e){const{payload:t,directives:n}=e,i={},o=r._.filter(t.results,E),a=r._.difference(t.results,o);return r._.extend(i,this._valueResultsToSharedData({payload:Object.assign(Object.assign({},t),{results:o}),directives:n})),r._.extend(i,this._selectionResultsToSharedData({payload:Object.assign(Object.assign({},t),{results:a}),directives:n})),i}_areDirectiveConstraintsSatisfied(e,t){let n=!0;const{constraints:i}=r._.get(t,b);return r._.forOwn(i,(t,r)=>{n=n&&this._isConstraintSatisfied(e,r,t)}),n}_isConstraintSatisfied(e,t,n){const o=r._.get(e,t),a=o&&o==n;return a||i.utilLogger.info(`Skipped directive due to mismatched data share constraint '${t}':${o}(${n} was expected).`),a}_reportInvalidDirective(e){let t="";try{t=JSON.stringify(e)}catch(e){i.utilLogger.error("Error converting ds directive to string: "+e)}i.utilLogger.error("Invalid directive: "+t)}_findAndReplace(e,t){let n=JSON.stringify(e);return n=n.replace(T,(e,n)=>n in t?t[n]:e),JSON.parse(n)}updateScreenValues(e,t){const{tokens:n,screenProps:i}=t,o=this._findAndReplace(e,n);return r._.merge(o.properties,i),o}}},function(e,t,n){"use strict";n.r(t),n.d(t,"learningComponentStorage",(function(){return o}));var r=n(15),i=n.n(r);const o=new class{constructor(){this._components={}}getComponents(){return this._components}getComponent(e){return this._components[e]}removeComponent(e){i.a.unset(this._components,e)}resetComponents(e={}){this._components=e}addComponent(e,t){this._components[e]=t}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.cuepointDispatcher=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(7);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=new(function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._storedCues={},e._pendingCues={},l._.bindAll((0,a.default)(e),"_update","_registerCuesForDispatch","deregister","handlePlay"),l.TweenLite.ticker.addEventListener("tick",e._update),e}return(0,o.default)(n,[{key:"handlePlay",value:function(e){this._registerCuesForDispatch(e,this._storedCues[e]),this._update()}},{key:"storeCues",value:function(e,t){this._storedCues[e]=this._storedCues[e]||[];var n=l._.differenceWith(t,this._storedCues[e],l._.isEqual);this._storedCues[e]=this._storedCues[e].concat(n),(this._player.isPlaying(e)||this._videoMonitor.isPlaying(e))&&this._registerCuesForDispatch(e,this._storedCues[e])}},{key:"hasCues",value:function(e){return l._.isArray(this._storedCues[e])}},{key:"destroyLoadedCues",value:function(e){this.deregister(e),this._storedCues[e]&&delete this._storedCues[e]}},{key:"_update",value:function(){var e=this;Object.keys(this._pendingCues).forEach((function(t){e.checkPlayer(e._player,t),e.checkPlayer(e._videoMonitor,t)}))}},{key:"checkPlayer",value:function(e,t){if(e.isPlaying(t)){var n=e.getProgress(t).position,r=this._pendingCues[t].filter((function(e){return e.time/1e3<=n}));this._dispatchCues(t,r)}}},{key:"_registerCuesForDispatch",value:function(e,t){f.utilLogger.info("cuepointDispatcher._registerCuesForDispatch",e,t),l._.isEmpty(t)||(this._pendingCues[e]=l._.cloneDeep(t))}},{key:"removePendingCuesByFilter",value:function(e,t){l._.remove(this._pendingCues[e],t)}},{key:"dispatchAll",value:function(e){var t=l._.clone(this._pendingCues[e]);this._dispatchCues(e,t)}},{key:"_dispatchCues",value:function(e,t){var n=this;l._.isEmpty(t)||(l._.forEach(t,(function(t){return l._.pull(n._pendingCues[e],t)})),l._.isEmpty(this._pendingCues[e])&&this.deregister(e),t.forEach(this._dispatch.bind(this,e)))}},{key:"deregister",value:function(e){delete this._pendingCues[e]}},{key:"clear",value:function(e){e?this.deregister(e):Object.keys(this._pendingCues).forEach(this.deregister)}},{key:"_dispatch",value:function(e,t){"cc"!==l._.first(t.targets).action&&this._player.emit("cue",e,t),this.emit("cue",e,t)}},{key:"player",set:function(e){this._player&&this._player.off("play",this.handlePlay),this._player=e,this._player.on("play",this.handlePlay)}},{key:"videoMonitor",set:function(e){this._videoMonitor=e,this._videoMonitor.on("play",this.handlePlay)}}]),n}(l.Emitter));t.cuepointDispatcher=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createId=function(e){var t;e&&r[e]?t=r[e]:(t="id-".concat(++i),e&&(r[e]=t));return t};var r={},i=0},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(35),f=n(160);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this),f.widgetUtil.mixinRelativePositioning((0,a.default)(r)),r._assetInfo=e,r._assetId=r._assetInfo?r._assetInfo.id:null,r._enabled=!0,r._uiEnabled=!0,r._complete=!1,r._registrables=[],r}return(0,o.default)(n,[{key:"init",value:function(){}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.constructor.name;l.assertUtil.isNotNull(r,"update","state",e),l.assertUtil.isNotNull(r,"update","uiEnabled",t),l.assertUtil.isBoolean(r,"update","complete",n),this._enabled=e.enabled,this._uiEnabled=t,this._complete=n,this._onUpdate(e)}},{key:"_onUpdate",value:function(e){this.enabled?this._onEnabled(e):this._onDisabled(e)}},{key:"_onEnabled",value:function(e){}},{key:"_onDisabled",value:function(e){}},{key:"_getEnabled",value:function(){return this._enabled&&this._uiEnabled&&!this._complete}},{key:"_getOwnEnabled",value:function(){return this._enabled}},{key:"assetInfo",get:function(){return this._assetInfo}},{key:"assetId",get:function(){return this._assetId},set:function(e){this._assetId=e}},{key:"enabled",get:function(){return this._getEnabled()}},{key:"ownEnabled",get:function(){return this._getOwnEnabled()}},{key:"registrables",get:function(){return this._registrables}}]),n}(createjs.Container);t.Widget=d},function(e,t,n){var r=n(441),i=n(446);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(164),i=n(173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getPreferencesState",(function(){return s})),n.d(t,"isCCEnabled",(function(){return u}));var r=n(25),i=n(0),o=n(1),a=n(17);const s=e=>i._.get(e,a.PREFERENCES_STATE_ROOT),u=e=>i._.get(s(e),"ccEnabled");t.default=Object(r.a)((e,t)=>{switch(t.type){case o.PREFERENCES_UPDATE:i._.merge(e,t.payload)}return e},{ccEnabled:!1})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialCheatState=t.getCheats=t.persistCheat=t.reduceToKeyValuePairs=void 0;var i=r(n(23)),o=r(n(15)),a=n(88);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.reduceToKeyValuePairs=function(e){return o.default.reduce(e,(function(e,t){return o.default.isUndefined(t.value)||(e[t.id]=t.value,t.extras&&(e[t.extras.id]=t.extras.value)),e}),{})};t.persistCheat=function(e){var t=e.key,n=e.value,r=a.localStorageUtil.fetch("cheats")||{};r[t]=n,a.localStorageUtil.store("cheats",r)};t.getCheats=function(){return a.localStorageUtil.fetch("cheats")||{}};t.getInitialCheatState=function(e){var t={},n=a.localStorageUtil.fetch("cheats");return o.default.forEach(e,(function(e){var r=u(u({},e),{},{value:o.default.get(n,e.id)});t[e.id]=r,e.extras&&(r.extras.value=o.default.get(n,e.extras.id)||r.extras.defaultValue)})),t}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(7),u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"safelyRun",value:function(e){try{return e()}catch(e){s.utilLogger.warn("[localStorageUtil] failed to perform operations on localStorage")}}},{key:"fetch",value:function(e){var t=null,n=this.safelyRun((function(){return localStorage.getItem(e)}));return void 0!==n&&(t=JSON.parse(n)),t}},{key:"remove",value:function(e){if(e.includes(".")){var t=e.split("."),n=a.default.head(t),r=a.default.tail(t),i=this.fetch(n);if(a.default.isObject(i)){var o=a.default.join(r,".");a.default.unset(i,o),this.store(n,i)}}else this.safelyRun((function(){return localStorage.removeItem(e)}))}},{key:"store",value:function(e,t){var n=JSON.stringify(t);this.safelyRun((function(){return localStorage.setItem(e,n)}))}}]),e}());t.localStorageUtil=u},function(e,t,n){"use strict";n.r(t),n.d(t,"APP_STATE_ROOT",(function(){return s})),n.d(t,"getAppState",(function(){return u})),n.d(t,"isAppReady",(function(){return c})),n.d(t,"isAppIdled",(function(){return l})),n.d(t,"getAudioDecoder",(function(){return f}));var r=n(25),i=n(1),o=n(17),a=n(0);const s="app",u=e=>a._.get(e,s),c=e=>a._.get(u(e),"state").ready,l=e=>a._.get(u(e),"state").idled,f=e=>a._.get(u(e),"state").audioDecoder,h={initialized:!1,started:!1,idled:!1,cheatsEnabled:!1,ready:!1,audioDecoder:o.AudioDecoder.NATIVE};t.default=Object(r.a)((e,t)=>{switch(t.type){case i.APP_INITIALIZED:e.initialized=!0;break;case i.APP_START_SUCCESS:e.started=!0;break;case i.APP_READY:e.ready=!0;break;case i.APP_IDLED:e.idled=t.payload;break;case i.APP_TOGGLE_CHEATS:e.cheatsEnabled=!e.cheatsEnabled;break;case i.APP_AUDIO_DECODER:e.audioDecoder=t.payload}},h)},function(e,t,n){"use strict";n.r(t),n.d(t,"LC_RENDERER_STATE_PATH",(function(){return s})),n.d(t,"getLearningComponentState",(function(){return u}));var r=n(25),i=n(0),o=n(17),a=n(1);const s="renderer.state",u=e=>i._.get(e,o.LC_STATE_ROOT,{});t.default=Object(r.a)((e,t)=>{switch(t.type){case a.LC_SET_LOADING:e.loading=t.payload;break;case a.LC_RENDERER_STATE_UPDATED:{const{screenId:n,args:r}=t.payload;e.renderer.screenId=n,e=i._.merge(e.renderer.state,...r);break}case a.LC_SET_PRELOADING:e.preloading=t.payload;break;case a.LESSON_CONTENT_LOAD_SUCCESS:{const n=t.payload;e.modules=i._.mapValues(n.screens,"style.module");break}}},{loading:!0,preloading:!1,renderer:{screenId:null,state:{}},modules:{}})},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.jsonUtil=void 0;var i=r(n(43)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(82),c=n(7),l=s._.partialRight(s._.merge,(function(e,t){if(s._.isArray(e))return e.concat(t)})),f=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"find",value:function(e,t,n){return s._.get(e,s._.words(t,/[^\/]+/g).join("."),n)}},{key:"replace",value:function(e,t,n){return s._.set(e,s._.words(t,/[^\/]+/g).join("."),n)}},{key:"jsonify",value:function(e){return s._.cloneDeepWith(e,(function(e){if(s._.isFunction(e))return null}))}},{key:"identify",value:function(e,t){if(!s._.isEmpty(e)){var n=JSON.search(e,t);s._.forEach(n,(function(e){s._.isEmpty(e.id)&&(e.id=(0,u.createId)())}))}}},{key:"reintegrate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=s._.cloneDeep(e),i=s._.keyBy(JSON.search(r,"//".concat(n,"/..")),n);return s._.forEach(t,(function(e){if(s._.has(e,n)){var t=e[n];s._.assign(i[t],e)}})),r}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=s._.cloneDeep(e),i=r.shift(),o=!1;return s._.reduce(r,(function(e,r){var a=e,u=r;return s._.isArray(u)&&(u=t.reduce(u,n)),"AND"===i&&a&&!s._.isEmpty(u)?a=n(a,u):"OR"!==i||s._.isEmpty(u)||o||(a=n(a,u),o=!0),a}),{})}},{key:"resolveRefs",value:function(e,t,n){var r=t.root,i=t.deps,o=s._.cloneDeep(e);JSON.search(o,'//*[type = "ref"]').forEach((function(e){var t,o=e.path.split("#"),a=o.pop(),u=o.pop(),l=u?i[u]:r;try{t=s._.template(a)(n)}catch(e){c.utilLogger.info("".concat(a," cannot be resolved at this time"))}if(!s._.isEmpty(t)){var f=JSON.search(l,t),h=f.length>1?f:s._.head(f);for(var d in e)e[d]&&delete e[d];s._.isEmpty(h)?s._.merge(e,{delete:!0}):s._.merge(e,h)}}));var a=JSON.search(o,"//*[delete]/..");return s._.forEach(a,(function(e){for(var t in e)s._.has(e[t],"delete")&&delete e[t]})),o}},{key:"isValid",value:function(e){try{return!s._.isNil(e)&&"object"===(0,i.default)(JSON.parse(JSON.stringify(e)))}catch(e){return!1}}}]),e}());t.jsonUtil=f},function(e,t,n){var r=n(109),i=n(442),o=n(443),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(134);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(489),i=n(531),o=n(110),a=n(41),s=n(538);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(78),o=n(46),a=n(66),s=n(16),u=n(19),c=n(14),l=n(8),f=n(119),h=n(18),d=n(30),p=n(52),g=n(9),v=n(29),m=n(61),y=n(101),_=n(1);n(77),n(34),n(22);var b=n(33),A=n(79);n.d(t,"playerApi",(function(){return E}));const w=new r.Emitter;i.learningComponentUtil.on("resize",()=>w.emit("resize",i.learningComponentUtil.getLearningComponentSize()));const E={player:{_handlers:[],on(e,t){this._handlers.push([e,t]),w.on(e,t)},off(e,t){r._.pull(this._handlers,r._.find(this._handlers,e=>r._.matches(e))),w.off(e,t)},reset(){r._.forEach(this._handlers,e=>{const[t,n]=e;w.off(t,n)}),this._handlers=[]}},get cheats(){return Object(d.getCheatValue)(l.store.getState())},lesson:{getScreenData:e=>Object(c.getScreen)(l.store.getState(),e)},screen:{get size(){return s.environmentUtil.warn("Using the `scale` value from playerApi.screen.size will be deprecated in favor of the CSS Variable: --ifabric-scale"),i.learningComponentUtil.getLearningComponentSize()},preloadNext:()=>{const e=l.store.getState(),{stepState:t,decisionPoints:n}=Object(g.getNavigationState)(e);l.store.dispatch(Object(m.preloadNext)({currentStep:Object(g.getCurrentStep)(e),nextStep:Object(g.getNextStep)(e),adaptivityResults:Object(g.getAdaptivityResults)(e),stepState:t,decisionPoints:n}))},inProgress:()=>{l.store.dispatch(Object(h.startProgress)())},updateScreenData:e=>{l.store.dispatch(Object(y.b)(e))},complete:e=>{l.store.dispatch(Object(v.complete)(e))},setExitData(e,t){const n=Object(c.getCurrentScreen)(l.store.getState()).id;l.store.dispatch(Object(v.updateExitData)(n,e,t))},getExitData:e=>Object(c.getExitData)(l.store.getState())[e]||null,enableNext(e=!1){l.store.dispatch(Object(v.finish)()),!Object(g.isFinalStep)(l.store.getState())&&e&&l.store.dispatch(Object(h.forward)())},ready:()=>{l.store.dispatch(Object(v.ready)())},enableScreenElements:()=>{l.store.dispatch(Object(v.enableScreenElements)())},disableScreenElements:()=>{l.store.dispatch(Object(v.disableScreenElements)())},getCurrentScreen:()=>Object(c.getCurrentScreen)(l.store.getState()),enableLessonControls:()=>{l.store.dispatch(Object(v.enableLessonControls)())},disableLessonControls:()=>{l.store.dispatch(Object(v.disableLessonControls)())}},storage:{getItem:o.storageUtil.getItem,setItem:o.storageUtil.setItem},navigation:{goto:e=>{l.store.dispatch(Object(h.jumpToScreen)(e))},pause:()=>{l.store.dispatch(Object(h.pause)())},unpause:()=>{l.store.dispatch(Object(h.unpause)())},hasCompleted:e=>Object(g.hasCompletedStep)(l.store.getState(),e),hasVisited:e=>Object(g.hasVisitedStep)(l.store.getState(),e),setClassName(e){l.store.dispatch(Object(h.setClassName)(e))},setTabButtonsSize:e=>{l.store.dispatch(Object(h.setTabButtonsSize)(e))},isFinalStep:()=>Object(g.isFinalStep)(l.store.getState()),overrideNavigation:e=>l.store.dispatch(Object(h.overrideNavigation)(e)),getAllSteps:()=>b.statefulNavStepsUtil.getAllSteps(),getCurrentStep:()=>Object(g.getCurrentStep)(l.store.getState()),getNextStep:()=>Object(g.getNextStep)(l.store.getState()),getPreviousStep:()=>Object(g.getPreviousStep)(l.store.getState()),getStep:e=>b.statefulNavStepsUtil.getStep(e),isCurrentFinished:()=>Object(g.isCurrentFinished)(l.store.getState()),isCurrentScreenFirstItem:()=>Object(g.isCurrentScreenFirstItem)(l.store.getState()),isLastActiveStep:()=>Object(g.isLastActiveStep)(l.store.getState()),isMenuButtonShown:()=>Object(g.isMenuButtonShown)(l.store.getState())||s.environmentUtil.isTeacherMode(),isPaused:()=>Object(g.isPaused)(l.store.getState()),setShowMenu:(e=!1)=>l.store.dispatch(Object(h.setShowMenu)(e)),createCustomButton:(e,t=-1,n=r._.noop)=>l.store.dispatch(Object(h.createCustomBtn)(e,t,n)),get help(){return{set callback(e){l.store.dispatch(Object(h.assignHelpButtonCallback)(e))},set enabled(e){l.store.dispatch(Object(h.setHelpEnabled)(e))},get enabled(){return Object(g.getHelpState)(l.store.getState()).enabled},set visible(e){l.store.dispatch(Object(h.setHelpVisible)(e))},get visible(){return Object(g.getHelpState)(l.store.getState()).visible},set pulseTimeout(e){l.store.dispatch(Object(h.setHelpPulseTimeout)(e))},get pulseTimeout(){return Object(g.getHelpState)(l.store.getState()).pulseTimeout},set pulse(e){l.store.dispatch(Object(h.setHelpPulsing)(e))},get pulse(){return Object(g.getHelpState)(l.store.getState()).pulsing}}},get done(){return{set callback(e){l.store.dispatch(Object(h.setDoneCallback)(e))},set enabled(e){l.store.dispatch(Object(h.setDoneEnabled)(e))},get enabled(){return Object(g.getNavigationState)(l.store.getState()).done.enabled},set visible(e){l.store.dispatch(Object(h.setDoneVisible)(e))},get visible(){return Object(g.getNavigationState)(l.store.getState()).done.visible}}},get back(){return{set enabled(e){l.store.dispatch(Object(h.setBackEnabled)(e)),l.store.dispatch(Object(h.overrideNavigation)(!0))},get enabled(){return!Object(g.isBackBtnDisabled)(l.store.getState())}}},get customButton(){return this.getCustomButton()},getCustomButton:(e="default")=>({set callback(t){l.store.dispatch(Object(h.setCustomBtnCallback)(t,e))},set enabled(t){l.store.dispatch(Object(h.setCustomBtnEnabled)(t,e))},get enabled(){return Object(g.getCustomBtnState)(l.store.getState(),e).enabled},set visible(t){l.store.dispatch(Object(h.setCustomBtnVisible)(t,e))},get visible(){return Object(g.getCustomBtnState)(l.store.getState(),e).visible},get label(){return Object(g.getCustomBtnState)(l.store.getState(),e).label},set label(t){l.store.dispatch(Object(h.setCustomBtnLabel)(t,e))}})},accessibility:{isNavigatingUsingKeyboard(){return this.keyboardNavEnabled},set keyboardNavEnabled(e){l.store.dispatch(Object(h.setKeyboardNavEnabled)(e))},get keyboardNavEnabled(){return Object(g.getNavigationState)(l.store.getState()).keyboardNavigation}},readText:{listen:e=>Object(l.subscribe)("text.read",t=>{e(Object(p.getReadTextState)(t))}),getCurrentPage:()=>Object(p.getReadTextState)(l.store.getState()).currentPage,isContentVisible:()=>Object(p.getReadTextState)(l.store.getState()).contentVisible,getContent:()=>{const e=l.store.getState(),{readTexts:t}=Object(p.getReadTextState)(e);return t[Object(c.getCurrentScreen)(e).shared]},toggleContent:(e=null)=>{return l.store.dispatch((t=e,{type:_.TEXT_TOGGLE_CONTENT_VISIBLE,payload:t}));var t}},dataCapture:{payloadBuilders:u.dcPayloadBuilders,eventTypes:Object.freeze(u.DC_EVENT_TYPES),sendEvent:{start:({type:e})=>u.dataCaptureUtil.sendEvent({type:e,payload:u.DC_EVENT_PAYLOADS.START}),pause:()=>u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.PAUSE}),unpause:()=>u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.UNPAUSE}),response:({payload:e,contextData:t})=>u.dataCaptureUtil.sendEvent({type:u.DC_EVENT_TYPES.RESPONSE,payload:e,contextData:t}),complete:({type:e,payload:t})=>u.dataCaptureUtil.sendEvent({type:e,payload:Object.assign(Object.assign({},u.DC_EVENT_PAYLOADS.COMPLETE),t)}),close:()=>u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.CLOSE}),finish:({contextData:e})=>u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.FINISH,contextData:e}),destroy:({contextData:e={}})=>{const t=r._.get(e,"screen")||Object(c.getCurrentScreen)(l.store.getState()),n=b.statefulNavStepsUtil.getStep(t.id);return u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.DESTROY,contextData:Object.assign(Object.assign({},e),{section:r._.get(n,"section")})})},help:()=>u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.HELP}),element:({payload:e,contextData:t})=>u.dataCaptureUtil.sendEvent({type:u.DC_EVENT_TYPES.ELEMENT,payload:e,contextData:t})}},dataShare:{sendEvent:{response:(e,t)=>{const n=A.dataShareUtil.dcResponseToShareData(e,t);n&&A.dataShareUtil.persistSharedData(n,t.screen.id)}}},ui:{cheats:{add:({id:e,value:t=!1,label:n,callback:r})=>{l.store.dispatch(Object(f.addCheat)([{id:e,value:t,label:n,callback:r,isRemovable:!0}]))},remove:({id:e})=>l.store.dispatch(Object(f.removeCheat)({id:e}))},prefPanel:{set component(e){throw new Error("No updater function set by PrefPanelContext")}},bottomBar:{set component(e){throw new Error("No updater function set by UIContext")}},modal:{set component(e){throw new Error("No updater function set by UIContext")},open:()=>{l.store.dispatch(Object(v.openLessonModal)())},close:()=>{l.store.dispatch(Object(v.closeLessonModal)())}},focusManager:{get backwardElement(){return a.focusManager.backwardElement},get forwardElement(){return a.focusManager.forwardElement},set backwardElement(e){a.focusManager.backwardElement=e},set forwardElement(e){a.focusManager.forwardElement=e},clearReferences:a.focusManager.clearReferences,backward:a.focusManager.backward,forward:a.focusManager.forward},automation:{isRunning:()=>s.environmentUtil.isAutomationRunning()}}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.adaptivityUtil=t.SCREEN_SKIP_FILTER=t.RANDOM_ADP_VALUE_MAX=t.RANDOM_ADP_VALUE_MIN=t.ADP_EVAL_ERROR=void 0;var i=r(n(43)),o=r(n(23)),a=r(n(4)),s=r(n(5)),u=r(n(15)),c=n(414),l=n(150),f=n(7),h=n(20),d=n(6),p=n(8),g=n(30),v=n(19),m=n(117),y=n(14),_=n(9),b=n(1),A=n(50);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.ADP_EVAL_ERROR="ADP_EVAL_ERROR";t.RANDOM_ADP_VALUE_MIN=1;t.RANDOM_ADP_VALUE_MAX=100;t.SCREEN_SKIP_FILTER="skip_filter";var x=new(function(){function e(){(0,a.default)(this,e),this.content=null}return(0,s.default)(e,[{key:"evaluateADPRuleCondition",value:function(e,t){var n,r=(0,h.getLessonResults)(p.store.getState()).results,i=this.content.adaptivity_decision_points,o=c.adaptivityEngine.processDecisionPoint({facts:this._constructFacts(i,r),decisionPoint:e});switch(o.action){case d.ADP.ACTIONS.COMPLETE_COMPONENT:var a=t.id;n=u.default.get(o,"dcInfo.evaluationResults.".concat(a)).result;break;case d.ADP.ACTIONS.GOTO_SCREEN:n=o.nextScreenId;break;default:throw new Error("Unhandled ILA action: ".concat(o.action))}return n}},{key:"_constructFacts",value:function(e,t){var n=this._gatherFactTargets(e),r=n.screens,i=n.randomAdpValues,a={previouslyFailedLesson:this.previouslyFailedLesson,chronGrade:this.chronGrade,useAlternateInstructionContent:this.useAlternateInstructionContent,randomAdpValues:{}},s=(0,y.getExitData)(p.store.getState());u.default.each(r,(function(e){a[e]=E(E({},t[e]),{},(0,o.default)({},d.ADP.SELECTORS.EXIT_DATA,s[e]||{}))}));var c=function(e){return(0,_.getRandomAdpValues)(p.store.getState())[e]},l=(0,g.getCheatValue)(p.store.getState()),f=l.enableRandomADPCheat,h=l.randomValueADPCheat;return i.forEach((function(e){var t=c(e);u.default.isUndefined(t)&&(t=f?parseInt(h,10):u.default.random(1,100),p.store.dispatch({type:b.NAVIGATION_PERSIST_RANDOM_ADP_VALUE,payload:{key:e,value:t}}),t=c(e)),a.randomAdpValues[e]=t})),a}},{key:"sendDecisionPointEvent",value:function(e,t){u.default.assign(e,{adaptivitySchemaVersion:t.schema}),delete t.schema,e.evaluationResults=u.default.map(t,(function(e,t){return E(E({},e),{},{conditionId:t})})),v.dataCaptureUtil.sendEvent({type:v.DC_EVENT_TYPES.DECISION_POINT,payload:e})}},{key:"processADP",value:function(e){var t,n,r=e.data,i=e.fromStep,o=e.results,a=e.stepsMap,s=r.decisionPoints,l=r.adaptivityResults,h=i.id,p=i.adpId;l=l?u.default.cloneDeep(l):{};try{var g=this._constructFacts(s,o),v=s[p];switch((n=c.adaptivityEngine.processDecisionPoint({facts:g,decisionPoint:v})).action){case d.ADP.ACTIONS.COMPLETE_COMPONENT:t={action:d.ADP.ACTIONS.COMPLETE_COMPONENT};break;case d.ADP.ACTIONS.GOTO_SCREEN:if(t=n.nextScreenId,u.default.isUndefined(a[t]))throw new Error("processADP: Received invalid screen id ".concat(t," from ADP ").concat(p,". Will go onto next linear step."));break;default:throw new Error("Unhandled ILA action: ".concat(n.action))}}catch(e){f.utilLogger.error("processADP: Error processing ADP ".concat(p,". Will go onto next linear step."),e.message),t=(n={action:d.ADP.ACTIONS.GOTO_SCREEN,nextScreenId:i.next.id,dcInfo:{evaluationResults:"ADP_EVAL_ERROR"}}).nextScreenId}n.fromScreenId=h;var m={from:h,to:t};return l[p]=m,this._applyAdaptivityResult({breadcrumb:m,stepsMap:a,adaptivityOwnerStep:i}),{adpDirective:n,adaptivityResults:l}}},{key:"processSkipFilter",value:function(e){var t=e.step,n=e.filterExpression,r=e.stepsMap,o=!1,a=!1;try{o=l.expressionEngine.instance.evaluate({expressions:n,iterateFromStep:t}).value;var s=(0,i.default)(o);if("boolean"!==s)throw new Error("Skip filter expression must return a boolean. Returned: ".concat(s))}catch(e){a=!0,o=!1,f.utilLogger.error("processSkipFilter: Error processing skip filter on step ".concat(t.id,". Will not skip step."),e.message)}var u={id:t.id,noop:!o};return o&&(u.from=t.prev?t.prev.id:A.NAV_ROOT_ID,u.to=t.next?t.next.id:null,this._applyAdaptivityResult({breadcrumb:u,stepsMap:r,adaptivityOwnerStep:t})),{errored:a,breadcrumb:u}}},{key:"getAdaptiveStepsToPreload",value:function(e){var t=e.currentStep,n=e.stepState,r=e.decisionPoints,i=e.results,o=[];if(t.adpId)try{var a=this._constructFacts(r,i),s=r[t.adpId];o=c.adaptivityEngine.getEvaluatedCandidateScreens({currentStep:{id:t.id,state:n},decisionPoint:s,facts:a})}catch(e){f.utilLogger.warn("[adaptivityUtil][getAdaptiveStepsToPreload] An error occurred:",e.message),o=[]}return o}},{key:"applyAdaptivityResults",value:function(e,t){var n=this,r=e.adaptivityResults,i=e.skips;u.default.each(r,(function(e){n._applyAdaptivityResult({breadcrumb:e,stepsMap:t,adaptivityOwnerStep:t[e.from]})})),i.forEach((function(e){e.noop||n._applyAdaptivityResult({breadcrumb:e,stepsMap:t,adaptivityOwnerStep:t[e.id]})}))}},{key:"_applyAdaptivityResult",value:function(e){var t=e.breadcrumb,n=e.adaptivityOwnerStep,r=e.stepsMap,i=t.from,o=t.to,a=r[i],s=this._isCompleteComponentActionStrict(o)?null:r[o];a.next!==s&&(a.next.prev=null,s&&(s.prev.next=null,s.prev=a.isRoot?null:a),a.next=s),n.adpId=null,n.skipFilter=null}},{key:"determinePreloads",value:function(e){var t=e.rules,n=[];return u.default.forEach(t,(function(e){var t=e.actions.concat(e.alternate_actions);u.default.forEach(t,(function(e){e.action===d.ADP.ACTIONS.GOTO_SCREEN&&(n=n.concat(u.default.compact(e.parameters)))}))})),n}},{key:"_isCompleteComponentActionStrict",value:function(e){if(u.default.isObject(e)){if(e.action===d.ADP.ACTIONS.COMPLETE_COMPONENT)return!0;throw new Error("object must have action COMPLETE_COMPONENT. Got: ".concat(e.action))}return!1}},{key:"checkToSkipFormAScreens",value:function(e,t,n){var r,i=u.default.get(e,"adpId");if(i&&(r=n,u.default.includes(u.default.values(d.ADP.SELECTORS),r))){var o=u.default.get(this.content,"adaptivity_decision_points.".concat(i)),a=o.rules,s=u.default.head(a);if(s&&function(e){var t=u.default.head(e.conditions),r=e.actions[0].action===d.ADP.ACTIONS.GOTO_SCREEN,i=e.alternate_actions[0].action===d.ADP.ACTIONS.GOTO_SCREEN,o=t.operand1.selector===n;return r&&i&&o}(s)){var c=this.evaluateADPRuleCondition(o);c&&(e.next=t[c])}}}},{key:"shouldCompleteComponentEarlier",value:function(e){var t=!1,n=u.default.get(e,"adpId");if(n){var r=u.default.get(this.content,"adaptivity_decision_points.".concat(n)),i=r.rules;if(1===i.length){var o=i[0];if(function(e){var t=e.actions,n=e.alternate_actions,r=1===n.length&&u.default.isEmpty(n[0]);return u.default.find(t,{action:d.ADP.ACTIONS.COMPLETE_COMPONENT})&&r}(o)){var a=u.default.head(o.conditions);t=this.evaluateADPRuleCondition(r,a)}}}return t}},{key:"transformDecisionPoints",value:function(e){var t,n=u.default.chain(e).get("adaptivity_decision_points").transform((function(e,n,r){"adaptivity_schema_version"===r?t=n:e[r]=E(E({},n),{},{schemaVersion:t})})).value();return u.default.isEmpty(n)?null:n}},{key:"getAdaptivitySchemaVersion",value:function(e){return e.adaptivity_decision_points.adaptivity_schema_version}},{key:"_isValidGradeSpecifier",value:function(e){var t;if("K"===e)t=0;else{var n=parseInt(e,10);if(!u.default.isNumber(n)||u.default.isNaN(n))throw new Error("adaptivityUtil._isValidGradeSpecifier: Invalid grade specifier. Received ".concat(e));t=n}return t}},{key:"_gatherFactTargets",value:function(e){var t=new Set,n=new Set;return u.default.forEach(e,(function(e){"adp"===e.type&&u.default.forEach(e.rules,(function(e){e.conditions.forEach((function(e){var r=e.operand1,i=r.selector,o=r.parameters;i===d.ADP.SELECTORS.RANDOM_VALUE?o.forEach((function(e){return n.add(e)})):o.forEach((function(e){return t.add(e)}))}))}))})),{screens:Array.from(t),randomAdpValues:Array.from(n)}}},{key:"previouslyFailedLesson",get:function(){var e=(0,g.getCheatValue)(p.store.getState());return u.default.get(window,"parent.lessonBridge.info.previouslyFailedLesson")||e.previouslyFailedLesson}},{key:"chronGrade",get:function(){var e,t=(0,m.getUserDetails)(p.store.getState()).grade;if(u.default.isString(t)&&!u.default.isEmpty(t)){var n=t.split(" ");if(1===n.length)e=this._isValidGradeSpecifier(n[0]);else{if(2!==n.length||"Grade"!==n[0])throw new Error("adaptivityUtil.chronGrade: Invalid grade specifier. Received ".concat(t));e=this._isValidGradeSpecifier(n[1])}}else f.utilLogger.error("chronGrade: received ".concat(t," for student's chron grade. Defaulting to Grade 0.")),e=0;return e}},{key:"useAlternateInstructionContent",get:function(){var e=(0,m.getUserDetails)(p.store.getState()).useAlternateInstructionContent,t=(0,g.getCheatValue)(p.store.getState());return u.default.isUndefined(u.default.get(t,"useAlternateInstructionContent"))?e:e||t.useAlternateInstructionContent}}]),e}());t.adaptivityUtil=x},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.navScreenPropsUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(36),u=n(50),c=new(function(){function e(){(0,i.default)(this,e),this._showIntroOutro=!0}return(0,o.default)(e,[{key:"updateScreenProps",value:function(e){var t=e.step,n=e.screenProps,r=e.prevStepAutoplay,i=void 0!==r&&r,o=a.default.cloneDeep(n),u=t.next||{},c=t.prev||{},l=!s.navStepsUtil.isSameStyle(c,t),f=!l&&i||o.autoplay;return o.firstItem=o.firstItem||!c||l,o.playIntro=o.playIntro||!f&&o.firstItem,o.lastItem=o.lastItem||!u||!s.navStepsUtil.isSameStyle(t,u),o.playOutro=o.playOutro||!o.autoplay&&o.lastItem,this._showIntroOutro||(o.playIntro=!1,o.playOutro=!1),o}},{key:"updateProperties",value:function(e,t){var n,r,i=!1,o=t[u.NAV_ROOT_ID].next;do{n=e[o.id].properties,r=this.updateScreenProps({step:o,screenProps:n,prevStepAutoplay:i}),a.default.merge(n,r),i=r.autoplay,o=o.next}while(o)}},{key:"showIntroOutro",get:function(){return this._showIntroOutro},set:function(e){this._showIntroOutro=e}}]),e}());t.navScreenPropsUtil=c},function(e,t,n){var r=n(195),i=n(196);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g}));var r=n(1),i=n(191),o=n(6),a=n(0),s=n(46),u=n(14),c=n(7),l=n(20),f=n(102),h=n(64);function d(e){return{type:r.RESULTS_UPDATE,payload:e}}function p(e,t){return(n,r)=>{const i=Object(u.getScreen)(r(),e),{EXIT_DATA:f}=o.ADP.SELECTORS,p=a._.get(JSON.parse(s.storageUtil.getItem(e)),f,null);t=Object.assign(Object.assign({},t),{[f]:p}),n(d({results:{[e]:t},isQuiz:h.navSectionUtil.isQuiz(i.component),currentScreenId:e}));const g=Object(l.getLessonResults)(r()).results,v=a._.sum(a._.map(g,"raw")),m=a._.sum(a._.map(g,"max"));c.storeLogger.info(`[Score] screen score: ${t.raw}, max: ${t.max}, screen_id: ${e} (lesson total: ${v}/${m})`)}}const g=()=>(e,t)=>{const n=i.lessonResultsUtil.getResults(t());e(Object(f.b)(n.score)),i.lessonResultsUtil.saveResults(t(),n).then(t=>{var n;e((n={results:t},{type:r.RESULTS_SAVE_SUCCESS,payload:n}))},t=>{var n;e((n=t,{type:r.RESULTS_SAVE_FAILURE,payload:n}))})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){return{type:r.AUTOMATION_INITIAL_LESSON_STATE,payload:e}}function o(){return{type:r.AUTOMATION_TOGGLE_ALERT}}function a(e){return{type:r.AUTOMATION_SAVE_LESSON_SCORE,payload:e}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.navigationUtil=void 0;var i=r(n(23)),o=r(n(39)),a=r(n(4)),s=r(n(5)),u=n(0),c=n(50),l=n(148),f=n(6),h=n(16),d=n(33),p=n(36),g=n(97),v=n(418),m=n(419),y=n(64),_=n(98),b=n(126);function A(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var w=new(function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"prepareContent",value:function(e,t,n){var r=u._.cloneDeep(e);n&&v.teacherMenuUtil.sanitizeForTeacherMode(r);var i=r.navigation;i.forEach((function(e,t){e.index=t,e.validName=y.navSectionUtil.getSectionName(e.name);var n=null;e.screens.forEach((function(e){if(e.decision_point_id){if(null!=n)throw new Error("Back-to-back ADPs not allowed: ".concat(n,", ").concat(e.decision_point_id));n=e.decision_point_id}else n=null}))}));var a=h.environmentUtil.query.type;if(!t.multiSection&&a&&!n){var s=f.LESSON_SECTION.REVIEW.toLowerCase(),c=f.LESSON_SECTION.QUIZ.toLowerCase(),l=y.navSectionUtil.getSectionName(a);u._.pull.apply(u._,[i].concat(A(o.default,u._.filter(i,(function(e){var t=e.validName;return(t!==s||l!==c)&&t!==l})))))}return g.adaptivityUtil.content=r,this.content=r,r}},{key:"prepareNavigation",value:function(e){var t=this,n=e.navigation,r=e.screens,i=e.adaptivity_decision_points,o=e.navStoreState,a=[],s={},u=null,f=o.stepState,h=function(e){var t=e.id;return a.push(e),s[t]=e,f[t]||(f[t]=p.navStepsUtil.createDefaultNavigationStep()),e};n.forEach((function(e,n){0===n&&(u=h(p.navStepsUtil.createRootStep()),f[c.NAV_ROOT_ID].finished=!0);var o=a[a.length-1];t._createSteps({section:e,screens:r,prevStep:o,decisionPoints:i}).forEach((function(e){return h(e)}))})),m.menuLinksUtil.processMenuLinks(a,s,r),u.next.prev=null,_.navScreenPropsUtil.updateProperties(r,s),g.adaptivityUtil.applyAdaptivityResults(o,s),p.navStepsUtil.setProgress(s,f),l.performanceUtil.initialize(s);var d=this._inventorySteps(s,n),v=d.totalSteps,y=d.sectionMarkers,b=d.teacherNavLookup;return{steps:s,totalSteps:v,sectionMarkers:y,teacherNavLookup:b,screens:r}}},{key:"prepareNavigationSequence",value:function(e,t,n){var r=this.prepareNavigation(u._.extend({navStoreState:e},t)),i=r.teacherNavLookup,o=r.sectionMarkers,a=r.totalSteps,s=r.steps,c=r.screens,l=t.info.teacherModeScreens||n.teacherModeScreens;e.teacherNav=v.teacherMenuUtil.buildTeacherNav({teacherNavLookup:i,teacherModeScreens:l}),d.statefulNavStepsUtil.setNavSteps(s);var f={totalSteps:a,sectionMarkers:o};return this._captureInventory(f,e),{navigationState:e,screenState:c}}},{key:"evaluateADP",value:function(e){var t=e.data,n=e.fromStep,r=e.results,i=e.logger,o=n.adpId,a=d.statefulNavStepsUtil.getNavSteps(),s=u._.cloneDeep(t.stepState),c=g.adaptivityUtil.processADP({data:t,fromStep:n,results:r,stepsMap:a}),l=c.adpDirective,h={stepState:s,adaptivityResults:c.adaptivityResults};l.action===f.ADP.ACTIONS.GOTO_SCREEN&&this._setProgressAndCaptureInventory(a,s,h);try{var p=l.dcInfo.evaluationResults;if(p!==g.adaptivityUtil.ADP_EVAL_ERROR){var v=l.action,m=l.fromScreenId,y=l.nextScreenId,_={decisionPointId:o,fromScreenId:m,toScreenId:v===f.ADP.ACTIONS.COMPLETE_COMPONENT?f.ADP.ACTIONS.COMPLETE_COMPONENT:y};g.adaptivityUtil.sendDecisionPointEvent(_,p)}}catch(e){i.error("Error sending data capture event for ADP ".concat(o),e)}return{update:h,nextStep:n.next}}},{key:"evaluateSkipFilter",value:function(e){var t=e.filterExpression,n=e.step,r=e.stepState,o=e.skips,a=e.logger,s=d.statefulNavStepsUtil.getNavSteps(),c=g.adaptivityUtil.processSkipFilter({step:n,filterExpression:t,stepsMap:s}),l=c.errored,f=c.breadcrumb,h=f.noop,p=f.from,v=f.to,m={stepState:r=u._.cloneDeep(r),skips:o=u._.cloneDeep(o)};o.push(f);var y=!h;y&&this._setProgressAndCaptureInventory(s,r,m);try{if(!l){var _=(0,i.default)({schema:g.adaptivityUtil.getAdaptivitySchemaVersion(this.content)},n.id,{screens:[],type:"skip_filter",condition:t,result:y}),b={decisionPointId:n.id,fromScreenId:p||"",toScreenId:v||""};g.adaptivityUtil.sendDecisionPointEvent(b,_)}}catch(e){a.error("Error sending data capture event for skip filter on step ".concat(n.id),e)}return{update:m,skipped:y}}},{key:"_createSteps",value:function(e){var t=e.section,n=e.screens,r=e.prevStep,i=e.decisionPoints,o=[];return t.screens.forEach((function(e){var a=e.decision_point_id,s=e.screen_id;if(a){if(r.skipFilter)throw new Error("step ".concat(r.id," has both a skip filter and ADP associated with it"));r.adpId=a,r.preloadArray=g.adaptivityUtil.determinePreloads(i[a])}else{if(!s)throw new Error("Unhandled element type");var c=n[s],l=u._.get(c,g.SCREEN_SKIP_FILTER,null);if(l&&b.agcLessonUtil.isAGCScreen(c))throw new Error("skip filters are not supported on AGC screens (screen ID: ".concat(s,")"));var f=p.navStepsUtil.createStep({screenId:s,section:t,prevStep:r,updateProgress:u._.get(c,"style.properties.updateProgress",!0),revisitable:u._.get(c,"style.properties.revisitable",!0),skippable:u._.get(c,"style.properties.skippable",!1),skipFilter:l});f.style=c.style.id,o.push(f),r=f}})),o}},{key:"_calculateProgressBar",value:function(e){for(var t=e[c.NAV_ROOT_ID],n=0,r=[],i=t,o=t.next;o;){g.adaptivityUtil.checkToSkipFormAScreens(o,e,f.ADP.SELECTORS.PREVIOUSLY_FAILED_LESSON),i.section!==o.section&&r.push(n),o.updateProgress&&n++,o.isMenuScreen&&(n+=m.menuLinksUtil.inventoryMenuChildren(o,e)),g.adaptivityUtil.shouldCompleteComponentEarlier(o)?o=null:(i=o,o=o.next)}return{totalSteps:n,sectionMarkers:r}}},{key:"_inventorySteps",value:function(e,t){var n=v.teacherMenuUtil.createTeacherNavLookup(e,t),r=this._calculateProgressBar(u._.cloneDeep(e));return{totalSteps:r.totalSteps,sectionMarkers:r.sectionMarkers,teacherNavLookup:n}}},{key:"_captureInventory",value:function(e,t){var n=e.totalSteps,r=e.sectionMarkers;t.totalSteps=n,t.sectionMarkers=r}},{key:"_setProgressAndCaptureInventory",value:function(e,t,n){p.navStepsUtil.setProgress(e,t);var r=this._inventorySteps(e,this.content.navigation);this._captureInventory(r,n)}}]),e}());t.navigationUtil=w},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var r=n(0),i=n(17),o=n(16),a=n(6),s=n(7),u=n(36),c=n(64);const{FINGERPRINT:l,ACTION:f,ACTION_TYPE:h,ACTION_CRITERIA:d,ACTION_PARAMS:p}=i.LessonStateDirectiveKeys,g={COMPONENT:i.LessonStateDirectiveActionCriterions.COMPONENT,DIRECTIVE_FINGERPRINTS:"directiveFingerprints"};const v=new class{validateDirectiveSyntax(e){const t=[];let n=!0,o=null;try{Array.isArray(e)?e.every(e=>{const u=r._.get(e,l);if(r._.isEmpty(u)||!r._.isString(u))return n=!1,o=`Directive Structure: invalid lesson fingerprint in directive:\n'${JSON.stringify(e)}'`,s.utilLogger.error(o),{isValid:n,error:o};if(r._.includes(t,u))return n=!1,o=`Directive Structure: multiple directives with same fingerprint '${u}'`,s.utilLogger.error(o),{isValid:n,error:o};t.push(u);const c=r._.get(e,f);if(r._.isEmpty(c))return n=!1,o=`Directive Structure: missed action in directive:\n'${JSON.stringify(e)}'`,s.utilLogger.error(o),{isValid:n,error:o};const{[h]:p}=c;if(!r._.includes(i.LessonStateDirectiveActions,p))return n=!1,o=`Directive Structure: invalid type '${p}' in action:\n'${JSON.stringify(c)}'`,s.utilLogger.error(o),{isValid:n,error:o};const{[d]:g}=c;if(!r._.isEmpty(g)){const e=Object.values(i.LessonStateDirectiveActionCriterions);Object.keys(g).every(t=>r._.includes(e,t)?t===i.LessonStateDirectiveActionCriterions.COMPONENT&&p!==i.LessonStateDirectiveActions.RESET_COMPONENT?(n=!1,o=`Directive Structure: constraint 'component' is not applicable to action:\n'${JSON.stringify(c)}'`,s.utilLogger.error(o),{isValid:n,error:o}):{isValid:n,error:o}:(n=!1,o=`Directive Structure: invalid constraint key '${t}' in action:\n'${JSON.stringify(c)}'`,s.utilLogger.error(o),{isValid:n,error:o}))}if(p===i.LessonStateDirectiveActions.RESET_COMPONENT){if(r._.isEmpty(g)||!r._.includes(Object.keys(g),i.LessonStateDirectiveActionCriterions.COMPONENT))return n=!1,o=`Directive Structure: no component constraint in action:\n'${JSON.stringify(c)}'`,s.utilLogger.error(o),{isValid:n,error:o};const{[i.LessonStateDirectiveActionCriterions.COMPONENT]:e}=g,t=r._.omitBy(a.LESSON_SECTION,e=>e===a.LESSON_SECTION.REVIEW);if(!r._.includes(r._.values(t),e))return n=!1,o=`Directive Structure: invalid component name '${e}' in action:\n'${JSON.stringify(c)}'`,s.utilLogger.error(o),{isValid:n,error:o}}return{isValid:n,error:o}}):(n=!1,o=`Directive Structure: directive is not an array:\n'${JSON.stringify(e)}'`,s.utilLogger.error(o))}catch(t){n=!1,o=`Directive Structure: error during lesson state directive validation.\n Directive: \n'${JSON.stringify(e)}'`,s.utilLogger.error(o,t)}return{isValid:n,error:o}}transformDirectiveToActions(e,t,n){const{RESET_COMPONENT:o}=i.LessonStateDirectiveActions,{DIRECTIVE_FINGERPRINTS:a,COMPONENT:u}=g,c=[],v={};return r._.chain(e).transform((e,c)=>{const g=r._.get(c,[f]),m=r._.get(g,[h]),y=r._.get(g,[d],{});let _=r._.get(c,[l]);const b=r._.get(t,"fingerprints");let{lesson:A}=b;if(_=r._.isEmpty(_)?"directiveFingerprint":_,A=r._.isEmpty(A)?"lessonFingerprint":A,_===A&&this._isActionCriteriaMet(t,y))if(e.push({type:i.LessonStateDirectiveActions.UPDATE_FINGERPRINT,[p]:{[a]:r._.get(n,"fingerprints")}}),m===o){const t=r._.get(y,u);r._.merge(v,{component:t}),e.push({type:m,parameters:v})}else m!==i.LessonStateDirectiveActions.UPDATE_FINGERPRINT&&s.utilLogger.warn(`[lessonDirectiveUtil][transformDirectiveToActions]: unsupported action type '${m}'`);else s.utilLogger.warn(`[lessonDirectiveUtil][transformDirectiveToActions]: not executable action '${m}'`)},c).value(),c}_isActionCriteriaMet(e,t){let n=!0;return r._.forOwn(t,(t,r)=>{n=n&&this._isCriterionMet(e,r,t)}),n}_isCriterionMet(e,t,n){let a=!1;switch(t){case i.LessonStateDirectiveActionCriterions.BEFORE_SCREEN:{const t=r._.get(e,"navigationStore.stepState"),i=n;a=u.navStepsUtil.isNoCompletedScreensOnOrAfter(t,i);break}case i.LessonStateDirectiveActionCriterions.COMPONENT:{const e=r._.get(o.environmentUtil.query,"type"),t=n;a=!r._.isNil(e)&&r._.lowerCase(t)===c.navSectionUtil.getSectionName(e);break}default:s.utilLogger.error(`Not recognizable lesson state directive constraint '${t}:${n}'`)}return a}}},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(i.apply(null,r));else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=i:void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(325)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TextWidget=void 0;var i=r(n(24)),o=r(n(28)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(4)),l=r(n(5)),f=n(0),h=n(22),d=n(432),p=n(433),g=n(434),v=n(58),m=n(7),y=n(120),_=r(n(435));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var A={default:{color:"#000000",size:45},small:{size:25},link:{color:"#0033CC"},highlight:{backgroundColor:"#FFFF22"},primaryColor:{color:"#1a82ff"},red:{color:"#FF0000"},blue:{color:"#0000FF"},grey:{color:"#808080"},yellow:{color:"#ffe73f"},orange:{color:"#f98630"},hide:{alpha:0}},w=function(){function e(t,n){(0,c.default)(this,e),this._textCursor=new _.default(t,n)}return(0,l.default)(e,[{key:"splitText",value:function(e){return e.split("").join("|")}},{key:"cursor",get:function(){return this._textCursor}}]),e}(),E=function(e){(0,a.default)(n,e);var t=b(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,c.default)(this,n);var l,d,p=s.color||n.styles.default.color,g=s.font||n._font,m=s.metrics||h.assetUtil.getAsset({type:"font",src:"./fonts/".concat(g,".json")});if(r){var _=v.layoutUtil.getBounds(r);l=_.height,d=_.width}return(o=t.call(this,{text:e,font:g,color:p,height:s.height||l,width:s.width||d||1250,size:s.size||(f._.words(e).length>1?40:45),metrics:m,align:f._.isUndefined(s.align)?f.txtjs.Align.MIDDLE_LEFT:s.align,lineHeight:s.lineHeight,tracking:s.tracking})).originalText=e,o.originalTextColor=s.color||"#000000",o.blankColor=s.blankColor||"#000000",o.spans=a,o._additionalEffects=s.effects||{},o.groups={},o.settings=f._.pick(s,["delimiters"]),s.delimiters&&(o.visibleCharacters=y.textUtil.split((0,i.default)(o),{delimiters:o.settings.delimiters})),!0===s.showLines&&o.showPositionalLines(),n.register&&n.register((0,i.default)(o)),u.enabled&&(o._cursorAdapter=new w(u,(0,i.default)(o)),o.split(o._cursorAdapter.splitText(e))),o.updateInitialValues(),o}return(0,l.default)(n,null,[{key:"reset",value:function(){n.styles=A}},{key:"updateStyle",value:function(e,t){var r=f._.cloneDeep(n.styles);r[e]=f._.merge(r[e],t),n.styles=r}}]),(0,l.default)(n,[{key:"center",value:function(){var e=y.textUtil.measuredWidth(y.textUtil.characters(this.characters));if(this.visibleCharacters){var t=y.textUtil.measuredWidth(y.textUtil.characters(this.visibleCharacters));this.x=(e-t)/2}}},{key:"hideDelimiters",value:function(){y.textUtil.hideCharacters(this,{characters:this.settings.delimiters})}},{key:"applyEffect",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.onComplete,o=void 0===i?f._.noop:i,a=r.onUpdate,s=void 0===a?f._.noop:a,u=f._.find(this.spans,{id:e});if(u){var c=this._getTextParts(e);if("bounce"===u.className){this.groups[e]&&this.ungroup(e);var l=this.group(e,c);c=[l]}else{var h=f._.map(c,(function(e){return t.parts.indexOf(e)}));if(h.length>1){for(var d=!0,g=1;g<h.length;g++)if(h[g]-h[g-1]!=1){d=!1;break}if(d&&"bounce"===u.className){var v=this.group(e,c);c=[v]}}}var y=function(){t.groups[e]&&t.ungroup(e),o()},_=function(){f._.each(c,(function(e){return e.animating=!1})),y()};if(u.className){var b,A=function(e){f._.forEach(c,(function(t){t.setColor(n.styles[e].color)})),s()};switch(u.className){case"highlight":b=n.styles.highlight,f._.forEach(c,(function(e){e.setHighlight(b.backgroundColor)})),s(),y();break;case"gap":var w=f._.isArray(u.span[0])?u.span:[u.span];f._.forEach(w,(function(e){t.setText("".concat(t._text.text.substring(0,e[0]),"\n").concat(t._text.text.substring(e[1],t._text.text.length)))})),y();break;case"blank":var E="_____";this.blankLine=new createjs.Shape;var x=f._.isArray(u.span[0])?u.span:[u.span];f._.forEach(x,(function(e){t.setText(t._text.text.substring(0,e[0])+E+t._text.text.substring(e[1],t._text.text.length)),t._drawBlank(t.blankLine,e[0],e[0]+E.length-1)})),this.addChild(this.blankLine),y();break;case"bounce":f._.each(c,(function(e){return e.animating=!0})),p.TextFx.bounce({target:c,onComplete:_,onUpdate:s});break;case"pulse":f._.each(c,(function(e){return e.animating=!0})),p.TextFx.pulse({target:c,onComplete:_,onUpdate:s});break;case"color":A("primaryColor"),y();break;case"color-2":A("orange"),y();break;case"color-3":A("yellow"),y();break;case"red":case"blue":case"grey":case"yellow":A(u.className),y();break;case"hide":A("hide"),y();break;default:this._additionalEffects[u.className]?(f._.each(c,(function(e){return e.animating=!0})),this._additionalEffects[u.className]({target:c,onComplete:_,onUpdate:s})):m.rendererLogger.error("No animation to run for spans with id: ".concat(this.id))}this._broadcast("effectOn",{span:u,targets:c})}else m.rendererLogger.error("No animation to run for spans with id: ".concat(this.id)),s(),y()}else m.rendererLogger.warn("no span found for ".concat(e," (").concat(this.originalText,")"))}},{key:"resetTextParts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f._.filter(this.parts,{animating:!0});f._.each(t,(function(t){t.set(t.initialValues),t.groupId&&e.ungroup(t.groupId)}))}},{key:"updateInitialValues",value:function(){f._.each(this.parts,(function(e){var t=e.x,n=e.y,r=e.scale,i=e.scaleX,o=e.scaleY,a=e.regX,s=e.regY;e.initialValues={x:t,y:n,scale:r,scaleX:i,scaleY:o,regX:a,regY:s}}))}},{key:"_getTextParts",value:function(e){return f._.filter(this.parts,(function(t){return f._.find(t.children[0].spans,{id:e})}))}},{key:"group",value:function(e,t){var n=f._.find(this.groups,(function(e){return e.hasSameParts(t)}));return n||(n=new g.TextGroup(t)),f._.each(t,(function(t){t.animating=!0,t.groupId=e})),f._.each(this.parts,(function(e){e.set(e.initialValues)})),this.groups[e]=n,this.addChild(n),n}},{key:"ungroup",value:function(e){var t=this.groups[e];f._.each(t.parts,(function(e){e.animating=!1,delete e.groupId})),t.ungroup(),this.removeChild(t),delete this.groups[e]}},{key:"removeEffect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onComplete,i=void 0===r?f._.noop:r,o=n.onUpdate,a=void 0===o?f._.noop:o,s=this._getTextParts(e),u=f._.find(this.spans,{id:e});if(u){if(u.className){switch(u.className){case"highlight":f._.forEach(s,(function(e){e.setHighlight(null)}));break;case"bounce":this.groups[e]&&this.ungroup(e),f._.each(this.parts,(function(e){e.set(e.initialValues)}));break;case"gap":this.setText(this.originalText);break;case"blank":this.removeChild(this.blankLine),this.setText(this.originalText);break;case"hide":case"color":case"color-2":case"color-3":case"red":case"blue":case"grey":case"yellow":f._.forEach(s,(function(e){e.setColor(t.originalTextColor)}))}a(),i()}this._broadcast("effectOff",{span:u,targets:s})}else m.rendererLogger.warn("no span found for ".concat(e," (").concat(this.originalText,")"))}},{key:"setText",value:function(e){(0,o.default)((0,u.default)(n.prototype),"setText",this).call(this,this.textCursor?this._cursorAdapter.splitText(e):e)}},{key:"split",value:function(e){(0,o.default)((0,u.default)(n.prototype),"split",this).call(this,e),this._broadcast("textChange")}},{key:"getSpansWithClassName",value:function(e){return(0,f._)(this.parts).map((function(e){return f._.head(e.children).spans})).flatten().filter({className:e}).value()}},{key:"getPartsWithClassName",value:function(e){var t=this;return f._.chain(this.getSpansWithClassName(e)).map((function(e){return(0,f._)(t.parts).filter((function(t){return f._.find(f._.head(t.children).spans,{id:e.id})})).value()})).flatten().map((function(e){return e})).value()}},{key:"_createPattern",value:function(){var e=this.getText(),t=f._.chain(this.spans).map("span").flattenDeep().sortBy().uniq().without(0,e.length).value();return f._.reduceRight(t,(function(e,t){return"".concat(e.slice(0,t),"|").concat(e.slice(t))}),e)}},{key:"_setupSpan",value:function(e){var t=this;f._.forEach(e.span,(function(n){for(var r=n[0];r<n[1];r++){var i=t.characters[r];i.spans=i.spans?i.spans:[],i.spans.push(e)}}))}},{key:"_broadcast",value:function(e,t){var n=new createjs.Event(e);f._.merge(n,t),this.dispatchEvent(n)}},{key:"_drawBlank",value:function(e,t,n){var r=this.characters[t].character,i=this.characters[n].character,o=this._metrics.glyphs[95],a=this._text.size/100,s=o.height*a+1,u=r.localToLocal(0,0,this).x+o.minX*a,c=i.localToLocal(0,0,this).x+(o.minX+o.width)*a,l=r.localToLocal(0,0,this).y+(o.minY+o.height/2)*a;e.graphics.setStrokeStyle(s).beginStroke(this.blankColor).moveTo(u,l).lineTo(c,l)}},{key:"showPositionalLines",value:function(){var e=this;this.hidePositionalLines();var t=this._text.size/100,n=this.getBounds(),r=Math.min(0,n.x),i=r+Math.max(this._text.width,n.width);this._positionalLines=new createjs.Shape,this._positionalLines.graphics.setStrokeStyle(2).beginStroke("#64B4FF");var o=f._.uniq(this.parts,(function(e){return e.y}));f._.each(o,(function(n){var o=n.localToLocal(0,e._metrics.glyphs[65].minY*t,e).y,a=n.localToLocal(0,0,e).y;e._positionalLines.graphics.moveTo(r,o-1).lineTo(i,o-1).moveTo(r,a+1).lineTo(i,a+1)})),this._positionalLines.cache(r,n.y,i-r,n.height),this._positionalLines.setBounds(r,n.y,i-r,n.height),this.addChildAt(this._positionalLines,0)}},{key:"hidePositionalLines",value:function(){this._positionalLines&&(this.removeChild(this._positionalLines),this._positionalLines=null)}},{key:"getBounds",value:function(){return this._positionalLines?this._positionalLines.getBounds():(0,o.default)((0,u.default)(n.prototype),"getBounds",this).call(this)}},{key:"hasSpan",value:function(e){return f._.find(this.spans,(function(t){return t.id===e}))}},{key:"availableSpans",get:function(){return f._.map(this._spans,"id")}},{key:"textCursor",get:function(){return this._cursorAdapter?this._cursorAdapter.cursor:null}},{key:"width",set:function(e){var t=this.getText();this._text.width=e,this.setText(t)}},{key:"spans",set:function(e){var t=this;this._spans=f._.cloneDeep(e);var n=this._createPattern();this.split(n),f._.forEach(e,(function(e){t._setupSpan(e)}))},get:function(){return this._spans}}],[{key:"font",get:function(){return this._font},set:function(e){this._font=e}},{key:"styles",get:function(){return this._styles},set:function(e){this._styles=e}}]),n}(d.Text);t.TextWidget=E,E.font="sweater_school_sb",E.styles=A,E.register=null},function(e,t,n){var r=n(49).Symbol;e.exports=r},function(e,t){e.exports=function(e){return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(479),i=n(488)(r);e.exports=i},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseOrchestrator=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(24)),s=r(n(5)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(159),h=n(22),d=n(92),p=n(147),g=n(34),v=n(7),m=n(0),y=n(182),_=n(6),b=n(19),A=n(16),w=n(9);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var S={},O=function(){g.audioPlayer.getContext("USER").stop()},C=function(e){(0,u.default)(n,e);var t=T(n);function n(e,r,i){var s,u,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,o.default)(this,n),(s=t.call(this)).searchScreen=function(e){return JSON.search(s._screenSnapshot,e)},s._onAssetsLoaded=function(e){var t=e.assetManifest,n=e.images,r=e.videos;s.state.loaded=!0,s.manifest=t,s.images=n,s.videos=r,s.commit(),s.onLoad(),s.emit("load")},s.screen=e,s.state=r,s.style=m._.get(h.assetUtil.config,e.styleId,!1)||(u="[".concat(e.styleId,"] Use of the style.json through the _external attribute is deprecated and expected to be removed in iFabric v9. Use the config.json to specfify style configurations instead."),A.environmentUtil.warn(u),i),s.images={},s.videos={},s.screens={},s.autoProgress=!1,s.autoHelpEnablement=!0,s.updatedPaths=[],v.orchstratorLogger.profile((0,a.default)(s),15,[],s.constructor.name),c||s.postConstruct(),s}return(0,s.default)(n,null,[{key:"_createInitialFeedbackStructure",value:function(){return{correct:null,playing:!1,assetId:null,attempt:0}}},{key:"_getBaseInitialState",value:function(e){return{init:!1,loaded:!1,ready:!1,complete:!1,finished:!1,inProgress:!1,uiEnabled:!1,doneEnabled:!1,showDone:!1,showHelp:!0,feedback:n._createInitialFeedbackStructure(),randomized:{},result:{screenId:e.id,score:0,max:0}}}},{key:"getInitialState",value:function(e){return n._getBaseInitialState(e)}},{key:"logger",get:function(){return v.orchstratorLogger}}]),(0,s.default)(n,[{key:"postConstruct",value:function(){var e=this;this.state.loaded=!1;var t=["onComplete","cue","done","onHelp","onDeselect","onSelect","ready","onRequestUserInput","toggleReadTextWidget"];m._.bindAll(this,t.concat("finish","batchUpdate"));var n=function(){e.state.uiEnabled=!0,e.commit()},r=function(){e.state.uiEnabled=!1,e.commit()};m._.forEach(t,(function(t){e[t]=m._.wrap(e[t],(function(i){for(var o=new y.Sequencer,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];if("onHelp"===t)if(e.state._helpPlaying)e._helpStopping=!0,o.execute((function(){e.state._helpPlaying=!1,e.commit()})),e._reEnableDone&&o.enableDoneButton(),O(),o.execute(n),e.onHelpStop(o);else if(e._helpStopping)v.orchstratorLogger.info("help is stopping");else{var c=s[0];e._reEnableDone=c,o.execute((function(){e.state._helpPlaying=!0,e.commit()})),O(),o.disableDoneButton(),o.execute(r),i.apply(void 0,[o].concat(s)),y.Sequencer.reassignAudioContextForSequence(o.sequence,"USER"),o.execute(n),c&&o.enableDoneButton(),o.execute((function(){e.state._helpPlaying=!1,e.commit()}))}else"done"===t?(O(),e._processingDoneHandler=!0,i.apply(void 0,[o].concat(s)),o.execute((function(){e._processingDoneHandler=!1}))):i.apply(void 0,[o].concat(s));if("ready"===t){var l=m._.head(s);l&&o.execute(l)}return o.sequence}))})),this.screen.transformed||(this.screen=this._initScreen(this.screen)),this.cheats.randomDisabled||m._.forEach(this.randomizedPaths,(function(t){p.screenUtil.randomize(e.screen,t,e.state)})),this._screenSnapshot=JSON.toXML(this.screen,!0),this._styleSnapshot=JSON.toXML(this.style,!0),this.state.init||(this.state.assets=(0,m._)(this.searchScreen("//id/..")).map((function(e){return{id:e.id,type:e.type,attempt:0,enabled:!0}})).keyBy("id").value(),this.init(),this.initialized())}},{key:"isVisited",value:function(e){}},{key:"_initScreen",value:function(e){d.jsonUtil.identify(e,'//*[type="text"]/spans[not(id)]');var t=this.transform(e);return t.transformed=!0,t}},{key:"transform",value:function(e){return e}},{key:"init",value:function(){}},{key:"initialized",value:function(){var e=this.state;e.init||(e.init=!0,this.commit())}},{key:"getStyleImages",value:function(){return this.searchStyle('//*[type="image"]')}},{key:"getStyleAudio",value:function(){return this.searchStyle('//*[type="audio"]')}},{key:"getStyleVideos",value:function(){return this.searchStyle('//*[type="video"]')}},{key:"getStyleAnimation",value:function(){return this.searchStyle('//*[type="animation"]')}},{key:"getAdditionalImages",value:function(){return[]}},{key:"getAdditionalAudio",value:function(){return[]}},{key:"getScreenData",value:function(e){}},{key:"load",value:function(){var e=this.screen,t=this.state,n=this.style;if(!t.loaded){var r=m._.first(JSON.search(e,'//*[type="animation"]'));r&&!m._.isUndefined(r.src)&&h.assetUtil.setCurrentFFWSrc(r.src),window.com.cainc.ifabric.registerFreeFormWidget=function(e){h.assetUtil.setFFWReference({src:h.assetUtil.getCurrentFFWSrc(),ffw:e})},f.assetLoader.load({screen:e,style:n,onComplete:this._onAssetsLoaded,additionalAudio:this.getAdditionalAudio(),additionalImages:this.getAdditionalImages()})}}},{key:"onLoad",value:function(){}},{key:"searchStyle",value:function(e){return JSON.search(this._styleSnapshot,e)}},{key:"ready",value:function(e){throw new Error("Method must be implemented by a subclass")}},{key:"onHelp",value:function(e){this.help.apply(this,arguments),b.dataCaptureUtil.sendEvent({payload:b.DC_EVENT_PAYLOADS.HELP,contextData:{screen:this.screen}})}},{key:"onHelpStop",value:function(e){var t=this;e.animateDisplay("onHelpStop",(function(){t._helpStopping=!1}))}},{key:"help",value:function(e){throw new Error("Method must be implemented by a subclass")}},{key:"onRequestUserInput",value:function(e){this.autoHelpEnablement&&!this.state.complete&&this.enableHelp(e),this.requestUserInput(e)}},{key:"requestUserInput",value:function(e){this._stateFeedback.playing=!1,this.updatedPaths.push("feedback.playing"),this.autoplay?this.state.uiEnabled=this.runAutoplay(e):this.state.uiEnabled=!0,this.updatedPaths.push("uiEnabled"),this.commit()}},{key:"runAutoplay",value:function(e){if(this.autoplay)throw new Error("runAutoplay must be overridden when this.autoplay = true")}},{key:"onSelect",value:function(e,t){O(),this.autoHelpEnablement&&this.disableHelp(e),this.select(e,t)}},{key:"select",value:function(e,t){}},{key:"disableHelp",value:function(e){var t=this;if(!e)throw new Error("disableHelp requires a sequencer to work");e.execute((function(){t.state.helpEnabled=!1,t.commit()}))}},{key:"enableHelp",value:function(e){var t=this;if(!e)throw new Error("enableHelp requires a sequencer to work");e.execute((function(){g.audioPlayer.getContext("SYSTEM").playing||(t.state.helpEnabled=!0,t.commit())}))}},{key:"onDeselect",value:function(e,t){this.deselect(e,t),this.autoHelpEnablement&&!this.state.complete&&this.enableHelp(e)}},{key:"deselect",value:function(e,t){}},{key:"done",value:function(e){}},{key:"toggleReadTextWidget",value:function(e){}},{key:"onComplete",value:function(e){this.complete(e)}},{key:"complete",value:function(e){this._stateFeedback.playing=!1,this.state.inProgress=!1,this.state.complete=!0;var t=this.state.result,n=t.score,r=t.max,i=x(x({},b.DC_EVENT_PAYLOADS.COMPLETE),{},{score:n,maxScore:r});b.dataCaptureUtil.sendEvent({type:b.DC_EVENT_TYPES.SCREEN,payload:i,contextData:{screen:this.screen,partNum:1}}),this.autoHideDone||e.hideDoneButton(),this.outro(e),e.execute(this.finish)}},{key:"incrementScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.result.score+e;this.state.result.score=m._.clamp(t,0,this.state.result.max),m._.inRange(t,0,this.state.result.max+1)||v.orchstratorLogger.error("[incrementScore] Invalid score received: ".concat(t,", max score is: ").concat(this.state.result.max))}},{key:"setMaxScore",value:function(e){this.state.result.max=e}},{key:"outro",value:function(e){}},{key:"isFirstAttempt",value:function(e){return 1===e}},{key:"extractSpansByClass",value:function(e,t){var n=t.value,r=t.spans,i=void 0===r?[]:r;return(0,m._)(i).filter((function(t){return t.className===e})).map((function(e){return(0,m._)(e.span).map((function(e){return n.substring(e[0],e[1])}))})).value()}},{key:"formatBlanks",value:function(e){var t=e.value,n=e.spans,r=void 0===n?[]:n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",o=t.split("");return(0,m._)(r).filter((function(e){return"blank"===e.className})).map((function(e){return(0,m._)(e.span).map((function(e){return m._.fill(o,i,e[0],e[1])}))})).join(""),o.join("")}},{key:"formatDistractors",value:function(e){var t=this.properties.distractor,n=t.max,r=t.vowelRatio,i=t.exclusion,o=n-m._.uniq(e).length,a=m._.difference("bcdfghjklmnpqrstvwxyz".split(""),e,i),s=m._.difference("aeiou".split(""),e,i),u=Math.round(o*r),c=o-u;return m._.sortBy(m._.union(e,m._.sampleSize(s,u),m._.sampleSize(a,c)))}},{key:"batchUpdate",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m._.forEach(e,(function(e){return m._.merge(n.state.assets[e],t)})),r&&this.commit()}},{key:"cue",value:function(e,t){var n=this,r=t.target,i="start"===t.cuePointType,o=r;if(o.action===_.PROCESS_SPAN_ANIMATION){var a=o.target.substr(1),s="//*[type='text']/spans[id='".concat(a,"']"),u=this.searchScreen(s);m._.isEmpty(u)||(u.forEach((function(e){return n.state.assets[e.id].active=i})),this.commit())}else v.orchstratorLogger.info("cue -> callableMechanismHandler",o,"start: ".concat(i)),e.animateDisplay("callableMechanismHandler",{directive:o,params:{start:i}})}},{key:"finish",value:function(){b.dataCaptureUtil.sendEvent({payload:b.DC_EVENT_PAYLOADS.FINISH,contextData:{screen:this.screen,partNum:1}}),this.state.finished=!0,this.commit()}},{key:"commit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit("stateChanged",!e)}},{key:"dispose",value:function(){var e=this.state,t=e.complete,n=e.finished;if(t&&n){var r=this.screen,i=(0,w.getStep)(r.id),o={section:m._.get(i,"section"),screen:r,partNum:1};b.dataCaptureUtil.sendEvent({payload:b.DC_EVENT_PAYLOADS.DESTROY,contextData:o})}this.off()}},{key:"ffw",get:function(){return h.assetUtil.getFFWReference({context:this.screen.id})}},{key:"autoProgress",get:function(){return this._autoProgress},set:function(e){this._autoProgress=e}},{key:"randomizedPaths",get:function(){return[]}},{key:"autoHideDone",get:function(){return!!m._.isUndefined(this._autoHideDone)||this._autoHideDone},set:function(e){this._autoHideDone=e}},{key:"properties",get:function(){return this._properties||(this._properties=m._.cloneDeep(this.screen.properties)),this._properties}},{key:"_stateFeedback",get:function(){return this.state.feedback}},{key:"cheats",get:function(){return S}}],[{key:"cheats",set:function(e){S=e}}]),n}(m.Emitter);t.BaseOrchestrator=C},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeWidget=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(58),f=n(60);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r,o=e.assetInfo,a=e.display,s=e.background,u=e.audioInfo;return(0,i.default)(this,n),(r=t.call(this,o)).display=a,r._background=s,r._audioInfo=u,r}return(0,o.default)(n,[{key:"init",value:function(){(0,a.default)((0,c.default)(n.prototype),"init",this).call(this),this.addChild(this.background),this._setupAudioBtn(),this._content=this._createContentElement(),this.placementIndex=this._findBestFitPlacement()}},{key:"cache",value:function(){var e=l.layoutUtil.getBounds(this.background);this.background.cache(e.x,e.y,e.width,e.height)}},{key:"_createContentElement",value:function(){throw new Error("_createContentElement must be overridden")}},{key:"_setupAudioBtn",value:function(){var e=this._hideBackgroundAudioButton();if(this._audioInfo){var t=this.background.localToLocal(e.x-e.regX,e.y-e.regY,this.background),n=this._createNewAudioButton(t.x,t.y);this._registrables.push(n)}}},{key:"_hideBackgroundAudioButton",value:function(){return this.background._oldAudioBtn?null:(this.background._oldAudioBtn=this.background.audioBtn,this.background._oldAudioBtn&&(this.background._oldAudioBtn.visible=!1),this.background.audioBtn=null,this.background._oldAudioBtn)}},{key:"_createNewAudioButton",value:function(e,t){var n=this._widgetFactory.createAudioButton({audioInfo:this._audioInfo});return n.x=e,n.y=t,this.addChild(n),this._audioBtn=n,n}},{key:"_findBestFitPlacement",value:function(){return 0}},{key:"_addContentToPlacement",value:function(){this._placement.addChild(this._content),f.canvasUtil.switchParent(this._content,this),this._placement.shape&&(this._placement.shape.visible=!1)}},{key:"_hidePlacements",value:function(){this._background.placement_1.visible=!1}},{key:"_switchTimelineToCurrentPlacement",value:function(){this._background.gotoAndStop(this._placementIndex)}},{key:"_resizeBoundsToPlacement",value:function(){var e=this._background,t=e.frameBounds[this._placementIndex];e.setBounds(t.x,t.y,t.width,t.height),this.setBounds(t.x,t.y,t.width,t.height)}},{key:"_showCurrentPlacement",value:function(){this._placement.visible=!0}},{key:"_centerContentInPlacement",value:function(){if(this._placement.getBounds&&this._content&&this._content.getBounds){var e=this._content,t=this._placement.getBounds(),n=e.getBounds();if(t&&n){var r=.5*(t.height-n.height)|0;e.x+=.5*(t.width-n.width)|0,e.y=r<0?e.y+r:e.y-r,e.x+=t.x,e.y+=t.y,e.x-=e.regX,e.y-=e.regY}}}},{key:"background",get:function(){return this._background}},{key:"audioBtn",get:function(){return this._audioBtn}},{key:"contentVisible",get:function(){return this._content.visible},set:function(e){this._content.visible=e,this.cache()}},{key:"placementIndex",get:function(){return this._placementIndex},set:function(e){this._placementIndex!==e&&(this._placementIndex=e,this._placement=this.background["placement_".concat(this._placementIndex+1)],this._hidePlacements(),this._switchTimelineToCurrentPlacement(),this._resizeBoundsToPlacement(),this._addContentToPlacement(),this._showCurrentPlacement(),this._centerContentInPlacement())}},{key:"placement",get:function(){return this._placement}},{key:"content",get:function(){return this._content}}]),n}(n(83).Widget);t.CompositeWidget=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProvider=function(e){return r[e]},t.registerProvider=function(e,t){r[e]=t},t.providers=void 0;var r={};t.providers=r},function(e,t,n){"use strict";n.r(t),n.d(t,"getUserDetails",(function(){return u}));var r=n(25),i=n(17),o=n(7),a=n(1),s=n(0);const u=e=>s._.get(e,i.USER_DETAILS_STATE_ROOT);t.default=Object(r.a)((e,t)=>{switch(t.type){case a.USER_DETAILS_LOAD_REQUEST:o.reducerLogger.info("Fetching user details");break;case a.USER_DETAILS_LOAD_SUCCESS:{const n=t.payload;o.reducerLogger.info(`Fetched user details for '${n.firstName} ${n.lastName}'`),Object.assign(e,n);break}case a.USER_DETAILS_LOAD_FAILURE:o.reducerLogger.error("Error fetching user details."),o.reducerLogger.error(t.payload)}},{})},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"DC_LEVELS",(function(){return o})),n.d(r,"DC_EVENTS",(function(){return a})),n.d(r,"DC_PAYLOADS",(function(){return s}));var i={};n.r(i),n.d(i,"HybridResponsePayload",(function(){return v})),n.d(i,"BaseResponsePayload",(function(){return f})),n.d(i,"SelectionResponsePayload",(function(){return d})),n.d(i,"SortResponsePayload",(function(){return m})),n.d(i,"ValueResponsePayload",(function(){return g})),n.d(i,"ElementPayload",(function(){return y}));const o=Object.freeze({LESSON:"LESSON",SECTION:"SECTION",SCREEN:"SCREEN"}),a=Object.freeze({DURATION:"DURATION",RESPONSE:"RESPONSE",ELEMENT:"ELEMENT",DECISION_POINT:"DECISION_POINT"}),s=Object.freeze({START:{status:"started"},PAUSE:{status:"paused"},UNPAUSE:{status:"unpaused"},COMPLETE:{status:"completed"},CLOSE:{status:"closed"},FINISH:{status:"finished"},DESTROY:{status:"destroyed"},HELP:{elementId:"HELP BUTTON",event:"click"}});var u=n(13),c=n.n(u);class l{static equal(e,t,n){if(e!==t)throw new Error(n)}static includes(e,t,n){if(!e.includes(t))throw new Error(n)}static string(e,t,n){if((!n||c.a.existy(e))&&(!c.a.string(e)||c.a.empty(e)))throw new Error(t+" must be a non-empty string")}static boolean(e,t,n){if((!n||c.a.existy(e))&&!c.a.boolean(e))throw new Error(t+" must be provided as a boolean")}static number(e,t,n){if((!n||c.a.existy(e))&&!c.a.number(e))throw new Error(t+" must be provided as a number")}static integer(e,t,n){if((!n||c.a.existy(e))&&!c.a.integer(e))throw new Error(t+" must be an integer")}static true(e,t){if(!c.a.boolean(e))throw new Error("assertion failed: value must be a boolean");if(!e)throw new Error(t)}static false(e,t){if(!c.a.boolean(e))throw new Error("assertion failed: value must be a boolean");if(e)throw new Error(t)}}class f{constructor(e){this._payload={},this._collection=[],this._payload[e+"Result"]=this._collection,this._payload.attemptType=e}set correct(e){l.equal(c.a.boolean(e),!0,"value must be supplied as a boolean"),this._payload.correct=e}set currentScreenScore(e){l.equal(c.a.number(e),!0,"value must be supplied as a number"),this._payload.currentScreenScore=e}set maxScreenScore(e){l.equal(c.a.integer(e),!0,"value must be supplied as an integer"),this._payload.maxScreenScore=e}get payload(){return this._payload}_add(e){this._collection.push(e)}_populateCommonPayloadData({data:e,correct:t,responseScore:n,responseMaxScore:r}){return c.a.not.undefined(t)&&(l.boolean(t,"correct"),e.correct=t),c.a.not.undefined(n)&&(l.number(n,"responseScore"),e.responseScore=n),c.a.not.undefined(r)&&(l.number(r,"responseMaxScore"),e.responseMaxScore=r),e}_validateCorrectFlagIntegrity(e){if(e.every(({correct:e})=>c.a.not.existy(e)))return;const t=e.every(({correct:e})=>c.a.boolean(e));l.true(t,"correct flag should be present in all elements or none");if(this.payload.correct){const t=e.some(({correct:e})=>!1===e);l.false(t,"inconsistency: response is marked correct, but some elements are marked incorrect")}else{const t=e.every(({correct:e})=>!0===e);l.false(t,"inconsistency: response is marked incorrect, but all elements are marked correct")}}_validateScoreIntegrity(e){if(e.every(({responseScore:e,responseMaxScore:t})=>c.a.not.existy(e)&&c.a.not.existy(t)))return;const t=e.every(({responseScore:e,responseMaxScore:t})=>c.a.number(e)&&c.a.number(t));l.true(t,"responseScore and responseMaxScore should be present in all elements or none");const{currentScreenScore:n,maxScreenScore:r}=this.payload,i=e.map(e=>e.responseScore).reduce((e,t)=>e+t),o=e.map(e=>e.responseMaxScore).reduce((e,t)=>e+t);l.equal(n,i,`inconsistency: individual scores don't add up to response score.\n       CurrentScreenScore: ${n} ResponseScores: ${i}`),l.equal(r,o,`inconsistency: individual max scores don't add up to max response score.\n       MaxScreenScore: ${r} ResponseMaxScore: ${o}`)}validate(){const e=[...this._collection];this._validateCorrectFlagIntegrity(e),this._validateScoreIntegrity(e)}}const h=({builder:e,id:t,correct:n,responseScore:r,responseMaxScore:i})=>{l.equal(c.a.string(t),!0,"id must be provided as a string");let o={choiceId:t,order:e._collection.length+1};o=e._populateCommonPayloadData({data:o,correct:n,responseScore:r,responseMaxScore:i}),e._add(o)};class d extends f{constructor(){super("selections")}add({id:e,correct:t,responseScore:n,responseMaxScore:r}){h({builder:this,id:e,correct:t,responseScore:n,responseMaxScore:r})}}const p=({builder:e,value:t,identifier:n,correct:r,responseScore:i,responseMaxScore:o})=>{l.equal(c.a.string(t)||c.a.number(t),!0,"value must be provided as a string or number");let a={value:t.toString(),order:e._collection.length+1};a=e._populateCommonPayloadData({data:a,correct:r,responseScore:i,responseMaxScore:o}),n&&(a.identifier=n),e._add(a)};class g extends f{constructor(){super("values")}add({value:e,identifier:t,correct:n,responseScore:r,responseMaxScore:i}){p({builder:this,value:e,identifier:t,correct:n,responseScore:r,responseMaxScore:i})}}class v extends f{constructor(){super("hybrid")}addSelection({id:e,correct:t,responseScore:n,responseMaxScore:r}){h({builder:this,id:e,correct:t,responseScore:n,responseMaxScore:r})}addValue({value:e,identifier:t,correct:n,responseScore:r,responseMaxScore:i}){p({builder:this,value:e,identifier:t,correct:n,responseScore:r,responseMaxScore:i})}}class m extends f{constructor(){super("sortingSelections")}add({elementId:e,bucketId:t,correct:n,responseScore:r,responseMaxScore:i}){l.equal(c.a.string(e),!0,"elementId must be provided as a string"),l.equal(c.a.string(t),!0,"bucketId must be provided as a string");let o={choiceId:e,bucketId:t};o=this._populateCommonPayloadData({data:o,correct:n,responseScore:r,responseMaxScore:i}),this._add(o)}}class y{constructor(){this._payload={}}set elementId(e){l.equal(c.a.string(e),!0,"value must be supplied as a string"),this._payload.elementId=e}set event(e){l.equal(c.a.string(e),!0,"value must be supplied as a string"),this._payload.event=e}set detail(e){c.a.object(e)&&(e=JSON.stringify(e),console.warn("detail should be a stringified object instead of an actual object.")),l.equal(c.a.string(e),!0,"value must be supplied as a string"),this._payload.detail=e}get payload(){return this._payload}}class _{constructor(){this.backoffMaxRetries=1,this.backoffRetryDelay=500,this.requestType="log",this.requestUrl="",this.callbacks={}}get backoffMaxRetries(){return this._backoffMaxRetries}set backoffMaxRetries(e){if(l.integer(e,"backoffMaxRetries"),e<0)throw new Error("backoffMaxRetries cannot be < 0");this._backoffMaxRetries=e}get backoffRetryDelay(){return this._backoffRetryDelay}set backoffRetryDelay(e){if(l.integer(e,"backoffRetryDelay"),e<100)throw new Error("backoffRetryDelay cannot be < 100 ms");this._backoffRetryDelay=e}get requestType(){return this._requestType}set requestType(e){if("log"!==e&&"post"!==e)throw new Error("requestType must be 'post' or 'log'");this._requestType=e}get requestUrl(){return this._requestUrl}set requestUrl(e){this._requestUrl=e}get callbacks(){return this._callbacks}set callbacks(e){this._callbacks=e}}var b=n(288),A=n.n(b),w=n(99);const E=n.n(w)()(),x=Math.floor(performance.now());let T=1;class S{constructor(){this.id=E,this.timestamp=Math.floor(performance.now()),this.duration=this.timestamp-x,this.sequence=T;const e=new Date;this.date=e.toISOString(),T++}}class O{constructor(e,t,n){this.type=e,this.meta={context:t,session:new S},this.payload=n}}var C=new class{split(){if(!this._start)return this._start=performance.now(),0;const e=performance.now(),t=Math.floor(e-this._start);return this._start=e,t}};function k(e,t,n=500){return e().catch(r=>{const i=Math.floor(1e3*Math.random())+1,o=2*n+i;var a;return t>1?(a=n,new Promise(e=>{setTimeout(e,a)})).then(()=>k(e,{maxTries:t-1,delay:o})):Promise.reject(r)})}var P={log:function(e){return new Promise(t=>{console.info(e),t(e)})},post:function(e,t){const n={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};return fetch(t,n)}};const N=new class{constructor(){this.emitter=new A.a}sendStart({level:e,context:t,config:n}){try{return C.split(),this._createAndSendEvent({type:e,context:this._getEventContext(t,e),payload:s.START,config:n})}catch(e){return Promise.reject(e)}}sendPause({context:e,config:t}){try{const n=this._createPauseOrUnpauseEvents({context:e,payload:s.PAUSE});return n.push(this._createDurationEvent({level:o.SCREEN,context:e})),this._sendEvents({events:n,config:t})}catch(e){return Promise.reject(e)}}sendUnpause({context:e,config:t}){try{C.split();const n=this._createPauseOrUnpauseEvents({context:e,payload:s.UNPAUSE});return this._sendEvents({events:n,config:t})}catch(e){return Promise.reject(e)}}sendAttempt({payload:e,context:t,config:n}){try{l.equal(e instanceof f,!0,"Builder must be an instance of BaseResponsePayload");const r=o.SCREEN;e.validate();const i=this._createEvent({type:a.RESPONSE,context:this._getEventContext(t,r),payload:e.payload}),s=[i,this._createDurationEvent({level:r,context:t})];return this._sendEvents({events:s,config:n})}catch(e){return Promise.reject(e)}}sendDecisionPoint({context:e,config:t,payload:n={}}){try{const{adaptivitySchemaVersion:r,decisionPointId:i,fromScreenId:s,toScreenId:u,evaluationResults:f}=n,h=o.LESSON;l.string(r,"adaptivitySchemaVersion"),l.string(i,"decisionPointId"),l.equal(c.a.object(f),!0,"evaluationResults must be an object"),l.equal(c.a.any.existy(s,u),!0,`at least one of 'fromScreenId' or 'toScreenId' should be defined for decision point (id=${i})`);const d=this._createEvent({type:a.DECISION_POINT,context:this._getEventContext(e,h),payload:n});return this._sendEvents({events:[d],config:t})}catch(e){return Promise.reject(e)}}sendComplete({level:e,context:t,config:n,payload:r={}}){try{const{score:i,maxScore:a}=r;switch(e){case o.LESSON:case o.SCREEN:l.equal(c.a.all.number(i,a)||c.a.all.null(i,a),!0,"score and maxScore must both be a number or both be null");break;case o.SECTION:(c.a.number(i)||c.a.number(a))&&console.warn("score and maxScore are not relevant for: "+e);break;default:throw new Error("Unhandled level: "+e)}const u=this._createEvent({type:e,context:this._getEventContext(t,e),payload:Object.assign(r,s.COMPLETE)}),f=[u,this._createDurationEvent({level:e,context:t})];return this._sendEvents({events:f,config:n})}catch(e){return Promise.reject(e)}}sendClose({context:e,config:t}){try{const n=[o.LESSON,o.SECTION,o.SCREEN].map(t=>this._createEvent({type:t,context:this._getEventContext(e,t),payload:s.CLOSE}));return n.push(this._createDurationEvent({level:o.SCREEN,context:e})),this._sendEvents({events:n,config:t})}catch(e){return Promise.reject(e)}}sendFinish({context:e,config:t}){try{const n=o.SCREEN;return this._createAndSendEvent({type:n,context:this._getEventContext(e,n),payload:s.FINISH,config:t})}catch(e){return Promise.reject(e)}}sendDestroy({context:e,config:t}){try{const n=o.SCREEN,r=this._createEvent({type:n,context:this._getEventContext(e,n),payload:s.DESTROY}),i=[r,this._createDurationEvent({level:n,context:e})];return this._sendEvents({events:i,config:t})}catch(e){return Promise.reject(e)}}sendHelp({context:e,config:t}){try{return this._createAndSendEvent({type:a.ELEMENT,context:this._getEventContext(e,o.SCREEN),payload:s.HELP,config:t})}catch(e){return Promise.reject(e)}}sendElement({context:e,config:t,payload:n}){try{return l.equal(n instanceof y,!0,"Builder must be an instance of ElementPayload"),this._createAndSendEvent({type:a.ELEMENT,context:this._getEventContext(e,o.SCREEN),payload:n.payload,config:t})}catch(e){return Promise.reject(e)}}_createDurationEvent({level:e,context:t}){return this._createEvent({type:a.DURATION,context:this._getEventContext(t,e),payload:{duration:C.split()}})}_createEvent({type:e,context:t,payload:n}){return l.equal(c.a.existy(t),!0,"context should be defined"),new O(e,t,n)}_createAndSendEvent({type:e,context:t,payload:n,config:r}){const i=[this._createEvent({type:e,context:t,payload:n})];return this._sendEvents({events:i,config:r})}_sendEvents({events:e,config:t}){const n=[],{callbacks:r}=t||{};return e.forEach(e=>{const{type:t,meta:i,payload:o}=e;(!r||!c.a.function(r.isValidEvent)||r.isValidEvent(t,i.context,o))&&(this.emitter.emit("event",e),n.push(e))}),c.a.empty(n)?Promise.resolve():function(e,t){if(!c.a.array(e)||0===e.length)throw new Error("events param must be an array with at least 1 event in it");if(e.forEach(e=>{if(!(e instanceof O))throw new Error("All provided events must be Event instances")}),!(t instanceof _))throw new Error("config object must be of type DCConfig");const{requestType:n,requestUrl:r,backoffMaxRetries:i,backoffRetryDelay:o}=t;return k(()=>P[n](e,r),i+1,o)}(n,t)}_createPauseOrUnpauseEvents({context:e,payload:t}){return[o.LESSON,o.SECTION,o.SCREEN].map(n=>this._createEvent({type:n,context:this._getEventContext(e,n),payload:t}))}_getEventContext(e,t){return l.equal(c.a.existy(e),!0,"context should be defined"),e.eventContext(t)}};t.default={DCConstants:r,DCContext:class{constructor({studentId:e,sittingId:t,subject:n,domain:r,lessonVersion:i,activityId:o,lessonId:a,sectionId:s,screenId:u,styleId:c,partNum:f,partAttemptNum:h}){l.string(e,"studentId"),l.string(t,"sittingId"),l.string(n,"subject"),l.string(r,"domain"),l.string(i,"lessonVersion"),l.string(o,"activityId"),l.string(a,"lessonId"),l.string(s,"sectionId",!0),l.string(u,"screenId",!0),l.string(c,"styleId",!0),l.integer(f,"partNum",!0),l.integer(h,"partAttemptNum",!0),this._data=Object.freeze({studentId:e,sittingId:t,subject:n,domain:r,lessonVersion:i,activityId:o,lessonId:a,sectionId:s,screenId:u,styleId:c,partNum:f,partAttemptNum:h})}eventContext(e){const{studentId:t,sittingId:n,subject:r,domain:i,lessonVersion:a,activityId:s,lessonId:u}=this._data,c={studentId:t,sittingId:n,subject:r,domain:i,lessonVersion:a,activityId:s,lessonId:u,sectionId:null,screenId:null,styleId:null,partNum:null,partAttemptNum:null};switch(e){case o.LESSON:break;case o.SECTION:this._validateAndSetContextProp(c,"sectionId","string");break;case o.SCREEN:this._validateAndSetContextProp(c,"sectionId","string"),this._validateAndSetContextProp(c,"screenId","string"),this._validateAndSetContextProp(c,"styleId","string"),this._validateAndSetContextProp(c,"partNum","integer",!0),this._validateAndSetContextProp(c,"partAttemptNum","integer",!0);break;default:throw new Error("Unhandled level: "+e)}return Object.freeze(c)}_validateAndSetContextProp(e,t,n,r){const i=this._data[t];l[n](i,t,r),e[t]=void 0===i?null:i}},DCPayloadBuilders:i,DCConfig:_,api:N}},function(e,t,n){"use strict";n.r(t);var r=n(88),i=n(1),o=n(15),a=n.n(o),s=n(6),u=n(19),c=n(54),l=n(45),f=n(60),h=n(7),d=n(34),p=n(148),g=n(38),v=n(44),m=n(16),y=n(8),_=n(29),b=n(18),A=n(102),w=n(98);const E=[{id:s.CHEATS.QUALITY,type:s.CHEATS.TYPE.SELECT,label:"Screen",options:a.a.map(s.GRAPHICS_QUALITY,(e,t)=>({key:t,value:e,label:t}))},{id:s.CHEATS.BACK,type:s.CHEATS.TYPE.BUTTON,label:"Back",title:"Navigates back",callback:()=>y.store.dispatch(Object(b.back)())},{id:s.CHEATS.FORWARD,type:s.CHEATS.TYPE.BUTTON,label:"Forward",title:"Navigates forward",callback:()=>y.store.dispatch(Object(b.forward)())},{id:s.CHEATS.RESET,type:s.CHEATS.TYPE.BUTTON,label:"Restart lesson",title:"Navigates back to the first screen",callback:()=>y.store.dispatch(Object(b.resetNavigation)())},{id:s.CHEATS.REFRESH,type:s.CHEATS.TYPE.BUTTON,label:"Refresh Lesson",title:"Causes the current screen to be reloaded with the current state",callback:()=>y.store.dispatch(Object(_.refreshScreen)())},{id:s.CHEATS.CLEAR,type:s.CHEATS.TYPE.BUTTON,label:"Clear Lesson State",callback:()=>y.store.dispatch(Object(g.clearLessonState)())},{id:s.CHEATS.MEMORY,type:s.CHEATS.TYPE.BUTTON,label:"Show Memory",callback:p.performanceUtil.displayMemory},{id:s.CHEATS.SOUND,label:"Clip Sound",type:s.CHEATS.TYPE.TOGGLE_INPUT,callback:e=>d.audioPlayer.mode=e?s.MODES.CLIPPED:s.MODES.NORMAL,extras:{id:s.CHEATS.EXTRAS.CLIPLENGTH,label:"Length (ms):",placeholder:"1000 ms",defaultValue:1e3,callback:e=>d.audioPlayer.clipLength=parseInt(e,10)}},{id:s.CHEATS.SEEDLESSON,label:"Seed",type:s.CHEATS.TYPE.TOGGLE_INPUT,extras:{id:s.CHEATS.EXTRAS.LESSONSEED,label:"Seed:",placeholder:"1234",defaultValue:"-1"}},{id:s.CHEATS.TIMEOUTMODE,label:"AYST Timeout",type:s.CHEATS.TYPE.TOGGLE_INPUT,extras:{id:s.CHEATS.EXTRAS.TIMEOUTVALUE,label:"Timeout (s):",placeholder:"120 s",defaultValue:"120"}},{id:s.CHEATS.AUTOMATION,label:"Simulate Automation",type:s.CHEATS.TYPE.TOGGLE,callback:e=>{e&&!v.automationUtil.isApiPublic()?(m.environmentUtil.simulateAutomation={id:"cheat_automation",valueOf:()=>!0},v.automationUtil.addPublicApi()):(m.environmentUtil.simulateAutomation=!1,v.automationUtil.removePublicApi())}},{id:s.CHEATS.LOG,label:"Logging",type:s.CHEATS.TYPE.TOGGLE,callback:e=>h.loggingToggle.enabled=e},{id:s.CHEATS.CACHE,label:"Caching",type:s.CHEATS.TYPE.TOGGLE,callback:e=>f.canvasUtil.debug=e},{id:s.CHEATS.PREVIOUSLYFAILEDLESSON,label:"Lesson Previously Failed",type:s.CHEATS.TYPE.TOGGLE},{id:s.CHEATS.USEALTERNATEINSTRUCTIONCONTENT,label:"Use Alternate Instruction Content",type:s.CHEATS.TYPE.TOGGLE},{id:s.CHEATS.RANDOMVALUEADP,label:"Random Value ADP",type:s.CHEATS.TYPE.TOGGLE_INPUT,extras:{id:s.CHEATS.EXTRAS.RANDOMVALUE,label:"Random Value:",placeholder:"1-100",defaultValue:"1"}},{id:s.CHEATS.FPS,label:"FPS",type:s.CHEATS.TYPE.TOGGLE,callback:e=>l.animationUtil.showFps=e},{id:s.CHEATS.RAF,label:"RAF",type:s.CHEATS.TYPE.TOGGLE,callback:e=>l.animationUtil.useRAF=e},{id:s.CHEATS.SHOWMENU,label:"Show Menu",type:s.CHEATS.TYPE.TOGGLE,callback:e=>a.a.defer(()=>{y.store.dispatch(Object(b.setShowMenu)(e))})},{id:s.CHEATS.USE_DIRECTIVE,label:"Use Directive Form",type:s.CHEATS.TYPE.TOGGLE},{id:s.CHEATS.PREVIEWMODE,label:"Preview Mode",type:s.CHEATS.TYPE.TOGGLE,callback:e=>c.platformConnectionProvider.previewMode=e},{id:s.CHEATS.INTRO,label:"Hide Intro/Outro",type:s.CHEATS.TYPE.TOGGLE,callback:e=>w.navScreenPropsUtil.showIntroOutro=!e},{id:s.CHEATS.DISABLELESSONSAVE,label:"Disable Lesson Save",type:s.CHEATS.TYPE.TOGGLE},{id:s.CHEATS.RANDOMDISABLED,label:"Disable Random",type:s.CHEATS.TYPE.TOGGLE},{id:s.CHEATS.DATACAPTURE,label:"Enable Data Capture",type:s.CHEATS.TYPE.TOGGLE,callback:e=>u.dataCaptureUtil.dcCheatEnabled=e},{id:s.CHEATS.CHRONGRADE,label:"chron. level",type:s.CHEATS.TYPE.TOGGLE_SELECT,extras:{id:s.CHEATS.EXTRAS.CHRONGRADEVALUE,options:s.GRADE}},{id:s.CHEATS.PLACEMENTGRADE,label:"grade level",type:s.CHEATS.TYPE.TOGGLE_SELECT,extras:{id:s.CHEATS.EXTRAS.GRADE,options:s.GRADE}},{id:s.CHEATS.SCHOOLYEAR,label:"school year",type:s.CHEATS.TYPE.TOGGLE_SELECT,extras:{id:s.CHEATS.EXTRAS.SCHOOLYEARLEVEL,options:s.YEAR_LEVEL}},{id:s.CHEATS.DISABLESCOREALERT,label:"Disable Score Alert",type:s.CHEATS.TYPE.TOGGLE,callback:()=>y.store.dispatch(Object(A.c)())},{id:s.CHEATS.DISABLEFLUIDRESIZE,label:"Disable Fluid Resize",type:s.CHEATS.TYPE.TOGGLE}];var x=n(87),T=n(26);function S(e){return{type:i.CHEAT_UPDATED,payload:e}}function O(e){return{type:i.CHEAT_ADDED,payload:e}}n.d(t,"updateCheat",(function(){return S})),n.d(t,"addCheat",(function(){return O})),n.d(t,"removeCheat",(function(){return C})),n.d(t,"initCheats",(function(){return k}));const C=e=>t=>{t({type:i.CHEAT_REMOVED,payload:e}),r.localStorageUtil.remove("cheats."+e.id)},k=()=>e=>{e(O(Object(x.getInitialCheatState)(E))),T.preloadUtil.updateAndEase({pct:T.PROGRESS.INIT_CHEATS,msg:"initialized cheats"})}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.textUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(77),u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delimiters,r=void 0===n?["_"]:n,i=[],o=[];return a._.each(e.characters,(function(e){var t=e.character.character;-1!==r.indexOf(t)?(i.push(o),o=[]):o.push(e)})),i.push(o),i}},{key:"hideCharacters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.characters,r=void 0===n?["_"]:n,i=0;a._.each(e.characters,(function(e,t){var n=e.character;a._.find(r,(function(e){return e===n.character}))?(i+=n.measuredWidth,n.visible=!1):n.x-=i}))}},{key:"spreadAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.duration,i=void 0===r?1:r,o=n.padding,s=void 0===o?10:o,u=n.tween,c=void 0===u?{}:u;a._.size(t)>1&&(a._.each(t,(function(e,t){var n=a._.map(e,"character");TweenLite.to(n,i,a._.merge({x:"+=".concat(s*(t+1))},c))})),TweenLite.to(e,i,a._.merge({x:"-=".concat(s*((a._.size(t)+1)/2))},c)))}},{key:"measuredWidth",value:function(e){return a._.sum(a._.map(e,"measuredWidth"))}},{key:"characters",value:function(e){return a._.map(a._.flatten(e),"character")}},{key:"midPoint",value:function(e,t){var n=e.localToGlobal(0,0),r=t.localToGlobal(0,0);return{x:(n.x+r.x)/2,y:(n.y+r.y)/2}}},{key:"classToAttr",value:function(e,t){s.htmlUtil.find(e,".".concat(t)).forEach((function(e){e.setAttribute("data-".concat(t),"data-".concat(t)),s.htmlUtil.removeClass(e,t)}))}},{key:"shouldShowTitle",value:function(e){return 0===e}}]),e}());t.textUtil=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}));var r=n(20),i=n(103),o=n(0),a=n(9),s=n(33),u=n(7),c=n(14),l=n(16),f=n(65),h=n(36),d=n(98),p=n(150);function g(e,t){return h.navStepsUtil.getVisitableStep({data:t,startWithStep:e,direction:"next"})}const v=(e,t,n)=>{let l=e;const f=Object(a.getNavigationState)(n()),h={stepState:Object.assign(o._.cloneDeep(f.stepState),t.stepState),skips:o._.cloneDeep(f.skips)};var d;for(d=n(),o._.isEmpty(p.expressionEngine.instance)&&p.expressionEngine.createInstance({stepsMap:s.statefulNavStepsUtil.getNavSteps(),state:Object(a.getNavigationState)(d),screens:Object(c.getScreensState)(d).screens,results:Object(r.getLessonResults)(d).results});l;){const e=l.skipFilter;if(!e)break;{const{next:t}=l,{update:n,skipped:r}=i.navigationUtil.evaluateSkipFilter({step:l,filterExpression:e,logger:u.storeLogger,stepState:h.stepState,skips:h.skips});if(o._.merge(h,n),!r)break;l=g(t,f)}}return{nextStep:l,update:h}},m=(e,t,n)=>(s,l)=>{const h=e||Object(a.getCurrentStep)(l());let p={stepState:{[h.id]:{inProgress:!1,complete:!0}}};const{nextStep:m,update:y}=((e,t)=>{let n;const s={},c=Object(a.getNavigationState)(t());if(e.adpId){const{update:a,nextStep:l}=i.navigationUtil.evaluateADP({data:c,fromStep:e,results:Object(r.getLessonResults)(t()).results,logger:u.storeLogger});n=l,o._.merge(s,a)}else n=g(e.next,c);return{nextStep:n,update:s}})(h,l),{nextStep:_,update:b}=v(m,y,l);return p=o._.merge(y,b,p),((e,t,n)=>{n(Object(f.update)(e)),t&&n(t())})(p,n,s),((e,t,n,r)=>{try{const i=null!==Object(c.getScreensState)(t()).screens;if(e&&i){const i=Object(c.getScreen)(t(),e.id),a=o._.cloneDeep(i);a.properties=d.navScreenPropsUtil.updateScreenProps({step:e,screenProps:i.properties}),n(r({[a.id]:a}))}}catch(t){u.storeLogger.error(`Error in navigationScreenActions#completeNavigationScreen during updating screen (${e.id}) data. Ignoring.`,t)}})(_,l,s,t),_},y=()=>(e,t)=>{if(e(Object(f.setCurrentStepState)({inProgress:!1,finished:!0})),!Object(a.getNextStep)(t())){l.environmentUtil.isTeacherMode()||e(Object(f.completeLesson)())}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LANGUAGES",{enumerable:!0,get:function(){return v.LANGUAGES}}),Object.defineProperty(t,"queryProvider",{enumerable:!0,get:function(){return We.queryProvider}}),Object.defineProperty(t,"registerProvider",{enumerable:!0,get:function(){return We.registerProvider}}),Object.defineProperty(t,"NPC",{enumerable:!0,get:function(){return qe.NPC}}),Object.defineProperty(t,"FPS",{enumerable:!0,get:function(){return qe.FPS}}),Object.defineProperty(t,"ANIMATION_QUEUE",{enumerable:!0,get:function(){return qe.ANIMATION_QUEUE}}),Object.defineProperty(t,"GRAPHICS_QUALITY",{enumerable:!0,get:function(){return qe.GRAPHICS_QUALITY}}),Object.defineProperty(t,"COLORS",{enumerable:!0,get:function(){return qe.COLORS}}),Object.defineProperty(t,"COLLIDABLE_TYPES",{enumerable:!0,get:function(){return qe.COLLIDABLE_TYPES}}),Object.defineProperty(t,"LOOP_LIMITER_BEHAVIOR",{enumerable:!0,get:function(){return qe.LOOP_LIMITER_BEHAVIOR}}),Object.defineProperty(t,"SEQUENCE_EXECUTION",{enumerable:!0,get:function(){return qe.SEQUENCE_EXECUTION}}),Object.defineProperty(t,"SCREEN",{enumerable:!0,get:function(){return qe.SCREEN}}),Object.defineProperty(t,"GLOBAL",{enumerable:!0,get:function(){return qe.GLOBAL}}),Object.defineProperty(t,"CURSOR",{enumerable:!0,get:function(){return qe.CURSOR}}),Object.defineProperty(t,"GlobalAudio",{enumerable:!0,get:function(){return qe.GlobalAudio}}),Object.defineProperty(t,"LESSON_SECTION",{enumerable:!0,get:function(){return qe.LESSON_SECTION}}),Object.defineProperty(t,"ACCESSIBILITY",{enumerable:!0,get:function(){return qe.ACCESSIBILITY}}),Object.defineProperty(t,"BUTTONS",{enumerable:!0,get:function(){return qe.BUTTONS}}),Object.defineProperty(t,"AGC_CONSTS",{enumerable:!0,get:function(){return qe.AGC_CONSTS}}),Object.defineProperty(t,"TAB_BUTTON_SIZES",{enumerable:!0,get:function(){return qe.TAB_BUTTON_SIZES}}),t.MODULES=t.ACTIONS=t.STORES=t.VIEWS=t.DATA_CAPTURE=t.UTILS=t.ORCHESTRATORS=t.SHARED_DEPENDENCIES=t.BOOTSTRAP=t.CLASSES=void 0;var i=r(n(118)),o=n(197),a=n(385),s=n(0),u=n(114),c=n(604),l=n(605),f=n(606),h=n(607),d=n(182),p=n(70),g=n(267),v=n(74),m=n(7),y=n(92),_=n(60),b=n(217),A=n(58),w=n(160),E=n(268),x=n(614),T=n(615),S=n(269),O=n(219),C=n(207),k=n(125),P=n(156),N=n(45),I=n(35),R=n(22),L=n(159),D=n(34),M=n(215),j=n(129),B=n(75),F=n(184),U=n(77),H=n(181),G=n(212),Q=n(88),z=n(98),V=n(64),W=n(36),q=n(147),X=n(158),Y=n(213),K=n(618),$=n(619),J=n(620),Z=n(185),ee=n(263),te=n(69),ne=n(270),re=n(19),ie=n(126),oe=n(161),ae=n(625),se=n(627),ue=n(284),ce=n(631),le=n(632),fe=n(68),he=r(n(633)),de=n(634),pe=n(635),ge=n(636),ve=n(272),me=n(271),ye=n(115),_e=n(276),be=n(277),Ae=n(275),we=n(186),Ee=n(273),xe=n(108),Te=n(278),Se=n(83),Oe=n(283),Ce=n(282),ke=n(281),Pe=n(280),Ne=n(144),Ie=n(637),Re=n(285),Le=n(638),De=n(639),Me=n(279),je=n(640),Be=n(162),Fe=n(286),Ue=n(642),He=n(266),Ge=n(265),Qe=n(62),ze=n(643),Ve=n(128),We=n(116),qe=n(6),Xe={AudioBtn:E.AudioBtn,Curve:$.Curve,CompositeImage:ve.CompositeImage,CompositeText:me.CompositeText,CompositeWidget:ye.CompositeWidget,GenericContainer:_e.GenericContainer,Graphic:be.Graphic,ImageOption:Ae.ImageOption,Option:we.Option,TextOption:Ee.TextOption,TextWidget:xe.TextWidget,MenuBarWidget:Te.MenuBarWidget,Widget:Se.Widget,WidgetFactory:ae.WidgetFactory,InteractionMediator:Oe.InteractionMediator,InteractionFactory:se.InteractionFactory,Clickable:Ce.Clickable,Collidable:ke.Collidable,Draggable:Pe.Draggable,WidgetBehavior:Ne.WidgetBehavior,ArrayLayout:Ie.ArrayLayout,CircularLayout:Re.CircularLayout,OvalLayout:Le.OvalLayout,LinearHorizontalLayout:De.LinearHorizontalLayout,LinearVerticalLayout:Me.LinearVerticalLayout,GraphingFunctionLayout:T.GraphingFunctionLayout,GraphingFunction:S.GraphingFunction,ScatteredLayout:je.ScatteredLayout,BaseCompositePromise:P.BaseCompositePromise,collisionSystem:Be.collisionSystem,BaseRenderer:Fe.BaseRenderer,CanvasBaseRenderer:Ue.CanvasBaseRenderer,BaseProcessor:He.BaseProcessor,SelectionProcessor:Ge.SelectionProcessor,FlowContainer:he.default};t.CLASSES=Xe;var Ye={start:a.start};t.BOOTSTRAP=Ye;var Ke={Defiant:s.Defiant,_:s._,is:s.is,AccessibilityModule:s.AccessibilityModule,Emitter:s.Emitter,PropTypes:s.PropTypes,React:s.React,Router:s.Router,Route:s.Route,Redirect:s.Redirect,ReactDOM:s.ReactDOM,ReactModal:s.ReactModal,Switch:s.Switch,createjs:s.createjs,TweenMax:s.TweenMax,TweenLite:s.TweenLite,TimelineLite:s.TimelineLite,TimelineMax:s.TimelineMax,ScrollToPlugin:s.ScrollToPlugin,GsapDraggable:s.GsapDraggable,txtjs:s.txtjs,FPSMeter:s.FPSMeter,HowlerGlobal:s.HowlerGlobal,Howler:s.Howler,Howl:s.Howl,ca:s.ca,c2d:s.c2d,StateMachine:s.StateMachine,immutable:s.immutable,EaselPlugin:s.EaselPlugin,Key:s.Key,KeyEnum:s.KeyEnum};t.SHARED_DEPENDENCIES=Ke;var $e={BaseOrchestrator:u.BaseOrchestrator,SortingOrchestrator:c.SortingOrchestrator,ReadingOrchestrator:l.ReadingOrchestrator,MCsOrchestrator:f.MCsOrchestrator,SelectionOrchestrator:h.SelectionOrchestrator,Sequencer:d.Sequencer,sequenceRunner:p.sequenceRunner};t.ORCHESTRATORS=$e;var Je={i18nUtil:v.i18nUtil,Emitter:s.Emitter,tweenUtil:g.tweenUtil,layoutUtil:A.layoutUtil,widgetUtil:w.widgetUtil,jsonUtil:y.jsonUtil,AnchorUtil:b.AnchorUtil,rendererLogger:m.rendererLogger,errorLogger:m.errorLogger,globalLogger:m.globalLogger,orchestratorLogger:m.orchstratorLogger,canvasUtil:_.canvasUtil,layoutHelper:x.layoutHelper,GreensockHelper:O.GreensockHelper,SPEED:O.SPEED,EXIT:O.EXIT,RUBBERBAND:O.RUBBERBAND,RetriablePromise:C.RetriablePromise,DelayedPromise:k.DelayedPromise,animationUtil:N.animationUtil,OBJECT_TYPE:I.OBJECT_TYPE,assertUtil:I.assertUtil,assetUtil:R.assetUtil,assetLoader:L.assetLoader,setConfig:R.setConfig,audioPlayer:D.audioPlayer,collisionUtil:j.collisionUtil,getDomainFromConfig:B.getDomainFromConfig,getPathFromConfig:B.getPathFromConfig,feedbackUtil:F.feedbackUtil,htmlUtil:U.htmlUtil,idleService:H.idleService,lipsyncUtil:G.lipsyncUtil,localStorageUtil:Q.localStorageUtil,navigationUtil:{get showIntroOutro(){return z.navScreenPropsUtil.showIntroOutro},isQuiz:function(e){return V.navSectionUtil.isQuiz(e)},isSameStyle:function(e,t){return W.navStepsUtil.isSameStyle(e,t)}},screenUtil:q.screenUtil,sizingUtil:X.sizingUtil,shuffle:Y.shuffle,random:K.random,FFWAdapter:M.FFWAdapter,processorUtil:J.processorUtil,rendererUtil:Z.rendererUtil,modalDialogUtil:ee.modalDialogUtil,EventManager:te.eventManager,fx:ne.fx,agcLessonUtil:ie.agcLessonUtil};t.UTILS=Je;var Ze=i.default.DCPayloadBuilders,et=Ze.SelectionResponsePayload,tt=Ze.SortResponsePayload,nt=Ze.ValueResponsePayload,rt=Ze.HybridResponsePayload,it=Ze.ElementPayload,ot={DC_EVENT_TYPES:re.DC_EVENT_TYPES,DC_EVENT_PAYLOADS:re.DC_EVENT_PAYLOADS,dataCaptureUtil:re.dataCaptureUtil,dcClientApi:re.dcClientApi,SelectionResponsePayload:et,SortResponsePayload:tt,ValueResponsePayload:nt,HybridResponsePayload:rt,ElementPayload:it,responseDataMiners:o.responseDataMiners};t.DATA_CAPTURE=ot;var at={ANCHOR_TOP:oe.ANCHOR_TOP,ANCHOR_LEFT:oe.ANCHOR_LEFT,ANCHOR_RIGHT:oe.ANCHOR_RIGHT,ANCHOR_BOTTOM:oe.ANCHOR_BOTTOM,widgetFactory:ae.widgetFactory,interactionFactory:se.interactionFactory,BaseDisplay:ue.BaseDisplay,CanvasBaseDisplay:ce.CanvasBaseDisplay,displayPersistenceManager:le.displayPersistenceManager,BaseControllerView:fe.BaseControllerView,CharacterLayer:pe.CharacterLayer,CanvasLayer:de.CanvasLayer,HTMLTextControllerView:ge.HTMLTextControllerView,SharedWidgetControllerView:function(){return null}};t.VIEWS=at;var st={navigationStore:ze.legacyAltStores.navigationStore,readTextStore:ze.legacyAltStores.readTextStore,screenStore:ze.legacyAltStores.screenStore};t.STORES=st;var ut={handler:Qe.handler,screenActions:Qe.screenActions,audioActions:Qe.audioActions,enableLessonControls:ze.legacyAltActions.screenActions.enableLessonControls,disableLessonControls:ze.legacyAltActions.screenActions.disableLessonControls,navigationActions:ze.legacyAltActions.navigationActions,readTextActions:ze.legacyAltActions.readTextActions};t.ACTIONS=ut;var ct={AudioModule:Ve.AudioModule,CanvasModule:Ve.CanvasModule,DisplayAnimationModule:Ve.DisplayAnimationModule,EaselQuery:Ve.EaselQuery};t.MODULES=ct,s._.set(window,"com.cainc.ifabric.version","20.4.3")},function(e,t,n){var r=n(43);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t){var n={},r={},i={};!function(e,t,n,r){var i;e.webFontTxtInst={};var o,a=0,s=0,u=[],c=[];e.properties={width:550,height:400,fps:24,color:"#FFFFFF",opacity:1,webfonts:{},manifest:[]},e.ssMetadata=[],e.updateListCache=function(e){for(var t=0;t<e.length;t++)e[t].cacheCanvas&&e[t].updateCache()},e.addElementsToCache=function(e,t){for(var n=e;n!=exportRoot&&-1==t.indexOf(n);)n=n.parent;if(n!=exportRoot)for(var r=e,i=t.indexOf(n);r!=n;)t.splice(i,0,r),r=r.parent,i++;else for(n=e;n!=exportRoot;)t.push(n),n=n.parent},e.gfontAvailable=function(t,n){e.properties.webfonts[t]=!0;for(var r=e.webFontTxtInst&&e.webFontTxtInst[t]||[],i=0;i<r.length;++i)e.addElementsToCache(r[i],u);++s==n&&e.updateListCache(u)},e.tfontAvailable=function(t,n){e.properties.webfonts[t]=!0;for(var r=e.webFontTxtInst&&e.webFontTxtInst[t]||[],i=0;i<r.length;++i)e.addElementsToCache(r[i],c);++a==n&&e.updateListCache(c)},(e.Tick=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#6ACA6B").s().p("AhVFQQAAAAAAAAQAAgBgBAAQAAAAAAABQgBAAAAAAIgDAFIgEgHIAAAIQgGgRgDAEIgFgOIgLgVQgIgTgDABQgIgJAAgGIgHgSIgDAEIgKgVQgLgTgOgRIgWgcIgGgEQAAgBAAAAQAAgBAAAAQAAgBAAgBQAAAAAAgBIgVgTIABgBQgzgygagUQgBgBAAgBQAAAAgBgBQAAAAAAAAQAAgBAAAAIAAgEQgEgCgHgBQAAAAAAAAQABAAAAAAQAAAAAAABQABAAAAAAIgBABIgFgDIAEAAQAAAAAAgBQAAAAAAAAQAAAAAAAAQAAAAAAAAIAAgBIAEADQAAgBAAAAQAAAAAAAAQAAAAAAAAQgBAAAAAAIgEgFIgFgCIADgCQgEgIAIgSQAEgQANgQIAUgaIAKgKIABAAIAIAOQATAJAIAHIAWAUIANAIQAJAHAGADIgDACQAHAFAWANIgBAAQAMAKADgFIAHAKQACAFAGAEIAOAOQAJAKABAEIAHAKIAAAAIADACIABACIAAgBIACgDIAJgKIAbgqQAEgIAAgCQABgEAFgHQABAAABAAQAAAAAAgBQABAAgBAAQAAgBgBAAIgCABQAIgHABgDIAKgIQATgfAegqIA5hIIgBACIA3hEIA8g/IACgGIAQgMIACgCQgBAAAAAAQAAgBAAAAQgBAAAAABQgBAAgBAAIAJgIIAHgEIAAABQAFgBAGgKQAGgIAFgDIABAAIAGgEQAAgEAEgEQABAAAAgBQABAAAAAAQABAAAAAAQAAABAAAAQABAAAAABQABAAAAAAQABAAAAAAQAAgBABAAQAAgDAKgGQgJAIACACIAEgCQABAAAAAAQABAAAAgBQABAAAAAAQAAgBABgBIgBgCIAEgDIgCACIA2BeIgKAMQgJAHgCAHIgCADQAAABAAAAQgBABABAAQAAAAAAAAQABAAABAAQgDABgDADQADgGgBgBIgjAfQgFAEAAAEIgBAHIgCgDIgGAGQAAAAAAABQABAAAAAAQABAAAAABQABAAAAABQADACACgBIgFAFQABgBAAgBQABgBAAgBQAAAAgBAAQAAAAgBAAIgCAEIgDAGIAAgEQAAAAgBAAQAAgBgBAAQAAAAgBABQgBAAAAAAQgQALgeAlQgXAYgUAaQAAgDgEgIIgEAJIAFgBQgCAGgRAbQgTAegBADIABgBQgKAQgDAFIACgGQgFAAgHAIIAEgCQAAAFgKAKQAAADgEAEIgBgBIgHACQABAAAAABQABAAAAAAQAAABAAABQAAABgBABIgDAGIgEAEQgBAEgCAAQgBABABAAQAAAAAAABQAAAAAAAAQAAAAAAAAIACAAQgDADgCAFQAAAFgFAJIgIAJIgGAOIgEABIACADQgDAAgFAGQgEAFgDgCQAAABAAAAQAAABAAAAQgBABAAAAQAAABAAAAIgDAGQACABADgDQAEgEABAAIg4BeIgoBLIgZAtg"),this.shape.setTransform(47.1,36.6),this.shape_1=new n.Shape,this.shape_1.graphics.f().s("#000000").ss(4,1,1).p("AGpAAQAACxh9B6Qh7B9ixAAQivAAh9h9Qh8h7AAiwQAAivB8h8QB9h8CvAAQCxAAB7B8QB9B9AACug"),this.shape_1.setTransform(42.5,42.4),this.shape_2=new n.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("AksErQh7h7gBiwQABitB7h+QB9h8CvAAQCxAAB7B8QB9B7AACwQAACxh9B6Qh6B9iyAAQivAAh9h9g"),this.shape_2.setTransform(42.5,42.4),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-2,-2,89,88.9),i.frameBounds=[o],(e.Horn=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f().s("#6991B1").ss(.5).p("AAHAAQAAACgCADQgCACgDAAQgGAAAAgHQAAgGAGAAQAHAAAAAGg"),this.shape.setTransform(17.9,55,3,3),this.shape_1=new n.Shape,this.shape_1.graphics.f().s("#6991B1").ss(.5).p("AAHAAQAAADgCACQgCACgDAAQgGAAAAgHQAAgGAGAAQADAAACACQACADAAABg"),this.shape_1.setTransform(-4.6,61.9,3,3),this.shape_2=new n.Shape,this.shape_2.graphics.f().s("#6991B1").ss(.5).p("AAHAAQAAADgCACQgCACgDAAQgGAAAAgHQAAgGAGAAQAHAAAAAGg"),this.shape_2.setTransform(-28.6,66,3,3),this.shape_3=new n.Shape,this.shape_3.graphics.f().s("#6991B1").ss(.5).p("AiLAPIBKADQBdgDBugh"),this.shape_3.setTransform(-10.7,65.8,3,3),this.shape_4=new n.Shape,this.shape_4.graphics.f("#2A5871").s().p("AgQAzQgSgOgHgZQgHgYAHgVQAIgVARgGQAQgFASAPQARAOAHAZQAHAYgHAVQgIAWgRAFIgJABQgLAAgNgLg"),this.shape_4.setTransform(53.5,23,3,3),this.shape_5=new n.Shape,this.shape_5.graphics.f("#326586").s().p("AgbBSQgcgXgMgoQgLgmALgjQAMgiAdgIQAagJAcAYQAcAWAMAqQALAmgMAjQgMAigcAIQgHACgHAAQgTAAgVgSg"),this.shape_5.setTransform(57.9,21.7,3,3),this.shape_6=new n.Shape,this.shape_6.graphics.f("#41749C").s().p("AgqB/QgsgjgSg/QgRg8ASg1QASg1AsgMQApgNAsAkQArAjASA/QARA8gSA1QgSA1gsAMQgLAEgLAAQgeAAgggbg"),this.shape_6.setTransform(63.6,20.1,3,3),this.shape_7=new n.Shape,this.shape_7.graphics.f("#5A81A6").s().p("Ag+C3Qg+gzgZhaQgahXAahMQAahMA/gSQA8gSA/AzQA+AzAZBaQAaBXgaBMQgaBMg/ASQgQAEgQAAQgtAAguglg"),this.shape_7.setTransform(63.6,20.1,3,3),this.shape_8=new n.Shape,this.shape_8.graphics.f("#41749C").s().p("AgNAgQgGgNAAgTQAAgRAGgOQAGgNAHAAQAIAAAGANQAGAOAAARQAAATgGANQgGANgIAAQgHAAgGgNg"),this.shape_8.setTransform(-46.8,70,3,3),this.shape_9=new n.Shape,this.shape_9.graphics.f("#41749C").s().p("AhKDgQg0gFgygKIgngJIAFhcQA4AAAngbQA6gnAZhhQAYhdA0gxQARgPARgKIAPgGIB7GvQhXAahrAAQgtAAgzgFg"),this.shape_9.setTransform(17,23.7,3,3),this.shape_10=new n.Shape,this.shape_10.graphics.f().s("#4F7690").ss(.5).p("AAkAAQAAAXgKAQQgLAQgPAAQgOAAgKgQQgLgQAAgXQAAgVALgRQAKgQAOAAQAPAAALAQQAKAQAAAWg"),this.shape_10.setTransform(-45.2,70.4,3,3),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-57.2,-46.1,169.8,138.6),i.frameBounds=[o],(e.Cross=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#FC0D1B").s().p("ACEDEQgwg7hUhYQhZBdhZBnQgugrgZglQBVhXBjhcQhQhPhjhVQAkgpAqgeICmCrQCRiFAughIA7BEIgyApQhJA8hAA/QCQCXAmA2IhEA5QgUgagZgcg"),this.shape.setTransform(43.3,42.3),this.shape_1=new n.Shape,this.shape_1.graphics.f().s("#000000").ss(4,1,1).p("AGpAAQAACyh9B6Qh7B9ixAAQiwAAh7h9Qh9h8AAiwQAAiuB9h9QCAh9CrAAQCxAAB7B9QB9B+AACtg"),this.shape_1.setTransform(42.5,42.6),this.shape_2=new n.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("AkrEsQh8h7gBixQABisB8h/QB7h9CwAAQCwAAB8B9QB9B9AACuQAACyh9B6Qh6B9iyAAQiuAAh9h9g"),this.shape_2.setTransform(42.5,42.6),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-2,-2,89,89.1),i.frameBounds=[o],(e.Crappy_iPad_Yoop_FG=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#6E94BF").s().p("AtHM3QmEilkrkrQkqkqilmDQiIlAgblZIFqAAQAZEQBrD8QCJFDD5D4QD6D5FDCJQFNCNFuABQFvgBFNiNQFCiJD5j5QD7j4CIlDQBrj8AakQIFqAAQgcFZiHFAQilGDkrEqQkqErmFClQmSCpm1AAQm1AAmSipg"),this.shape.setTransform(215.3,99.3),this.timeline.addTween(n.Tween.get(this.shape).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,430.7,198.6),i.frameBounds=[o],(e.Crappy_iPad_Yoop_Face=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#000000").s().p("AgzgrQAUgcARAAQAaAAAhAkQAjAmAMA3Qgxhmg2AFQg2AFgbBqQANhMAcgng"),this.shape.setTransform(168.8,43.3,3,3),this.shape_1=new n.Shape,this.shape_1.graphics.f("#BFD64E").s().p("AgLAMQgFgFgBgHQAAgGAGgFQAEgGAHAAQAGAAAGAFQAGAGgBAGQAAAHgEAFQgHAGgGAAQgFAAgGgGg"),this.shape_1.setTransform(28.2,43.9,3,3),this.shape_2=new n.Shape,this.shape_2.graphics.f("#000000").s().p("AB0B4QAAgWAJgxQAKgxAAgfQAAhTgwg+Qg1hDhRAAQgjAAglAfQgpAhAAAtQAAAlAWAUQAQAOAOAAQASAAALgHQANgJAHgWIgCAIQgJAlgpAAQgXAAgSgYQgRgXAAgeQAAg/AyghQAugeA/ALQBAALAsAxQAyA5AABYQAAAhgKAuQgKAwAAAkQAABFAqA4IgKAHQgsg/AAhFg"),this.shape_2.setTransform(51.4,77.3,3,3),this.shape_3=new n.Shape,this.shape_3.graphics.f("#BFD64E").s().p("AgTDpIAAm8QAAgIAGgHQAFgFAIgBQAHABAHAFQAGAHAAAIIAAGsQgVAJgNAHg"),this.shape_3.setTransform(71.5,347.9,3,3),this.shape_4=new n.Shape,this.shape_4.graphics.f("#A1AE46").s().p("AgqAYIA8iqIAaElQg0gjgihYg"),this.shape_4.setTransform(71.3,401.8,3,3),this.shape_5=new n.Shape,this.shape_5.graphics.f("#000000").s().p("AgOhHQAwgFA6CGQg+hpgqADQgrAGgkBuQAdiMAwgDg"),this.shape_5.setTransform(169.7,42.8,3,3),this.shape_6=new n.Shape,this.shape_6.graphics.f("#000000").s().p("AgvA0QgXgXAAgdQgBgeAVgVQAUgWAdAAQAcAAAWAWQAVAVABAeQABAdgUAXQgVAWgdAAQgbAAgWgWg"),this.shape_6.setTransform(203,159.4,3,3),this.shape_7=new n.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AhyBXQgzglgCgyQgBgzAwgjQAwglBFAAQBFAAAyAlQAyAlABAxQACAzgwAkQgxAlhFAAQhDAAgyglg"),this.shape_7.setTransform(180.9,156.7,3,3),this.shape_8=new n.Shape,this.shape_8.graphics.f("#A1AE46").s().p("Ag5AIIABgDQAFgIALgLIAEgEIALgEQAcgKA0AhIAJAGIgggIQgggJgOAEQgSAFgPAKIgQARIAGgSg"),this.shape_8.setTransform(94.2,180.6,3,3),this.shape_9=new n.Shape,this.shape_9.graphics.f("#000000").s().p("AgcEVQhLgLhcgyQhdgzhGiEQghg/gNg+QgOg3AAg/QAAgwAHgWQACAiADAbQAGBMARA9QARA/AiA3QBMCICOA3QCJA2CUgmQCTgoBkiAQhUCcjBAlQg8ANg2AAQgbAAgcgEg"),this.shape_9.setTransform(215,272.8,3,3),this.shape_10=new n.Shape,this.shape_10.graphics.f("#BFD64E").s().p("AmFBaQg5i2Apj6QAEC+BMBiQBRBnBjAtQBjAuCRAAQCUACCwjCQgWB2ghBqQggBmgoBFIguAAQo2AAhJj9g"),this.shape_10.setTransform(213.9,311.7,3,3),this.shape_11=new n.Shape,this.shape_11.graphics.f("#FFFFFF").s().p("AgVBRQgdgKgIgzQgJgwALgcQALgcAYAAQAYgBAWAUQAYAVAKAgQAJAcgKAYQgLAZgUANQgMAIgOAAQgJAAgNgFg"),this.shape_11.setTransform(312,316.8,3,3),this.shape_12=new n.Shape,this.shape_12.graphics.f("#E89393").s().p("AgwBJQgsgdgSgrQgRgpAVgfQAVgeAuAAQAtAAArAdQAsAdASArQARApgVAfQgVAeguAAQgtAAgrgdg"),this.shape_12.setTransform(135.7,326.5,3,3),this.shape_13=new n.Shape,this.shape_13.graphics.f("#F89C64").s().p("AgJALQgEgEAAgHQAAgGAEgFQAEgFAFAAQAHAAACAFQAFAFAAAGQAAAHgFAEQgDAGgGAAQgEAAgFgGg"),this.shape_13.setTransform(59,222,3,3),this.shape_14=new n.Shape,this.shape_14.graphics.f("#F89C64").s().p("AgSAWQgJgKAAgMQAAgMAIgKQAJgKAKABQAMgBAIAKQAIAKAAAMQAAALgIALQgJALgLgBQgJABgJgLg"),this.shape_14.setTransform(61.8,254.3,3,3),this.shape_15=new n.Shape,this.shape_15.graphics.f("#F89C64").s().p("AgOASQgHgIAAgKQAAgKAHgHQAGgHAIgBQAJABAGAHQAHAIAAAJQAAAKgHAIQgGAHgJAAQgHAAgHgHg"),this.shape_15.setTransform(78.1,236.5,3,3),this.shape_16=new n.Shape,this.shape_16.graphics.f("#BFD64E").s().p("AmbGBQg0iwARj3QASj6AKgQQELjjHOBgIAmCcQk+C4kzizQAeMlK5lGIgOC+QjGBFjNAAQjaAAjjhPg"),this.shape_16.setTransform(174.7,271.2,3,3),this.shape_17=new n.Shape,this.shape_17.graphics.f("#531C1E").s().p("AlGEsIgjpsQFeAgEMgkQhGHvCvA9Qi9BdjsAAQh9AAiKgZg"),this.shape_17.setTransform(185.3,278,3,3),this.shape_18=new n.Shape,this.shape_18.graphics.f("#BFD64E").s().p("AAJC7QgXgRgNg8QgEA9gLAQQgGAJgTgEQgsgDgegbQgnghgehPQAEAxgNAOQgKAKgkACQg+ADg0hZQg1hXgIh/QgDg0GwBHQDaAlDiAxQAZAFg5BcQg4BfgbgDQgcgCgEgTQgGgUABgvQgUBNgaAZQgSASgdgCQgogEgCgBQgRgKgFgtQgOBqgsACQgrgBgOgJg"),this.shape_18.setTransform(179.5,412.3,3,3),this.shape_19=new n.Shape,this.shape_19.graphics.f("#BFD64E").s().p("AgLAMQgGgFABgHQAAgGAEgFQAFgGAHAAQAFAAAHAFQAGAGAAAGQgBAHgFAFQgFAGgHAAQgHAAgEgGg"),this.shape_19.setTransform(29.1,43.4,3,3),this.shape_20=new n.Shape,this.shape_20.graphics.f("#000000").s().p("AB5BKQALg3ADggIgBAAQACgggGgpQgGgogZghQgWghgogaQglgaguADQgsADgdAbQgeAbgJAjQgIAhASAcQATAbAcgBQAcgBAPgnQgMAtghACQghACgVgiQgRgZAHglQAHgoAigeQAfgeAxgDQAugFAsAbQApAaAbAlQAZAjAHAoQAHAlgFAsQgCAagMA+QgRBcA4BOIgKAHQg7hUAThgg"),this.shape_20.setTransform(52.2,76.3,3,3),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(.2,0,340.8,471.7),i.frameBounds=[o],(e.Crappy_iPad_Plory_Face=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#F79C38").s().p("AAEinIA3CXIgJBEIhrB0g"),this.shape.setTransform(17.7,50.6,3,3),this.shape_1=new n.Shape,this.shape_1.graphics.f("#F79C38").s().p("AhlAOIAShBQC8AlgEAiQgBATguAOg"),this.shape_1.setTransform(54,60,3,3,0,0,0,-.8,0),this.shape_2=new n.Shape,this.shape_2.graphics.f("#F79C38").s().p("AgwAgIAKhDIBXiHIgUFVg"),this.shape_2.setTransform(434.9,92.7,3,3),this.shape_3=new n.Shape,this.shape_3.graphics.f("#F79C38").s().p("AhZAgIAAg/ICzAAIAAA/g"),this.shape_3.setTransform(400.4,92,3,3,0,0,0,-.3,0),this.shape_4=new n.Shape,this.shape_4.graphics.f("#F79C38").s().p("AhxANQgcgHgSgIQgNgGAAgCQAAgQAMgEQATgGBLAAQAvAABNAPQBMAOAnAMIggAXQgPAJgGAAQiRAAhYgYg"),this.shape_4.setTransform(314.9,267.3,3,3),this.shape_5=new n.Shape,this.shape_5.graphics.f("#010202").s().p("AgigaQAuggBPACQg8AagZAOQglATg7A3QALg3Atgdg"),this.shape_5.setTransform(128.9,17.5,3,3),this.shape_6=new n.Shape,this.shape_6.graphics.f("#010202").s().p("AgCgRQgrgZglgaIARACQBJAKApAtQAjAjgBAtQgzg9gigZg"),this.shape_6.setTransform(313.6,37.8,3,3),this.shape_7=new n.Shape,this.shape_7.graphics.f("#FFFFFF").s().p("AhQBRQgigiAAgvQAAguAigiQAighAuAAQAvAAAiAhQAiAiAAAuQAAAvgiAiQgiAhgvAAQguAAgighgAhIhJQgfAfAAAqQAAAqAfAfQAeAeAqAAQAqAAAfgeQAegfAAgqQAAgqgegfQgfgegqAAQgqAAgeAeg"),this.shape_7.setTransform(137.7,61.4,3,3),this.shape_8=new n.Shape,this.shape_8.graphics.f("#FFFFFF").s().p("AhQBRQghgiAAgvQAAguAhghQAigiAuAAQAvAAAiAiQAhAhAAAuQAAAvghAiQgiAhgvAAQguAAgighgAhIhIQgeAeAAAqQAAAqAeAfQAeAeAqAAQArAAAegeQAegfAAgqQAAgqgegeQgegfgrAAQgqAAgeAfg"),this.shape_8.setTransform(298.8,79.2,3,3),this.shape_9=new n.Shape,this.shape_9.graphics.f("#010202").s().p("AghAiQgOgOAAgUQAAgTAOgOQAOgOATAAQATAAAPAOQAOAOAAATQAAAUgOAOQgPAOgTAAQgTAAgOgOg"),this.shape_9.setTransform(281.9,83.1,3,3,0,0,0,-.1,0),this.shape_10=new n.Shape,this.shape_10.graphics.f("#010202").s().p("AghAiQgOgOAAgUQAAgSAOgPQAPgOASAAQAUAAAOAOQAOAPAAASQAAAUgOAOQgOAOgUAAQgSAAgPgOg"),this.shape_10.setTransform(120.9,62.7,3,3),this.shape_11=new n.Shape,this.shape_11.graphics.f("#FFFFFF").s().p("AhMBNQgggggBgtQABgsAgggQAgghAsAAQAtAAAgAhQAhAgAAAsQAAAtghAgQggAggtABQgsgBggggg"),this.shape_11.setTransform(137.9,61.1,3,3),this.shape_12=new n.Shape,this.shape_12.graphics.f("#FFFFFF").s().p("AhMBNQghggAAgtQAAgsAhggQAgghAsAAQAtAAAgAhQAgAgABAsQgBAtggAgQggAggtABQgsgBggggg"),this.shape_12.setTransform(299.1,78.9,3,3),this.shape_13=new n.Shape,this.shape_13.graphics.f("#E1E248").s().p("AgUAvQgJgIAAgMQAAgLAJgIQAIgIALAAQAKAAAIAIQAIAIAAALQAAAMgIAIQgIAIgKAAQgLAAgIgIgAgtgSQgGgHAAgIQAAgJAGgFQAHgHAIABQAJgBAGAHQAGAFAAAJQAAAIgGAHQgGAFgJAAQgIAAgHgFgAAdgfQgEgEAAgGQAAgFAEgEQAEgEAFAAQAGAAAEAEQAEAEAAAFQAAAGgEAEQgEAEgGAAQgFAAgEgEg"),this.shape_13.setTransform(74.2,112.2,3,3),this.shape_14=new n.Shape,this.shape_14.graphics.f("#010202").s().p("AjEA6QiKg4h0htQD6C1D5AAQBXAABhgWQCBgeBZg6QheBKh3AlQhjAhhigBQhzABh6gyg"),this.shape_14.setTransform(222.4,119,3,3),this.shape_15=new n.Shape,this.shape_15.graphics.f("#FFFFFF").s().p("AgcAdQgNgMAAgRQAAgQANgNQAMgMAQAAQARAAANAMQAMANAAAQQAAARgMAMQgNANgRAAQgQAAgMgNg"),this.shape_15.setTransform(288.5,151.8,3,3),this.shape_16=new n.Shape,this.shape_16.graphics.f("#F79C38").s().p("AldCXQi1hLAAiBQAAiqFCAAQHBAACmA5QBIAZAdAnQAXAfAAAwQAACDheA7QhcA5jMAAQk2AAi0hJg"),this.shape_16.setTransform(214.3,146.5,3,3),this.shape_17=new n.Shape,this.shape_17.graphics.f("#F79C38").s().p("Ak/D0Qj+hpAAjEQAAgqAOhQQAThxAfgcIQPBaQAsBsAABeQAACph+BYQiBBbj3AAQjMAAi7hMg"),this.shape_17.setTransform(224.1,149.1,3,3),this.shape_18=new n.Shape,this.shape_18.graphics.f("#F79C38").s().p("AgTAVQgJgJAAgMQAAgLAJgJQAJgJAKAAQALAAAJAJQAJAJAAALQAAAMgJAJQgJAJgLAAQgKAAgJgJg"),this.shape_18.setTransform(74.6,64.5,3,3),this.shape_19=new n.Shape,this.shape_19.graphics.f("#F79C38").s().p("AhlAOIARhCQC9AkgEAkQgBATguAOg"),this.shape_19.setTransform(54,58.9,3,3,0,0,0,-.8,0),this.shape_20=new n.Shape,this.shape_20.graphics.f("#F79C38").s().p("AhRA7IAAhcICfglQAQBVgvAjQgbAVgpAAQgUAAgogMg"),this.shape_20.setTransform(228.7,245.1,3,3,0,0,0,.2,-.1),this.shape_21=new n.Shape,this.shape_21.graphics.f("#FFFFFF").s().p("Ag2AdQgIgaAVgRQAQgOARAAQAJgBATAMQAZAPANAUQgrAIgfAAIAAADg"),this.shape_21.setTransform(238.9,314.4,3,3),this.shape_22=new n.Shape,this.shape_22.graphics.f("#37A9DE").s().p("Ag6AgQgIgeAWgSQASgPATAAQAKAAATAMQAaAQANAWQgOADgZADQgXADgQAAIAAAEg"),this.shape_22.setTransform(239.2,313.9,3,3),this.shape_23=new n.Shape,this.shape_23.graphics.f("#74BE4D").s().p("AhNAtIAAgfQADgZARgQQARgRAYAAQAgAAAWATQAPAOAZAmQhYAMgGAAIAAAGg"),this.shape_23.setTransform(238.8,310.3,3,3),this.shape_24=new n.Shape,this.shape_24.graphics.f("#8AC44D").s().p("AhYAxQAGg1ATgXQARgWAdAAQAbAAAhAPQAwAXgDAnIg1AIIgzAHIAAAGg"),this.shape_24.setTransform(238.8,309,3,3),this.shape_25=new n.Shape,this.shape_25.graphics.f("#BED543").s().p("AigBhIgJgHQBegaBRg+QBUg7ABgqQAnAWAPAMQAZAUAAAUQAAAjhHAiQhLAjiGAUIgYABQgQAAgKgDg"),this.shape_25.setTransform(267.2,292.6,3,3,0,0,0,0,.2),this.shape_26=new n.Shape,this.shape_26.graphics.f("#010202").s().p("Am6FxQg0g+g0jLQgvi4AAhcQAAhaAXgwQAeg/BIAAQGWAADkBFQFQBmBcEJQgrATiiBTQiMBHhiAnQj3BjjtAAQg3AAg2gFg"),this.shape_26.setTransform(262.3,285.9,1,1,0,0,0,-.1,.2),this.shape_27=new n.Shape,this.shape_27.graphics.f("#F79C38").s().p("AgtB0QAZhUAQhpQAEgbADgHQAGgJAPAAQAJAAAHAFQAGAGAAAFIgTByQgbBngnAAIgGgBg"),this.shape_27.setTransform(205.7,289.1,3,3),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_27},{t:this.shape_26},{t:this.shape_25},{t:this.shape_24},{t:this.shape_23},{t:this.shape_22},{t:this.shape_21},{t:this.shape_20},{t:this.shape_19},{t:this.shape_18},{t:this.shape_17},{t:this.shape_16},{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,449.9,324.4),i.frameBounds=[o],(e.Crappy_iPad_BG=function(e,t,r){this.initialize(e,t,r,{}),this.shape=new n.Shape,this.shape.graphics.f("#3B2D4E").s().p("AAIASIgZgHQgEgEADgLQABgHAFgDIAEgDIATAFIAGAFQAFAEgDAJQgEAMgGAAIgBAAg"),this.shape.setTransform(276.5,447.5,3,3),this.shape_1=new n.Shape,this.shape_1.graphics.f("#5E5F5F").s().p("AgdAfQgNgNAAgSQAAgRANgMQANgNAQAAQARAAANANQANAMAAARQAAASgNANQgNAMgRAAQgQAAgNgMg"),this.shape_1.setTransform(13.1,110.9,3,3),this.shape_2=new n.Shape,this.shape_2.graphics.f("#BECEE1").s().p("AhAAwQADgZALgTQAhg/BUgHQgXAFgbATQg3AlgcBIQAAgIACgLg"),this.shape_2.setTransform(272.3,545.3,3,3),this.shape_3=new n.Shape,this.shape_3.graphics.f("#BECEE1").s().p("AidATQDChpD0ghIAAAPQAEAPAVAHIgPAAQg5AAhtAgQiqAykEB4QAygwBig1g"),this.shape_3.setTransform(183.4,738,3,3),this.shape_4=new n.Shape,this.shape_4.graphics.f("#6E94BF").s().p("AkXKXQiBg3hjhjQhkhkg3iBQg5iGAAiSQAAiRA5iGQA3iBBkhkQBjhjCBg3QCHg5CQABQCSgBCGA5QCBA3BjBjQBkBkA3CBQA4CGAACRQAACSg4CGQg3CBhkBkQhjBjiBA3QiGA4iSABQiQgBiHg4gAjoonQhsAthTBTQhTBUguBrQgvBwABB4QgBB6AvBvQAuBrBTBUQBTBTBsAtQBvAvB5ABQB6gBBvgvQBrgtBUhTQBThUAuhrQAuhvAAh6QAAh5guhvQguhrhThUQhUhThrgtQhvgwh6AAQh5AAhvAwg"),this.shape_4.setTransform(291,216,3,3),this.shape_5=new n.Shape,this.shape_5.graphics.f("#6E94BF").s().p("AhxByQgwgwAAhCQAAhCAwgvQAvgwBCAAQBDAAAvAwQAwAvAABCQAABCgwAwQgvAwhDAAQhCAAgvgwg"),this.shape_5.setTransform(291.2,565.9,3,3),this.shape_6=new n.Shape,this.shape_6.graphics.f("#3B2D4E").s().p("AgNAPQgGgDAAgLQAAgHADgFIAEgCIATgBIAHABQAFAFABAJQgBANgGABg"),this.shape_6.setTransform(271.8,680.6,3,3),this.shape_7=new n.Shape,this.shape_7.graphics.f("#828184").s().p("ABTGNQgcgDgOgXQgEgFgEgLQgIABgGAAIAAAAIgGAAQgNAAgLgGIAAAAQgSgIgHgQIAAAAQgFgNgBgOIAAAAQAAgRACgIIgFAAQgSABgNgJQgNgKgGgQQgEgMAAgMQAAgOAGgQIAAAAQAGgMAJgNIgOgHQgZgRgJgYQgDgJAAgJIABgKIAAAAQABgFADgHQgPgRgBgVIAAgHQAAgTAKgRIAAAAQALgTATgNIACAAQgHgJgDgLIgBgMQAAgYAUgbIAAAAQAOgTARgMIAAgHIAAgGQAAgMAFgNQAMgZAdgRIALgGIgBAAIAAgBQgEgKAAgKQAAgKAEgNIABAAQADgVASgNIAAAAIAHgEIgBgJQAAgQAJgMQAUgbAhgHQAOgDAMAAQAPAAAMAEIgDAJQgLgEgNABQgJAAgPACQgeAHgRAXIAAAAQgHALAAAMIAAAFQALgFANgBIAMgBQAQAAAOAFQAIAEAFAGQADAGAAADQAAAHgFAHIgBABQgJAJgLACIgLABQgIABgMgEQgPgFgKgLIAAAAQgDgDgDgHIgBgBIgDACQgPALgFASIAAABQgEAJAAAKQAAAJAEAHIAAAAIAAABIABgBQAMgEAIAAIAMgBQARgBAPAIIAAAAQAIADAFAGQAEAFAAAIQAAAIgIAHQgHAFgHABIgLACQgPgBgQgIIABgBQgQgIgIgPIgHAGIgBAAQgaAPgLAXQgEAKAAAKIAAAGIAAABQAQgIATABQANgBALAKQAJAIAAAKIgBAJIgBAAQgEAKgIADQgHAFgJAAQgHAAgGgCQgPgDgLgNQgEgFgCgHQgOAKgMAQIAAABQgSAWAAAWIABAJQADAKAEAGQAPgIASgDIAKgBQAIABAHADQAGAEACAGIAAAAQADADAAAEIgBAGIAAABIgBABQgDAFgIADIAAABQgKAEgJAAQgNAAgMgHQgIgDgFgFIgBAAQgTAMgKARIAAAAQgIAPAAAQIAAAGQABASALAMIACgDIABAAQAQgSAagEIAIAAQALAAAIADQAJAEACAHIABAFQAAALgMAKQgKAIgKADQgIADgJAAQgRAAgQgMIgCAGIgBAIQAAAJADAFQAHAWAXAOIAOAIIAFgHQAQgPAZgHQAFgDAGAAIAIABQAGACABACQAEADACAFIAAAAIABAGQAAAGgEAFQgDAFgGAEQgRAJgUABIgGgBIgBAAIgTgEQgKAPgEAKIAAABQgGAMAAANQAAAIAEAMQAEAPAKAGQAKAHAQAAIAJAAQAGgTAFgJIgBAAQALgUASgJQAIgFAKAAIAAAAIAEAAQAFAAAEACQAFACACAEIAAABQADAEAAAFQAAALgLAMIgBAAQgQARgRAJQgNAEgPABIgCACIABAAQgCAGAAARQABAOAFAKIAAAAQAGAMANAGIAAAAQAJAGALgBIAGAAIAMgBIAAgLQABgWAXgPQAJgGAMAAQALgBAFAIIAAABQADAEAAAEQAAAEgDAIQgDAHgKAKQgQANgTAFIAFALQAMATAXAEIAHAAQAMAAASgDIACAJQgRADgPAAIgIAAgAA9ExIAAABQgSALgCARIAAAAIAAAKQASgFANgKIAAgBQAJgIABgEIADgJIgBgDQgDgCgFgBQgLABgEADgAAHDYQgQAJgIAQIAAAAQgDAFgGASQAMgBAJgDIAAAAQAQgJAOgPIAAAAQAJgJAAgHIgBgEIgDgDIgFgBIgEAAQgHABgHADgAg8CaIgCACIAOAEIAFAAQASAAAOgJQAFgDADgDQAAgBABgBQAAAAAAgBQAAAAABgBQAAAAAAgBIgBgDIAAAAIgCgDIgFgCIAAAAIgGgBQgEAAgDACIgBAAQgXAIgOANgAhsBDIgBABIgCAEQANALAPAAQAGAAAHgCIABAAQAJgDAIgGQAIgIAAgGIgBgCQgBgDgEgCQgGgCgJAAIgGAAQgXADgOAPgAg4gwQgPADgOAGIAKAHQAKAFALAAQAIAAAHgEIAAABIAGgFIABgDIgBgCIgBgBQgBgDgEgDQgEgCgFAAgAgviVQADAIADADQAJALALADIAAAAIALABQAHAAAEgEIABAAIAAgBQAFgBACgGIABgFQAAgFgFgFQgHgHgLgBQgUAAgOAJgAALjrQAGAMAMAHQANAIANgBIAJgBIAKgEQAEgEAAgDQAAgFgCgDQgDgDgGgCIAAAAIAAAAQgNgHgPABIgKAAIgBAAQgFABgMAEgAAmk8IAFAHIABABQAIAJANAFQAHACAJAAIAJgBIAAAAQAJgBAGgIQADgDAAgEIgBgDQgCgEgHgCQgNgGgNABIgKAAIgBAAQgNABgKAGg"),this.shape_7.setTransform(232.1,563.7,3,3),this.shape_8=new n.Shape,this.shape_8.graphics.f("#6E94BF").s().p("AkXKXQiBg3hjhjQhkhkg3iBQg5iGAAiSQAAiRA5iGQA3iBBkhkQBjhjCBg3QCHg5CQABQCSgBCGA5QCBA3BjBjQBkBkA3CBQA4CGAACRQAACSg4CGQg3CBhkBkQhjBjiBA3QiGA4iSABQiQgBiHg4gAjoonQhsAthTBTQhTBUguBrQgvBwABB4QgBB6AvBvQAuBrBTBUQBTBTBsAtQBvAvB5ABQB6gBBvgvQBrgtBUhTQBThUAuhrQAuhvAAh6QAAh5guhvQguhrhThUQhUhThrgtQhvgwh6AAQh5AAhvAwg"),this.shape_8.setTransform(291,216,3,3),this.shape_9=new n.Shape,this.shape_9.graphics.f("#D9DEE2").s().p("AnRHSQjBjBgBkRQABkQDBjCQDBjAEQAAQERAADBDAQDBDCABEQQgBERjBDBQjBDCkRgBQkQABjBjCg"),this.shape_9.setTransform(291,216,3,3),this.shape_10=new n.Shape,this.shape_10.graphics.f("#89B4DB").s().p("AgiNKQgPgHAAgTIAA5LQAAgVAPgPQAPgOATAAQAUAAAPAOQAOAPAAAVIAAZLQAAATgOAHQgLAEgYAAQgXAAgLgEg"),this.shape_10.setTransform(291.3,454.4,3,3),this.shape_11=new n.Shape,this.shape_11.graphics.f("#6E94BF").s().p("An+CsQjUgpAAg5QAAgdA5guQA7gyBggtQDyhzEMAAQEOAADxBzQBfAtA8AyQA5AuAAAdQAAA5jUApQjUAokrAAQkqAAjUgog"),this.shape_11.setTransform(291.3,759.8,3,3),this.shape_12=new n.Shape,this.shape_12.graphics.f("#446790").s().p("An+BhQjUgoAAg5QAAg4DUgoQDTgpErAAQErAADUApQDUAoAAA4QAAA5jUAoQjUApkrAAQkqAAjUgpg"),this.shape_12.setTransform(291.3,804.2,3,3),this.shape_13=new n.Shape,this.shape_13.graphics.f("#446790").s().p("ArSAkIAAhHIWlAAIAABHg"),this.shape_13.setTransform(291.3,793.2,3,3),this.shape_14=new n.Shape,this.shape_14.graphics.f("#42749D").s().p("Ag9A+QgagaAAgkQAAgjAagaQAagaAjAAQAlAAAZAaQAaAaAAAjQAAAkgaAaQgaAagkAAQgjAAgagag"),this.shape_14.setTransform(76.5,218.9,3,3),this.shape_15=new n.Shape,this.shape_15.graphics.f("#8E9091").s().p("AgUC4IAAAAIgEAAQgOAAgOgEQgUgJgLgTQgHgQAAgWIAAkqIAUAAIAAEqQAAATAFAKQAFAIAIAGQALAHARABIBzAAIAAATg"),this.shape_15.setTransform(37.5,166.5,3,3),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_15},{t:this.shape_14},{t:this.shape_13},{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8},{t:this.shape_7},{t:this.shape_6},{t:this.shape_5},{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,508.4,845.7),i.frameBounds=[o],(e.AudioBtnSkin=function(e,t,r){this.initialize(e,t,r,{play:0,stop:1,disable:2,loading:3,highlight:4}),this.shape=new n.Shape,this.shape.graphics.f("#000000").s().p("AgkB2QgIgHAAgKQgBgKAIgIQAbgdAFgiQAIg5gogtQgKgLAEgNQAEgNAOgEQANgDAKALQAfAhAKArIAGAnQgCBDgsAwQgIAJgJABIgBAAQgJAAgIgHg"),this.shape.setTransform(34.3,27.5,.655,.655),this.shape_1=new n.Shape,this.shape_1.graphics.f("#000000").s().p("AgoC6QgPgFgCgQQgBgNALgLQApgqAJg4QAUhbg5hNIgQgSQgHgIAAgLQAAgKAHgHQAIgHAKAAQAKAAAIAIQAhAiAUAvQAUAvAAAyQgCBnhEBKQgKAKgLAAIgIgBg"),this.shape_1.setTransform(40.4,27.5,.655,.655),this.shape_2=new n.Shape,this.shape_2.graphics.f("#000000").s().p("ABLC0IgogkQgagVgSgOQgNgJgUAAIguABQgKAAgFgIQgLgPgEgaQgLg8AOg4QADgLAJgRQAFgKAMAAIAlABQAgACAZgWQAWgSApgkQANgNAPACQAZACAAAdIAAEzQAAAVgLAIQgJAGgKAAQgKAAgJgHg"),this.shape_2.setTransform(19,27.5,.655,.655),this.shape_3=new n.Shape,this.shape_3.graphics.f("#6CBFE2").s().p("AknEpQh7h8gBitQABisB7h7QB7h7CsgBQCtABB8B7QB6B7AACsQAACth6B8Qh8B6itAAQisAAh7h6gAkLkLQhwBwAACbQAACcBwBwQBwBvCbABQCcgBBwhvQBvhwABicQgBibhvhwQhwhwicAAQibAAhwBwg"),this.shape_3.setTransform(27.5,27.5,.655,.655),this.shape_4=new n.Shape,this.shape_4.graphics.f("#DDF1F7").s().p("AkaEaQh0h1gBilQABikB0h2QB2h0CkgBQClABB1B0QB2B2gBCkQABClh2B1Qh1B2ilgBQikABh2h2g"),this.shape_4.setTransform(27.5,27.5,.655,.655),this.shape_5=new n.Shape,this.shape_5.graphics.f("#000000").s().p("AhlCcQgWAAgQgQQgQgQAAgWIAAjLQAAgXAQgPQAQgQAWAAIDLAAQAXAAAQAQQAPAPAAAXIAADLQAAAWgPAQQgQAQgXAAg"),this.shape_5.setTransform(27.5,27.5,.655,.655),this.shape_6=new n.Shape,this.shape_6.graphics.f("#6CBFE2").s().p("AknEpQh7h7gBiuQABisB7h7QB7h7CsgBQCtABB8B7QB6B7AACsQAACuh6B7Qh8B6itAAQisAAh7h6gAkLkLQhwBwAACbQAACcBwBwQBwBvCbABQCcgBBwhvQBvhwABicQgBibhvhwQhwhwicAAQibAAhwBwg"),this.shape_6.setTransform(27.5,27.5,.655,.655),this.shape_7=new n.Shape,this.shape_7.graphics.f("#DDF1F7").s().p("AkaEaQh0h1gBilQABikB0h1QB2h2CkAAQClAAB1B2QB1B1AACkQAAClh1B1Qh1B2ilgBQikABh2h2g"),this.shape_7.setTransform(27.5,27.5,.655,.655),this.shape_8=new n.Shape,this.shape_8.graphics.f("#B7B7B7").s().p("AgkB2QgIgHAAgKQgBgKAIgJQAbgcAGgiQAHg5gogtQgKgLAEgNQAEgNAPgEQANgDAKALQAfAiAJAqQADANADAaQgBBCgsAxQgIAJgKAAIgCABQgJAAgHgHg"),this.shape_8.setTransform(34.3,27.5,.655,.655),this.shape_9=new n.Shape,this.shape_9.graphics.f("#B7B7B7").s().p("AgpC5QgOgEgCgRQgCgLALgMQApgqAKg4QAUhcg5hMIgRgTQgHgIABgKQAAgKAHgHQAIgIAKABQAKAAAIAIQAhAiAUAvQATAwAAAxQAABlhFBMQgKAKgLAAQgEAAgFgCg"),this.shape_9.setTransform(40.3,27.5,.655,.655),this.shape_10=new n.Shape,this.shape_10.graphics.f("#B7B7B7").s().p("ABLCzIgogjQgVgRgXgSQgMgJgVAAIgvAAQgJAAgFgHQgLgPgEgaQgMg8AOg4QADgLAKgRQAFgLAMABIAlAAQAgADAZgWIA/g3QANgMAPACQAZABAAAeIAAEzQAAAVgMAIQgIAGgKAAQgKAAgJgIg"),this.shape_10.setTransform(19,27.5,.655,.655),this.shape_11=new n.Shape,this.shape_11.graphics.f("#959595").s().p("AknEpQh7h8gBitQABisB7h7QB7h7CsgBQCtABB8B7QB6B7AACsQAACth6B8Qh8B6itAAQisAAh7h6gAkLkLQhwBwAACbQAACcBwBwQBwBvCbABQCcgBBwhvQBvhwABicQgBibhvhwQhwhwicAAQibAAhwBwg"),this.shape_11.setTransform(27.5,27.5,.655,.655),this.shape_12=new n.Shape,this.shape_12.graphics.f("#DADAD9").s().p("AkaEaQh0h1gBilQABikB0h2QB2h0CkgBQClABB1B0QB2B2gBCkQABClh2B1Qh1B1ilAAQikAAh2h1g"),this.shape_12.setTransform(27.5,27.5,.655,.655),this.shape_13=new n.Shape,this.shape_13.graphics.f("#FEE550").s().p("AknEpQh7h8gBitQABisB7h7QB7h7CsgBQCtABB8B7QB6B7AACsQAACth6B8Qh8B6itAAQisAAh7h6gAkLkLQhwBwAACbQAACcBwBwQBwBvCbABQCcgBBwhvQBvhwABicQgBibhvhwQhwhwicAAQibAAhwBwg"),this.shape_13.setTransform(27.5,27.5,.655,.655),this.shape_14=new n.Shape,this.shape_14.graphics.f("#FEEA7D").s().p("AkaEaQh0h1gBilQABikB0h2QB2h0CkgBQClABB1B0QB2B2gBCkQABClh2B1Qh1B2ilgBQikABh2h2g"),this.shape_14.setTransform(27.5,27.5,.655,.655),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]}).to({state:[{t:this.shape_7},{t:this.shape_6},{t:this.shape_5}]},1).to({state:[{t:this.shape_12},{t:this.shape_11},{t:this.shape_10},{t:this.shape_9},{t:this.shape_8}]},1).to({state:[{t:this.shape_4},{t:this.shape_3},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]},1).to({state:[{t:this.shape_14},{t:this.shape_13},{t:this.shape_2},{t:this.shape_1},{t:this.shape}]},1).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,55,55),i.frameBounds=[o,o,o,o,o],(e.Horn_Mouth_Anim=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Horn,this.instance.parent=this,this.instance.setTransform(48,-34.5,1,1,0,0,0,2.5,38.5),this.timeline.addTween(n.Tween.get(this.instance).to({scaleX:1.38,scaleY:1.38,x:68.9,y:-45.4},9).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-11,-119.1,169.1,138.6),i.frameBounds=[o,new n.Rectangle(-11.9,-123.9,177,144.5),new n.Rectangle(-12.1,-128.8,184.2,150.4),new n.Rectangle(-12.2,-133.6,191.4,156.3),new n.Rectangle(-12.4,-138.5,198.6,162.3),new n.Rectangle(-12.6,-143.2,205.8,168.2),new n.Rectangle(-12.8,-148.1,213,174.1),new n.Rectangle(-12.9,-152.9,220.2,180),new n.Rectangle(-13.1,-157.8,227.4,185.9),new n.Rectangle(-12.6,-162.6,233.9,191.7)],(e.Crappy_iPad_Yoop_Body=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Crappy_iPad_Yoop_FG,this.instance.parent=this,this.instance.setTransform(291,380.7,1,1,0,0,0,215.3,99.2),this.timeline.addTween(n.Tween.get(this.instance).wait(1)),this.instance_1=new e.Crappy_iPad_Yoop_Face,this.instance_1.parent=this,this.instance_1.setTransform(276.7,235.8,1,1,0,0,0,170.5,235.8),this.timeline.addTween(n.Tween.get(this.instance_1).wait(1)),this.instance_2=new e.Crappy_iPad_BG,this.instance_2.parent=this,this.instance_2.setTransform(254.2,471,1,1,0,0,0,254.2,422.9),this.timeline.addTween(n.Tween.get(this.instance_2).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,508.4,893.8),i.frameBounds=[o],(e.Crappy_iPad_Plory_Body=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Crappy_iPad_Plory_Face,this.instance.parent=this,this.instance.setTransform(293,241.7,1,1,0,0,0,224.9,162.2),this.timeline.addTween(n.Tween.get(this.instance).wait(1)),this.instance_1=new e.Crappy_iPad_BG,this.instance_1.parent=this,this.instance_1.setTransform(254.2,422.9,1,1,0,0,0,254.2,422.9),this.timeline.addTween(n.Tween.get(this.instance_1).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(0,0,518,845.7),i.frameBounds=[o],(e.Yoop_Com=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Horn_Mouth_Anim,this.instance.parent=this,this.instance.setTransform(10.8,135.6,.333,.333),this.timeline.addTween(n.Tween.get(this.instance).wait(12)),this.instance_1=new e.Crappy_iPad_Yoop_Body,this.instance_1.parent=this,this.instance_1.setTransform(-68.8,-18.7,.333,.333,0,0,0,84.7,148.1),this.timeline.addTween(n.Tween.get(this.instance_1).wait(12)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-97,-68,169.3,297.7),i.frameBounds=[o,o,o,o,o,o,o,o,o,o,o,o],(e.Plory_Com=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Horn_Mouth_Anim,this.instance.parent=this,this.instance.setTransform(10.4,55.3,.333,.333),this.timeline.addTween(n.Tween.get(this.instance).wait(12)),this.instance_1=new e.Crappy_iPad_Plory_Body,this.instance_1.parent=this,this.instance_1.setTransform(-63.2,-88,.333,.333,0,0,0,86.4,141),this.timeline.addTween(n.Tween.get(this.instance_1).wait(12)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(-92,-135,172.5,281.6),i.frameBounds=[o,o,o,o,o,o,o,o,o,o,o,o],(e.global=function(t,r,i){this.initialize(t,r,i,{}),this.instance=new e.Yoop_Com,this.instance.parent=this,this.instance.setTransform(284.7,326.2,1,1,0,0,0,84.7,147.8),this.instance_1=new e.Plory_Com,this.instance_1.parent=this,this.instance_1.setTransform(86.2,400.8,1,1,0,0,0,86.2,140.8),this.instance_2=new e.AudioBtnSkin,this.instance_2.parent=this,this.instance_2.setTransform(292.8,42.8,1,1,0,0,0,42.8,42.8),this.instance_3=new e.Cross,this.instance_3.parent=this,this.instance_3.setTransform(162.5,42.6,1,1,0,0,0,42.5,42.6),this.instance_4=new e.Tick,this.instance_4.parent=this,this.instance_4.setTransform(42.5,42.7,1,1,0,0,0,42.5,42.4),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.instance_4},{t:this.instance_3},{t:this.instance_2},{t:this.instance_1},{t:this.instance}]}).wait(1)),this._updateTimeline(0)}).prototype=i=new n.MovieClip,i.nominalBounds=o=new n.Rectangle(183,198,397,410),i.frameBounds=[o]}(n,0,createjs),e.exports={GLOBAL:n,images:i,createjs:createjs,ss:r}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DelayedPromise=void 0;var i=r(n(4)),o=r(n(11)),a=r(n(12)),s=r(n(10)),u=n(156);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return(0,i.default)(this,n),(e=t.call(this,(function(e){setTimeout((function(){return e()}),r)})))._execute(),e}return n}(u.BaseCompositePromise);t.DelayedPromise=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.agcLessonUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(46),u=n(87),c=n(6),l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"isAGCLesson",value:function(e){var t=e.screens;return!!t&&JSON.search(t,"//*[".concat(c.AGC_CONSTS.AGC_DATA,'!=""]')).length>0}},{key:"isAGCScreen",value:function(e){return""!==a._.get(e,"agc_data","")}},{key:"generateLessonSeed",value:function(){this._applyLessonSeedFromCheats();var e=s.storageUtil.getItem(c.AGC_CONSTS.LESSON_SEED);e?(e=parseFloat(e),this._newSeedMade=!1):(e=a.AGC.PRNG.randomSeedGenerator(),this._newSeedMade=!0),this.lessonSeed=e}},{key:"saveLessonSeed",value:function(){this._newSeedMade&&s.storageUtil.setItem(c.AGC_CONSTS.LESSON_SEED,this.lessonSeed.toString())}},{key:"generateScreenSeedsAndValues",value:function(e){var t=this,n=new a.AGC.PRNG(this.lessonSeed),r=[],i={};return this.getScreenKeysInOrder(e.navigation).forEach((function(o){var s=e.screens[o];if(s){var u=n.next();r.push(u);var c=new a.AGC.Generator({seed:u});if(t.isAGCScreen(s)){var l=c.processString(s.agc_data);i[o]=l}}})),i}},{key:"getScreenKeysInOrder",value:function(e){var t=(0,a._)(e).map("screens").flatten().map("screen_id").value();return a._.remove(t,(function(e){return void 0===e})),t}},{key:"_applyLessonSeedFromCheats",value:function(){var e=(0,u.getCheats)();e.seedLesson&&e[c.AGC_CONSTS.LESSON_SEED]&&parseFloat(e[c.AGC_CONSTS.LESSON_SEED])>=0&&s.storageUtil.setItem(c.AGC_CONSTS.LESSON_SEED,e[c.AGC_CONSTS.LESSON_SEED].toString())}}]),e}());t.agcLessonUtil=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Task=void 0;var i=r(n(4)),o=r(n(5)),a=n(7),s=n(425),u={},c=function(){function e(t){(0,i.default)(this,e),this._id=t,e.taskMap[this.id]||(e.taskMap[this.id]=this),this._running=!1,this._aborted=!1,this._completed=!1,this._promise=null,this._runPromise=!1}return(0,o.default)(e,null,[{key:"resetTaskMap",value:function(){u={}}},{key:"taskMap",get:function(){return u}}]),(0,o.default)(e,[{key:"start",value:function(){var t=this;if(a.storeLogger.info("Starting task ".concat(this.id),e.taskMap[this.id]),!this._running){this._running=!0,this._promise=this._promise||t.run(),this._promise.then((function(){if(a.storeLogger.info("Completed task ".concat(t.id),e.taskMap[t.id]),t.clean(),t._aborted)throw new Error("abort")})).catch((function(n){t.clean(),t._aborted?a.storeLogger.info("Aborted task ".concat(t.id),e.taskMap[t.id]):a.storeLogger.error(n)}))}return this._promise}},{key:"abort",value:function(){this._aborted=!0}},{key:"clean",value:function(){delete e.taskMap[this.id],this._running=!1,this._promise=null,this._completed=!0}},{key:"done",value:function(e){this._done(e)}},{key:"error",value:function(){this._error&&this._error({aborted:!0})}},{key:"run",value:function(){var e=this;return this._runPromise=this._runPromise||new Promise((function(t,n){e._done=t,e._error=n})),this._runPromise}},{key:"id",get:function(){return this._id}},{key:"running",get:function(){return this._running}},{key:"paused",get:function(){var e=s.taskManager.isPaused();return e&&s.taskManager.enqueue(this),e}},{key:"promise",get:function(){return this._promise}}]),e}();t.Task=c},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AudioModule",{enumerable:!0,get:function(){return i.AudioModule}}),Object.defineProperty(t,"CanvasModule",{enumerable:!0,get:function(){return o.CanvasModule}}),Object.defineProperty(t,"DisplayAnimationModule",{enumerable:!0,get:function(){return a.DisplayAnimationModule}}),Object.defineProperty(t,"EaselQuery",{enumerable:!0,get:function(){return s.default}});var i=n(428),o=n(429),a=n(439),s=r(n(440))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.collisionUtil=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=n(0);function u(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var c=s.c2d.BOX_COLLIDER,l=s.c2d.CIRCLE_COLLIDER,f=s.c2d.ALPHA_COLLIDER,h={notCreated:!0},d=[c,l,f];var p=new(function(){function e(){(0,o.default)(this,e),h.notCreated&&(h[c.symbol]=s.c2d.createBoxCollider,h[l.symbol]=s.c2d.createCircleCollider,h[f.symbol]=s.c2d.createAlphaCollider,delete h.notCreated)}return(0,a.default)(e,[{key:"createColliderShape",value:function(e,t){if(!function(e){return-1!==d.indexOf(e)}(t))throw new Error("Invalid collider type: ".concat(t.symbol.toString(),". Supported Types are: collisionUtil.BOX_TYPE, collisionUtil.CIRCLE_TYPE, or collisionUtil.ALPHA_TYPE"));return(0,h[t.symbol])({displayObject:e})}},{key:"collided",value:function(e,t){var n=e.colliderShape,r=t.colliderShape;return n.update(),r.update(),s.c2d.collided(n,r)}},{key:"getClosestCollidable",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.customHitObject,i=r.getBounds(),o=r.x-r.regX+i.width/2,a=r.y-r.regY+i.height/2,u={x:o,y:a};n&&(r._debugLines=r._debugLines||[],this._removeDebugLines(r));var c=s._.minBy(t,(function(e,t){var i=e.customHitObject,o=i.getBounds(),a=i.x-i.regX+o.width/2,s=i.y-i.regY+o.height/2,c=i.parent.localToLocal(a,s,r.parent),l=Math.round(Math.abs(u.y-c.y)+Math.abs(u.x-c.x));if(n){var f=new createjs.Text("d: ".concat(l),"18px Arial","#FFFFFF");f.set({x:c.x,y:c.y});var h=new createjs.Container,d=new createjs.Graphics;d.ss(3).s("yellow").mt(u.x,u.y).lt(c.x,c.y).es();var p=new createjs.Shape(d);h.addChild(f,p),r.parent.addChild(h),r._debugLines[t]=h}return l}));return c}},{key:"_removeDebugLines",value:function(e){var t;(t=e.parent).removeChild.apply(t,u(i.default,e._debugLines))}},{key:"BOX_TYPE",get:function(){return c}},{key:"CIRCLE_TYPE",get:function(){return l}},{key:"ALPHA_TYPE",get:function(){return f}}]),e}());t.collisionUtil=p},function(e,t,n){var r=n(220);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(132),i=n(56);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t,n){var r=n(56),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[i++]=n)}return o}},function(e,t,n){var r=n(93),i=n(76);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(477),i=n(76),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(243),i=n(486),o=n(85);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(491),i=n(492),o=n(493),a=n(494),s=n(495);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(113);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(84)(Object,"create");e.exports=r},function(e,t,n){var r=n(509);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(41),i=n(179),o=n(532),a=n(535);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"appStartSuccess",(function(){return g})),n.d(t,"setOnIdle",(function(){return v})),n.d(t,"audioDecoder",(function(){return m})),n.d(t,"initApplication",(function(){return y})),n.d(t,"idleApplication",(function(){return _})),n.d(t,"resumeApplication",(function(){return b})),n.d(t,"createApplicationReady",(function(){return A})),n.d(t,"startApplication",(function(){return w})),n.d(t,"setAppReady",(function(){return E})),n.d(t,"loadUserDetails",(function(){return x})),n.d(t,"toggleCheats",(function(){return T}));var r=n(54),i=n(51),o=n(16),a=n(26),s=n(1),u=n(30),c=n(18),l=n(61),f=n(9),h=n(45),d=n(89),p=n(7);const g=()=>({type:s.APP_START_SUCCESS}),v=e=>({type:s.APP_IDLED,payload:e}),m=e=>({type:s.APP_AUDIO_DECODER,payload:e}),y=()=>e=>{a.preloadUtil.updateAndEase({pct:a.PROGRESS.INIT_APPLICATION,msg:"app initialized"}),e({type:s.APP_INITIALIZED})},_=()=>(e,t)=>{Object(f.isPaused)(t())||(e(v(!0)),e(Object(c.pause)()),h.animationUtil.pauseUpdates())},b=()=>(e,t)=>{Object(d.isAppIdled)(t())&&(e(Object(c.unpause)()),h.animationUtil.resumeUpdates(),e(v(!1)))},A=()=>({type:s.APP_READY}),w=()=>e=>i.webApiUtil.startLesson().then(()=>{a.preloadUtil.updateAndEase({pct:a.PROGRESS.APPLICATION_STARTED,msg:"starting application"}),e(g()),e(Object(c.handleAppStarted)())},e=>{p.utilLogger.error("Lesson start failed",e)}),E=()=>(e,t)=>{e(A()),e(Object(l.changeScreen)(Object(f.getCurrentStep)(t())))},x=()=>(e,t)=>(e({type:s.USER_DETAILS_LOAD_REQUEST}),r.platformConnectionProvider.connection.student.fetch().then(n=>{const r=n,{chronGrade:i,chronGradeValue:c}=Object(u.getCheatValue)(t());!o.environmentUtil.isIntegratedEnvironment()&&i&&(r.grade=c),e({type:s.USER_DETAILS_LOAD_SUCCESS,payload:r}),a.preloadUtil.updateAndEase({pct:a.PROGRESS.LOADED_USER_DETAILS,msg:"fetched user details"})},t=>{e({type:s.USER_DETAILS_LOAD_FAILURE,payload:t})})),T=()=>({type:s.APP_TOGGLE_CHEATS})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Effect=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"reset",value:function(){return!0}}]),e}();t.Effect=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetBehavior=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(t){(0,i.default)(this,e),this.widget=t,t._behaviors||(this.widget._behaviors={})}return(0,o.default)(e,[{key:"setHooks",value:function(e){throw new Error("Subclass must implement this method")}},{key:"onBehaviorAddedTo",value:function(e){throw new Error("Subclass must implement this method")}},{key:"onBehaviorRemovedFrom",value:function(e){throw new Error("Subclass must implement this method")}}]),e}();t.WidgetBehavior=a},function(e,t,n){"use strict";n.r(t);var r=n(42),i=n(21),o=n(3),a=n.n(o),s=(n(27),"data-autofocus-inside");function u(e,t){return n=t,r=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},(i=Object(o.useState)((function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0]).callback=r,i.facade;var n,r,i}var c={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},l=function(e){var t=e.children;return o.createElement(o.Fragment,null,o.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:c}),t,t&&o.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:c}))};l.propTypes={},l.defaultProps={children:null};var f=l;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function d(e){return e}function p(e,t){void 0===t&&(t=d);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function g(e,t){return void 0===t&&(t=d),p(e,t)}var v=g({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),m=g(),y=g(),_=function(e){void 0===e&&(e={});var t=p(null);return t.options=h({async:!0,ssr:!1},e),t}({async:!0}),b=[],A=o.forwardRef((function(e,t){var n,r=o.useState(),a=r[0],s=r[1],l=o.useRef(),f=o.useRef(!1),h=o.useRef(null),d=e.children,p=e.disabled,g=e.noFocusGuards,y=e.persistentFocus,A=e.crossFrame,w=e.autoFocus,E=(e.allowTextSelection,e.group),x=e.className,T=e.whiteList,S=e.shards,O=void 0===S?b:S,C=e.as,k=void 0===C?"div":C,P=e.lockProps,N=void 0===P?{}:P,I=e.sideCar,R=e.returnFocus,L=e.onActivation,D=e.onDeactivation,M=o.useState({})[0],j=o.useCallback((function(){h.current=h.current||document&&document.activeElement,l.current&&L&&L(l.current),f.current=!0}),[L]),B=o.useCallback((function(){f.current=!1,D&&D(l.current)}),[D]),F=o.useCallback((function(e){var t=h.current;if(Boolean(R)&&t&&t.focus){var n="object"==typeof R?R:void 0;h.current=null,e?Promise.resolve().then((function(){return t.focus(n)})):t.focus(n)}}),[R]),U=o.useCallback((function(e){f.current&&v.useMedium(e)}),[]),H=m.useMedium,G=o.useCallback((function(e){l.current!==e&&(l.current=e,s(e))}),[]);var Q=Object(i.a)(((n={})["data-focus-lock-disabled"]=p&&"disabled",n["data-focus-lock"]=E,n),N),z=!0!==g,V=z&&"tail"!==g,W=u([t,G]);return o.createElement(o.Fragment,null,z&&[o.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:c}),o.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:c})],!p&&o.createElement(I,{id:M,sideCar:_,observed:a,disabled:p,persistentFocus:y,crossFrame:A,autoFocus:w,whiteList:T,shards:O,onActivation:j,onDeactivation:B,returnFocus:F}),o.createElement(k,Object(i.a)({ref:W},Q,{className:x,onBlur:H,onFocus:U}),d),V&&o.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:c}))}));A.propTypes={},A.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var w=A,E=n(47),x=n(100);var T=function(e,t){return function(n){var r,i=[];function s(){r=e(i.map((function(e){return e.props}))),t(r)}var u=function(e){function t(){return e.apply(this,arguments)||this}Object(E.a)(t,e),t.peek=function(){return r};var o=t.prototype;return o.componentDidMount=function(){i.push(this),s()},o.componentDidUpdate=function(){s()},o.componentWillUnmount=function(){var e=i.indexOf(this);i.splice(e,1),s()},o.render=function(){return a.a.createElement(n,this.props)},t}(o.PureComponent);return Object(x.a)(u,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),u}},S=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},O=function(e){return Array.isArray(e)?e:[e]},C=function(e){return e.parentNode?C(e.parentNode):e},k=function(e){return O(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute("data-focus-lock");return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(S(C(t).querySelectorAll('[data-focus-lock="'+n+'"]:not([data-focus-lock-disabled="disabled"])'))):[t]),e}),[])},P=function(e){return Boolean(S(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))},N=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&k(e).reduce((function(e,n){return e||n.contains(t)||P(n)}),!1)},I=function(e){return"INPUT"===e.tagName&&"radio"===e.type},R=function(e,t){return I(e)&&e.name?function(e,t){return t.filter(I).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},L=function(e){return e[0]&&e.length>1?R(e[0],e):e[0]},D=function(e,t){return e.length>1?e.indexOf(R(e[t],e)):t},M=function(e,t){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},j=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=M(t,j.bind(void 0,e));return e.set(t,r),r},B=function(e){return Boolean(e&&e.dataset&&e.dataset.focusGuard)},F=function(e){return!B(e)},U=function(e){return Boolean(e)},H=function(e,t,n,r){var i=e.length,o=e[0],a=e[i-1],s=B(n);if(!(e.indexOf(n)>=0)){var u,c,l=t.indexOf(n),f=r?t.indexOf(r):l,h=r?e.indexOf(r):-1,d=l-f,p=t.indexOf(o),g=t.indexOf(a),v=(u=t,c=new Set,u.forEach((function(e){return c.add(R(e,u))})),u.filter((function(e){return c.has(e)}))),m=v.indexOf(n)-(r?v.indexOf(r):l),y=D(e,0),_=D(e,i-1);return-1===l||-1===h?"NEW_FOCUS":!d&&h>=0?h:l<=p&&s&&Math.abs(d)>1?_:l>=g&&s&&Math.abs(d)>1?y:d&&Math.abs(m)>1?h:l<=p?_:l>g?y:d?Math.abs(d)>1?h:(i+h+d)%i:void 0}},G=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Q=function(e,t,n){return S(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(G)},z=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),V=z+", [data-focus-guard]",W=function(e,t){return e.reduce((function(e,n){return e.concat(S(n.querySelectorAll(t?V:z)),n.parentNode?S(n.parentNode.querySelectorAll(z)).filter((function(e){return e===n})):[])}),[])},q=function(e,t){return S(e).filter((function(e){return j(t,e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},X=function(e,t,n){return Q(q(W(e,n),t),!0,n)},Y=function(e,t){return Q(q(W(e),t),!1)},K=function(e,t){return q(function(e){var t=e.querySelectorAll("["+s+"]");return S(t).map((function(e){return W([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},$=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&$(e.parentNode,t),t},J=function(e,t){for(var n=$(e),r=$(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},Z=function(e,t,n){var r=O(e),i=O(t),o=r[0],a=!1;return i.filter(Boolean).forEach((function(e){a=J(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=J(o,e);t&&(a=!a||t.contains(a)?t:J(t,a))}))})),a},ee=function(e,t){var n=document&&document.activeElement,r=k(e).filter(F),i=Z(n||e,e,r),o=new Map,a=Y(r,o),s=X(r,o).filter((function(e){var t=e.node;return F(t)}));if(s[0]||(s=a)[0]){var u,c,l,f,h=Y([i],o).map((function(e){return e.node})),d=(u=h,c=s,l=new Map,c.forEach((function(e){return l.set(e.node,e)})),u.map((function(e){return l.get(e)})).filter(U)),p=d.map((function(e){return e.node})),g=H(p,h,n,t);if("NEW_FOCUS"===g){var v=a.map((function(e){return e.node})).filter((f=function(e,t){return e.reduce((function(e,n){return e.concat(K(n,t))}),[])}(r,o),function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||f.indexOf(e)>=0}));return{node:v&&v.length?L(v):L(p)}}return void 0===g?g:d[g]}},te=0,ne=!1,re=function(e,t){var n,r=ee(e,t);if(!ne&&r){if(te>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),ne=!0,void setTimeout((function(){ne=!1}),1);te++,(n=r.node).focus(),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus(),te--}};function ie(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var oe=function(e,t){var n={};return n[e]=t,n},ae=function(){return document&&document.activeElement===document.body||document&&S(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},se=null,ue=null,ce=null,le=!1,fe=function(){return!0};function he(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==e)return;i=null}}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var de=function(e){return e&&"current"in e?e.current:e},pe=function(){var e,t,n,r,i,o,a,s=!1;if(se){var u=se,c=u.observed,l=u.persistentFocus,f=u.autoFocus,h=u.shards,d=u.crossFrame,p=c||ce&&ce.portaledElement,g=document&&document.activeElement;if(p){var v=[p].concat(h.map(de).filter(Boolean));if(g&&!function(e){return(se.whiteList||fe)(e)}(g)||(l||(d?Boolean(le):"meanwhile"===le)||!ae()||!ue&&f)&&(!p||N(v)||(a=g,ce&&ce.portaledElement===a)||(document&&!ue&&g&&!f?(g.blur&&g.blur(),document.body.focus()):(s=re(v,ue),ce={})),le=!1,ue=document&&document.activeElement),document){var m=document&&document.activeElement,y=(t=k(e=v).filter(F),n=Z(e,e,t),r=new Map,i=X([n],r,!0),o=X(t,r).filter((function(e){var t=e.node;return F(t)})).map((function(e){return e.node})),i.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:B(t)}}))),_=y.map((function(e){return e.node})).indexOf(m);_>-1&&(y.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),he(_,y.length,1,y),he(_,-1,-1,y))}}}return s},ge=function(e){pe()&&e&&(e.stopPropagation(),e.preventDefault())},ve=function(){return ie(pe)},me=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(ce={observerNode:n,portaledElement:t})},ye=function(){le="just",setTimeout((function(){le="meanwhile"}),0)};v.assignSyncMedium(me),m.assignMedium(ve),y.assignMedium((function(e){return e({moveFocusInside:re,focusInside:N})}));var _e=T((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!se&&(document.addEventListener("focusin",ge,!0),document.addEventListener("focusout",ve),window.addEventListener("blur",ye));var n=se,r=n&&t&&t.id===n.id;se=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(ue=null,r&&n.observed===t.observed||t.onActivation(),pe(),ie(pe)):(document.removeEventListener("focusin",ge,!0),document.removeEventListener("focusout",ve),window.removeEventListener("blur",ye),ue=null)}))((function(){return null})),be=o.forwardRef((function(e,t){return o.createElement(w,Object(i.a)({sideCar:_e,ref:t},e))})),Ae=w.propTypes||{};Ae.sideCar,Object(r.a)(Ae,["sideCar"]);be.propTypes={};var we=be,Ee=function(e){var t=e.disabled,n=e.children,r=e.className;return o.createElement("div",Object(i.a)({},oe(s,!t),{className:r}),n)};Ee.propTypes={},Ee.defaultProps={disabled:!1,className:void 0};var xe=Ee,Te=function(e){o.useEffect((function(){var t=!0;return y.useMedium((function(n){var r=e&&e.current;t&&r&&(n.focusInside(r)||n.moveFocusInside(r,null))})),function(){t=!1}}),[e])};function Se(e){var t=e.disabled,n=e.className,r=e.children,a=o.useRef(null);return Te(t?void 0:a),o.createElement("div",Object(i.a)({},oe(s,!t),{ref:a,className:n}),r)}Se.propTypes={},Se.defaultProps={disabled:!1,className:void 0};var Oe=Se,Ce=function(e){var t=e.children,n=e.className;return o.createElement("div",Object(i.a)({},oe("data-no-focus-lock",!0),{className:n}),t)};Ce.propTypes={},Ce.defaultProps={className:void 0};var ke=Ce;n.d(t,"AutoFocusInside",(function(){return xe})),n.d(t,"MoveFocusInside",(function(){return Oe})),n.d(t,"FreeFocusInside",(function(){return ke})),n.d(t,"InFocusGuard",(function(){return f})),n.d(t,"FocusLockUI",(function(){return w})),n.d(t,"useFocusInside",(function(){return Te}));t.default=we},function(e,t,n){"use strict";n.r(t),n.d(t,"getAutomationState",(function(){return s}));var r=n(25),i=n(0),o=n(17),a=n(1);const s=e=>i._.get(e,o.AUTOMATION_STATE_ROOT);t.default=Object(r.a)((e,t)=>{switch(t.type){case a.AUTOMATION_INITIAL_LESSON_STATE:e.initialLessonState=t.payload;break;case a.AUTOMATION_TOGGLE_ALERT:e.alertEnabled=!e.alertEnabled;break;case a.AUTOMATION_SAVE_LESSON_SCORE:e.lessonScore=t.payload}},{initialLessonState:{},alertEnabled:!0,lessonScore:null})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.screenUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(92),u=n(126),c=n(213),l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"randomize",value:function(e,t,n){this.update({method:"randomize",pointer:t},e,n)}},{key:"update",value:function(e,t,n){switch(e.method){case"merge":var r=e.path.split("#"),i=r.pop(),o=r.pop();if(o&&"screen.json"!==o)"state.json"===o&&a._.forEach(JSON.search(n,i),(function(t){var n=e.value;a._.isString(n)&&(n=a._.template(n)(t)),Object.assign(t,n)}));else{var u=JSON.search(t,a._.last(e.path.split("#")));a._.forEach(u,(function(t){var r=t.id,i=a._.cloneDeep(e.value);a._.forEach(i,(function(e,n){a._.isString(e)&&(i[n]=a._.template(e)(t))})),Object.assign(n.assets[r],i)}))}break;case"randomize":var l=a._.last(e.pointer.split("#")),f=s.jsonUtil.find(t,l);n.randomized[l]||(n.randomized[l]=a._.map((0,c.shuffle)(f),"id"));var h=n.randomized[l];s.jsonUtil.replace(t,l,a._.sortBy(f,(function(e){return h.indexOf(e.id)})));break;default:throw new Error("Unknown method: ".concat(e.method))}}},{key:"onLoadContent",value:function(e){var t=e.screens;return u.agcLessonUtil.isAGCLesson(e)&&u.agcLessonUtil.saveLessonSeed(),a._.forEach(t,(function(e){e.style.properties=a._.merge({feedback:{method:"item",attempts:2,deselect:!1},disableState:!1,saveIntermediateState:!1},e.style.properties)})),s.jsonUtil.identify(a._.map(t,"style"),'//*[type="audio" or type="image"]'),{screens:t,version:e.author_info.lesson_revision}}}]),e}());t.screenUtil=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.performanceUtil=t.MEMORY_ID=void 0;var i=r(n(4)),o=r(n(5)),a=n(0);n(7);t.MEMORY_ID="memoryDisplay";var s=new(function(){function e(){var t=this;(0,i.default)(this,e),this.removeMemoryTable=function(){var e=document.getElementById("memoryDisplay");e&&(e.innerHTML="",e.remove(),e=null)},this.displayMemory=function(){try{if(null===t.firstScreen||null===t.previousScreen||null===t.currentScreen)return;t.removeMemoryTable();var e,n,r,i=document.createElement("table");i.setAttribute("id","memoryDisplay"),i.setAttribute("style","top: 80px; background: rgb(34, 34, 34);\n      min-width: 250px; height: 135px; padding: 5px; z-index: 10; position: absolute;\n      line-height: 30px; text-shadow: rgb(34, 34, 34) 1px 1px 0px;\n      border: 1px solid white; left: 5px; right: auto; bottom: auto; margin: 0px;\n      cursor: pointer; display: block; border-collapse: collapse;\n      color: white; font-family: Consolas, monospace;"),e=t.startMemory<999?"".concat(t.startMemory," MB"):"".concat(parseFloat((t.startMemory/1024).toFixed(2))," GB"),n=t.screenMemory[t.previousScreen]<999?"".concat(t.screenMemory[t.previousScreen]," MB"):"".concat(parseFloat((t.screenMemory[t.previousScreen]/1024).toFixed(2))," GB"),r=t.screenMemory[t.currentScreen]<999?"".concat(t.screenMemory[t.currentScreen]," MB"):"".concat(parseFloat((t.screenMemory[t.currentScreen]/1024).toFixed(2))," GB");var o="border: 1px solid white; width: 170px; font-size: 11px",a="border: 1px solid white; width: 80px; font-size: 11px";i.innerHTML='<thead>\n          <th style="border: 1px solid white; width: 170px; font-size: 14px">Screen</th>\n          <th style="border: 1px solid white; width: 80px; font-size: 14px">Memory</th>\n      </thead>\n      <tbody>\n          <tr>\n              <td style="'.concat(o,'">&nbsp;Start: ').concat(t.firstScreen,'</td>\n              <td style="').concat(a,'">&nbsp;').concat(e,'</td>\n          </tr>\n          <tr>\n              <td style="').concat(o,'">&nbsp;Prev: &nbsp;').concat(t.previousScreen,'</td>\n              <td style="').concat(a,'">&nbsp;').concat(n,'</td>\n          </tr>\n          <tr>\n              <td style="').concat(o,'">&nbsp;Now: &nbsp;&nbsp;').concat(t.currentScreen,'</td>\n              <td style="').concat(a,'">&nbsp;').concat(r,"</td>\n          </tr>\n      </tbody>"),i.onclick=t.removeMemoryTable,document.body.appendChild(i)}catch(e){}},this.reset()}return(0,o.default)(e,[{key:"reset",value:function(){this.screenMemory={},this.startMemory=0,this.firstScreen=null,this.previousScreen=null,this.currentScreen=null}},{key:"setPreviousScreen",value:function(e){this.previousScreen=e}},{key:"setCurrentScreen",value:function(e){this.currentScreen=e}},{key:"setFirstScreen",value:function(e){this.firstScreen=e}},{key:"initialize",value:function(e){var t=this;a._.forEach(e,(function(e){t.screenMemory[e.id]=0}))}},{key:"setStartMemory",value:function(){this.startMemory=this.getMemoryInMb()}},{key:"setMemoryForScreenId",value:function(e){void 0!==this.screenMemory[e]&&(this.screenMemory[e]=this.getMemoryInMb())}},{key:"getMemoryInMb",value:function(){try{return parseFloat((this.memoryInfo.usedJSHeapSize/1048576).toFixed(2))}catch(e){return 0}}},{key:"memoryInfo",get:function(){return a.is.chrome()?window.performance.memory:null}}]),e}());t.performanceUtil=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);const i=()=>({type:r.LESSON_COMPLETE})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.expressionEngine=void 0;var i=r(n(4)),o=r(n(5)),a=n(157),s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"createInstance",value:function(e){var t=e.stepsMap,n=e.state,r=e.screens,i=e.results;(0,a.assertAll)({stepsMap:t,state:n,screens:r,results:i}),this._instance=new a.ExpressionEngine({stepsMap:t,state:n,screens:r,results:i})}},{key:"instance",get:function(){return this._instance}}]),e}());t.expressionEngine=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.dataShareEngine=void 0;var i=r(n(4)),o=r(n(5)),a=n(157),s=n(565),u=new(function(){function e(){(0,i.default)(this,e),this._instance=void 0}return(0,o.default)(e,[{key:"createInstance",value:function(e){var t=e.stepsMap,n=e.state,r=e.screens,i=e.results,o=e.additionalRuntime;(0,a.assertAll)({stepsMap:t,state:n,screens:r,results:i}),this._instance=new s.DsExpressionEngine({stepsMap:t,state:n,screens:r,results:i,additionalRuntime:o})}},{key:"instance",get:function(){return this._instance}}]),e}());t.dataShareEngine=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAndPrepareLessonContent=t.lessonContentUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(210),c=n(82),l=n(92),f=n(74),h=n(51),d=n(6),p=n(7),g=n(22),v=n(596),m=(n(598),n(75)),y=n(26),_=n(44),b=n(16),A=n(54),w=n(64),E=n(46);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=new(function(){function e(){(0,o.default)(this,e),this._liteUtil={storage:{getItem:E.storageUtil.getItem,setItem:E.storageUtil.setItem}}}return(0,a.default)(e,[{key:"lessonTransform",value:function(e){var t=s._.get(u.MAPPING,"lesson.transform",null),n=e;return t&&(n=t(s._.cloneDeep(e),this._liteUtil),n=l.jsonUtil.isValid(n)?n:e),n}},{key:"getStyleIdFromRef",value:function(e){return e.replace("/style.json","").split("/").pop()}},{key:"transform",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=s._.keys(e);s._.forEach(t,(function(t){s._.forEach(t.screens,(function(n){var r=n.screen_id,i=e[r];s._.set(i,"properties.section",t.name),s._.set(i,"properties.scored",w.navSectionUtil.isQuiz(t.name))}))})),s._.forEach(o,(function(o){var a=e[o];a.id=o;var c=a.style.id;a.style=s._.merge(a.style,s._.get(g.assetUtil.config,a.style.id)),v.closedCaptionsUtil.injectVTTSuppressions(a);var l=u.MAPPING[c]?u.MAPPING[c].transform:null;if(l){var f=s._.map(a.children,(function(t){return e[t]}));a.children=f;var h={};try{h=l(a,t,n,r)}catch(e){throw i||alert('[Invalid JSON]:\n            Failed to transform "'.concat(a.title,'"\n            Screen ID: ').concat(a.id,"\n            Style: ").concat(c,'\n            Message: "').concat(e.message,'"\n\n            Inspect console for further details')),console.error("[Invalid JSON]: ".concat(e.stack)),e}delete e[o],s._.has(h,"id")?e[h.id]=h:(s._.assign(e,h),s._.forEach(t,(function(e){var t=s._.findIndex(e.screens,(function(e){return e.screen_id===o}));if(~t){var n=s._.map(h,(function(e){return{screen_id:e.id}}));Array.prototype.splice.apply(e.screens,[t,1].concat(n))}})))}}))}},{key:"transformAndPrepareLessonContent",value:function(e){e.info=s._.mapKeys(e.info,(function(e,t){return s._.camelCase(t)}));var t=e.info,n=e.lessonId,r=e.screens,i=e.navigation,o=e.shared,a=e.shared_screen_content,u=e.author_info,c=e.authoringUrl,l=void 0===c?"":c,f=e.export_info,h=e.fingerprints;return u.exportURL=l,u.url=l.replace("export","admin/editcontent"),u.export_info=f,A.platformConnectionProvider.credits=t.credits,this.populateScreenPropertiesFromLessonInfo(t,r),this.transform(r,i,o,a,b.environmentUtil.isIntegratedEnvironment()),{authoring:u,info:t,shared:o,sharedScreenContent:a,loadedLessonId:n,fingerprints:h}}},{key:"getLessonInfo",value:function(e){var t,n=e.lessonId,r=e.demoId,i=e.localFileName,o=e.lessonURL;return n?t=d.LESSON_MODES.LESSON:o?t=d.LESSON_MODES.PREVIEW:r?t=d.LESSON_MODES.DEMO:i&&(t=d.LESSON_MODES.LOCAL),{id:n||r||i||decodeURIComponent(o),mode:t}}},{key:"fetchLesson",value:function(e,t){var n,r=e.id;switch(e.mode){case d.LESSON_MODES.LESSON:n=h.webApiUtil.fetchLessonContent;break;case d.LESSON_MODES.PREVIEW:n=h.webApiUtil.fetchLessonPreview;break;case d.LESSON_MODES.DEMO:n=h.webApiUtil.fetchDemoLesson;break;case d.LESSON_MODES.LOCAL:n=h.webApiUtil.fetchLocalLesson;break;default:p.errorLogger.warn("Unknown lesson type with id ".concat(r))}return n&&n.call(this,r,t)}},{key:"fetchLessonExtra",value:function(e,t){var n=e.id;return h.webApiUtil.fetchLessonExtraContent(n,t)}},{key:"isRealLesson",value:function(e){return s._.get(e,"mode")===d.LESSON_MODES.LESSON}},{key:"populateScreenPropertiesFromLessonInfo",value:function(e,t){var n=e.grade,r=e.domain,i=e.domainType,o=e.language;o=o||f.LANGUAGES.EN,s._.forEach(t,(function(e){return s._.extend(e.properties,{grade:n,domain:r,domainType:i,language:o})}))}},{key:"createVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show_opener";if(!e)return null;var n="${content}/".concat(e),r=(0,c.createId)(),i={properties:{type:"Outro"},structure:{video:{src:n,id:(0,c.createId)(),type:"video"}},id:r,style:{_external:"/styles/".concat(t,"/style.json")}};return{screen_id:r,entry:i}}}]),e}());t.lessonContentUtil=S;t.fetchAndPrepareLessonContent=function(e){var t=e.lessonInfo,n=e.cheatInfo,r=e.fingerprints,i=(e.isTeacherMode,Object.assign({},r)),o=null,a=S.isRealLesson(t),u=n.grade,c=n.schoolYearLevel,l=S.fetchLesson(t,i.lesson);a&&(l=l&&l.then((function(e){var n=S.fetchLessonExtra(t,i.extra),r=e.asset;return i.lesson=e.fingerprint||"",n.then((function(e){var t=e.asset,n=t.credits,o=t.teacherModeScreens,a=r.info;return i.extra=e.fingerprint||"",s._.merge(a,{credits:n,teacherModeScreens:o}),b.environmentUtil.isIntegratedEnvironment()||s._.merge(a,{grade:s._.get(u,"value")||a.grade,school_year_level:s._.get(c,"value")||a.school_year_level}),T(T({},r),{},{info:a})}))})));var d=l&&l.then((function(e){o=e,f.i18nUtil.init(o.info.language);var t=S.createVideo(g.assetUtil.config.showOpener);if(t){var n=t.screen_id,r=t.entry;o.screens[n]=r,o.navigation[0].screens.unshift({screen_id:n})}var a=JSON.toXML(e,!0),u=JSON.search(a,"//_external/.."),c=JSON.search(a,'//*[type="contentlink" and mode="reference"]');return o.shared={},o.sharedScreenContent=e.shared_screen_content,Promise.all(u.map((function(e){var t=e._external,n=S.getStyleIdFromRef(e._external);return s._.isUndefined(g.assetUtil.config[n])?h.webApiUtil.fetchContentRef(t).catch((function(e){p.storeLogger.error(e)})):Promise.resolve(T({ref:t,id:n},g.assetUtil.config[n]))}))).then((function(e){return o.refs=s._.keyBy(e,"ref"),u.forEach((function(e){var t=e._external||e.ref;delete e._external;var n=S.getStyleIdFromRef(t);g.assetUtil.config[n]=s._.merge(e,o.refs[t],{source:t})})),c.forEach((function(e){var t=e.link;s._.unset(e,s._.keys(e)),s._.merge(e,JSON.search(a,'//*[id="'.concat(t,'"]'))[0])})),(o=S.lessonTransform(o)).fingerprints=i,o}))})).catch((function(e){throw new Error(e)}));return y.preloadUtil.updateAndEase({pct:y.PROGRESS.LOADED_LESSON_CONTENT,msg:"lesson content has loaded"}),d?d.then((function(){return(0,m.extendConfigBasedOnLessonContent)(g.assetUtil.config,o)})).then((function(){return g.assetUtil.determineSharedAssets(g.assetUtil.config,o)})).then((function(){return g.assetUtil.loadGlobalAssets()})).then((function(){return y.preloadUtil.updateAndEase({pct:y.PROGRESS.SHARED_AND_GLOBAL_ASSETS,msg:"determined shared and global assets"})})).then((function(){return _.automationUtil.initPublicApi()})).then((function(){return o})).catch((function(e){p.storeLogger.error(e.message)})):Promise.resolve().then(p.storeLogger.error("Lesson does not have a lesson Id"))}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(339);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCompositePromise=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(t){var n=this;(0,i.default)(this,e),this._executor=t,this._p=new Promise((function(e,t){n._resolve=e,n._reject=t}))}return(0,o.default)(e,[{key:"_execute",value:function(){return new Promise(this._executor).then(this._resolve).catch(this._reject)}},{key:"then",value:function(){return this._p.then.apply(this._p,arguments)}},{key:"catch",value:function(){return this._p.catch.apply(this._p,arguments)}}]),e}();t.BaseCompositePromise=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.assertAll=c,t.ExpressionEngine=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(416),u=n(417);function c(e){var t={stepsMap:e.stepsMap,state:e.state,screens:e.screens,results:e.results},n=[];if(a._.forEach(t,(function(e,t){a._.isNil(e)&&n.push(t)})),n.length)throw new Error("stepsMap, state, screens, results must all be supplied if any one is supplied\nMissing: ".concat(n.join(", ")))}var l=function(){function e(t){var n=this,r=t.rngSeed,o=t.functions,s=void 0===o?{}:o,l=t.constants,f=t.stepsMap,h=t.state,d=t.results,p=t.screens,g=t.additionalRuntime;(0,i.default)(this,e),this._coreEngine=new a.CoreExpressionEngine({rngSeed:r,functions:s,constants:l}),function(e){var t=e.stepsMap,n=e.state,r=e.screens,i=e.results;return!a._.isEmpty(a._.compact([t,n,r,i]))&&(c({stepsMap:t,state:n,screens:r,results:i}),!0)}({stepsMap:f,state:h,screens:p,results:d})&&(this._selectorRuntime=Object.assign({},g,this._coreEngine._functionRuntime,{evaluate:this._evaluateWithoutSelectorReset.bind(this),iterator:new u.NavIterator({navStepsMap:f,state:h,screens:p,results:d})}),a._.forEach(this._getSelectors(),(function(e,t){var r=n._prepSelector(e,t);n._addFunction(t,r,n._selectorRuntime)})))}return(0,o.default)(e,[{key:"_addFunction",value:function(e,t,n){this._coreEngine._addFunction(e,t,n)}},{key:"evaluate",value:function(e){var t=e.expressions,n=e.constants,r=e.iterateFromStep;return this._selectorRuntime&&this._selectorRuntime.iterator.reset(r),this._evaluateWithoutSelectorReset({expressions:t,constants:n})}},{key:"_evaluateWithoutSelectorReset",value:function(e){var t=e.expressions,n=e.constants,r=this._coreEngine.evaluate({expressions:t,constants:n});return this._assertResult(r),r}},{key:"_assertResult",value:function(e){if(void 0===e.value)throw new Error("Expression didn't return a value. Make sure the return line (typically the last line) doesn't inadvertently assign to a variable.")}},{key:"_getSelectors",value:function(){return s.selectors}},{key:"_prepSelector",value:function(e,t){var n=this;return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n._assertSelectorParams(e,t,o),r.iterator.reset();var s=e.func.apply(e,[r].concat(o));return void 0===s?null:s}}},{key:"_assertSelectorParams",value:function(e,t,n){var r=e.hasParam,i=r?1:0;if(n.length!==i){var o="".concat(t,"(").concat(r?"param":"",")");throw new Error("Expected selector to be called with ".concat(i," argument(s). Received ").concat(n.length," argument(s).")+"\nSelector signature: ".concat(o,"\nSee Author Guide for details."))}}}]),e}();t.ExpressionEngine=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.sizingUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(58),u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"getScaleForDesiredDimensions",value:function(e,t){return t/e}},{key:"getNominalBounds",value:function(e){return Object.getPrototypeOf(e).nominalBounds}},{key:"setBoundsToNominal",value:function(e){var t=this.getNominalBounds(e);e.setBounds(t.x,t.y,t.width,t.height)}},{key:"autoResizeBitmap",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"contain",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"singleAxis",o=e.getBounds();if(!o)throw new Error("Null bitmap bounds!");var s=o.width/o.height,u=t/n,c=t/o.width,l=n/o.height,f=1,h={};switch("contain"===r?s>=u?(f=c,h.y=(n-o.height*f)/2):(f=l,h.x=(t-o.width*f)/2):"cover"===r&&(s>=u?(f=l,h.x=(t-o.width*f)/2):(f=c,h.y=(n-o.height*f)/2)),e.scaleX=f,e.scaleY=f,i){case"singleAxis":a._.isUndefined(h.x)?e.y=h.y:e.x=h.x;break;case"offset":e.x+=h.x||0,e.y+=h.y||0;break;default:throw new Error("Unknown centeringMode")}return h}},{key:"findLargestItemByBoundsArea",value:function(e){return a._.maxBy(e,(function(e){var t=s.layoutUtil.getBounds(e);return t.width*t.height}))}},{key:"trueSizeOf",value:function(e){var t=e.getBounds(),n=e.getConcatenatedMatrix(),r=n.a,i=n.d;return{width:t.width*r,height:t.height*i}}},{key:"calculateMaximumBounds",value:function(e){var t=this,n={maxWidth:0,maxHeight:0,objectsBounds:[]},r=0,i=0,o=n.objectsBounds;return e.forEach((function(e){var n=t.trueSizeOf(e);o.push(n),n.width>r&&(r=n.width),n.height>i&&(i=n.height)})),n.maxWidth=r,n.maxHeight=i,n}}]),e}());t.sizingUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.assetLoader=void 0;var i=r(n(37)),o=r(n(4)),a=r(n(5)),s=n(22),u=n(0),c=n(7),l=n(215),f=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"load",value:function(e){var t=this,n=e.screen,r=e.style,o=e.onComplete,a=e.additionalAudio,c=void 0===a?[]:a,l=e.additionalImages,f=void 0===l?[]:l,h=JSON.toXML(n,!0),d=JSON.toXML(r,!0);this._appendAudioIdQueryString(c);var p=this._buildAssetList(h,d,c),g=this._buildManifest(p,f);u._.isEmpty(g.assets)?o({assetManifest:{},images:{},videos:{}}):s.assetUtil.loadManifest(g,n.id).then((function(e){var r=(0,i.default)(e,1)[0];return t._onManifestLoaded({assetManifest:r,assetList:p,context:n.id,onComplete:o})}))}},{key:"_searchSnapshot",value:function(e,t){return JSON.search(e,t)}},{key:"_buildAssetList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={};r.screenImages=this._searchSnapshot(e,'//*[type="image"]'),r.styleImages=this._searchSnapshot(t,'//*[type="image"]'),r.screenVideos=this._searchSnapshot(e,'//*[type="video"]'),r.styleVideos=this._searchSnapshot(t,'//*[type="video"]'),r.screenAnimation=this._searchSnapshot(e,'//*[type="animation"]'),r.styleAnimation=this._searchSnapshot(t,'//*[type="animation"]'),r.screenAnimAssets=this._searchSnapshot(e,'//*[type="animasset"]'),r.styleAnimAssets=this._searchSnapshot(t,'//*[type="animasset"]'),r.screenAnimation.length+r.styleAnimation.length>1&&(c.utilLogger.error("[AssetLoader.load] loading more than 1 animation per screen and style is not supported; screen: ".concat(e.id,", style: ").concat(t.id)),r.screenAnimation=[],r.styleAnimation=[]);var i=this._searchSnapshot(e,'//*[type="audio"]');this._appendAudioIdQueryString(i);var o=this._searchSnapshot(t,'//*[type="audio"]');return r.audio=(0,u._)(u._.union(i,o,n)).map((function(e){return e.parts})).flatten().map((function(e){return u._.extend({type:"audio"},e)})).value(),r}},{key:"_appendAudioIdQueryString",value:function(e){u._.forEach(e,(function(e){u._.forEach(e.parts,(function(t,n){t.src+="?partId=".concat(e.id,"-").concat(n)}))}))}},{key:"_buildManifest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{assets:u._.union(e.screenImages,e.styleImages,t,e.audio,e.screenVideos,e.styleVideos,e.screenAnimation,e.styleAnimation,e.screenAnimAssets,e.styleAnimAssets)}}},{key:"_onManifestLoaded",value:function(e){var t=this,n=e.assetManifest,r=e.assetList,i=e.context,o=e.onComplete,a=void 0===o?u._.noop:o,s={};u._.each(r.screenImages.concat(r.styleImages),(function(e){s[e.id]=t._addAsset(e)}));var c={};u._.each(r.screenVideos.concat(r.styleVideos),(function(e){c[e.id]=t._addAsset(e)}));var l=r.screenAnimation.concat(r.styleAnimation),f=u._.map(l,(function(e){return t._addAnimation({animation:e,context:i})}));f.length?Promise.all(f).then((function(){a({assetManifest:n,images:s,videos:c})})):a({assetManifest:n,images:s,videos:c})}},{key:"_addAnimation",value:function(e){var t=e.animation,n=e.context,r=s.assetUtil.getContentRoot(t.src),i=(0,l.getManifest)({ffw:s.assetUtil.getFFWReference({context:n}),contentRoot:r});return s.assetUtil.removeScript(t.src),s.assetUtil.loadManifest({assets:i,isAnimation:!0},n)}},{key:"_addAsset",value:function(e){return{getElement:function(){return s.assetUtil.getAsset(e)}}}}]),e}());t.assetLoader=f},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.widgetUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(58),u=n(161),c={left:function(e,t){e.set({x:t})},right:function(e,t){e.set({x:t-s.layoutUtil.getBounds(e).width})},top:function(e,t){e.set({y:t})},bottom:function(e,t){e.set({y:t-s.layoutUtil.getBounds(e).height})}},l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"asOption",value:function(e){e._registrables.push(e),Object.defineProperty(e,"correct",{get:function(){return this.assetInfo.is_correct}.bind(e),enumerable:!0,configurable:!0}),e._onUpdate=function(e){e.active?this.correct?this._onActiveCorrect():this._onActiveIncorrect():e.selected?this._onSelected():this.enabled?this._onEnabled():this._onDisabled({ownDisabled:!this.ownEnabled})}.bind(e),e._onActiveCorrect=function(){throw new Error("_onActiveCorrect must be overridden")},e._onActiveIncorrect=function(){throw new Error("_onActiveIncorrect must be overridden")},e._onSelected=function(){throw new Error("_onSelected must be overridden")},e._onEnabled=function(){throw new Error("_onEnabled must be overridden")},e._onDisabled=function(e){e.ownDisabled;throw new Error("_onDisabled must be overridden")}}},{key:"hideAllPlacements",value:function(e){for(var t=e.totalFrames||1,n=e,r=1;r<=t;r++)n["placement_".concat(r)].visible=!1}},{key:"createVerticalLayoutHelper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n){t.positionRelativeTo(n,{top:u.ANCHOR_BOTTOM.plus(e)})}}},{key:"pinToAnchor",value:function(e,t,n,r,i,o){this._validateAnchor({left:n,right:r,top:i,bottom:o}),this._pinWidgetEdgeToAnchorEdge(e,u.LEFT,t,n),this._pinWidgetEdgeToAnchorEdge(e,u.RIGHT,t,r),this._pinWidgetEdgeToAnchorEdge(e,u.TOP,t,i),this._pinWidgetEdgeToAnchorEdge(e,u.BOTTOM,t,o)}},{key:"mixinRelativePositioning",value:function(e){e.positionRelativeTo=this._positionRelativeToMixin.bind(e,this)}},{key:"_positionRelativeToMixin",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.left||n.right||n.explicitsOnly?n.left:u.ANCHOR_LEFT,i=n.top||n.bottom||n.explicitsOnly?n.top:u.ANCHOR_TOP;return e.pinToAnchor(this,t,r,n.right,i,n.bottom),this}},{key:"_validateAnchor",value:function(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;(0,u.validateAnchor)({left:t,right:n,top:r,bottom:i})}},{key:"_getAnchorEdgeCoordinate",value:function(e,t){var n={left:0,top:0,right:0,bottom:0};if(e){var r=s.layoutUtil.getBounds(e);n.left=e.background?a._.max([e.x,e.background.x]):e.x,n.top=e.background?a._.max([e.y,e.background.y]):e.y,n.right=n.left+r.width,n.bottom=n.top+r.height}return t.offset+n[t.edge]}},{key:"_pinWidgetEdgeToAnchorEdge",value:function(e,t,n,r){if(r){var i=this._getAnchorEdgeCoordinate(n,r),o=c[t];if(!o)throw new Error("Unhandled widget edge: ".concat(t));o(e,i)}}}]),e}());t.widgetUtil=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.validateAnchor=function(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;if(t&&n)throw new Error("Cannot position widget relative to both left AND right of anchor");if(r&&i)throw new Error("Cannot position widget relative to both top AND bottom of anchor");var o=function(e,t,n,r){if(e&&(e.edge===n||e.edge===r))throw new Error("The ".concat(t," edge cannot be aligned with the anchor's ").concat(n," or ").concat(r))};o(t,"left","top","bottom"),o(n,"right","top","bottom"),o(r,"top","left","right"),o(i,"bottom","left","right")},t.ANCHOR_BOTTOM=t.ANCHOR_TOP=t.ANCHOR_RIGHT=t.ANCHOR_LEFT=t.BOTTOM=t.TOP=t.RIGHT=t.LEFT=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.default)(this,e),this._edge=t,this._offset=n}return(0,o.default)(e,[{key:"plus",value:function(t){return new e(this._edge,this._offset+t)}},{key:"minus",value:function(t){return new e(this._edge,this.offset-t)}},{key:"edge",get:function(){return this._edge}},{key:"offset",get:function(){return this._offset}}]),e}();t.LEFT="left";t.RIGHT="right";t.TOP="top";t.BOTTOM="bottom";var s=new a("left");t.ANCHOR_LEFT=s;var u=new a("right");t.ANCHOR_RIGHT=u;var c=new a("top");t.ANCHOR_TOP=c;var l=new a("bottom");t.ANCHOR_BOTTOM=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.collisionSystem=void 0;var i=r(n(4)),o=r(n(5)),a=n(129),s=n(0),u=new(function(){function e(){(0,i.default)(this,e),this._collidables=[]}return(0,o.default)(e,[{key:"reset",value:function(){this._collidables=[]}},{key:"registerCollidable",value:function(e){this._collidables.push(e)}},{key:"checkCollisionExits",value:function(e){var t=this,n=s._.filter(this._collidables,(function(t){return!(e===t)}));s._.forEach(n,(function(n){e.contains(n)&&(t._exitCollision(e,n),t._updateCollision(e,n))}))}},{key:"checkCollisions",value:function(e){var t=s._.filter(this._collidables,(function(t){return!(e===t)}));this._checkForCollision(t,e)}},{key:"_checkForCollision",value:function(e,t){var n=this;s._.forEach(e,(function(e){!t.contains(e)&&n._colliding(t,e)?(n._enterCollision(t,e),n._updateCollision(t,e)):n._colliding(t,e)?n._updateCollision(t,e):t.contains(e)&&(n._exitCollision(t,e),n._updateCollision(t,e))}))}},{key:"removeCollidable",value:function(e){s._.remove(this._collidables,e)}},{key:"_enterCollision",value:function(e,t){e.onEnter(t),t.onEnter(e)}},{key:"_updateCollision",value:function(e,t){e.onUpdate(t),t.onUpdate(e)}},{key:"_exitCollision",value:function(e,t){e.onExit(t),t.onExit(e)}},{key:"_colliding",value:function(e,t){return a.collisionUtil.collided(e,t)}}]),e}());t.collisionSystem=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(93),i=n(56);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(448),i=n(225)(r);e.exports=i},function(e,t,n){var r=n(132),i=n(168);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){(function(e){var r=n(49),i=n(482),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(63)(e))},function(e,t,n){var r=n(483),i=n(484),o=n(485),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(137),i=n(496),o=n(497),a=n(498),s=n(499),u=n(500);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t,n){var r=n(84)(n(49),"Map");e.exports=r},function(e,t,n){var r=n(501),i=n(508),o=n(510),a=n(511),s=n(512);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(141),i=n(94);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(41),i=n(134),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict";n.r(t),n.d(t,"focusUtil",(function(){return i}));var r=n(0);const i=new class{constructor(){this.onFocus=e=>{this.suspended||this._elements.push(e.target)},this.onBlur=()=>{this.suspended||this._elements.pop()},this._isSuspended=!1,this._elements=[]}get last(){return r._.last(this._elements)}get suspended(){return this._isSuspended}set suspended(e){this._isSuspended=e}reset(){this._elements=[]}refocus(){this.last&&this.last.focus()}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.idleService=t.DEFAULT_EVENTS=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(567),h=n(69),d=n(7);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=["mousemove","keydown","wheel","mousewheel","mousedown","touchstart","touchend"];t.DEFAULT_EVENTS=g;var v=function(e){(0,s.default)(n,e);var t=p(n);function n(e,r,i,a){var s;return(0,o.default)(this,n),(s=t.call(this,e)).kill=function(){s._removeTimer(s._tId),clearTimeout(s._tId),s.off("timerComplete",s._idleCallback),s._activeCallback=l._.noop,s._idleCallback=l._.noop,s._tId=null},s._idleCallback=r,s._activeCallback=i,s._removeTimer=a,s.on("timerComplete",s._idleCallback),s}return(0,a.default)(n,[{key:"tick",value:function(){this.idle&&this._activeCallback(),this.reset()}},{key:"idle",get:function(){return this._complete}},{key:"idleCallback",get:function(){return this._idleCallback}},{key:"activeCallback",get:function(){return this._activeCallback}}]),n}(f.Timer),m=new(function(){function e(){var t=this;(0,o.default)(this,e),this._handleEvent=function(e){if("mousemove"===e.type){if(e.pageX===t._pageX&&e.pageY===t._pageY)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(t.elapsedTime<200)return}else if("visibilitychange"===e.type&&!1===document.hidden)return;t._pageX=e.pageX,t._pageY=e.pageY,l._.each(t._timers,(function(t){var n=t.timers,r=t.handledEvents;l._.includes(r,e.type)&&l._.each(n,(function(e){return e.tick()}))})),t._lastActive=Date.now()},this._timers=(0,i.default)({},h.GLOBAL_CONTEXT,{timers:[],handledEvents:[]}),this._lastActive=Date.now(),this._pageX=null,this._pageY=null,l._.bindAll(this,["remove"])}return(0,a.default)(e,[{key:"create",value:function(){for(var e,t,n,r,i,o,a=this,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(l._.isObject(u[0])){var f=u[0];e=f.timeout,t=f.idleCallback,n=f.activeCallback;var d=f.context;r=void 0===d?h.GLOBAL_CONTEXT:d;var p=f.events;i=void 0===p?g:p,o=f.target}else{e=u[0],t=u[1],n=u[2];var m=u[3];r=void 0===m?h.GLOBAL_CONTEXT:m;var y=u[4];i=void 0===y?g:y,o=u[5]}var _=new v(e,t,n,this.remove);return l._.each(i,(function(e){l._.find(h.eventManager.handlers,{eventName:e,eventContext:r,callback:a._handleEvent,target:o})||h.eventManager.on("".concat(e,":").concat(r),a._handleEvent,o)})),this._timers[r]?l._.mergeWith(this._timers[r],{timers:[_],handledEvents:i},(function(e,t,n){return"timers"===n?e.concat(t):"handledEvents"===n?l._.union(a._timers[r].handledEvents,i):{}})):this._timers[r]={timers:[_],handledEvents:i},_}},{key:"remove",value:function(e){var t,n=this;return l._.find(this._timers,(function(r,i){var o=r.timers,a=r.handledEvents;if(t=l._.find(o,{id:e}))return l._.pull(o,t),l._.isEmpty(o)&&l._.each(a,(function(e){return h.eventManager.off("".concat(e,":").concat(i),n._handleEvent)})),!1})),t}},{key:"enableMouseMoveReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?h.GLOBAL_CONTEXT:t;this._timers[n]&&(this._timers[n].handledEvents=l._.union(this._timers[n].handledEvents,["mousemove"]))}},{key:"disableMouseMoveReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?h.GLOBAL_CONTEXT:t;this._timers[n]&&l._.pull(this._timers[n].handledEvents,"mousemove")}},{key:"kill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?h.GLOBAL_CONTEXT:t;this._timers[n]?l._.eachRight(this._timers[n].timers,(function(e){return e.kill()})):d.utilLogger.warn("No timers to kill for given context: ".concat(n))}},{key:"wakeUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?h.GLOBAL_CONTEXT:t;this._timers[n]?l._.each(this._timers[n].timers,(function(e){return e.tick()})):d.utilLogger.warn("No timers to wakeUp for given context: ".concat(n))}},{key:"elapsedTime",get:function(){return Date.now()-this.lastActive}},{key:"lastActive",get:function(){return this._lastActive}},{key:"timers",get:function(){return this._timers}}]),e}());t.idleService=m},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Sequencer=void 0;var i=r(n(39)),o=r(n(43)),a=r(n(23)),s=r(n(4)),u=r(n(5)),c=n(0),l=n(6),f=n(82),h=n(16),d=n(22);function p(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(){(0,s.default)(this,e),this._sequence=[]}return(0,u.default)(e,null,[{key:"reassignAudioContextForSequence",value:function(e,t){c._.filter(c._.flattenDeep(e),{type:"audio"}).forEach((function(e){e.context=t}))}}]),(0,u.default)(e,[{key:"clear",value:function(){this._sequence=[]}},{key:"wait",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return h.environmentUtil.warn("seq.wait is deprecated. Use seq.waitSeconds or seq.waitFrames instead."),this._pushAndReturn({type:"wait",duration:e,useFrames:t})}},{key:"waitFrames",value:function(e){return this._pushAndReturn({type:"wait",duration:e,useFrames:!0})}},{key:"waitSeconds",value:function(e){return this._pushAndReturn({type:"wait",duration:e,useFrames:!1})}},{key:"animateNPC",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.loopLimit,i=n.duration,o={type:"animation",queue:l.ANIMATION_QUEUE.CHARACTERS,target:e,action:t,duration:i};if(c._.isNumber(r))o.loops=r;else if(c._.isObject(r))switch(void 0===r.limiterBehavior&&(r.limiterBehavior=l.LOOP_LIMITER_BEHAVIOR.CUTOFF),r.limiterBehavior){case l.LOOP_LIMITER_BEHAVIOR.CUTOFF:o.loopUntil=r.limiter;break;case l.LOOP_LIMITER_BEHAVIOR.FINISH_LOOP:o.loopWhile=r.limiter;break;default:throw new Error("Unhandled loop limiter behavior: ".concat(r.limiterBehavior))}return this._pushAndReturn(o)}},{key:"animateDisplay",value:function(e,t,n){return this._pushAndReturn({type:"animation",queue:l.ANIMATION_QUEUE.DISPLAY,target:e,params:t,subject:n})}},{key:"_createSilenceAudioObject",value:function(){var e=d.assetUtil.silenceAudioSettings,t=e.src,n=e.silenceLength;return{id:"silence",type:"audio",parts:[{alt:"silence ".concat(n,"ms"),src:t}]}}},{key:"insertSilenceIntoAudioArray",value:function(e,t,n,r){var i=this,o=c._.map(e,(function(e){return[i.playAudio(v(v({},e),{},{context:r}),t,n),i.playAudio(v(v({},i._createSilenceAudioObject()),{},{context:r}),t,n)]}));return c._.flatten(o)}},{key:"_createAudioStopInstruction",value:function(){var e=this;return this.execute((function(){return e.renderer.audio.stop()}),{event:"audio",message:"Stopping any audio"})}},{key:"_createAudioPlayInstruction",value:function(e,t,n){var r=c._.cloneDeep(e);return r.async=t,r.callbacks=n,this._pushAndReturn(r)}},{key:"playAudio",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{context:"SYSTEM"};if(null===e)throw new Error("The reference object must be an audio descriptor (received null).");var s=a.context,u=c._.isPlainObject(e)&&!c._.isEmpty(e),l=c._.isArray(e)&&!c._.isEmpty(e);if(u){if("audio"!==e.type)throw new Error("The reference object must be an audio descriptor (received ".concat(e.type,")."));return this._createAudioPlayInstruction(e,n,r)}if(l){var f=d.assetUtil.silenceAudioSettings.silenceLength;if(!c._.isNumber(f))throw new Error("The silence length must be a number. Received type ".concat((0,o.default)(f)));if(f<0)throw new Error("The silence length must be positive. Received ".concat(f));if(0===f){var h=c._.flatten(c._.map(e,(function(e){return[t.playAudio(v(v({},e),{},{context:s}),n,r)]})));return this.series.apply(this,[this._createAudioStopInstruction()].concat(p(i.default,h)))}return this.series.apply(this,[this._createAudioStopInstruction()].concat(p(i.default,this.insertSilenceIntoAudioArray(e,n,r,s))))}return this.execute(c._.noop)}},{key:"tween",value:function(e){var t=e.npc,n=e.init,r=e.from,i=e.to,o=e.easing,a=void 0===o?"Sine.easeInOut":o,s=e.layer,u=e.duration,c=void 0===u?l.FPS:u,f=e.delay;return this._pushAndReturn({type:"tween",target:t,init:n,from:r,to:i,easing:a,layer:s,duration:c,delay:f})}},{key:"sendTo",value:function(e,t){return this._pushAndReturn({type:"direct",target:e,layer:t})}},{key:"enableUI",value:function(){return this._pushAndReturn({type:"enableUI"})}},{key:"disableUI",value:function(){return this._pushAndReturn({type:"disableUI"})}},{key:"enableHelp",value:function(){return this._pushAndReturn({type:"enableHelp"})}},{key:"disableHelp",value:function(){return this._pushAndReturn({type:"disableHelp"})}},{key:"finish",value:function(){return this._pushAndReturn({type:"finish"})}},{key:"attachFocus",value:function(e){return this._pushAndReturn({type:"attachFocus",selector:e})}},{key:"showDoneButton",value:function(e){this.animateDisplay("showDoneButton",e)}},{key:"hideDoneButton",value:function(){this.animateDisplay("hideDoneButton")}},{key:"enableDoneButton",value:function(){this.animateDisplay("enableDone",!0)}},{key:"disableDoneButton",value:function(){this.animateDisplay("enableDone",!1)}},{key:"showCustomButton",value:function(e){this.animateDisplay("showCustomButton",e)}},{key:"hideCustomButton",value:function(){this.animateDisplay("hideCustomButton")}},{key:"enableCustomButton",value:function(){this.animateDisplay("enableCustomButton",!0)}},{key:"disableCustomButton",value:function(){this.animateDisplay("disableCustomButton",!1)}},{key:"completeScreen",value:function(){return this._pushAndReturn({type:"completeScreen"})}},{key:"execute",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._pushAndReturn({type:"execute",method:e,args:n})}},{key:"parallel",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._createContainer(l.SEQUENCE_EXECUTION.PARALLEL,t)}},{key:"series",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._createContainer(l.SEQUENCE_EXECUTION.SEQUENTIAL,t)}},{key:"_createContainer",value:function(e,t){var n=this,r=[{type:"sequence",execution:e}];return c._.forEach(t,(function(e){c._.pull(n._sequence,e),r.push(e)})),this._pushAndReturn(r)}},{key:"_pushAndReturn",value:function(e){if(0===this._sequence.length&&this._sequence.push({type:"sequence",execution:l.SEQUENCE_EXECUTION.SEQUENTIAL}),c._.isArray(e)){var t=c._.head(e);if("sequence"!==t.type)throw new Error("instruction arrays must start with a sequence object");t.instructionId=(0,f.createId)()}else e.instructionId=(0,f.createId)();return this._sequence.push(e),e}},{key:"sequence",get:function(){return this._sequence}}]),e}();t.Sequencer=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inherits=function(e){return function(t){r._.forEach(Object.getOwnPropertyNames(e),(function(n){t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}};var r=n(0)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(6),u=n(35),c=n(7).utilLogger,l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"getFeedback",value:function(e){var t=e.sequencer,n=e.response,r=e.isCorrect,i=e.attempt,o=e.maxAttempts,a=e.feedbackDef,s=e.styleFeedbackDef,c=e.comparator,l=this.constructor.name;if(u.assertUtil.isNotNull(l,"getFeedback","feedbackDef",a),u.assertUtil.isNotNull(l,"getFeedback","styleFeedbackDef",s),u.assertUtil.isNumberGreaterThan(l,"getFeedback","attempt",i,0),u.assertUtil.isNumberGreaterThan(l,"getFeedback","maxAttempts",o,0),r){var f=a.correct_feedback||s.correct_feedback;this.addFeedbackParts(f,t)}else if(i===o){var h=a.final_incorrect_feedback||s.final_incorrect_feedback;this.addFeedbackParts(h,t)}else{var d=!1;a.incorrect_feedback&&(d=this._findBestMatch(t,n,i,a.incorrect_feedback,c)),d||this.addFeedbackParts(s.incorrect_feedback,t)}}},{key:"_findBestMatch",value:function(e,t,n,r,i){for(var o,s=0,u=r.length;s<u;s++){var l=r[s],f=l.answer_condition,h=void 0;if(a._.isString(f)&&0===f.indexOf("ATTEMPT_")&&(h=Number.parseInt(f.substring(8),10),f=null),f)if(i){if(i(t,l.answer_condition))return this.addFeedbackParts(l,e),!0}else c.warn("Feedback [".concat(l.id,"] specifies a condition but it cannot be considered since no comparator was supplied"));else if(h){if(n===h)return this.addFeedbackParts(l,e),!0}else o=l}return!!o&&(this.addFeedbackParts(o,e),!0)}},{key:"addFeedbackParts",value:function(e,t){e&&a._.forEach(e.sequence,(function(e){switch(e.type){case"global-audio":t.playAudio(s.GLOBAL.SFX[e.ref]);break;case"audio":t.playAudio(e);break;case"callable-mechanisms":var n=[];e.targets.forEach((function(e){n.push(t.animateDisplay("callableMechanismHandler",{directive:e}))})),t.parallel.apply(t,n);break;case"modal-widget":t.animateDisplay("callModalWidget",{directive:e});break;default:throw new Error("Unhandled feedback directive type: ".concat(e.type))}}))}}]),e}());t.feedbackUtil=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.rendererUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"createInitialSelectionsStructure",value:function(){return{selections:[]}}},{key:"_getSelectionsInitialState",value:function(e){var t={complete:!1,result:{screenId:e.id,score:0,max:0}};return a.default.merge(t,this.createInitialSelectionsStructure())}},{key:"getInitialSinglePartState",value:function(e){return this._getSelectionsInitialState(e)}},{key:"createInitialFeedbackStructure",value:function(){return{correct:null,playing:!1,assetId:null,attempt:0}}},{key:"getBaseInitialState",value:function(e){return{init:!1,loaded:!1,ready:!1,complete:!1,finished:!1,inProgress:!1,uiEnabled:!1,doneEnabled:!1,showDone:!1,showHelp:!0,feedback:this.createInitialFeedbackStructure(),randomized:{},result:{screenId:e.id,score:0,max:0}}}},{key:"getInitialMultipartState",value:function(e,t){for(var n=[],r=0;r<t;r++){var i=this.createInitialSelectionsStructure();i.feedback=this.createInitialFeedbackStructure(),n.push(i)}var o=this.getBaseInitialState(e);return delete o.feedback,a.default.merge(o,{parts:n})}},{key:"enableHelp",value:function(e,t){var n=e.navigation.help;n.enabled=!0,t&&(n.visible=!0)}}]),e}());t.rendererUtil=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Option=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,s.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"init",value:function(){(0,a.default)((0,c.default)(n.prototype),"init",this).call(this),this._registrables.push(this)}},{key:"_onUpdate",value:function(e){e.active?this.correct?this._onActiveCorrect():this._onActiveIncorrect():e.selected?this._onSelected():this.enabled?this._onEnabled():this._onDisabled({ownDisabled:!this.ownEnabled}),this.cache()}},{key:"_onActiveCorrect",value:function(){throw new Error("_onActiveCorrect must be overridden")}},{key:"_onActiveIncorrect",value:function(){throw new Error("_onActiveIncorrect must be overridden")}},{key:"_onSelected",value:function(){throw new Error("_onSelected must be overridden")}},{key:"_onEnabled",value:function(){throw new Error("_onEnabled must be overridden")}},{key:"_onDisabled",value:function(e){e.ownDisabled;throw new Error("_onDisabled must be overridden")}},{key:"correct",get:function(){return this.assetInfo.is_correct}}]),n}(n(115).CompositeWidget);t.Option=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweenToTarget=function(e){var t=e.onComplete,n=e.onUpdate,r=e.widget,i=e.x,o=e.y,a=e.newParent,u=e.duration,c=void 0===u?1:u;a&&s.canvasUtil.switchParent(r,a),TweenLite.to(r,c,{x:i,y:o,onComplete:t,onUpdate:n})},t.applyResponse=function(e,t,n,r){var i=r.color,o=r.sound,a=r.callback;i&&s.canvasUtil.applyColorFilter(e.background,i),o&&u.audioActions.start(o,"USER"),a&&a(e,n),t()},Object.defineProperty(t,"Draggable",{enumerable:!0,get:function(){return r.Draggable}}),Object.defineProperty(t,"Collidable",{enumerable:!0,get:function(){return i.Collidable}}),Object.defineProperty(t,"Clickable",{enumerable:!0,get:function(){return o.Clickable}}),Object.defineProperty(t,"COLLIDABLE_TYPES",{enumerable:!0,get:function(){return a.COLLIDABLE_TYPES}}),Object.defineProperty(t,"canvasUtil",{enumerable:!0,get:function(){return s.canvasUtil}}),Object.defineProperty(t,"audioActions",{enumerable:!0,get:function(){return u.audioActions}}),Object.defineProperty(t,"screenActions",{enumerable:!0,get:function(){return u.screenActions}}),Object.defineProperty(t,"tweenUtil",{enumerable:!0,get:function(){return c.tweenUtil}}),Object.defineProperty(t,"collisionUtil",{enumerable:!0,get:function(){return l.collisionUtil}}),Object.defineProperty(t,"InteractionMediator",{enumerable:!0,get:function(){return f.InteractionMediator}}),Object.defineProperty(t,"layoutUtil",{enumerable:!0,get:function(){return h.layoutUtil}}),Object.defineProperty(t,"StateMachine",{enumerable:!0,get:function(){return d.StateMachine}}),Object.defineProperty(t,"TimelineLite",{enumerable:!0,get:function(){return d.TimelineLite}}),Object.defineProperty(t,"TimelineMax",{enumerable:!0,get:function(){return d.TimelineMax}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),t.noop=void 0;var r=n(280),i=n(281),o=n(282),a=n(6),s=n(60),u=n(62),c=n(267),l=n(129),f=n(283),h=n(58),d=n(0);t.noop=function(){}},function(e,t,n){"use strict";e.exports=n(331)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.actionEmitterUtil=void 0;var i=new(r(n(193)).default);t.actionEmitterUtil=i},function(e,t,n){var r=n(330);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],g=n[2],v=n[3],m=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var A=null!=g&&null!=p&&p!==g,w="+"===_||"*"===_,E="?"===_||"*"===_,x=n[2]||l,T=m||y;r.push({name:v||o++,prefix:g||"",delimiter:x,optional:E,repeat:w,partial:A,asterisk:!!b,pattern:T?c(T):b?".*":"[^"+u(x)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.lessonResultsUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(19),c=n(125),l=n(7),f=n(6),h=n(410),d=n(51),p=n(20),g=n(14),v=n(54),m=f.LESSON_SECTION.PRACTICE,y=f.LESSON_SECTION.REVIEW,_=f.LESSON_SECTION.QUIZ,b=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"getResults",value:function(e){var t,n=[_,y,m],r=(0,g.getAllProperties)(e),o=(0,p.getLessonResults)(e).results,a=(0,p.isRCL)(e),u=(t={},(0,i.default)(t,_,[]),(0,i.default)(t,y,[]),(0,i.default)(t,m,[]),t);s._.each(o,(function(t){var i,o,a=t.screenId,c=t.raw,f=t.max;try{var d=r[a];i=d.section,o=d.autoplay}catch(t){throw v.platformConnectionProvider.connection.remoteLogger.fatal("Blackscreen Error Caught - screens state: ".concat(JSON.stringify((0,g.getScreensState)(e)),",\n           results state: ").concat(JSON.stringify((0,p.getLessonResults)(e)))),t}if(s._.includes(n,i)&&!o){var m=h.scoreUtil.getStyleFromScreenId(a);u[i]?u[i].push({screenId:a,style:m,raw:c,max:f}):l.storeLogger.warn("[resultStore][getResults] invalid score-able section found: ".concat(i))}}));var c=u[_],d=u[y],b=u[m],A=a?b:c,w=h.scoreUtil.sanitizeResults(A),E=h.scoreUtil.sanitizeResults(d),x=w.concat(E),T=h.scoreUtil.getScoringAlgorithm(),S=h.scoreUtil.calculateScore(w,E),O=(0,h.getSumOfRawScores)(T===f.ALGORITHMS.ACTIVITY_BASED_AVERAGE?w:x),C=(0,h.getSumOfRawMaxScores)(T===f.ALGORITHMS.ACTIVITY_BASED_AVERAGE?w:x);return{score:S,rawScore:s._.isNull(S)?null:O,rawMaxScore:s._.isNull(S)?null:C}}},{key:"saveResults",value:function(e,t){var n,r=d.webApiUtil.saveLessonResults;try{var i=(0,p.getLessonResults)(e).currentScreenId;if(i){var o=(0,g.getScreen)(e,i),a={section:o.properties.section,screen:o,partNum:1};n=Promise.race([u.dataCaptureUtil.sendEvent({payload:u.DC_EVENT_PAYLOADS.DESTROY,contextData:a}),new c.DelayedPromise(300)]).then().catch((function(e){l.utilLogger.error("handleLessonCompletion: Error calling Data Capture API",e)})).then((function(){r(t)}))}}catch(e){l.storeLogger.error("handleLessonCompletion: Error calling Data Capture API: ".concat(e.name,": ").concat(e.message))}return n||(n=Promise.resolve().then((function(){r(t)}))),n}}]),e}());t.lessonResultsUtil=b},function(e,t,n){var r=n(178);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},,function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.responseDataMiners=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"mineId",value:function(e,t){var n=this;if(a._.isArray(e))e.forEach((function(e){return n.mineId(e,t)}));else{if(!a._.isObject(e))throw new Error("Supplied data must be an object with an ID property, or an array of them");var r=e.id;if(null==r)throw new Error("Element has no ID");t.add({id:r})}return t}}]),e}());t.responseDataMiners=s},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}catch(e){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(338),o=(r=i)&&r.__esModule?r:{default:r},a=n(155);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){i=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new r;t.default=i},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(202);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";t.argVal=function(e){e&&this._cursor.args.push(e)},t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},t.arrayVal=function(e){e&&this._cursor.value.push(e)},t.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,n=this._cursor._parent;n&&n.operator&&this._grammar.elements[n.operator].precedence>=t;)this._cursor=n,n=n._parent;var r={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,r),this._cursor=n,this._placeAtCursor(r)},t.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},t.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})},t.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})},t.objKey=function(e){this._curObjKey=e.value},t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},t.objVal=function(e){this._cursor.value[this._curObjKey]=e},t.subExpression=function(e){this._placeAtCursor(e)},t.ternaryEnd=function(e){this._cursor.alternate=e},t.ternaryMid=function(e){this._cursor.consequent=e},t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},t.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})},t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}},function(e,t,n){(function(r){var i,o,a,s=e.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */(s._gsQueue||(s._gsQueue=[])).push((function(){"use strict";s._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(e,t){var n,r,i,o,a=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},u=s._gsDefine.globals,c={},l=a.prototype=new e("css");l.constructor=a,a.version="1.20.4",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var f,h,d,p,g,v,m,y,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,A=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,O=/^(rgb|hsl)/,C=/([A-Z])/g,k=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,N=function(e,t){return t.toUpperCase()},I=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,M=/[\s,\(]/i,j=Math.PI/180,B=180/Math.PI,F={},U={style:{}},H=s.document||{createElement:function(){return U}},G=function(e,t){return H.createElementNS?H.createElementNS(t||"http://www.w3.org/1999/xhtml",e):H.createElement(e)},Q=G("div"),z=G("img"),V=a._internals={_specialProps:c},W=(s.navigator||{}).userAgent||"",q=function(){var e=W.indexOf("Android"),t=G("a");return d=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===e||parseFloat(W.substr(e+8,2))>3),g=d&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,p=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return x.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){s.console&&console.log(e)},K="",$="",J=function(e,t){var n,r,i=(t=t||Q).style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?(K="-"+($=3===r?"ms":n[r]).toLowerCase()+"-",$+e):null},Z=H.defaultView?H.defaultView.getComputedStyle:function(){},ee=a.getStyle=function(e,t,n,r,i){var o;return q||"opacity"!==t?(!r&&e.style[t]?o=e.style[t]:(n=n||Z(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(C,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):X(e)},te=V.convertToPixels=function(e,n,r,i,o){if("px"===i||!i&&"lineHeight"!==n)return r;if("auto"===i||!r)return 0;var s,u,c,l=I.test(n),f=e,h=Q.style,d=r<0,p=1===r;if(d&&(r=-r),p&&(r*=100),"lineHeight"!==n||i)if("%"===i&&-1!==n.indexOf("border"))s=r/100*(l?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==i&&f.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)h[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(f=e.parentNode||H.body,-1!==ee(f,"display").indexOf("flex")&&(h.position="absolute"),u=f._gsCache,c=t.ticker.frame,u&&l&&u.time===c)return u.width*r/100;h[l?"width":"height"]=r+i}f.appendChild(Q),s=parseFloat(Q[l?"offsetWidth":"offsetHeight"]),f.removeChild(Q),l&&"%"===i&&!1!==a.cacheWidths&&((u=f._gsCache=f._gsCache||{}).time=c,u.width=s/r*100),0!==s||o||(s=te(e,n,r,i,!0))}else u=Z(e).lineHeight,e.style.lineHeight=r,s=parseFloat(Z(e).lineHeight),e.style.lineHeight=u;return p&&(s/=100),d?-s:s},ne=V.calculateOffset=function(e,t,n){if("absolute"!==ee(e,"position",n))return 0;var r="left"===t?"Left":"Top",i=ee(e,"margin"+r,n);return e["offset"+r]-(te(e,t,parseFloat(i),i.replace(E,""))||0)},re=function(e,t){var n,r,i,o={};if(t=t||Z(e,null))if(n=t.length)for(;--n>-1;)-1!==(i=t[n]).indexOf("-transform")&&Le!==i||(o[i.replace(k,N)]=t.getPropertyValue(i));else for(n in t)-1!==n.indexOf("Transform")&&Re!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(k,N)]=t[n]);return q||(o.opacity=X(e)),r=qe(e,t,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Me&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},ie=function(e,t,n,r,i){var o,a,s,u={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||i&&i[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(w,"")?o:0:ne(e,a),void 0!==c[a]&&(s=new _e(c,a,c[a],s))));if(r)for(a in r)"className"!==a&&(u[a]=r[a]);return{difs:u,firstMPT:s}},oe={width:["Left","Right"],height:["Top","Bottom"]},ae=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Z(e))[t]||0;if(e.getCTM&&ze(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=oe[t],o=i.length;for(n=n||Z(e,null);--o>-1;)r-=parseFloat(ee(e,"padding"+i[o],n,!0))||0,r-=parseFloat(ee(e,"border"+i[o]+"Width",n,!0))||0;return r},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),i=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(ue(r[n]));return e.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),e=i+" "+o+(r.length>2?" "+r[2]:""),t&&(t.oxp=-1!==i.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===i.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(i.replace(w,"")),t.oy=parseFloat(o.replace(w,"")),t.v=e),t||e},ce=function(e,t){return"function"==typeof e&&(e=e(y,m)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},le=function(e,t){return"function"==typeof e&&(e=e(y,m)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},fe=function(e,t,n,r){var i,o,a,s;return"function"==typeof e&&(e=e(y,m)),null==e?a=t:"number"==typeof e?a=e:(360,i=e.split("_"),o=((s="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(i[0].substr(2)):parseFloat(i[0]))*(-1===e.indexOf("rad")?1:B)-(s?0:t),i.length&&(r&&(r[n]=t+o),-1!==e.indexOf("short")&&(o%=360)!==o%180&&(o=o<0?o+360:o-360),-1!==e.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==e.indexOf("ccw")&&o>0&&(o=(o-3599999999640)%360-360*(o/360|0))),a=t+o),a<1e-6&&a>-1e-6&&(a=0),a},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},pe=a.parseColor=function(e,t){var n,r,i,o,a,s,u,c,l,f,h;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),he[e])n=he[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=h=e.match(_),t){if(-1!==e.indexOf("="))return e.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(u=Number(n[2])/100)-(i=u<=.5?u*(s+1):u+s-u*s),n.length>3&&(n[3]=Number(n[3])),n[0]=de(a+1/3,r,i),n[1]=de(a,r,i),n[2]=de(a-1/3,r,i);else n=e.match(_)||he.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=he.black;return t&&!h&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,u=((c=Math.max(r,i,o))+(l=Math.min(r,i,o)))/2,c===l?a=s=0:(f=c-l,s=u>.5?f/(2-c-l):f/(c+l),a=c===r?(i-o)/f+(i<o?6:0):c===i?(o-r)/f+2:(r-i)/f+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},ge=function(e,t){var n,r,i,o=e.match(ve)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)r=o[n],a+=(i=e.substr(a,e.indexOf(r,a)-a)).length+r.length,3===(r=pe(r,t)).length&&r.push(1),s+=i+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(a)},ve="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in he)ve+="|"+l+"\\b";ve=new RegExp(ve+")","gi"),a.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];ve.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=ge(e[0],t),e[1]=ge(e[1],t)),ve.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=a.colorStringFilter);var me=function(e,t,n,r){if(null==e)return function(e){return e};var i,o=t?(e.match(ve)||[""])[0]:"",a=e.split(o).join("").match(A)||[],s=e.substr(0,e.indexOf(a[0])),u=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",l=a.length,f=l>0?a[0].replace(_,""):"";return l?i=t?function(e){var t,h,d,p;if("number"==typeof e)e+=f;else if(r&&D.test(e)){for(p=e.replace(D,"|").split("|"),d=0;d<p.length;d++)p[d]=i(p[d]);return p.join(",")}if(t=(e.match(ve)||[o])[0],d=(h=e.split(t).join("").match(A)||[]).length,l>d--)for(;++d<l;)h[d]=n?h[(d-1)/2|0]:a[d];return s+h.join(c)+c+t+u+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,o,h;if("number"==typeof e)e+=f;else if(r&&D.test(e)){for(o=e.replace(D,"|").split("|"),h=0;h<o.length;h++)o[h]=i(o[h]);return o.join(",")}if(h=(t=e.match(A)||[]).length,l>h--)for(;++h<l;)t[h]=n?t[(h-1)/2|0]:a[h];return s+t.join(c)+u}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,r,i,o,a,s){var u,c=(n+"").split(" ");for(s={},u=0;u<4;u++)s[e[u]]=c[u]=c[u]||c[(u-1)/2>>0];return i.parse(t,s,o,a)}},_e=(V._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,o,a=this.data,s=a.proxy,u=a.firstMPT;u;)t=s[u.v],u.r?t=Math.round(t):t<1e-6&&t>-1e-6&&(t=0),u.t[u.p]=t,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(u=a.firstMPT,o=1===e?"e":"b";u;){if((n=u.t).type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;u=u._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),be=(V._parseToProxy=function(e,t,n,r,i,o){var a,s,u,c,l,f=r,h={},d={},p=n._transform,g=F;for(n._transform=null,F=t,r=l=n.parse(e,t,r,i),F=g,o&&(n._transform=p,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(r.type<=1&&(d[s=r.p]=r.s+r.c,h[s]=r.s,o||(c=new _e(r,"s",s,c,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)u="xn"+a,d[s=r.p+"_"+u]=r.data[u],h[s]=r[u],o||(c=new _e(r,u,s,c,r.rxp[u]));r=r._next}return{proxy:h,end:d,firstMPT:c,pt:l}},V.CSSPropTween=function(e,t,r,i,a,s,u,c,l,f,h){this.t=e,this.p=t,this.s=r,this.c=i,this.n=u||t,e instanceof be||o.push(this.n),this.r=c,this.type=s||0,l&&(this.pr=l,n=!0),this.b=void 0===f?r:f,this.e=void 0===h?r+i:h,a&&(this._next=a,a._prev=this)}),Ae=function(e,t,n,r,i,o){var a=new be(e,t,n,r-n,i,-1,o);return a.b=n,a.e=a.xs0=r,a},we=a.parseComplex=function(e,t,n,r,i,o,s,u,c,l){n=n||o||"","function"==typeof r&&(r=r(y,m)),s=new be(e,t,0,0,s,l?2:1,null,!1,u,n,r),r+="",i&&ve.test(r+n)&&(r=[n,r],a.colorStringFilter(r),n=r[0],r=r[1]);var h,d,p,g,v,A,w,E,x,T,S,O,C,k=n.split(", ").join(",").split(" "),P=r.split(", ").join(",").split(" "),N=k.length,I=!1!==f;for(-1===r.indexOf(",")&&-1===n.indexOf(",")||(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(k=k.join(" ").replace(D,", ").split(" "),P=P.join(" ").replace(D,", ").split(" ")):(k=k.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),N=k.length),N!==P.length&&(N=(k=(o||"").split(" ")).length),s.plugin=c,s.setRatio=l,ve.lastIndex=0,h=0;h<N;h++)if(g=k[h],v=P[h],(E=parseFloat(g))||0===E)s.appendXtra("",E,ce(v,E),v.replace(b,""),I&&-1!==v.indexOf("px"),!0);else if(i&&ve.test(g))O=")"+((O=v.indexOf(")")+1)?v.substr(O):""),C=-1!==v.indexOf("hsl")&&q,T=v,g=pe(g,C),v=pe(v,C),(x=g.length+v.length>6)&&!q&&0===v[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[h]).join("transparent")):(q||(x=!1),C?s.appendXtra(T.substr(0,T.indexOf("hsl"))+(x?"hsla(":"hsl("),g[0],ce(v[0],g[0]),",",!1,!0).appendXtra("",g[1],ce(v[1],g[1]),"%,",!1).appendXtra("",g[2],ce(v[2],g[2]),x?"%,":"%"+O,!1):s.appendXtra(T.substr(0,T.indexOf("rgb"))+(x?"rgba(":"rgb("),g[0],v[0]-g[0],",",!0,!0).appendXtra("",g[1],v[1]-g[1],",",!0).appendXtra("",g[2],v[2]-g[2],x?",":O,!0),x&&(g=g.length<4?1:g[3],s.appendXtra("",g,(v.length<4?1:v[3])-g,O,!1))),ve.lastIndex=0;else if(A=g.match(_)){if(!(w=v.match(b))||w.length!==A.length)return s;for(p=0,d=0;d<A.length;d++)S=A[d],T=g.indexOf(S,p),s.appendXtra(g.substr(p,T-p),Number(S),ce(w[d],S),"",I&&"px"===g.substr(T+S.length,2),0===d),p=T+S.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+v:v;if(-1!==r.indexOf("=")&&s.data){for(O=s.xs0+s.data.s,h=1;h<s.l;h++)O+=s["xs"+h]+s.data["xn"+h];s.e=O+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Ee=9;for((l=be.prototype).l=l.pr=0;--Ee>0;)l["xn"+Ee]=0,l["xs"+Ee]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,n,r,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=i,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=i,a)):(a["xs"+s]+=t+(r||""),a)};var xe=function(e,t){t=t||{},this.p=t.prefix&&J(e)||e,c[e]=c[this.p]=this,this.format=t.formatter||me(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Te=V._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,i=e.split(","),o=t.defaultValue;for(n=n||[o],r=0;r<i.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||o,new xe(i[r],t)},Se=V._registerPluginProp=function(e){if(!c[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Te(e,{parser:function(e,n,r,i,o,a,s){var l=u.com.greensock.plugins[t];return l?(l._cssRegister(),c[r].parse(e,n,r,i,o,a,s)):(Y("Error: "+t+" js file not loaded."),o)}})}};(l=xe.prototype).parseComplex=function(e,t,n,r,i,o){var a,s,u,c,l,f,h=this.keyword;if(this.multi&&(D.test(n)||D.test(t)?(s=t.replace(D,"|").split("|"),u=n.replace(D,"|").split("|")):h&&(s=[t],u=[n])),u){for(c=u.length>s.length?u.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,h&&(l=t.indexOf(h))!==(f=n.indexOf(h))&&(-1===f?s[a]=s[a].split(h).join(""):-1===l&&(s[a]+=" "+h));t=s.join(", "),n=u.join(", ")}return we(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,o)},l.parse=function(e,t,n,r,o,a,s){return this.parseComplex(e.style,this.format(ee(e,this.p,i,!1,this.dflt)),this.format(t),o,a)},a.registerSpecialProp=function(e,t,n){Te(e,{parser:function(e,r,i,o,a,s,u){var c=new be(e,i,0,0,a,2,i,!1,n);return c.plugin=s,c.setRatio=t(e,r,o._tween,i),c},priority:n})},a.useSVGTransformAttr=!0;var Oe,Ce,ke,Pe,Ne,Ie="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Re=J("transform"),Le=K+"transform",De=J("transformOrigin"),Me=null!==J("perspective"),je=V.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Me)&&(a.defaultForce3D||"auto")},Be=s.SVGElement,Fe=function(e,t,n){var r,i=H.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return t.appendChild(i),i},Ue=H.documentElement||{},He=(Ne=v||/Android/i.test(W)&&!s.chrome,H.createElementNS&&!Ne&&(Ce=Fe("svg",Ue),Pe=(ke=Fe("rect",Ce,{width:100,height:50,x:100})).getBoundingClientRect().width,ke.style[De]="50% 50%",ke.style[Re]="scaleX(0.5)",Ne=Pe===ke.getBoundingClientRect().width&&!(p&&Me),Ue.removeChild(Ce)),Ne),Ge=function(e,t,n,r,i,o){var s,u,c,l,f,h,d,p,g,v,m,y,_,b,A=e._gsTransform,w=We(e,!0);A&&(_=A.xOrigin,b=A.yOrigin),(!r||(s=r.split(" ")).length<2)&&(0===(d=e.getBBox()).x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(t=ue(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*d.width:parseFloat(t[0]))+d.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*d.height:parseFloat(t[1]))+d.y]),n.xOrigin=l=parseFloat(s[0]),n.yOrigin=f=parseFloat(s[1]),r&&w!==Ve&&(h=w[0],d=w[1],p=w[2],g=w[3],v=w[4],m=w[5],(y=h*g-d*p)&&(u=l*(g/y)+f*(-p/y)+(p*m-g*v)/y,c=l*(-d/y)+f*(h/y)-(h*m-d*v)/y,l=n.xOrigin=s[0]=u,f=n.yOrigin=s[1]=c)),A&&(o&&(n.xOffset=A.xOffset,n.yOffset=A.yOffset,A=n),i||!1!==i&&!1!==a.defaultSmoothOrigin?(u=l-_,c=f-b,A.xOffset+=u*w[0]+c*w[2]-u,A.yOffset+=u*w[1]+c*w[3]-c):A.xOffset=A.yOffset=0),o||e.setAttribute("data-svg-origin",s.join(" "))},Qe=function(e){var t,n=G("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(Ue.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Qe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return i?r.insertBefore(this,i):r.appendChild(this),Ue.removeChild(n),this.style.cssText=o,t},ze=function(e){return!(!Be||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return Qe.call(e,!0)}}(e))},Ve=[1,0,0,1,0,0],We=function(e,t){var n,r,i,o,a,s,u=e._gsTransform||new je,c=e.style;if(Re?r=ee(e,Le,null,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match(R))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Re||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(o=c.display,c.display="block"),e.parentNode||(a=1,Ue.appendChild(e)),n=!(r=ee(e,Le,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?c.display=o:s&&$e(c,"display"),a&&Ue.removeChild(e)),(u.svg||e.getCTM&&ze(e))&&(n&&-1!==(c[Re]+"").indexOf("matrix")&&(r=c[Re],n=0),i=e.getAttribute("transform"),n&&i&&(r="matrix("+(i=e.transform.baseVal.consolidate().matrix).a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")",n=0)),n)return Ve;for(i=(r||"").match(_)||[],Ee=i.length;--Ee>-1;)o=Number(i[Ee]),i[Ee]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},qe=V.getTransform=function(e,n,r,i){if(e._gsTransform&&r&&!i)return e._gsTransform;var o,s,u,c,l,f,h=r&&e._gsTransform||new je,d=h.scaleX<0,p=1e5,g=Me&&(parseFloat(ee(e,De,n,!1,"0 0 0").split(" ")[2])||h.zOrigin)||0,v=parseFloat(a.defaultTransformPerspective)||0;if(h.svg=!(!e.getCTM||!ze(e)),h.svg&&(Ge(e,ee(e,De,n,!1,"50% 50%")+"",h,e.getAttribute("data-svg-origin")),Oe=a.useSVGTransformAttr||He),(o=We(e))!==Ve){if(16===o.length){var m,y,_,b,A,w=o[0],E=o[1],x=o[2],T=o[3],S=o[4],O=o[5],C=o[6],k=o[7],P=o[8],N=o[9],I=o[10],R=o[12],L=o[13],D=o[14],M=o[11],j=Math.atan2(C,I);h.zOrigin&&(R=P*(D=-h.zOrigin)-o[12],L=N*D-o[13],D=I*D+h.zOrigin-o[14]),h.rotationX=j*B,j&&(m=S*(b=Math.cos(-j))+P*(A=Math.sin(-j)),y=O*b+N*A,_=C*b+I*A,P=S*-A+P*b,N=O*-A+N*b,I=C*-A+I*b,M=k*-A+M*b,S=m,O=y,C=_),j=Math.atan2(-x,I),h.rotationY=j*B,j&&(y=E*(b=Math.cos(-j))-N*(A=Math.sin(-j)),_=x*b-I*A,N=E*A+N*b,I=x*A+I*b,M=T*A+M*b,w=m=w*b-P*A,E=y,x=_),j=Math.atan2(E,w),h.rotation=j*B,j&&(m=w*(b=Math.cos(j))+E*(A=Math.sin(j)),y=S*b+O*A,_=P*b+N*A,E=E*b-w*A,O=O*b-S*A,N=N*b-P*A,w=m,S=y,P=_),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),j=Math.atan2(S,O),h.scaleX=(Math.sqrt(w*w+E*E+x*x)*p+.5|0)/p,h.scaleY=(Math.sqrt(O*O+C*C)*p+.5|0)/p,h.scaleZ=(Math.sqrt(P*P+N*N+I*I)*p+.5|0)/p,w/=h.scaleX,S/=h.scaleY,E/=h.scaleX,O/=h.scaleY,Math.abs(j)>2e-5?(h.skewX=j*B,S=0,"simple"!==h.skewType&&(h.scaleY*=1/Math.cos(j))):h.skewX=0,h.perspective=M?1/(M<0?-M:M):0,h.x=R,h.y=L,h.z=D,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*w-h.yOrigin*S),h.y-=h.yOrigin-(h.yOrigin*E-h.xOrigin*O))}else if(!Me||i||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var F=o.length>=6,U=F?o[0]:1,H=o[1]||0,G=o[2]||0,Q=F?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,u=Math.sqrt(U*U+H*H),c=Math.sqrt(Q*Q+G*G),l=U||H?Math.atan2(H,U)*B:h.rotation||0,f=G||Q?Math.atan2(G,Q)*B+l:h.skewX||0,h.scaleX=u,h.scaleY=c,h.rotation=l,h.skewX=f,Me&&(h.rotationX=h.rotationY=h.z=0,h.perspective=v,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*U+h.yOrigin*G),h.y-=h.yOrigin-(h.xOrigin*H+h.yOrigin*Q))}for(s in Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(d?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180)),h.zOrigin=g,h)h[s]<2e-5&&h[s]>-2e-5&&(h[s]=0)}return r&&(e._gsTransform=h,h.svg&&(Oe&&e.style[Re]?t.delayedCall(.001,(function(){$e(e.style,Re)})):!Oe&&e.getAttribute("transform")&&t.delayedCall(.001,(function(){e.removeAttribute("transform")})))),h},Xe=function(e){var t,n,r=this.data,i=-r.rotation*j,o=i+r.skewX*j,a=1e5,s=(Math.cos(i)*r.scaleX*a|0)/a,u=(Math.sin(i)*r.scaleX*a|0)/a,c=(Math.sin(o)*-r.scaleY*a|0)/a,l=(Math.cos(o)*r.scaleY*a|0)/a,f=this.t.style,h=this.t.currentStyle;if(h){n=u,u=-c,c=-n,t=h.filter,f.filter="";var d,p,g=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==h.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+c+", M22="+l,b=r.x+g*r.xPercent/100,A=r.y+m*r.yPercent/100;if(null!=r.ox&&(b+=(d=(r.oxp?g*r.ox*.01:r.ox)-g/2)-(d*s+(p=(r.oyp?m*r.oy*.01:r.oy)-m/2)*u),A+=p-(d*c+p*l)),_+=y?", Dx="+((d=g/2)-(d*s+(p=m/2)*u)+b)+", Dy="+(p-(d*c+p*l)+A)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?f.filter=t.replace(L,_):f.filter=_+" "+t,0!==e&&1!==e||1===s&&0===u&&0===c&&1===l&&(y&&-1===_.indexOf("Dx=0, Dy=0")||x.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&f.removeAttribute("filter")),!y){var w,T,S,O=v<8?1:-1;for(d=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(u<0?-u:u)*m))/2+b),r.ieOffsetY=Math.round((m-((l<0?-l:l)*m+(c<0?-c:c)*g))/2+A),Ee=0;Ee<4;Ee++)S=(n=-1!==(w=h[T=ae[Ee]]).indexOf("px")?parseFloat(w):te(this.t,T,parseFloat(w),w.replace(E,""))||0)!==r[T]?Ee<2?-r.ieOffsetX:-r.ieOffsetY:Ee<2?d-r.ieOffsetX:p-r.ieOffsetY,f[T]=(r[T]=Math.round(n-S*(0===Ee||2===Ee?1:O)))+"px"}}},Ye=V.set3DTransformRatio=V.setTransformRatio=function(e){var t,n,r,i,o,a,s,u,c,l,f,h,d,g,v,m,y,_,b,A,w,E=this.data,x=this.t.style,T=E.rotation,S=E.rotationX,O=E.rotationY,C=E.scaleX,k=E.scaleY,P=E.scaleZ,N=E.x,I=E.y,R=E.z,L=E.svg,D=E.perspective,M=E.force3D,B=E.skewY,F=E.skewX;if(B&&(F+=B,T+=B),!((1!==e&&0!==e||"auto"!==M||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&M||R||D||O||S||1!==P)||Oe&&L||!Me)T||F||L?(T*=j,A=F*j,w=1e5,n=Math.cos(T)*C,o=Math.sin(T)*C,r=Math.sin(T-A)*-k,a=Math.cos(T-A)*k,A&&"simple"===E.skewType&&(t=Math.tan(A-B*j),r*=t=Math.sqrt(1+t*t),a*=t,B&&(t=Math.tan(B*j),n*=t=Math.sqrt(1+t*t),o*=t)),L&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset,Oe&&(E.xPercent||E.yPercent)&&(v=this.t.getBBox(),N+=.01*E.xPercent*v.width,I+=.01*E.yPercent*v.height),N<(v=1e-6)&&N>-v&&(N=0),I<v&&I>-v&&(I=0)),b=(n*w|0)/w+","+(o*w|0)/w+","+(r*w|0)/w+","+(a*w|0)/w+","+N+","+I+")",L&&Oe?this.t.setAttribute("transform","matrix("+b):x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+b):x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+k+","+N+","+I+")";else{if(p&&(C<(v=1e-4)&&C>-v&&(C=P=2e-5),k<v&&k>-v&&(k=P=2e-5),!D||E.z||E.rotationX||E.rotationY||(D=0)),T||F)T*=j,m=n=Math.cos(T),y=o=Math.sin(T),F&&(T-=F*j,m=Math.cos(T),y=Math.sin(T),"simple"===E.skewType&&(t=Math.tan((F-B)*j),m*=t=Math.sqrt(1+t*t),y*=t,E.skewY&&(t=Math.tan(B*j),n*=t=Math.sqrt(1+t*t),o*=t))),r=-y,a=m;else{if(!(O||S||1!==P||D||L))return void(x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+I+"px,"+R+"px)"+(1!==C||1!==k?" scale("+C+","+k+")":""));n=a=1,r=o=0}l=1,i=s=u=c=f=h=0,d=D?-1/D:0,g=E.zOrigin,v=1e-6,",","0",(T=O*j)&&(m=Math.cos(T),u=-(y=Math.sin(T)),f=d*-y,i=n*y,s=o*y,l=m,d*=m,n*=m,o*=m),(T=S*j)&&(t=r*(m=Math.cos(T))+i*(y=Math.sin(T)),_=a*m+s*y,c=l*y,h=d*y,i=r*-y+i*m,s=a*-y+s*m,l*=m,d*=m,r=t,a=_),1!==P&&(i*=P,s*=P,l*=P,d*=P),1!==k&&(r*=k,a*=k,c*=k,h*=k),1!==C&&(n*=C,o*=C,u*=C,f*=C),(g||L)&&(g&&(N+=i*-g,I+=s*-g,R+=l*-g+g),L&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset),N<v&&N>-v&&(N="0"),I<v&&I>-v&&(I="0"),R<v&&R>-v&&(R=0)),b=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<v&&n>-v?"0":n)+","+(o<v&&o>-v?"0":o)+","+(u<v&&u>-v?"0":u),b+=","+(f<v&&f>-v?"0":f)+","+(r<v&&r>-v?"0":r)+","+(a<v&&a>-v?"0":a),S||O||1!==P?(b+=","+(c<v&&c>-v?"0":c)+","+(h<v&&h>-v?"0":h)+","+(i<v&&i>-v?"0":i),b+=","+(s<v&&s>-v?"0":s)+","+(l<v&&l>-v?"0":l)+","+(d<v&&d>-v?"0":d)+","):b+=",0,0,0,0,1,0,",b+=N+","+I+","+R+","+(D?1+-R/D:1)+")",x[Re]=b}};(l=je.prototype).x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,Te("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,o,s,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var c,l=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(c=u[n],u[n]=t),l&&(u.scale=l(y,e));var f,h,d,p,g,v,_,b,A,w=e._gsTransform,E=e.style,x=Ie.length,T=u,S={},O=qe(e,i,!0,T.parseTransform),C=T.transform&&("function"==typeof T.transform?T.transform(y,m):T.transform);if(O.skewType=T.skewType||O.skewType||a.defaultSkewType,r._transform=O,C&&"string"==typeof C&&Re)(h=Q.style)[Re]=C,h.display="block",h.position="absolute",H.body.appendChild(Q),f=qe(Q,null,!1),"simple"===O.skewType&&(f.scaleY*=Math.cos(f.skewX*j)),O.svg&&(v=O.xOrigin,_=O.yOrigin,f.x-=O.xOffset,f.y-=O.yOffset,(T.transformOrigin||T.svgOrigin)&&(C={},Ge(e,ue(T.transformOrigin),C,T.svgOrigin,T.smoothOrigin,!0),v=C.xOrigin,_=C.yOrigin,f.x-=C.xOffset-O.xOffset,f.y-=C.yOffset-O.yOffset),(v||_)&&(b=We(Q,!0),f.x-=v-(v*b[0]+_*b[2]),f.y-=_-(v*b[1]+_*b[3]))),H.body.removeChild(Q),f.perspective||(f.perspective=O.perspective),null!=T.xPercent&&(f.xPercent=le(T.xPercent,O.xPercent)),null!=T.yPercent&&(f.yPercent=le(T.yPercent,O.yPercent));else if("object"==typeof T){if(f={scaleX:le(null!=T.scaleX?T.scaleX:T.scale,O.scaleX),scaleY:le(null!=T.scaleY?T.scaleY:T.scale,O.scaleY),scaleZ:le(T.scaleZ,O.scaleZ),x:le(T.x,O.x),y:le(T.y,O.y),z:le(T.z,O.z),xPercent:le(T.xPercent,O.xPercent),yPercent:le(T.yPercent,O.yPercent),perspective:le(T.transformPerspective,O.perspective)},null!=(g=T.directionalRotation))if("object"==typeof g)for(h in g)T[h]=g[h];else T.rotation=g;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(f.x=0,f.xPercent=le(T.x,O.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(f.y=0,f.yPercent=le(T.y,O.yPercent)),f.rotation=fe("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:O.rotation,O.rotation,"rotation",S),Me&&(f.rotationX=fe("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",S),f.rotationY=fe("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",S)),f.skewX=fe(T.skewX,O.skewX),f.skewY=fe(T.skewY,O.skewY)}for(Me&&null!=T.force3D&&(O.force3D=T.force3D,p=!0),(d=O.force3D||O.z||O.rotationX||O.rotationY||f.z||f.rotationX||f.rotationY||f.perspective)||null==T.scale||(f.scaleZ=1);--x>-1;)((C=f[A=Ie[x]]-O[A])>1e-6||C<-1e-6||null!=T[A]||null!=F[A])&&(p=!0,o=new be(O,A,O[A],C,o),A in S&&(o.e=S[A]),o.xs0=0,o.plugin=s,r._overwriteProps.push(o.n));return C=T.transformOrigin,O.svg&&(C||T.svgOrigin)&&(v=O.xOffset,_=O.yOffset,Ge(e,ue(C),f,T.svgOrigin,T.smoothOrigin),o=Ae(O,"xOrigin",(w?O:f).xOrigin,f.xOrigin,o,"transformOrigin"),o=Ae(O,"yOrigin",(w?O:f).yOrigin,f.yOrigin,o,"transformOrigin"),v===O.xOffset&&_===O.yOffset||(o=Ae(O,"xOffset",w?v:O.xOffset,O.xOffset,o,"transformOrigin"),o=Ae(O,"yOffset",w?_:O.yOffset,O.yOffset,o,"transformOrigin")),C="0px 0px"),(C||Me&&d&&O.zOrigin)&&(Re?(p=!0,A=De,C=(C||ee(e,A,i,!1,"50% 50%"))+"",(o=new be(E,A,0,0,o,-1,"transformOrigin")).b=E[A],o.plugin=s,Me?(h=O.zOrigin,C=C.split(" "),O.zOrigin=(C.length>2&&(0===h||"0px"!==C[2])?parseFloat(C[2]):h)||0,o.xs0=o.e=C[0]+" "+(C[1]||"50%")+" 0px",(o=new be(O,"zOrigin",0,0,o,-1,o.n)).b=h,o.xs0=o.e=O.zOrigin):o.xs0=o.e=C):ue(C+"",O)),p&&(r._transformType=O.svg&&Oe||!d&&3!==this._transformType?2:3),c&&(u[n]=c),l&&(u.scale=l),o},prefix:!0}),Te("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Te("borderRadius",{defaultValue:"0px",parser:function(e,t,n,o,a,s){t=this.format(t);var u,c,l,f,h,d,p,g,v,m,y,_,b,A,w,E,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),u=t.split(" "),c=0;c<x.length;c++)this.p.indexOf("border")&&(x[c]=J(x[c])),-1!==(h=f=ee(e,x[c],i,!1,"0px")).indexOf(" ")&&(f=h.split(" "),h=f[0],f=f[1]),d=l=u[c],p=parseFloat(h),_=h.substr((p+"").length),(b="="===d.charAt(1))?(g=parseInt(d.charAt(0)+"1",10),d=d.substr(2),g*=parseFloat(d),y=d.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(d),y=d.substr((g+"").length)),""===y&&(y=r[n]||_),y!==_&&(A=te(e,"borderLeft",p,_),w=te(e,"borderTop",p,_),"%"===y?(h=A/v*100+"%",f=w/m*100+"%"):"em"===y?(h=A/(E=te(e,"borderLeft",1,"em"))+"em",f=w/E+"em"):(h=A+"px",f=w+"px"),b&&(d=parseFloat(h)+g+y,l=parseFloat(f)+g+y)),a=we(T,x[c],h+" "+f,d+" "+l,!1,"0px",a);return a},prefix:!0,formatter:me("0px 0px 0px 0px",!1,!0)}),Te("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,a){return we(e.style,n,this.format(ee(e,n,i,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:me("0px 0px",!1,!0)}),Te("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,o,a){var s,u,c,l,f,h,d="background-position",p=i||Z(e,null),g=this.format((p?v?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(h=ee(e,"backgroundImage").replace(P,""))&&"none"!==h){for(s=g.split(" "),u=m.split(" "),z.setAttribute("src",h),c=2;--c>-1;)(l=-1!==(g=s[c]).indexOf("%"))!==(-1!==u[c].indexOf("%"))&&(f=0===c?e.offsetWidth-z.width:e.offsetHeight-z.height,s[c]=l?parseFloat(g)/100*f+"px":parseFloat(g)/f*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,m,o,a)},formatter:ue}),Te("backgroundSize",{defaultValue:"0 0",formatter:function(e){return ue(-1===(e+="").indexOf(" ")?e+" "+e:e)}}),Te("perspective",{defaultValue:"0px",prefix:!0}),Te("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Te("transformStyle",{prefix:!0}),Te("backfaceVisibility",{prefix:!0}),Te("userSelect",{prefix:!0}),Te("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Te("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Te("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,o,a){var s,u,c;return v<9?(u=e.currentStyle,c=v<8?" ":",",s="rect("+u.clipTop+c+u.clipRight+c+u.clipBottom+c+u.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(ee(e,this.p,i,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),Te("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Te("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),Te("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,o,a){var s=ee(e,"borderTopWidth",i,!1,"0px"),u=this.format(t).split(" "),c=u[0].replace(E,"");return"px"!==c&&(s=parseFloat(s)/te(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",i,!1,"solid")+" "+ee(e,"borderTopColor",i,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ve)||["#000"])[0]}}),Te("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Te("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,i,-1,n,!1,0,a[s],t)}});var Ke=function(e){var t,n=this.t,r=n.filter||ee(this.data,"filter")||"",i=this.s+this.c*e|0;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!ee(this.data,"filter")):(n.filter=r.replace(S,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(x,"opacity="+i))};Te("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,o,a){var s=parseFloat(ee(e,"opacity",i,!1,"1")),u=e.style,c="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===ee(e,"visibility",i)&&0!==t&&(s=0),q?o=new be(u,"opacity",s,t-s,o):((o=new be(u,"opacity",100*s,100*(t-s),o)).xn1=c?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=Ke),c&&((o=new be(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var $e=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(C,"-$1").toLowerCase())):e.removeAttribute(t))},Je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:$e(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Te("className",{parser:function(e,t,r,o,a,s,u){var c,l,f,h,d,p=e.getAttribute("class")||"",g=e.style.cssText;if((a=o._classNamePT=new be(e,r,0,0,a,2)).setRatio=Je,a.pr=-11,n=!0,a.b=p,l=re(e,i),f=e._gsClassPT){for(h={},d=f.data;d;)h[d.p]=1,d=d._next;f.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:p.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=ie(e,l,re(e),u,h),e.setAttribute("class",p),a.data=c.firstMPT,e.style.cssText=g,a=a.xfirst=o.parse(e,c.difs,a,s)}});var Ze=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,i,o,a=this.t.style,s=c.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(r=(t=this.e.split(" ").join("").split(",")).length;--r>-1;)n=t[r],c[n]&&(c[n].parse===s?i=!0:n="transformOrigin"===n?De:c[n].p),$e(a,n);i&&($e(a,Re),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Te("clearProps",{parser:function(e,t,r,i,o){return(o=new be(e,r,0,0,o,2)).setRatio=Ze,o.e=t,o.pr=-10,o.data=i._tween,n=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),Ee=l.length;Ee--;)Se(l[Ee]);(l=a.prototype)._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(e,t,s,u){if(!e.nodeType)return!1;this._target=m=e,this._tween=s,this._vars=t,y=u,f=t.autoRound,n=!1,r=t.suffixMap||a.suffixMap,i=Z(e,""),o=this._overwriteProps;var l,p,v,_,b,A,w,E,x,S=e.style;if(h&&""===S.zIndex&&("auto"!==(l=ee(e,"zIndex",i))&&""!==l||this._addLazySet(S,"zIndex",0)),"string"==typeof t&&(_=S.cssText,l=re(e,i),S.cssText=_+";"+t,l=ie(e,l,re(e)).difs,!q&&T.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,S.cssText=_),t.className?this._firstPT=p=c.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=p=this.parse(e,t,null),this._transformType){for(x=3===this._transformType,Re?d&&(h=!0,""===S.zIndex&&("auto"!==(w=ee(e,"zIndex",i))&&""!==w||this._addLazySet(S,"zIndex",0)),g&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):S.zoom=1,v=p;v&&v._next;)v=v._next;E=new be(e,"transform",0,0,null,2),this._linkCSSP(E,null,v),E.setRatio=Re?Ye:Xe,E.data=this._transform||qe(e,i,!0),E.tween=s,E.pr=-1,o.pop()}if(n){for(;p;){for(A=p._next,v=_;v&&v.pr>p.pr;)v=v._next;(p._prev=v?v._prev:b)?p._prev._next=p:_=p,(p._next=v)?v._prev=p:b=p,p=A}this._firstPT=_}return!0},l.parse=function(e,t,n,o){var a,s,u,l,h,d,p,g,v,_,b=e.style;for(a in t){if("function"==typeof(d=t[a])&&(d=d(y,m)),s=c[a])n=s.parse(e,d,a,this,n,o,t);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(a)+"",d+"",a,!1,a);continue}h=ee(e,a,i)+"",v="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||v&&O.test(d)?(v||(d=((d=pe(d)).length>3?"rgba(":"rgb(")+d.join(",")+")"),n=we(b,a,h,d,!0,"transparent",n,0,o)):v&&M.test(d)?n=we(b,a,h,d,!0,null,n,0,o):(p=(u=parseFloat(h))||0===u?h.substr((u+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(u=se(e,a,i),p="px"):"left"===a||"top"===a?(u=ne(e,a,i),p="px"):(u="opacity"!==a?0:1,p="")),(_=v&&"="===d.charAt(1))?(l=parseInt(d.charAt(0)+"1",10),d=d.substr(2),l*=parseFloat(d),g=d.replace(E,"")):(l=parseFloat(d),g=v?d.replace(E,""):""),""===g&&(g=a in r?r[a]:p),d=l||0===l?(_?l+u:l)+g:t[a],p!==g&&(""===g&&"lineHeight"!==a||(l||0===l)&&u&&(u=te(e,a,u,p),"%"===g?(u/=te(e,a,100,"%")/100,!0!==t.strictUnits&&(h=u+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?u/=te(e,a,1,g):"px"!==g&&(l=te(e,a,l,g),g="px"),_&&(l||0===l)&&(d=l+u+g))),_&&(l+=u),!u&&0!==u||!l&&0!==l?void 0!==b[a]&&(d||d+""!="NaN"&&null!=d)?(n=new be(b,a,l||u||0,0,n,-1,a,!1,0,h,d)).xs0="none"!==d||"display"!==a&&-1===a.indexOf("Style")?d:h:Y("invalid "+a+" tween value: "+t[a]):(n=new be(b,a,u,l-u,n,0,a,!1!==f&&("px"===g||"zIndex"===a),0,h,d)).xs0=g)}o&&n&&!n.plugin&&(n.plugin=o)}return n},l.setRatio=function(e){var t,n,r,i=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;i;){if(t=i.c*e+i.s,i.r?t=Math.round(t):t<1e-6&&t>-1e-6&&(t=0),i.type)if(1===i.type)if(2===(r=i.l))i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(t=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=t+i.xs0;else i.t[i.p]=i.e;else i.setRatio(e);i=i._next}},l._enableTransforms=function(e){this._transform=this._transform||qe(this._target,i,!0),this._transformType=this._transform.svg&&Oe||!e&&3!==this._transformType?2:3};var et=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(e,t,n){var r=this._firstPT=new be(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=et,r.data=this},l._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},l._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},l._kill=function(t){var n,r,i,o=t;if(t.autoAlpha||t.alpha){for(r in o={},t)o[r]=t[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(n=this._classNamePT)&&((i=n.xfirst)&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(t),r=n.plugin),n=n._next;return e.prototype._kill.call(this,o)};var tt=function(e,t,n){var r,i,o,a;if(e.slice)for(i=e.length;--i>-1;)tt(e[i],t,n);else for(i=(r=e.childNodes).length;--i>-1;)a=(o=r[i]).type,o.style&&(t.push(re(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||tt(o,t,n)};return a.cascadeTo=function(e,n,r){var i,o,a,s,u=t.to(e,n,r),c=[u],l=[],f=[],h=[],d=t._internals.reservedProps;for(e=u._targets||u.target,tt(e,l,h),u.render(n,!0,!0),tt(e,f),u.render(0,!0,!0),u._enabled(!0),i=h.length;--i>-1;)if((o=ie(h[i],l[i],f[i])).firstMPT){for(a in o=o.difs,r)d[a]&&(o[a]=r[a]);for(a in s={},o)s[a]=l[i][a];c.push(t.fromTo(h[i],n,s,o))}return c},e.activate([a]),a}),!0)})),s._gsDefine&&s._gsQueue.pop()(),function(r){"use strict";var u=function(){return(s.GreenSockGlobals||s).CSSPlugin};e.exports?(n(73),e.exports=u()):(o=[n(73)],void 0===(a="function"==typeof(i=u)?i.apply(t,o):i)||(e.exports=a))}()}).call(this,n(48))},function(e,t,n){"use strict";n.r(t),n.d(t,"updatePreferences",(function(){return i}));var r=n(1);const i=e=>({type:r.PREFERENCES_UPDATE,payload:e})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.RetriablePromise=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(156),l=n(125),f=n(7);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return(0,i.default)(this,n),(r=t.call(this,e))._aborted=!1,r._retryAttempt=0,r._maxRetries=o,r._retryInterval=a,r._execute(),r}return(0,o.default)(n,[{key:"abort",value:function(){this._aborted=!0}},{key:"_execute",value:function(){var e=this;return new Promise(this._executor).then((function(){!e._aborted&&e._resolve.apply(e,arguments)})).catch(this._retry.bind(this))}},{key:"_retry",value:function(e){this._retryAttempt<this._maxRetries&&!this._aborted?(this._retryAttempt++,f.utilLogger.info("retrying promise, attempt number ".concat(this._retryAttempt)),new l.DelayedPromise(this._retryInterval).then(this._execute.bind(this))):(f.utilLogger.error("failed resolving the promise after ".concat(this._retryAttempt," retry attempts")),this._reject(e))}}]),n}(c.BaseCompositePromise);t.RetriablePromise=d},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"videoMonitor",(function(){return a}));var r=n(0),i=n(81);class o extends r.Emitter{constructor(){super(),i.cuepointDispatcher.videoMonitor=this,this.storedVideos={}}isPlaying(e){const t=this.storedVideos[e];return!(!t||t.videoElement.paused)}getProgress(e){const t=this.storedVideos[e];return{position:t?t.videoElement.currentTime:0}}register(e,t){this.emit("play",t),this.storedVideos[t]={videoElement:e,url:t}}unregister(e,t){const n=this.storedVideos[t];n&&(this.emit("end",e),i.cuepointDispatcher.destroyLoadedCues(n.url),delete this.storedVideos[t])}}const a=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAPPING=void 0;t.MAPPING={}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Character=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(45),h=n(212),d=n(60),p=n(124),g=n(7),v=n(26),m=n(8),y=n(30),_=n(6),b=n(116);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var w={};d.canvasUtil.setLibraryNames(p.GLOBAL);var E=function(e){(0,s.default)(n,e);var t=A(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this))._useCommunicators=d.canvasUtil.graphicsQuality===_.GRAPHICS_QUALITY.LOW,r._previousVolume=0,r._name=e,r._cache={},r._audioId=null,r._tweening=!1,l._.bindAll((0,o.default)(r),"onComplete","onCycleComplete","_change","_onTick"),r._name&&d.canvasUtil.setLibraryNames(w[r._name.toUpperCase()]),r}return(0,a.default)(n,null,[{key:"init",value:function(){var e,t=l._.get((0,y.getCheatState)(m.store.getState()),"quality",_.GRAPHICS_QUALITY.DEFAULT);if(t!==_.GRAPHICS_QUALITY.DEFAULT&&(d.canvasUtil.graphicsQuality=t),d.canvasUtil.graphicsQuality===_.GRAPHICS_QUALITY.LOW)e=Promise.resolve(w={PLORY:p.GLOBAL.Plory_Com,YOOP:p.GLOBAL.Yoop_Com});else{var n=(0,b.queryProvider)("character");if(!n||!n.load)throw new Error('The Character Provider "character" has not been correctly configured. The iFabric SDK will not be able to load the characters correctly.');e=n.load().then((function(e){w=e,v.preloadUtil.updateAndEase({pct:v.PROGRESS.CHARACTER_INIT,msg:"loaded characters"})}))}return e}}]),(0,a.default)(n,[{key:"_create",value:function(e){var t,n,r;if(this._useCommunicators)g.rendererLogger.time("create ".concat(this._name)),(t=new(w[this._name.toUpperCase()])).scaleX=3,t.scaleY=3,d.canvasUtil.optimize(t),t.scaleX=1,t.scaleY=1,n=t.duration-1,(r=l.createjs.Tween.get(t)).wait(n).call(this.onComplete),t.timeline.addTween(r),d.canvasUtil.optimize(t,!0,!0),this._communicator=t,g.rendererLogger.timeEnd("create ".concat(this._name));else{if(!l._.has(w[this._name.toUpperCase()],"".concat(this._name,"_").concat(e)))throw new Error("CHARACTERS[".concat(this._name.toUpperCase(),"] does not contain ").concat(this._name,"_").concat(e));g.rendererLogger.time("create ".concat(this._name,"_").concat(e)),t=new(w[this._name.toUpperCase()]["".concat(this._name,"_").concat(e)]);var i=l._.find(t.labels,{label:"end"});n=t.duration-1,r=l.createjs.Tween.get(t),i&&(n-=i.position,r=r.wait(i.position-1).call(this.onCycleComplete)),r.wait(n).call(this.onComplete),t.timeline.addTween(r),g.rendererLogger.timeEnd("create ".concat(this._name,"_").concat(e))}return t}},{key:"cache",value:function(e){this._useCommunicators||this._cache[e]?this._useCommunicators&&!this._communicator&&(this._communicator=this._create(e)):this._cache[e]=this._create(e)}},{key:"reset",value:function(){this._clean(),this._char&&this.removeChild(this._char),l._.forEach(this._cache,(function(e){return d.canvasUtil.recursivelyCleanDisplayObjects(e)})),this._cache={},this._char=null}},{key:"savePosition",value:function(){this._tweening||(this._savedPosition=l._.pick(this,"x","y","scaleX","scaleY","alpha","mask","rotation"),g.rendererLogger.info("Save ".concat(this._name),this._savedPosition)),this.saveParent()}},{key:"saveParent",value:function(){this._savedParent=this.parent}},{key:"restorePosition",value:function(){this._savedPosition&&!this._tweening&&(g.rendererLogger.info("Restore ".concat(this._name),this._savedPosition),l._.merge(this,this._savedPosition)),this._savedParent&&this.parent!==this._savedParent&&(g.rendererLogger.info("Restore ".concat(this._name," to parent"),this._savedParent),this._savedParent.addChild(this))}},{key:"play",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this._current=e,this._duration=r,this._char&&h.lipsyncUtil.cleanupCharacter(this._char),this._clean(),this.removeChild(this._char),this._useCommunicators?this._char=this._communicator||this._create(e):this._char=this._cache[e]||this._create(e),h.lipsyncUtil.setupMouths(this._char),this._cache[e]=this._char,this.addChild(this._char);var i=new Promise((function(e){return t=e})),o=this.on("complete",(function(){n.off("complete",o),t()}));if(this._char.duration>1){this._char.gotoAndPlay(0);var a=this.stage.name;f.animationUtil.addTimelineAnimation(a,this._char),this._removeTimelineAnimation=function(){f.animationUtil.removeTimelineAnimation(a,n._char)},this._duration>0&&(this._changeListener=this._char.timeline.on("change",this._change))}else this.onComplete();return this._silence(),i}},{key:"cycle",value:function(){this._char.gotoAndPlay("cycle")}},{key:"stop",value:function(){this._char&&(this._clean(),this._char.stop(),this._silence())}},{key:"invalidate",value:function(){}},{key:"advance",value:function(){if(this._char){if(!l._.has(this._char,"advance"))throw new Error("".concat(this._name,"_").concat(this._current," - has no timeline"));this._char.advance()}}},{key:"_onTick",value:function(){this._char&&this._name&&this._audioId&&h.lipsyncUtil.tick(this._char,this._name,this._audioId)}},{key:"_change",value:function(){-1!==this._duration&&--this._duration<=0&&this.onComplete()}},{key:"_clean",value:function(){this._char&&(this._char.duration>1&&l._.isFunction(this._removeTimelineAnimation)&&(this._removeTimelineAnimation(),this._removeTimelineAnimation=null),this._changeListener&&(this._char.timeline.off("change",this._changeListener),this._changeListener=null))}},{key:"_silence",value:function(){this._char&&this._char._mouths&&l._.forEach(this._char._mouths,(function(e){l._.isFunction(e.gotoAndStop)&&e.gotoAndStop(0)}))}},{key:"onCycleComplete",value:function(){this.dispatchEvent("cycle")}},{key:"onComplete",value:function(){this._duration<0&&(this._clean(),this.dispatchEvent("complete"))}},{key:"tweening",set:function(e){this._tweening=e}},{key:"audioId",set:function(e){if(this._audioId!==e){var t=!!this._audioId;this._audioId=e,this._audioId?f.animationUtil.on("tick",this._onTick):(this._silence(),t&&f.animationUtil.off("tick",this._onTick))}}},{key:"mouths",get:function(){return this._char&&this._char._mouths}}]),n}(l.createjs.Container);t.Character=E},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.lipsyncUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(34);function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/^[a-z]*_mouth_/i,f=["inheritor","parent","shape","text"],h=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"findCharacters",value:function(e){var t=[];for(var n in e)if(n.match(l)){var r=n.split("_")[0];-1===t.indexOf(r)&&t.push(r)}return t}},{key:"findCharacter",value:function(e,t){var n,r=u(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.clipName&&i.clipName.indexOf(t)>-1)return i}}catch(e){r.e(e)}finally{r.f()}return null}},{key:"setupMouths",value:function(e){e._mouths||(e._mouths=[]),a._.forEach(e,(function(t,n){t&&t.clipName&&!~f.indexOf(a._.head(n.split("_")))&&-1===e._mouths.indexOf(t)&&t.clipName.toLowerCase().indexOf("mouth")>-1&&(e._mouths.push(t),a._.forEach(t,(function(e,t){0===t.indexOf("instance")&&(e.paused=!0,e.autoReset=!0)})),a._.invokeMap(e._mouths,"gotoAndStop",0))}))}},{key:"tick",value:function(e,t,n){if(e._mouth=a._.last(a._.intersection(e._mouths,e.children).sort((function(e,t){return e.parent.getChildIndex(e)-t.parent.getChildIndex(t)}))),e&&n&&e._mouth){var r=s.audioPlayer.getAverageVolume(n)/("Plory"===t?3:1),i=e._mouth.duration,o=e._previousVolume-r;Math.abs(o)>=.3&&(r+=o/2);var u=Math.round(r*i);e._previousVolume=r,u!==e._mouth.currentFrame&&(e._mouth.gotoAndStop(u),e.invalidate&&e.invalidate())}}},{key:"cleanupCharacter",value:function(e){e._mouths&&(e._mouths=null),e._mouth=null}}]),e}());t.lipsyncUtil=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=function(e){if(!i.automationUtil.isAutomationRunning())return r._.shuffle(e);return e};var r=n(0),i=n(44)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredTask=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(28)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(0);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var d=function(e){(0,u.default)(n,e);var t=h(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this,e))._onRun=r||f._.noop,o._done=null,o._error=null,f._.bindAll((0,a.default)(o),"abort","done","error"),o}return(0,o.default)(n,[{key:"abort",value:function(){(0,s.default)((0,l.default)(n.prototype),"abort",this).call(this),this._done&&this.error()}},{key:"run",value:function(){var e=(0,s.default)((0,l.default)(n.prototype),"run",this).call(this);return this.paused||(this._aborted?this.error():this._onRun(this.id)),e}}]),n}(n(127).Task);t.DeferredTask=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getManifest=function(e){var t=e.ffw,n=e.contentRoot,r=[];t&&c._.isFunction(t.getManifest)&&(r=t.getManifest());return c._.each(r,(function(e){e.src.includes("http")||(e.src="".concat(n).concat(e.src))})),r},t.default=t.FFWAdapter=void 0;var i=r(n(4)),o=r(n(5)),a=n(7),s=n(22),u=n(34),c=n(0),l=n(62),f={play:u.audioPlayer.play,pause:u.audioPlayer.pause,resume:u.audioPlayer.resume,stop:u.audioPlayer.stop,isPlaying:u.audioPlayer.isPlaying};var h=function(){function e(t){var n=t.ffwURL,r=void 0===n?null:n,o=t.mode,a=void 0===o||o,s=t.container,u=t.disableHelp,l=void 0!==u&&u,f=t.widget,h=void 0===f?null:f;(0,i.default)(this,e),this.ffwURL=r||h.src,this.ffw=h,this.mode=a,this.container=s,this.paused=!1,this.contentRoot=r.substring(0,r.lastIndexOf("/")),this.disableHelp=l,this.manifest=[],c._.bindAll(this,"_handleTick"),c.createjs.Ticker.addEventListener("tick",this._handleTick)}return(0,o.default)(e,[{key:"init",value:function(e){var t=this,n=e.loadCB,r=void 0===n?function(){}:n,i=e.startCB,o=void 0===i?function(){}:i,u=e.pauseCB,c=void 0===u?function(){}:u,f=e.resumeCB,h=void 0===f?function(){}:f,d=e.completeCB,p=void 0===d?function(){}:d,g=e.destroyCB,v=void 0===g?function(){}:g;if(!this.ffw){var m=this;window.com.cainc.ifabric.registerFreeFormWidget=function(e){s.assetUtil.setFFWReference({src:m.ffwURL,ffw:e})}}a.utilLogger.info("Initializing FreeFormWidget..."),this.loadCB=r,this.startCB=o,this.pauseCB=c,this.resumeCB=h,this.completeCB=p,this.destroyCB=v,this.disableHelp&&l.screenActions.disableHelp(),this.ffw?this.load():this._loadFFWAsset(this.ffwURL).then((function(){return t.load()}))}},{key:"_loadFFWAsset",value:function(e){return s.assetUtil.loadAnimation(e).assetLoader.catch((function(e){a.utilLogger.error("Error Loading FreeFormWidget module, error: ".concat(e))})).then((function(){a.utilLogger.info("Loaded module from ".concat(e))}))}},{key:"_handleTick",value:function(e){this.paused!==e.paused&&(a.utilLogger.info("change in FreeFormWidget state, paused=".concat(e.paused)),this.paused=e.paused,e.paused?this.pause():this.resume())}},{key:"getManifest",value:function(){return e.getManifest({ffw:s.assetUtil.getFFWReference({src:this.ffwURL}),contentRoot:this.contentRoot})}},{key:"load",value:function(){var e={audioPlayer:f,mode:this.mode,contentRoot:this.contentRoot};a.utilLogger.info("Loading FreeFormWidget with mode: ".concat(this.mode?"interactive":"non-interactive")),this.ffw.load(e,this.loadCB),this.container.addChild(this.ffw),c._.has(this.ffw,"timer")?(c._.has(this.ffw.timer,"pause")||(this.ffw.timer.pause=function(){}),c._.has(this.ffw.timer,"resume")||(this.ffw.timer.resume=function(){}),c._.has(this.ffw.timer,"destroy")||(this.ffw.timer.destroy=function(){})):(this.ffw.timer={},this.ffw.timer.pause=function(){},this.ffw.timer.resume=function(){},this.ffw.timer.destroy=function(){})}},{key:"start",value:function(){a.utilLogger.info("Starting FreeFormWidget ..."),this.ffw.start(this.startCB)}},{key:"pause",value:function(){a.utilLogger.info("Pausing FreeFormWidget ..."),this.ffw.pause(this.pauseCB)}},{key:"resume",value:function(){a.utilLogger.info("Resuming FreeFormWidget ..."),this.ffw.resume(this.resumeCB)}},{key:"complete",value:function(){a.utilLogger.info("Completing FreeFormWidget Execution ..."),this.ffw.complete(this.completeCB)}},{key:"destroy",value:function(){a.utilLogger.info("Unmounting FreeFormWidget ..."),c.createjs.Ticker.removeEventListener("tick",this._handleTick);try{this.ffw.destroy(this.destroyCB)}catch(e){a.utilLogger.warn("Error occurred posibly from duplicated destroy call on FFW: ".concat(e.message))}this.disableHelp&&c._.defer(l.screenActions.enableHelp)}},{key:"ffw",set:function(e){e instanceof c.createjs.Container&&s.assetUtil.setFFWReference({src:this.ffwURL,ffw:e})},get:function(){return s.assetUtil.getFFWReference({src:this.ffwURL})}},{key:"widget",get:function(){return this.ffw}}]),e}();t.FFWAdapter=h;var d=h;t.default=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TextPart=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._minX=0,e._maxX=0,e._ascent=0,e._descent=0,e._width=0,e._height=0,e._parent=0,e._origin=null,e._highlight=new l.createjs.Shape,e}return(0,o.default)(n,[{key:"getText",value:function(){var e="";return l._.each(this.children,(function(t){t.character&&(e+=t.character)})),e}},{key:"reset",value:function(){var e=this;l._.each(this.children,(function(t){t.fillColor=e.parent.getColor()})),this._parent.autoCache&&this.updateCache()}},{key:"setColor",value:function(e){l._.each(this.children,(function(t){t.fillColor&&(t.fillColor=e)})),this._parent.autoCache&&this.cache()}},{key:"setHighlight",value:function(e){var t=this.getBounds();this._highlight.graphics.clear().beginFill(e).drawRect(t.x,t.y,t.width,t.height);var n=this.localToLocal(0,0,this._parent);this._highlight.set({x:n.x,y:n.y}),this._parent.addChildAt(this._highlight,0),this._parent.autoCache&&this.cache()}},{key:"setTransformPoint",value:function(e,t){var n=this.regX,r=this.regY,i={x:this._width*e,y:this._height*t+this._ascent};this.regX=i.x,this.regY=i.y,this.x+=i.x-n,this.y+=i.y-r}},{key:"getBounds",value:function(){return this._rectangle.setValues(this._minX,this._ascent,this._width,this._height)}},{key:"cache",value:function(){var e=this.getBounds();(0,a.default)((0,c.default)(n.prototype),"cache",this).call(this,e.x,e.y,e.width,e.height,1)}},{key:"uncache",value:function(){(0,a.default)((0,c.default)(n.prototype),"uncache",this).call(this)}},{key:"draw",value:function(e,t){if(this._parent.debug)this._drawDebug();else{var r=this.getChildByName("debug");r&&this.removeChild(r)}(0,a.default)((0,c.default)(n.prototype),"draw",this).call(this,e,t)}},{key:"_measure",value:function(){var e=this.children[0],t=this._parent._metrics.glyphs[e.character.charCodeAt(0)],n=this.children[this.children.length-1],r=this._parent._metrics.glyphs[n.character.charCodeAt(0)],i=this._parent._text.size/100,o=this._parent._boundsPadding;this._minX=t.minX*i-o,this._maxX=n.x+r.minX*i+r.width*i+2*o,this._width=this._maxX-this._minX,this._ascent=this._parent._metrics.trueAscent*i-o,this._descent=this._parent._metrics.trueDescent*i+2*o,this._height=this._descent-this._ascent}},{key:"_drawDebug",value:function(){var e=this.getBounds(),t=this.getChildByName("debug");t||((t=new l.createjs.Shape).name="debug"),t.graphics.clear().setStrokeStyle(1).beginStroke("rgba(255,0,0,.3)").drawRect(e.x,e.y,e.width,e.height).endStroke().beginStroke("#ff0000").drawCircle(this.regX,this.regY,2).endStroke(),this.addChild(t)}}]),n}(l.createjs.Container);t.TextPart=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnchorUtil",{enumerable:!0,get:function(){return i.default}});var i=r(n(218))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(436)),s=n(108),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"getAlignmentPoint",value:function(t,n,r,i){e._assertDisplayObject(t),e._assertDisplayObject(n),e._assertParent(t),e._assertParent(n);var o={x:n.x+i.x,y:n.y+i.y},a=n.parent.localToLocal(o.x,o.y,t.parent);return{x:a.x-r.x,y:a.y-r.y}}},{key:"getTransformedPoint",value:function(t,n){e._assertDisplayObject(t);var r=t.getBounds(),i=t.getMatrix();i.appendTransform(0,0,1,1,0,0,0,-r.x,-r.y);var o=i.transformPoint(n.x,n.y);return{x:o.x-t.x,y:o.y-t.y}}},{key:"mixinTextAnchors",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._assertTextWidget(t),t.anchors=t.anchors||new a.default(t);var n=-t.parts[0]._ascent;t.anchors.add("baselineLeft",(function(){var r={x:0,y:n};return e.getTransformedPoint(t,r)})),t.anchors.add("baselineCenter",(function(){var r={x:t.getBounds().width/2,y:n};return e.getTransformedPoint(t,r)})),t.anchors.add("baselineRight",(function(){var r={x:t.getBounds().width,y:n};return e.getTransformedPoint(t,r)}))}))}},{key:"mixinBaseAnchors",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._assertDisplayObject(t),t.anchors=t.anchors||new a.default(t),t.anchors.add("topLeft",(function(){return e.getTransformedPoint(t,{x:0,y:0})})),t.anchors.add("topCenter",(function(){var n={x:t.getBounds().width/2,y:0};return e.getTransformedPoint(t,n)})),t.anchors.add("topRight",(function(){var n={x:t.getBounds().width,y:0};return e.getTransformedPoint(t,n)})),t.anchors.add("centerLeft",(function(){var n={x:0,y:t.getBounds().height/2};return e.getTransformedPoint(t,n)})),t.anchors.add("bottomLeft",(function(){var n={x:0,y:t.getBounds().height};return e.getTransformedPoint(t,n)})),t.anchors.add("bottomCenter",(function(){var n=t.getBounds(),r={x:n.width/2,y:n.height};return e.getTransformedPoint(t,r)})),t.anchors.add("centerRight",(function(){var n=t.getBounds(),r={x:n.width,y:n.height/2};return e.getTransformedPoint(t,r)})),t.anchors.add("bottomRight",(function(){var n=t.getBounds(),r={x:n.width,y:n.height};return e.getTransformedPoint(t,r)})),t.anchors.add("center",(function(){var n=t.getBounds(),r={x:n.width/2,y:n.height/2};return e.getTransformedPoint(t,r)}))}))}},{key:"_assertDisplayObject",value:function(e,t){var n=t||"Object must be an instance of a display object";if(!(e instanceof createjs.DisplayObject))throw new Error(n,e)}},{key:"_assertTextWidget",value:function(e,t){var n=t||"Object must be an instance of a text widget";if(!(e instanceof s.TextWidget))throw new Error(n,e)}},{key:"_assertParent",value:function(e,t){var n=t||"Object must have a parent";if(!e.parent)throw new Error(n,e)}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.GreensockHelper=t.RUBBERBAND=t.EXIT=t.SPEED=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(58),u=n(35),c=n(7);n(438);var l={SLOW:"SLOW",NORMAL:"NORMAL",FAST:"FAST",SUPERFAST:"SUPERFAST"};t.SPEED=l;var f={RIGHT:"RIGHT",LEFT:"LEFT",TOP:"TOP",BOTTOM:"BOTTOM"};t.EXIT=f;var h={NONE:"NONE",AT_START:"AT_START",AT_END:"AT_END"};t.RUBBERBAND=h;var d="+",p=function(){function e(){(0,i.default)(this,e),this._data=[]}return(0,o.default)(e,[{key:"add",value:function(e){if(this.exists(e.target))throw new Error("A monitor object with the specified target already exists in the collection.",e.target);this._data.push(e)}},{key:"remove",value:function(e){if(!this.isEmpty){this._data=this._data.filter((function(t){return t!==e}))}}},{key:"stopAll",value:function(e){var t=this;if(c.utilLogger.info("[MonitorCollection.stopAll] stopping all jumpers",this._data),this.isEmpty)c.utilLogger.info("[MonitorCollection.stopAll] all jumpers stopped"),e();else{var n=function(){t.isEmpty&&(c.utilLogger.info("[MonitorCollection.stopAll] all jumpers stopped"),e())};this._data.forEach((function(e){e.stop(n)}))}}},{key:"exists",value:function(e){return a._.find(this._data,(function(t){return t.target===e}))}},{key:"jumperCount",get:function(){return this._data.length}},{key:"isEmpty",get:function(){return 0===this.jumperCount}}]),e}(),g=function(){function e(t){(0,i.default)(this,e),this._display=t,this._jumpers=new p}return(0,o.default)(e,[{key:"interruptJumps",value:function(e){this._jumpers.stopAll(e)}},{key:"configureBounce",value:function(e){var t=e.config,n=e.speed,r=void 0===n?l.NORMAL:n;return t.duration=this._speedToDuration(r),t.onUpdate=this._display.draw,t.ease=Bounce.easeOut,t}},{key:"configureFadeIn",value:function(e){var t=e.config,n=e.speed,r=void 0===n?l.FAST:n;return t.duration=this._speedToDuration(r),t.alpha=0,t}},{key:"configureSlide",value:function(e){var t=e.config,n=e.velocity,r=e.speed,i=void 0===r?l.FAST:r,o=e.rubberband,a=void 0===o?h.NONE:o;switch(n&&(n>0||"string"==typeof n)?(t.velocity=this._velocityFromSpeed(n),t.duration=1e3):t.duration=this._speedToDuration(i),t.onUpdate=this._display.draw,a){case h.NONE:t.ease=Power1.easeOut,t.timeFactor=1;break;case h.AT_START:t.ease=Back.easeIn.config(1.7),t.timeFactor=2.03354;break;case h.AT_END:t.ease=Back.easeOut.config(2),t.timeFactor=2.5268;break;default:throw new Error("Unhandled rubberband: ".concat(a))}return t}},{key:"popInAnimation",value:function(e){var t=this,n=e.target,r=e.scale,i=e.onComplete,o=this._speedToDuration(l.SUPERFAST);a.TweenLite.to(n,o,{alpha:1,scaleX:r,scaleY:r,onUpdate:this._display.draw,onComplete:function(){a.TweenLite.to(n,o,{scaleX:1,scaleY:1,onUpdate:t._display.draw,onComplete:i})}})}},{key:"scaleIn",value:function(e){var t=e.target,n=e.onComplete,r=!1;t.cacheId&&(t.uncache(),r=!0);var i={x:t.regX,y:t.regY},o=s.layoutUtil.getBounds(t);t.regX=o.width/2,t.regY=o.height/2,t.x+=t.regX,t.y+=t.regY;a.TweenMax.from(t,1,{scaleX:0,scaleY:0,ease:Back.easeOut,onUpdate:this._display.draw,onComplete:function(){r&&t.cache(),t.x-=t.regX,t.y-=t.regY,t.regX=i.x,t.regY=i.y,n()}})}},{key:"fadeInAnimation",value:function(e){var t=e.target,n=e.onComplete,r=e.alpha,i={alpha:void 0===r?1:r,onUpdate:this._display.draw,onComplete:n},o=this._speedToDuration(l.NORMAL);a.TweenLite.to(t,o,i)}},{key:"jump",value:function(e){var t=e.target,n=e.onComplete,r=e.times,i=void 0===r?1:r;c.utilLogger.info("[".concat(this.constructor.name,".jump]"),t),u.assertUtil.isNotNull(this.constructor.name,"jump","onComplete",n),this._jump({target:t,onComplete:n,times:i})}},{key:"jumpIndefinitely",value:function(e){var t=e.target,n=e.onJumpingStarted,r=e.onJumpingFinished;c.utilLogger.info("[".concat(this.constructor.name,".jumpIndefinitely]"),t);var i=this._jump({target:t,onComplete:r,times:1/0});return n(),i}},{key:"_jump",value:function(e){var t=this,n=e.target,r=e.onComplete,i=e.times;u.assertUtil.isNotNull(this.constructor.name,"_jump","target",n),u.assertUtil.isNumberGreaterThan(this.constructor.name,"_jump","times",i,0);var o=this._jumpers;if(o.exists(n))return c.utilLogger.info("[".concat(this.constructor.name,"._jump] target is already jumping. Disregarding."),n),null;var s=a._.uniqueId("jump_"),l={_jumpsCompleted:0,_continue:!0,_targetIdentifier:s,target:n,_onComplete:r,keepGoing:function(){return++l._jumpsCompleted<i||(l._continue=!1),l._continue},stop:function(e){u.assertUtil.isNotNull(this.constructor.name,"jump.stop","onStopComplete",e),c.utilLogger.info("[".concat(this.constructor.name,".jump.stop] stopping jumper ").concat(l._targetIdentifier),l);var t=l._onComplete;l._onComplete=function(){t&&t(),e()},l._continue=!1}},f=this._createJumpCycle(n),h=f.doJump;return f.downPhase.onComplete=function(){l.keepGoing()?h():(o.remove(l),c.utilLogger.info("[".concat(t.constructor.name,".jump] completed jumper ").concat(l._targetIdentifier,"; total active jumpers: ").concat(o.jumperCount),l),l._onComplete())},o.add(l),c.utilLogger.info("[".concat(this.constructor.name,".jump] starting jumper ").concat(s,"; total active jumpers: ").concat(o.jumperCount),l),h(),l}},{key:"_createJumpCycle",value:function(e){var t=this,n={y:e.y,ease:Power1.easeInOut};this.configureBounce({config:n}),delete n.duration;var r=function(){a.TweenLite.to(e,.25,n)};return{doJump:function(){a.TweenLite.to(e,.25,{ease:Power1.easeInOut,y:e.y-25,onUpdate:t._display.draw,onComplete:r})},downPhase:n}}},{key:"shake",value:function(e){for(var t,n=this,r=e.targets,i=e.onComplete,o=e.times,a=void 0===o?2:o,s=e.moveTime,u=void 0===s?.06:s,c=e.moveAmount,l=void 0===c?6:c,f=e.moveDirection,h=void 0===f?d:f,p=new TimelineMax({align:"start",onUpdate:function(){n._display.draw()},onComplete:i}),g=function(e){t="toEnd".concat(e),r.forEach((function(n,r){0===e&&(t=0,0===r&&(t=null)),p.to(n,u,{x:"".concat(h,"=").concat(l),yoyo:!0,repeat:1},t)})),h="+"===h?"-":"+",p.add("toEnd".concat(e))},v=0;v<2*a;v++)g(v)}},{key:"exit",value:function(e){var t=e.target,n=e.exit,r=e.onComplete,i=e.rubberband,o=void 0===i?h.NONE:i,s=e.speed,u=void 0===s?l.NORMAL:s,c={onComplete:r};switch(n){case f.LEFT:c.x=-this._display.WIDTH;break;case f.RIGHT:c.x=this._display.WIDTH;break;case f.TOP:c.y=-this._display.HEIGHT;break;case f.BOTTOM:c.y=this._display.HEIGHT+10;break;default:throw new Error("Unhandled exit: ".concat(n))}this.configureSlide({config:c,speed:u,rubberband:o}),a.TweenLite.to(t,c.duration,c)}},{key:"followBezierCurve",value:function(e){var t=this,n=e.target,r=e.curve,i=e.onComplete,o=e.onUpdate,s=e.duration,u=e.delay,c=e.easing,l=void 0===c?Power1.easeInOut:c,f=r.points||r||[];a.TweenMax.to(n,s||1,{bezier:f,ease:l,onComplete:i,delay:u,onUpdate:function(){o&&o(),t._display.draw()}})}},{key:"_speedToDuration",value:function(e){if(a._.isNumber(e))return e;switch(e){case l.SUPERFAST:return.25;case l.FAST:return.5;case l.NORMAL:return 1;case l.SLOW:return 1.5;default:throw new Error("Unhandled speed: ".concat(e))}}},{key:"_velocityFromSpeed",value:function(e){if(a._.isNumber(e))return e;switch(e){case l.SUPERFAST:return 1200;case l.FAST:return 600;case l.NORMAL:return 300;case l.SLOW:return 150;default:throw new Error("Unhandled speed: ".concat(e))}}}]),e}();t.GreensockHelper=g},function(e,t,n){var r=n(84),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(48))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(110),i=n(224),o=n(166);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(165),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(110),i=n(227),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(228),i=r&&new r;e.exports=i},function(e,t,n){var r=n(84)(n(49),"WeakMap");e.exports=r},function(e,t,n){var r=n(230),i=n(231),o=n(453),a=n(131),s=n(232),u=n(170),c=n(467),l=n(133),f=n(49);e.exports=function e(t,n,h,d,p,g,v,m,y,_){var b=128&n,A=1&n,w=2&n,E=24&n,x=512&n,T=w?void 0:a(t);return function S(){for(var O=arguments.length,C=Array(O),k=O;k--;)C[k]=arguments[k];if(E)var P=u(S),N=o(C,P);if(d&&(C=r(C,d,p,E)),g&&(C=i(C,g,v,E)),O-=N,E&&O<_){var I=l(C,P);return s(t,n,e,S.placeholder,h,C,I,m,y,_-O)}var R=A?h:this,L=w?R[t]:t;return O=C.length,m?C=c(C,m):x&&O>1&&C.reverse(),b&&y<O&&(C.length=y),this&&this!==f&&this instanceof S&&(L=T||a(L)),L.apply(R,C)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=n(a-s,0),f=Array(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=n(a-u,0),h=Array(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||o<a)&&(h[p+r[s]]=e[o++]);return h}},function(e,t,n){var r=n(454),i=n(235),o=n(236);e.exports=function(e,t,n,a,s,u,c,l,f,h){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var p=[e,t,s,d?u:void 0,d?c:void 0,d?void 0:u,d?void 0:c,l,f,h],g=n.apply(void 0,p);return r(e)&&i(g,p),g.placeholder=a,o(g,e,t)}},function(e,t,n){var r=n(227),i=n(455),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(132),i=n(168);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(226),i=n(225)(r);e.exports=i},function(e,t,n){var r=n(460),i=n(461),o=n(166),a=n(462);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var r=n(470);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(474),i=n(224),o=n(166);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(480)();e.exports=r},function(e,t,n){var r=n(481),i=n(135),o=n(41),a=n(171),s=n(111),u=n(172),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],g=p.length;for(var v in e)!t&&!c.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(513),i=n(76);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(514),i=n(247),o=n(517);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],y=t[p];if(a)var _=c?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==_){if(_)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(49).Uint8Array;e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(537),i=n(253);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(141),i=n(135),o=n(41),a=n(111),s=n(173),u=n(94);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||i(e))}},function(e,t,n){var r=n(130),i=n(113);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){var r=n(244)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(130),i=n(113),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(243),i=n(556),o=n(85);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(113),i=n(85),o=n(111),a=n(56);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PrefPanelContextProvider=t.PrefPanelContext=void 0;var i=r(n(23)),o=r(n(37)),a=n(27),s=n(32),u=n(18),c=n(0),l=n(96),f=n(9),h=n(180);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=c.React.createContext();t.PrefPanelContext=g;var v={AdditionalContent:null,isHidden:!0,isSlidingIn:!0,isSlidingOut:!1,onApply:c._.noop,onCancel:c._.noop,onShow:c._.noop,onHide:c._.noop,ccToggled:!1,revertToggles:!1,isLessonPaused:!1},m=function(e){var t=e.children,n=c.React.useState(v),r=(0,o.default)(n,2),a=r[0],d=r[1],m=(0,s.useDispatch)(),y=(0,s.useSelector)((function(e){return(0,f.getNavigationState)(e)})),_=function(e){c._.each(e,(function(e,t){a[t]=e}))};return l.playerApi.ui.prefPanel={set component(e){_({AdditionalContent:e})}},c.React.createElement(g.Provider,{value:{hidePrefPanel:function(e){h.focusUtil.suspended=!1,d(p(p({},a),{},{isSlidingIn:!1,isSlidingOut:!0,revertToggles:e})),a.isLessonPaused||m((0,u.unpause)())},onTogglePrefChanged:function(e){_((0,i.default)({},e,!a[e]))},prefPanelState:a,showPrefPanel:function(){h.focusUtil.suspended=!0,d(p(p({},a),{},{isSlidingIn:!0,isSlidingOut:!1,isHidden:!1,ccToggled:!1,revertToggles:!1,isLessonPaused:y.paused})),m((0,u.pause)())},setState:d,update:_}},t)};t.PrefPanelContextProvider=m,m.propTypes={children:a.PropTypes.oneOfType([a.PropTypes.array,a.PropTypes.element,a.PropTypes.object])}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;var i=r(n(37)),o=n(0),a=n(6),s=r(n(566)),u=function(e){var t=e.className,n=e.onClick,r=e.url,u=o.React.useState(),c=(0,i.default)(u,2),l=c[0],f=c[1];return o.React.createElement("div",{className:(0,o.classNames)(t,"cheat-toggle"),role:"presentation"},o.React.createElement("img",{alt:r?a.ACCESSIBILITY.LOGO:"","aria-hidden":o._.isEmpty(r),onClick:function(){n&&n()},src:l?s.default:r,onError:function(){return f(!0)}}))};t.Logo=u,u.propTypes={className:o.PropTypes.string,onClick:o.PropTypes.func,url:o.PropTypes.string}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ModalDialog=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(145)),l=n(0),f=n(8),h=n(40),d=n(263),p=n(96),g=n(9),v=n(578);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,a.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e))._yesButtonRef=l.React.createRef(),r._noButtonRef=l.React.createRef(),r._audioButtonRef=l.React.createRef(),r._onAfterOpen=function(){var e=r.props,t=e.modalAudio,n=e.onAfterOpen,i=e.audioButton,o=(0,g.isPaused)(f.store.getState());r.setState({pausedBeforeModal:o,modalAudioPlaying:!0}),i?r.audioButtonRef.focus():r.yesButtonRef.focus(),o||p.playerApi.navigation.pause(),t&&d.modalDialogUtil.playModalAudio(t),d.modalDialogUtil.audio.onended=function(){r.setState({modalAudioPlaying:!1})},n&&n()},r._onAfterClose=function(){var e=r.props.onAfterClose;r.state.pausedBeforeModal||p.playerApi.navigation.unpause(),d.modalDialogUtil.stopModalAudio(),e&&e()},r._onYesBtnClick=function(){var e=r.props.yesButton;r.hide(),e.onClick&&e.onClick()},r._onNoBtnClick=function(){var e=r.props.noButton;r.hide(),e.onClick&&e.onClick()},r._onAudioBtnClick=function(){var e=r.state.modalAudioPlaying,t=r.props.modalAudio;e?d.modalDialogUtil.stopModalAudio():(d.modalDialogUtil.playModalAudio(t),d.modalDialogUtil.audio.onended=function(){r.setState({modalAudioPlaying:!1})}),r.setState({modalAudioPlaying:!e})},r._handleKeyDown=function(e){var t=[r.noButtonRef.ref,r.yesButtonRef.ref];t.includes(e.target)&&t[e.shiftKey?0:1]!==e.target&&e.stopPropagation()},r.state={modalVisible:!0===e.isOpen,modalAudioPlaying:!1},r}return(0,o.default)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return Object.assign(t,{modalVisible:t.modalVisible||!0===e.isOpen})}},{key:"propTypes",get:function(){var e=l.PropTypes.shape({content:l.PropTypes.string,ariaLabel:l.PropTypes.string,onClick:l.PropTypes.func});return{id:l.PropTypes.string,isOpen:l.PropTypes.bool,appElement:l.PropTypes.instanceOf(window.HTMLElement),parentSelector:l.PropTypes.func,onAfterOpen:l.PropTypes.func,onAfterClose:l.PropTypes.func,className:l.PropTypes.string,modalAudio:l.PropTypes.string,modalText:l.PropTypes.string,imageClassName:l.PropTypes.string,yesButton:e,noButton:e,audioButton:e,allowShards:l.PropTypes.bool,contentLabel:l.PropTypes.string,ariaHideApp:l.PropTypes.bool}}},{key:"defaultProps",get:function(){return{appElement:document.getElementById("lesson"),parentSelector:function(){return document.querySelector("#container")},yesButton:{content:"Exit",ariaLabel:"Exit"},noButton:{content:"Continue",ariaLabel:"Continue"},allowShards:!0,contentLabel:"Modal",ariaHideApp:!0}}}]),(0,o.default)(n,[{key:"show",value:function(){this.setState({modalVisible:!0})}},{key:"hide",value:function(){this.setState({modalVisible:!1})}},{key:"render",value:function(){var e=this.state.modalVisible,t=this.props,n=t.yesButton,r=t.noButton,i=t.appElement,o=t.parentSelector,a=t.className,s=t.modalText,u=t.imageClassName,f=t.allowShards,d=t.audioButton,p=t.contentLabel,g=t.ariaHideApp;return l.React.createElement(l.ReactModal,{isOpen:e,onAfterOpen:this._onAfterOpen,onAfterClose:this._onAfterClose,appElement:i,parentSelector:o,className:"modalDisplay ".concat(a||""),overlayClassName:"modalOverlay ".concat(a||""),contentLabel:p,ariaHideApp:g},l.React.createElement("div",{role:"none",onKeyDown:f?this._handleKeyDown:l._.noop},l.React.createElement(c.default,{disabled:f},l.React.createElement("div",{className:u,"aria-hidden":"true"}),d&&l.React.createElement(h.Button,{ref:this._audioButtonRef,onClick:this._onAudioBtnClick,className:"modalAudioButton",tabIndex:0,"aria-label":d.ariaLabel,isHidden:!1},v.ModalAudioIcon),l.React.createElement("p",{className:"modalBody",dangerouslySetInnerHTML:{__html:s}}),l.React.createElement(h.Button,{content:n.content,ref:this._yesButtonRef,onClick:this._onYesBtnClick,className:"yesButtonConfirmModal ".concat(a||""),tabIndex:0,"aria-label":n.ariaLabel,isHidden:!1}),l.React.createElement(h.Button,{content:r.content,ref:this._noButtonRef,onClick:this._onNoBtnClick,className:"noButtonConfirmModal ".concat(a||""),tabIndex:0,"aria-label":r.ariaLabel,isHidden:!1}))))}},{key:"yesButtonRef",get:function(){return this._yesButtonRef.current}},{key:"noButtonRef",get:function(){return this._noButtonRef.current}},{key:"audioButtonRef",get:function(){return this._audioButtonRef.current}}]),n}(l.React.Component);t.ModalDialog=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.modalDialogUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(75),s=n(44),u=new(function(){function e(){var t=this;(0,i.default)(this,e),this.playModalAudio=function(e){t.stopModalAudio();var n="".concat((0,a.getPathFromConfig)("globalAudio")).concat(e,".mp3");t._audio=document.createElement("audio"),t._audio.src=n,t._audio.style.display="none",t._audio.autoplay=!0,document.body.appendChild(t._audio);var r={url:n,completed:!1};t._audio.onended=function(){return r.completed=!0},t._audio.onloadeddata=function(){t._audio&&(r.length=t._audio.duration)},s.automationUtil.recordNewSoundPlayed(r)},this.stopModalAudio=function(){t._audio&&(t._audio.remove(),t._audio=null)},this._audio=null}return(0,o.default)(e,[{key:"audio",get:function(){return this._audio}}]),e}());t.modalDialogUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(0),f=n(579),h=n(69),d=n(18),p=n(9),g=n(6),v=n(59),m=n(40);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var _=g.BUTTONS.BOTTOM_BAR.PLAY_PAUSE,b=function(e){(0,a.default)(n,e);var t=y(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e))._onKeydownEvent=function(e){var t=r.props,n=t.visible,i=t.keyEventsHandler;n&&i(e)},r.dimmerRef=l.React.createRef(),r.dimmerBtnRef=l.React.createRef(),r}return(0,o.default)(n,null,[{key:"propTypes",get:function(){return{visible:l.PropTypes.bool,icon:l.PropTypes.string,keyEventsHandler:l.PropTypes.func,dispatchTogglePause:l.PropTypes.func,isNavShown:l.PropTypes.bool,isPrefPanelOpen:l.PropTypes.bool,footerClassName:l.PropTypes.string}}},{key:"defaultProps",get:function(){return{visible:!1,keyEventsHandler:l._.noop}}}]),(0,o.default)(n,[{key:"componentDidMount",value:function(){h.eventManager.on("keydown:".concat(h.GLOBAL_CONTEXT),this._onKeydownEvent),this._toggle()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.visible,r=t.isPrefPanelOpen;e.visible!==n&&this._toggle(e),e.isPrefPanelOpen!==r&&this._toggle(e)}},{key:"componentWillUnmount",value:function(){h.eventManager.off("keydown:".concat(h.GLOBAL_CONTEXT),this._onKeydownEvent)}},{key:"_setFocusOnButton",value:function(){this.dimmerBtnRef.current&&(this.dimmerBtnRef.current.focus(),this.context&&(0,this.context.registerFocusShards)(g.BUTTONS.CONTINUE_BTN,[this.dimmerBtnRef]))}},{key:"_toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPrefPanelOpen:!1},t=this.props.visible;t?(this.dimmer.classList.add("fade-in"),this._setFocusOnButton()):(this.dimmer.classList.remove("fade-in"),e.isPrefPanelOpen||document.getElementById(_)&&document.getElementById(_).focus())}},{key:"render",value:function(){var e=l.React.createElement(l.React.Fragment,null),t=this.props,n=t.icon,r=t.dispatchTogglePause,i=t.isNavShown,o=t.footerClassName,a=t.isPrefPanelOpen,s=(0,l.classNames)("dimmer",{"full-screen-dimmer-overlay":o&&(o.includes("two-fifths")||o.includes("open-panel")),"full-app-dimmer-overlay":a});switch(!0){case i:e=l.React.createElement(f.NavPopover,null);break;case"loading"===n:e=l.React.createElement("div",{className:"loader"});break;case"paused"===n&&a:e=l.React.createElement(l.React.Fragment,null);break;case"paused"===n:e=l.React.createElement(m.Button,{"aria-label":g.ACCESSIBILITY.CONTINUE_BTN,className:"pause",id:g.BUTTONS.CONTINUE_BTN,onClick:r,forwardedRef:this.dimmerBtnRef,tabIndex:0,type:"button"})}return l.React.createElement("div",{id:"dimmer",ref:this.dimmerRef,className:s},e)}},{key:"dimmer",get:function(){return this.dimmerRef.current}}]),n}(l.React.Component);b.contextType=v.UIContext;var A=(0,c.connect)((function(e){var t=(0,p.getNavigationState)(e);return{isNavShown:t.showNavPopover,footerClassName:t.footerClassName}}),(function(e){return{dispatchTogglePause:function(){return e((0,d.togglePause)())}}}))(b);t.default=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionProcessor=t.UNINITIALIZED_PART_INDEX=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(266),h=n(184),d=n(35),p=n(7),g=n(19),v=n(79);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}t.UNINITIALIZED_PART_INDEX=-1;var y=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var r,o=e.style,a=e.screen,s=e.section;return(0,i.default)(this,n),(r=t.call(this,{style:o,screen:a,section:s}))._preTryAgainFeedback=l._.noop,r._postTryAgainFeedback=l._.noop,r._preCorrectFeedback=l._.noop,r._postCorrectFeedback=l._.noop,r._preIncorrectFeedback=l._.noop,r._postIncorrectFeedback=l._.noop,r}return(0,o.default)(n,[{key:"ready",value:function(e){if(this.model.complete)throw new Error("This processor does not handle items that are in the completed state. Handle drawing the completed state in the renderer");this._init(),this._goToNextPart(e),g.dataCaptureUtil.sendEvent({type:g.DC_EVENT_TYPES.SCREEN,payload:g.DC_EVENT_PAYLOADS.START,contextData:{screen:this.screen,partNum:this._currentPartIndex+1}})}},{key:"select",value:function(e,t){this.stageSelection(t),this.withDoneButton()?this._shouldShowDoneButton&&(this._doDoneButtonEnablement(e),e.showDoneButton(this.autoHideDone)):this.done(e)}},{key:"deselect",value:function(e,t){this.unstageSelection(t),this.withDoneButton()?this._doDoneButtonEnablement(e):this.done(e)}},{key:"done",value:function(e){e.disableUI(),e.disableDoneButton(),this._commit(e);var t=this._evaluateOperation(),n=t.isCorrect,r=t.isFinalIncorrect,i=this._isComplete(n,r);this._deliverFeedback(e,t),(n||r)&&this.incrementScore({isCorrect:n,attempt:this.attempt});try{this.sendDcResponseEvent(n)}catch(e){p.processorLogger.error("Error obtaining or sending payload",e)}this.postDone(e,{isComplete:i,isCorrect:n,isFinalIncorrect:r})}},{key:"sendDcResponseEvent",value:function(e){var t=this.getCommittedSelections(),n=this.selectionToPayloadBuilder(t[t.length-1]);n.correct=e,n.currentScreenScore=this.score,n.maxScreenScore=this.maxScore;var r={screen:this.screen,partNum:this._currentPartIndex+1,attemptNum:this.attempt};g.dataCaptureUtil.sendEvent({type:g.DC_EVENT_TYPES.RESPONSE,payload:function(){return n},contextData:r});var i=n.payload,o=this.dcResponseToShareData(i,r);o&&v.dataShareUtil.persistSharedData(o,r.screen.id)}},{key:"dcResponseToShareData",value:function(e,t){return v.dataShareUtil.dcResponseToShareData(e,t)}},{key:"selectionToPayloadBuilder",value:function(e){throw new Error("Subclass must override selectionToPayloadBuilder")}},{key:"postDone",value:function(e,t){var n=t.isComplete,r=(t.isCorrect,t.isFinalIncorrect);this._isFinalIncorrect=r,this._amComplete=n,this.isLastPart()&&n?(e.hideDoneButton(),e.completeScreen({raw:this.score,min:0,max:this.maxScore})):n?this._goToNextPart(e):r?(this._onPostDoneFinalIncorrect(e),this.withDoneButton()&&this._doDoneButtonEnablement(e),e.enableUI()):(this.withDoneButton()&&this._doDoneButtonEnablement(e),e.enableUI())}},{key:"_init",value:function(){this._currentPartIndex=-1}},{key:"_doDoneButtonEnablement",value:function(e){this.shouldEnableDoneButton()?e.enableDoneButton():e.disableDoneButton()}},{key:"_isComplete",value:function(e,t){return e||t}},{key:"_commit",value:function(e){this.attempt=this.incrementAttempts(),d.assertUtil.isNumberGreaterThan(this.constructor.name,"_commitAndFeedback","attempt",this.attempt,0,!1,"incrementAttempts must return the incremented attempt number"),this.getCommittedSelections().push(this.getStagedSelection())}},{key:"_evaluateOperation",value:function(){var e={};return e.isCorrect=this.isCorrect(this.getStagedSelection()),e.isFinalIncorrect=!e.isCorrect&&this.attempt===this.getMaxAttempts(),e}},{key:"_deliverFeedback",value:function(e,t){var n,r,i=this.comparator,o=this.style.feedback,a=this.getScreenFeedback(),s=t.isCorrect,u=t.isFinalIncorrect,c={sequencer:e,response:this.getStagedSelection(),isCorrect:s,attempt:this.attempt,maxAttempts:this.getMaxAttempts(),feedbackDef:a,styleFeedbackDef:o,comparator:i};s?(n=this.preCorrectFeedback,r=this.postCorrectFeedback):u?(n=this.preIncorrectFeedback,r=this.postIncorrectFeedback):(n=this.preTryAgainFeedback,r=this.postTryAgainFeedback),this.playFeedback({preFeedback:n,feedbackParams:c,postFeedback:r,seq:e})}},{key:"_goToNextPart",value:function(e){e.disableUI(),this._isFinalIncorrect=!1,this._amComplete=!1,this._currentPartIndex>-1&&this.exitPart(e,this._currentPartIndex),this.clearStagingArea(),++this._currentPartIndex,this.readyPart(e,this._currentPartIndex),e.enableUI()}},{key:"playFeedback",value:function(e){var t=e.preFeedback,n=e.feedbackParams,r=e.postFeedback,i=e.seq;t.call(this,i),h.feedbackUtil.getFeedback(n),r.call(this,i)}},{key:"incrementScore",value:function(e){var t=e.isCorrect,r=e.attempt;t&&1===r&&(0,a.default)((0,c.default)(n.prototype),"incrementScore",this).call(this,1)}},{key:"_onPostDoneFinalIncorrect",value:function(e){}},{key:"readyPart",value:function(e,t){throw new Error("Handler not specified for readyPart")}},{key:"isCorrect",value:function(e){throw new Error("Subclass must implement isCorrect")}},{key:"withDoneButton",value:function(){throw new Error("Subclass must implement get withDoneButton")}},{key:"shouldEnableDoneButton",value:function(){throw new Error("Subclass must implement shouldEnableDoneButton. If you used one of the MathOrchestratorUtil.mixinStaging methods, note that they have a manageDoneButtonEnablement option, which will mix an implementation of this method in for you.")}},{key:"clearStagingArea",value:function(){throw new Error("Subclass must implement clearStagingArea.")}},{key:"stageSelection",value:function(e){throw new Error("Subclass must implement stageSelection.")}},{key:"unstageSelection",value:function(e){throw new Error("Subclass must implement unstageSelection.")}},{key:"getStagedSelection",value:function(){throw new Error("Subclass must implement get getStagedSelection.")}},{key:"getCommittedSelections",value:function(){throw new Error("Subclass must implement getCommittedSelections.")}},{key:"incrementAttempts",value:function(){throw new Error("Subclass must implement incrementAttempts.")}},{key:"getMaxAttempts",value:function(){throw new Error("Subclass must implement getMaxAttempts.")}},{key:"getScreenFeedback",value:function(){throw new Error("Subclass must implement getScreenFeedback.")}},{key:"isLastPart",value:function(){return!0}},{key:"currentPartIndex",get:function(){return this._currentPartIndex}},{key:"_shouldShowDoneButton",get:function(){return!0}},{key:"attempt",get:function(){return this.getCurrentStatePart?this.getCurrentStatePart().feedback.attempt:this._attempt||0},set:function(e){this.getCurrentStatePart?this.getCurrentStatePart().feedback.attempt=e:this._attempt=e}},{key:"isFinalIncorrect",get:function(){return this._isFinalIncorrect}},{key:"isComplete",get:function(){return this._amComplete}},{key:"comparator",get:function(){return this._comparator},set:function(e){this._comparator=e}},{key:"preTryAgainFeedback",get:function(){return this._preTryAgainFeedback||l._.noop},set:function(e){this._preTryAgainFeedback=e}},{key:"postTryAgainFeedback",get:function(){return this._postTryAgainFeedback||l._.noop},set:function(e){this._postTryAgainFeedback=e}},{key:"preCorrectFeedback",get:function(){return this._preCorrectFeedback||l._.noop},set:function(e){this._preCorrectFeedback=e}},{key:"postCorrectFeedback",get:function(){return this._postCorrectFeedback||l._.noop},set:function(e){this._postCorrectFeedback=e}},{key:"preIncorrectFeedback",get:function(){return this._preIncorrectFeedback||l._.noop},set:function(e){this._preIncorrectFeedback=e}},{key:"postIncorrectFeedback",get:function(){return this._postIncorrectFeedback||l._.noop},set:function(e){this._postIncorrectFeedback=e}},{key:"exitPart",get:function(){return this._exitPart||l._.noop},set:function(e){this._exitPart=e}},{key:"maxScore",get:function(){return this._maxScore},set:function(e){this._maxScore=e}}],[{key:"uninitializedPartIndex",get:function(){return-1}}]),n}(f.BaseProcessor);t.SelectionProcessor=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProcessor=void 0;var i=r(n(4)),o=r(n(5)),a=n(7),s=n(0),u=n(64),c=a.processorLogger,l=function(){function e(t){var n=t.style,r=t.screen,o=t.section;(0,i.default)(this,e),this.screen=r,this.style=n,this.section=o,this.autoProgressOnFinish=!1}return(0,o.default)(e,[{key:"init",value:function(){this.maxScore=this.isScorable?1:0}},{key:"incrementScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.score+e;this.model.result.score=s._.clamp(t,0,this.maxScore),s._.inRange(t,0,this.maxScore+1)||c.error("[incrementScore] Invalid score received: ".concat(t,", max score is: ").concat(this.maxScore))}},{key:"isScorable",get:function(){return this.isInQuizSection}},{key:"isInQuizSection",get:function(){return u.navSectionUtil.isQuiz(this.section)}},{key:"maxScore",get:function(){return this.model.result.max},set:function(e){this.model.result.max=e}},{key:"model",get:function(){return this._model},set:function(e){this._model=e}},{key:"score",get:function(){return this.model.result.score}},{key:"autoProgressOnFinish",get:function(){return this._autoProgressOnFinish},set:function(e){this._autoProgressOnFinish=e}}]),e}();t.BaseProcessor=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweenUtil=void 0;var r=new(n(608).TweenUtility);t.tweenUtil=r},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioBtn=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(62),f=n(83),h=n(124),d=n(16);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g="play",v="stop",m="disable",y="loading",_=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"init",value:function(){(0,a.default)((0,c.default)(n.prototype),"init",this).call(this),this.on("mousedown",this.audioBtnStopPropagation.bind(this)),this.on("pressmove",this.audioBtnStopPropagation.bind(this)),this.on("pressup",this.audioBtnStopPropagation.bind(this)),this.skin=this._createSkin(),this.skin.stop(),this.addChild(this.skin),this.disableClickHandler=!1}},{key:"_onUpdate",value:function(e){e.locked||!this.enabled?this.skin.gotoAndStop(m):e.loading?this.skin.gotoAndStop(y):e.playing?this.skin.gotoAndStop(v):this.skin.gotoAndStop(g)}},{key:"isAutomationRunning",value:function(){return d.environmentUtil.isAutomationRunning()}},{key:"onClick",value:function(){if(!this.disableClickHandler){var e=this.skin.currentLabel;e===g?l.audioActions.start(this.assetInfo):e===v&&l.audioActions.stop()}}},{key:"audioBtnStopPropagation",value:function(e){e.stopPropagation(),"mousedown"===e.type&&this.onClick(e)}},{key:"_createSkin",value:function(){return new h.GLOBAL.AudioBtnSkin}}]),n}(f.Widget);t.AudioBtn=_},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.GraphingFunction=void 0;var i=r(n(616)),o=r(n(39)),a=r(n(4)),s=r(n(5)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(35);function h(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e){(0,u.default)(n,e);var t=d(n);function n(e){var r,i=e.f,o=e.a,s=e.b,u=e.color,c=e.thickness,l=e.shadow;return(0,a.default)(this,n),(r=t.call(this))._validate(i,o,s,u,c),r.f=r._createFunctionWithIntervalValidation(i,o,s),r.interval={a:o,b:s},r._drawF(c,u,l),r}return(0,s.default)(n,[{key:"_drawF",value:function(e,t,n){for(var r=this.interval,a=r.a,s=r.b,u=this.f,c=(new createjs.Graphics).ss(e,1).s(t).mt(a,u(a)),l=a+1;l<=s;l+=1)c.lt(l,u(l));c.es();var f=new createjs.Shape(c);n&&(f.shadow=(0,i.default)(createjs.Shadow,h(o.default,n))),this.addChild(f)}},{key:"_applyExtremeValueTheorem",value:function(e,t,n){}},{key:"_createFunctionWithIntervalValidation",value:function(e,t,n){return function(r){if(r<t||r>n)throw new Error("x: ".concat(r," is out of bounds. Make sure your value is within the function's domain [").concat(t,", ").concat(n,"]."));return e(r)}}},{key:"_validate",value:function(e,t,n,r,i){if(f.assertUtil.isFunction(this.constructor.name,"constructor","f",e),f.assertUtil.isNumber(this.constructor.name,"constructor","a",t),f.assertUtil.isNumber(this.constructor.name,"constructor","b",n),f.assertUtil.isNumber(this.constructor.name,"constructor","thickness",i),f.assertUtil.isNumberGreaterEqualTo(this.constructor.name,"constructor","b",n,t),"number"!=typeof e(1))throw new Error("Function f must return a number. Example linear function: f: (x) => x")}}]),n}(createjs.Container);t.GraphingFunction=p},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.fx=void 0;var i=r(n(4)),o=r(n(5)),a=n(621),s=n(622),u=n(623),c=n(624),l=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"confetti",value:function(e){var t=e.element,n=e.numParticles,r=e.gravity,i=e.onUpdate,o=e.onComplete;return new a.Confetti({element:t,numParticles:n,gravity:r,onUpdate:i,onComplete:o})}},{key:"beam",value:function(e){var t=e.element,n=e.bounds,r=e.duration,i=e.direction,o=e.tint,a=e.onUpdate,s=e.onComplete;return new u.Beam({element:t,bounds:n,duration:r,direction:i,tint:o,onUpdate:a,onComplete:s})}},{key:"slime",value:function(e){var t=e.element,n=e.initPos,r=e.finalPos,i=e.color,o=e.onUpdate,a=e.onComplete;return new s.Slime({element:t,initPos:n,finalPos:r,color:i,onUpdate:o,onComplete:a})}},{key:"spotLight",value:function(e){var t=e.element,n=e.bounds;return new c.SpotLight({element:t,bounds:n})}}]),e}());t.fx=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeText=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=c(n);function n(e){var r,o=e.assetInfo,a=e.display,s=e.background,u=e.audioInfo,c=e.textOptions,l=void 0===c?{}:c,f=e.registerForUpdates;return(0,i.default)(this,n),(r=t.call(this,{assetInfo:o,display:a,background:s,audioInfo:u}))._textOptions=l,r._registerForUpdates=f,r}return(0,o.default)(n,[{key:"_createContentElement",value:function(){var e=this._widgetFactory.createTextWidget({textInfo:this.assetInfo,textOptions:this._textOptions,background:this.background});return this._registerForUpdates&&this._registrables.push(e),e}},{key:"textVisible",get:function(){return this.contentVisible},set:function(e){this.contentVisible=e}},{key:"textColor",get:function(){return this._content.getColor()},set:function(e){this._content.setColor(e)}},{key:"content",get:function(){return this._content}}]),n}(n(115).CompositeWidget);t.CompositeText=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeImage=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"cache",value:function(){var e=this._background,t=e.bg,n=e.fg,r=this._content,i=e.nominalBounds,o=r.getBounds();n&&this._cacheDisplayObject(n,i),t&&this._cacheDisplayObject(t,i),n||t||this._cacheDisplayObject(e,i),o&&this._cacheDisplayObject(r,o)}},{key:"_cacheDisplayObject",value:function(e,t){e.cache(t.x,t.y,t.width,t.height)}},{key:"_createContentElement",value:function(){return this._image=this._widgetFactory.createBitmap({imageInfo:this.assetInfo}),this._image}},{key:"imageVisible",get:function(){return this._image.visible},set:function(e){this._image.visible=e}}]),n}(n(115).CompositeWidget);t.CompositeImage=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TextOption=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"_createContentElement",value:function(){return this._widgetFactory.createTextWidget({textInfo:this.assetInfo,background:this.background,textOptions:this._textOptions})}}]),n}(n(186).Option);t.TextOption=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLTextWidget=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(77);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e.id),l._.bindAll((0,a.default)(r),"_onMouseDown","_onRemoved"),r.on("added",r.draw),r.on("removed",r._onRemoved),r.assetId=e.id,r.htmlElement.addEventListener("mousedown",r._onMouseDown),r}return(0,o.default)(n,[{key:"draw",value:function(){this._handleDrawEnd()}},{key:"applyClass",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=f.htmlUtil.find(this.htmlElement,n);l._.forEach(r,(function(n){n.textContent.match(new RegExp("^".concat(e,"$"),"i"))&&f.htmlUtil.addClass(n,t)}))}},{key:"resetSpans",value:function(e){var t=f.htmlUtil.find(this.htmlElement,"span");l._.forEach(t,(function(t){t.textContent.match(new RegExp("^".concat(e,"$"),"i"))&&(f.htmlUtil.removeClass(t,"highlight"),f.htmlUtil.removeClass(t,"highlight-2"),f.htmlUtil.removeClass(t,"clicked"),f.htmlUtil.removeClass(t,"color"))}))}},{key:"_onMouseDown",value:function(e){var t=[],n=e.target.innerText,r=e.target;for(e.stopImmediatePropagation();r!==this.htmlElement;)"span"===r.nodeName.toLowerCase()&&t.push(r),r=r.parentNode;var i=new l.createjs.Event("click");l._.merge(i,{text:n,spans:t}),this.dispatchEvent(i)}},{key:"_onRemoved",value:function(){this.htmlElement.style.visibility="hidden"}},{key:"width",set:function(e){this.htmlElement.style.width="".concat(e,"px")}},{key:"height",set:function(e){this.htmlElement.style.height="".concat(e,"px")}},{key:"lines",get:function(){var e=l._.reduce(this.htmlElement.children,(function(e,t){return e+t.offsetHeight}),0),t=l._.ceil(e/45);return l._.min([5,t])}}]),n}(l.createjs.DOMElement);t.HTMLTextWidget=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageOption=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"_createContentElement",value:function(){return this._widgetFactory.createBitmap({imageInfo:this.assetInfo})}}]),n}(n(186).Option);t.ImageOption=l},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.GenericContainer=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(115),h=n(161);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var p={},g=function(e){(0,s.default)(n,e);var t=d(n);function n(e){var r,o=e.display,a=e.background,s=e.audioInfo,u=e.content,c=e.preprocessor,l=e.layoutHelper;return(0,i.default)(this,n),(r=t.call(this,{assetInfo:p,display:o,background:a,audioInfo:s}))._content=u,r._layoutHelper=l,r._preprocessor=c,r}return(0,o.default)(n,[{key:"_createContentElement",value:function(){return this._content}},{key:"_findBestFitPlacement",value:function(){return 0}},{key:"_addContentToPlacement",value:function(){this._content&&(this._preprocessor&&this._preprocessor(this._content,this.placement),l._.isArray(this._content)?this._layoutHelper?this._layoutContentArrayWithHelper(this._layoutHelper):this._layoutContentArray():(0,a.default)((0,c.default)(n.prototype),"_addContentToPlacement",this).call(this))}},{key:"_layoutContentArray",value:function(){var e,t=this;this._content.forEach((function(n){t.placement.addChild(n),n.positionRelativeTo(e,{top:h.ANCHOR_BOTTOM.plus(10)}),e=n}))}},{key:"_layoutContentArrayWithHelper",value:function(e){var t,n=this;this._content.forEach((function(r,i){e(r,t,i,n.placement),n.placement.addChild(r),t=r}))}},{key:"contentVisible",get:function(){return this.placement.visible},set:function(e){this.placement.visible=e}},{key:"content",get:function(){return l._.isArray(this._content)?this._content.slice():this._content}},{key:"registrables",get:function(){var e=(0,a.default)((0,c.default)(n.prototype),"registrables",this);return this._content&&(l._.isArray(this._content)?this._content.forEach((function(t){e=e.concat(t.registrables)})):e=e.concat(this._content.registrables)),e}}]),n}(f.CompositeWidget);t.GenericContainer=g},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Graphic=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(58),l=n(83),f=n(0);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var r,o=e.asset,a=e.isAnimatable;return(0,i.default)(this,n),(r=t.call(this))._asset=o,r._isAnimatable=a,a&&r._asset.stop(),r}return(0,o.default)(n,[{key:"init",value:function(){this._bounds=c.layoutUtil.getBounds(this._asset);var e=this._bounds,t=e.x,n=e.y,r=e.width,i=e.height;this._asset.setBounds(t,n,r,i),this.addChild(this.asset)}},{key:"cache",value:function(){var e=this._bounds,t=e.x,n=e.y,r=e.width,i=e.height;this.asset.cache(t,n,r,i)}},{key:"playOnce",value:function(e){if(!this._isAnimatable)throw new Error("This graphic is not configured as animatable. Make sure the isAnimatable = true.");var t=this._asset.duration-1,n=f.createjs.Tween.get(this._asset);n.wait(t).call(function(e,t){e.stop(),t&&t()}.bind(this,this._asset,e)),this._asset.timeline.addTween(n),this._asset.play()}},{key:"asset",get:function(){return this._asset}}]),n}(l.Widget);t.Graphic=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBarWidget=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=r(n(28)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(0),h=n(83),d=n(279);function p(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v={vertical:Symbol("vertical"),horizontal:Symbol("horizontal"),circular:Symbol("circular"),custom:Symbol("custom")},m={layout:Symbol("layout"),compareFunction:Symbol("compareFunction"),cellSize:Symbol("cellSize"),cellPadding:Symbol("cellPadding"),active:Symbol("active"),customLayout:Symbol("customLayout")},y=function(e){(0,u.default)(n,e);var t=g(n);function n(e){var r,i=e.assetInfo,a=e.config,s=void 0===a?{}:a;return(0,o.default)(this,n),(r=t.call(this,i))._config=s,r}return(0,a.default)(n,[{key:"init",value:function(){(0,s.default)((0,l.default)(n.prototype),"init",this).call(this);var e=f._.isUndefined(this._config.size)?this._assetInfo.getBounds():this._config.size,t=e.width,r=e.height;this.setBounds(0,0,t,r),this.addChild(this._assetInfo)}},{key:"cellComponent",get:function(){return this._assetInfo}},{key:"cursor",set:function(e){this.cellComponent&&(this.cellComponent.cursor=e)}}]),n}(h.Widget),_=function(e){(0,u.default)(n,e);var t=g(n);function n(e){var r,i=e.menuItems,a=void 0===i?[]:i,s=e.display,u=e.config,c=void 0===u?{}:u;return(0,o.default)(this,n),(r=t.call(this,a)).display=s,r._config=c,r._cells=[],r}return(0,a.default)(n,null,[{key:"MenuBarConfig",get:function(){return m}},{key:"MenuLayout",get:function(){return v}}]),(0,a.default)(n,[{key:"init",value:function(){var e=this;(0,s.default)((0,l.default)(n.prototype),"init",this).call(this),this._sortItems(),f._.each(this.items,(function(t){return e._addMenuCell(t)})),this.redraw()}},{key:"redraw",value:function(){f._.isEmpty(this._cells)||this._drawCells(this._config[m.layout])}},{key:"add",value:function(e){var t=this;this._clean(),this._assetInfo=this._assetInfo.concat(e),this._sortItems(),f._.each(this.items,(function(e){return t._addMenuCell(e)})),this.redraw()}},{key:"remove",value:function(e){var t=this,n=f._.difference(this._assetInfo,e);f._.each(f._.without.apply(f._,[this._assetInfo].concat(p(i.default,n))),(function(e){t._removeMenuCell(e)})),this._assetInfo=n}},{key:"show",value:function(e){this._toggleMenuCellVisibility(e,!0)}},{key:"hide",value:function(e){this._toggleMenuCellVisibility(e,!1)}},{key:"_toggleMenuCellVisibility",value:function(e,t){var n=this;f._.each(e,(function(e){var r=f._.find(n._cells,{_assetInfo:e});r&&(r.visible=t)}))}},{key:"_addMenuCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new y({assetInfo:e,config:{size:this._config[m.cellSize]}});return n.init(),this._toggleMouseEvents(n,!0),this._cells.push(n),this.addChild(n),t&&this._drawCells(this._config[m.layout]),n}},{key:"_removeMenuCell",value:function(e){var t=f._.find(this._cells,{_assetInfo:e});this._cells=f._.without(t),this._toggleMouseEvents(t,!1),this.removeChild(t)}},{key:"_sortItems",value:function(){var e=this._config[m.compareFunction];f._.isFunction(e)&&this.items.sort(e)}},{key:"_drawCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.vertical;switch(e){case v.vertical:d.LinearVerticalLayout.draw(this._cells,this,{padding:this._config[m.cellPadding],anchor:d.VERTICAL_ANCHOR.BOTTOM});break;case v.custom:var t=this._config[m.customLayout];if(!t)throw new Error("Custom menu layout is not defined.");t.draw(this._cells,this);break;default:throw new Error('There is no implementation for "'.concat(e,'" layout yet.'))}}},{key:"_onCellClick",value:function(e){var t=new f.createjs.Event("cellSelected");t.menuItem=e.currentTarget.cellComponent,this.dispatchEvent(t)}},{key:"_onCellHover",value:function(e){var t=new f.createjs.Event("mouseover"===e.type?"cellIn":"cellOut");t.menuItem=e.currentTarget.cellComponent,this.dispatchEvent(t)}},{key:"_toggleMouseEvents",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.active&&t;n?(e.on("click",this._onCellClick.bind(this)),e.on("mouseover",this._onCellHover.bind(this)),e.on("mouseout",this._onCellHover.bind(this))):(e.off("click",this._onCellClick),e.off("mouseover",this._onCellHover),e.off("mouseout",this._onCellHover)),e.cursor=n?"pointer":"default"}},{key:"_clean",value:function(){var e=this;f._.each(this._cells,(function(t){return e._toggleMouseEvents(t,!1)})),this.removeAllChildren(),this._cells=[]}},{key:"items",get:function(){return this._assetInfo}},{key:"active",get:function(){var e=this._config[m.active];return(!!f._.isUndefined(e)||e)&&this.mouseEnabled}}]),n}(h.Widget);t.MenuBarWidget=_},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LinearVerticalLayout=t.VERTICAL_ANCHOR=void 0;var i=r(n(4)),o=r(n(5)),a=n(58),s={TOP:Symbol("top"),CENTER:Symbol("center"),BOTTOM:Symbol("bottom")};t.VERTICAL_ANCHOR=s;var u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r,i=a.layoutUtil.getBounds(t),o=e.reduce((function(e,t){return e+a.layoutUtil.getBounds(t).height}),0),u=(i.height-o)/(e.length+1),c=n||{},l=c.padding,f=void 0===l?0:l,h=c.anchor,d=void 0===h?s.CENTER:h;switch(d){case s.BOTTOM:r=i.height;break;default:r=0}e.forEach((function(e){var t=a.layoutUtil.getBounds(e),n=(i.width-t.width)/2+e.regX;switch(d){case s.BOTTOM:r-=t.height,e.set({x:n,y:r}),r-=f;break;default:r+=u,e.set({x:n,y:r}),r+=t.height}}))}}]),e}();t.LinearVerticalLayout=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Draggable=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(144),f=n(0),h=n(29);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var p="stagemousedown",g="stagemousemove",v="stagemouseup",m="mousedown",y="pressmove",_="pressup",b=function(e){(0,s.default)(n,e);var t=d(n);function n(e,r){var o,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,i.default)(this,n),e._behaviors&&e._behaviors.draggable)throw new Error("A draggable can only be applied to a widget once");return(o=t.call(this,e)).widget._behaviors.draggable=(0,a.default)(o),o._draw=r,o._isStickyDrag=!createjs.Touch.isSupported()&&s,o._callbacks={},o.onSelect=null,o.onDrag=null,o.onDrop=null,o.onFirstPressMove=null,f._.bindAll((0,a.default)(o),"_onPressDown","_onPressMove","_onPressUp"),e.set({originalX:e.x,originalY:e.y,originalParent:e.parent}),o}return(0,o.default)(n,[{key:"addBehavior",value:function(){var e=this,t=this.widget;this._removeListeners(),this.widget.set({_drag:{listeners:{}}});var n=t._drag.listeners;n[m]=t.on(m,(function(t){e._onPressDown(t)})),n[y]=t.on(y,(function(t){e._onPressMove(t)})),n[_]=t.on(_,(function(t){e._onPressUp(t)}))}},{key:"checkIfValidInput",value:function(e){var t,n=e.nativeEvent;return e.type===y||e.type===g?t=this.isValidPressDown:"button"in n&&(t=0===n.button,e.type===m||e.type===p?this.isValidPressDown=t:this.isValidPressDown=!1),createjs.Touch.isSupported()||t}},{key:"removeBehavior",value:function(){return this._removeListeners(),this.widget}},{key:"_checkAndMakeSelection",value:function(e){this.onSelect&&this.onSelect(e)}},{key:"_onPressDown",value:function(e){if(this.checkIfValidInput(e)){var t=e.currentTarget;t._drag.isActive=!0,this._hasMoved=!1,this.withinBufferZone=!0;var n=t.globalToLocal(e.stageX,e.stageY);t._drag.offsetX=n.x,t._drag.offsetY=n.y,t.parent.setChildIndex(t,t.parent.getNumChildren()-1),!this._isStickyDrag&&this._checkAndMakeSelection(e)}}},{key:"_setTransformedCoordinates",value:function(e,t,n){var r=t||e.currentTarget;r.x=n.x-r._drag.offsetX+r.regX,r.y=n.y-r._drag.offsetY+r.regY}},{key:"_onPressMove",value:function(e,t){var n=t||e.currentTarget;if(this.checkIfValidInput(e)||n._drag.stuck){var r=n.parent.globalToLocal(e.stageX,e.stageY);if(this.withinBufferZone){var i=r.x-n._drag.offsetX+n.regX,o=r.y-n._drag.offsetY+n.regY,a=n.x-i,s=n.y-o;if(Math.sqrt(a*a+s*s)<30)return;this.withinBufferZone=!1}else!n._drag.isDragging&&this._isStickyDrag&&!n._drag.stuck&&this._checkAndMakeSelection(e),!this._hasMoved&&this.onFirstPressMove&&this.onFirstPressMove(),this._setTransformedCoordinates(e,n,r),this._draw(),n._drag.isDragging=!0,this.onDrag&&this.onDrag(e),this._hasMoved=!0}}},{key:"_onPressUp",value:function(e,t){var n=t||e.currentTarget;if(n._drag.isDragging||!this._isStickyDrag||n._drag.stuck)if(n._drag.stuck)this._handleStickyDrop(e,n),n._drag.isActive=!1;else{if(!this.checkIfValidInput(e)&&!this._isStickyDrag&&!n._drag.isActive)return;this._handleNormalDrop(e),n._drag.isActive=!1}else{if(!this.checkIfValidInput(e))return;this._handleStick(e,n)}n._drag.isDragging=!1}},{key:"_handleNormalDrop",value:function(e){this.onDrop&&this.onDrop(e)}},{key:"_handleStick",value:function(e,t){(0,h.disableLessonControls)(),this._checkAndMakeSelection(e),this._applyStick(t),t._drag.stuck=!0}},{key:"_handleStickyDrop",value:function(e,t){var n=this;(0,h.enableLessonControls)();var r=t._drag.listeners;t.stage.off(g,r[g]),t.stage.off(v,r[v]),f._.defer((function(){r[_]=t.on(_,(function(r){n.checkIfValidInput(r)&&n._onPressUp(e,t)}))})),this.onDrop&&this.onDrop(e),t._drag.stuck=!1}},{key:"_applyStick",value:function(e){var t=this,n=e._drag.listeners;n[g]=e.stage.on(g,(function(n){return t._onPressMove(n,e)})),n[v]=e.stage.on(v,(function(n){t.checkIfValidInput(n)&&t._onPressUp(n,e)})),e.off(_,n[_])}},{key:"_removeListeners",value:function(){var e=this.widget,t=e._drag;t&&t.listeners&&Object.keys(t.listeners).forEach((function(n){e.off(n,t.listeners[n])})),delete e._drag}}]),n}(l.WidgetBehavior);t.Draggable=b},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Collidable=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(129),f=n(60),h=n(162),d=n(144),p=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=function(e){(0,s.default)(n,e);var t=g(n);function n(e,r){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.collisionUtil.BOX_TYPE,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e,f=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if((0,i.default)(this,n),e._behaviors&&e._behaviors.collidable)throw new Error("The supplied widget already has a collidable behavior attached to it. Only one collidable behavior is allowed per widget.");return(o=t.call(this,e)).widget._behaviors.collidable=(0,a.default)(o),o._activeCollisions=[],o._customHitObject=c,o._acceptedTypes=Array.isArray(s)?s:[s],o._shape=u,o._callbacks={},o._behaviorActive=!1,o._type=r,o._enabled=!0,o.onCollisionExit=null,o.onCollisionEnter=null,o.onCollisionUpdate=null,o.onCollisionEnterFirst=null,o.onCollisionExitAll=null,f&&o._applyDebuggingTools(),p._.bindAll((0,a.default)(o),"checkForCollision"),o}return(0,o.default)(n,[{key:"_applyDebuggingTools",value:function(){f.canvasUtil.showContainerBounds(this._customHitObject,"green")}},{key:"addBehavior",value:function(){this._behaviorActive||(h.collisionSystem.registerCollidable(this),this._colliderShape=l.collisionUtil.createColliderShape(this._customHitObject,this._shape),this._behaviorActive=!0)}},{key:"removeBehavior",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._behaviorActive&&(h.collisionSystem.removeCollidable(this),this._behaviorActive=!1,t&&p._.forEach(this._activeCollisions,(function(t){t.onExit(e),e.onExit(t)})))}},{key:"checkForCollision",value:function(){this._behaviorActive&&h.collisionSystem.checkCollisions(this)}},{key:"checkForExitingCollision",value:function(){this._behaviorActive&&h.collisionSystem.checkCollisionExits(this)}},{key:"contains",value:function(e){return p._.find(this._activeCollisions,(function(t){return t===e}))}},{key:"onEnter",value:function(e){p._.find(this._acceptedTypes,(function(t){return t===e.type}))&&(this._activeCollisions.push(e),1===this._activeCollisions.length&&this.onCollisionEnterFirst&&this.onCollisionEnterFirst(e),this.onCollisionEnter&&this.onCollisionEnter(e))}},{key:"onExit",value:function(e){p._.find(this._acceptedTypes,(function(t){return t===e.type}))&&(p._.remove(this._activeCollisions,e),this.onCollisionExit&&this.onCollisionExit(e),0===this._activeCollisions.length&&this.onCollisionExitAll&&this.onCollisionExitAll(e))}},{key:"onUpdate",value:function(e){p._.find(this._acceptedTypes,(function(t){return t===e.type}))&&this.onCollisionUpdate&&this.onCollisionUpdate(e)}},{key:"searchActiveCollisionsFor",value:function(e){return p._.filter(this._activeCollisions,(function(t){return t.type===e}))}},{key:"type",get:function(){return this._type}},{key:"customHitObject",get:function(){return this._customHitObject}},{key:"colliderShape",get:function(){return this._colliderShape}}]),n}(d.WidgetBehavior);t.Collidable=v},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Clickable=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,s.default)(n,e);var t=l(n);function n(e,r){var o;if((0,i.default)(this,n),e._behaviors&&e._behaviors.clickable)throw new Error("A clickable can only be applied to a widget once");return(o=t.call(this,e)).widget.mouseChildren=!1,o.widget._behaviors.clickable=(0,a.default)(o),o._callback=r,o}return(0,o.default)(n,[{key:"addBehavior",value:function(){var e=this,t=this.widget;this._clickHandler=t.on("click",(function(){t.enabled&&e._callback()}))}},{key:"removeBehavior",value:function(){this._clickHandler&&(this.widget.off("click",this._clickHandler),delete this._clickHandler)}}]),n}(n(144).WidgetBehavior);t.Clickable=f},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionMediator=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(35);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"once",value:function(e,t,n,r,i){return l.assertUtil.isNotEmptyString("InteractionMediator","once","event",e),l.assertUtil.isFunction("InteractionMediator","once","handler",t),this.on(e,t,n,!0,r,i)}}]),n}(c.createjs.EventDispatcher);t.InteractionMediator=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseDisplay=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(6),h=n(44),d=n(7),p=n(62),g=n(16);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),g.environmentUtil.isAutomationRunning()&&h.automationUtil.exposeRendererInfo((0,o.default)(r)),r.state=e.initialState,d.rendererLogger.info("CREATING ".concat(r.constructor.name)),r._polledAudio={},r._cmTargets={},r._assetId=e.screen.id,r.registerAsCallableMechanismTarget((0,o.default)(r)),r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{transition:l.PropTypes.func,screen:l.PropTypes.shape({id:l.PropTypes.string}),images:l.PropTypes.objectOf(l.PropTypes.object),videos:l.PropTypes.objectOf(l.PropTypes.object),initialState:l.PropTypes.object}}}]),(0,a.default)(n,[{key:"onTransitionedIn",value:function(){p.screenActions.ready()}},{key:"componentDidMount",value:function(){h.automationUtil.resetAudioHistory(),this.listen(this.props,this.state),this.transition()}},{key:"transition",value:function(){}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"listen",value:function(){}},{key:"unlisten",value:function(){}},{key:"render",value:function(){return d.rendererLogger.error("BaseDisplay.render is abstract"),l.React.createElement("h3",null,"You must implement render, BaseDisplay.render")}},{key:"showDoneButton",value:function(e,t){p.screenActions.showDone(t),e()}},{key:"hideDoneButton",value:function(e){p.screenActions.hideDone(),e()}},{key:"enableDone",value:function(e,t){p.screenActions.enableDone(t),e()}},{key:"showCustomButton",value:function(e,t){p.screenActions.showCustomButton(t),e()}},{key:"hideCustomButton",value:function(e){p.screenActions.hideCustomButton(),e()}},{key:"enableCustomButton",value:function(e,t){p.screenActions.enableCustomButton(t),e()}},{key:"callMechanism",value:function(){throw new Error("This display does not implement callable mechanims.")}},{key:"registerAsCallableMechanismTarget",value:function(e){if(!e.assetId)throw new Error("A target must have assetId.");if(!e.callMechanism)throw new Error("A target must implement a callMechanism handler.");this._cmTargets[e.assetId]=e}},{key:"callableMechanismHandler",value:function(e,t){var n=t.directive,r=t.params;r?d.rendererLogger.info("callableMechanismHandler",n,"start: ".concat(r.start)):d.rendererLogger.info("callableMechanismHandler",n);var i=n.target;i=i.replace("#","");var o=this._cmTargets[i];if(!o)throw new Error("There is no registered Callable Mechanism target with ID: ".concat(i));g.environmentUtil.isAutomationRunning()&&h.automationUtil.updateCallableMechanismState({action:n.action,start:!r||r.start});var a=g.environmentUtil.isAutomationRunning()?function(){h.automationUtil.recordCallableMechanismPlayed({action:n.action,start:!r||r.start}),e()}:e;o.callMechanism(n,a,r)}},{key:"assetId",get:function(){return this._assetId}},{key:"WIDTH",get:function(){return f.SCREEN.WIDTH}},{key:"HEIGHT",get:function(){return f.SCREEN.HEIGHT}}]),n}(l.React.Component);t.BaseDisplay=m;var y=m;t.default=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=6.283185307179586,u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.radius,i=t.getTransformedBounds(),o=a._.min([i.height,i.width])/2;(!r||r>o)&&(r=o);var u=s/e.length;e.forEach((function(e,t){var n=r-e.getTransformedBounds().width/2,o=t*u- -4.71238898038469,a=n*Math.cos(o)+n+e.regX,s=n*Math.sin(o)+n+e.regY;e.set({x:a+(.5*(i.width-2*r)|0),y:s+(.5*(i.height-2*r)|0)})}))}}]),e}();t.CircularLayout=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderer=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(24)),s=r(n(28)),u=r(n(5)),c=r(n(11)),l=r(n(12)),f=r(n(10)),h=n(641),d=n(185),p=n(70),g=n(0),v=n(8),m=n(7),y=n(6),_=n(44),b=n(108),A=n(22),w=n(16),E=n(9),x=n(61);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var S=h.Sequencer,O=function(e){(0,c.default)(n,e);var t=T(n);function n(e){var r;(0,o.default)(this,n),(r=t.call(this,e)).registerTextWidget=function(e){r._textWidgets.push(e)},w.environmentUtil.isAutomationRunning()&&_.automationUtil.exposeRendererInfo((0,a.default)(r)),r.state=e.initialState,r.model=r.props.models.screen.get(),r.api=r.props.api,r._assetId=r.props.screen.id,r._textWidgets=[],b.TextWidget.register=r.registerTextWidget,r._cmTargets={},g._.bindAll((0,a.default)(r),["cue"]);var i,s=e.screen;return r._style=g._.get(A.assetUtil.config,s.styleId,!1)||(i="[".concat(s.styleId,"] Use of the style.json through the _external attribute is deprecated and expected to be removed in iFabric v9. Use the config.json to specfify style configurations instead."),w.environmentUtil.warn(i),s.style),r}return(0,u.default)(n,null,[{key:"setSequencer",value:function(e){S=e}},{key:"propTypes",get:function(){return{screen:g.PropTypes.shape({id:g.PropTypes.string,styleId:g.PropTypes.string,style:g.PropTypes.any}),images:g.PropTypes.objectOf(g.PropTypes.object),videos:g.PropTypes.objectOf(g.PropTypes.object),initialState:g.PropTypes.object,models:g.PropTypes.objectOf(g.PropTypes.object),api:g.PropTypes.objectOf(g.PropTypes.object)}}}]),(0,u.default)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props.screen;if(!(0,E.hasCompletedStep)(v.store.getState(),e.id)){var t=this.isScorable?this.maxScore:0;this.api.screen.updateScreenData({results:(0,i.default)({},e.id,{max:t})})}this.api.screen.preloadNext(),w.environmentUtil.isAutomationRunning()&&_.automationUtil.resetAudioHistory()}},{key:"onComplete",value:function(){}},{key:"onFinish",value:function(){}},{key:"setState",value:function(){var e;this._markProgress();for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=(0,s.default)((0,f.default)(n.prototype),"setState",this)).call.apply(e,[this].concat(r));var o=this.props.screen;v.store.dispatch((0,x.rendererStateUpdated)({screenId:o.id,args:r}))}},{key:"ready",value:function(){if(this.model.complete)this.showCompletedState();else{this.processor=this.createProcessor();var e=this.processor;e&&(e.model=this.model,e.init(),this.runSequence((function(t){e.ready(t)})))}}},{key:"help",value:function(){throw new Error("Subclass must implement help()")}},{key:"onHelpStop",value:function(){}},{key:"done",value:function(){throw new Error("Subclass must implement done()")}},{key:"showCompletedState",value:function(){throw new Error("Subclass must implement showCompletedState()")}},{key:"createProcessor",value:function(){}},{key:"runSequence",value:function(e){var t=this,n=new S(this.api,this),r=this.props.models;n.onCompleteScreen=function(){t.model.complete=!0,t.onComplete(),r.screen.save(t.model)},n.onFinish=function(){t.model.finished=!0,t.onFinish(),r.screen.save(t.model)},n.enableUI=function(){n.execute((function(){t.model.complete||d.rendererUtil.enableHelp(t.api,!0);t.setState({uiEnabled:!0},(function(){t._canMarkProgress=!0}))}))},n.disableUI=function(){n.execute((function(){t.setState({uiEnabled:!1})}))},e(n);var i=n.sequence;if(!g._.isEmpty(i))return p.sequenceRunner.start(i)}},{key:"_markProgress",value:function(){this._canMarkProgress&&this.api.screen.inProgress()}},{key:"cue",value:function(e){var t=this,n=e.target,r=e.cuePointType,i=e.soundId,o=e.isPlaying;this.runSequence((function(e){var a="start"===r,s=n;if(s.action!==y.PROCESS_SPAN_ANIMATION&&s.action)m.rendererLogger.info("cue -> callableMechanismHandler",s,"start: ".concat(a)),e.animateDisplay("callableMechanismHandler",{directive:s,params:{start:a},soundId:i,isPlaying:o});else{var u=s.substr(1);t.onCue({target:u,start:a,soundId:i,isPlaying:o})}}))}},{key:"onCue",value:function(e){var t=e.target,n=e.start,r=g._.filter(this._textWidgets,(function(e){return e.hasSpan(t)}));g._.each(r,(function(e){n?e.applyEffect(t):e.removeEffect(t)}))}},{key:"registerAsCallableMechanismTarget",value:function(e){if(!e.assetId)throw new Error("A target must have assetId.");if(!e.callMechanism)throw new Error("A target must implement a callMechanism handler.");this._cmTargets[e.assetId]=e}},{key:"callableMechanismHandler",value:function(e,t){var n=t.directive,r=t.params;r?m.rendererLogger.info("callableMechanismHandler",n,"start: ".concat(r.start)):m.rendererLogger.info("callableMechanismHandler",n);var i=n.target;i=i.replace("#","");var o=this._cmTargets[i];if(!o)throw new Error("There is no registered Callable Mechanism target with ID: ".concat(i));w.environmentUtil.isAutomationRunning()&&_.automationUtil.updateCallableMechanismState({action:n.action,start:!r||r.start});var a=w.environmentUtil.isAutomationRunning()?function(){_.automationUtil.recordCallableMechanismPlayed({action:n.action,start:!r||r.start}),e()}:e;o.callMechanism(n,a,r)}},{key:"callMechanism",value:function(){throw new Error("This display does not implement callable mechanims.")}},{key:"searchScreen",value:function(e){return JSON.search(this._screenSnapshot,e)}},{key:"searchStyle",value:function(e){return JSON.search(this._styleSnapshot,e)}},{key:"maxScore",get:function(){var e=this.processor?this.processor.maxScore:1;return this.isScorable?e:0}},{key:"isScorable",get:function(){return!0}},{key:"assetId",get:function(){return this._assetId}},{key:"style",get:function(){return this._style}}]),n}(g.React.Component);t.BaseRenderer=O},,function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";(function(e){var r=n(3),i=n.n(r),o=n(47),a=n(27),s=n.n(a),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var l=i.a.createContext||function(e,t){var n,i,a,l="__create-react-context-"+((u[a="__global_unique_id__"]=(u[a]||0)+1)+"__"),f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[l]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[l]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},r.getValue=function(){return this.context[l]?this.context[l].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[l]=s.a.object,i),{Provider:f,Consumer:h}};t.a=l}).call(this,n(48))},function(e,t,n){"use strict";var r=n(2),i=r(n(23)),o=r(n(4)),a=r(n(5)),s=n(346),u=n(356).getGrammar,c=function(){function e(){(0,o.default)(this,e),this.expr=this.expr.bind(this),this._grammar=u()}return(0,a.default)(e,[{key:"addBinaryOp",value:function(e,t,n,r){this._addGrammarElement(e,(0,i.default)({type:"binaryOp",precedence:t},r?"evalOnDemand":"eval",n))}},{key:"addFunction",value:function(e,t){this._grammar.functions[e]=t}},{key:"addFunctions",value:function(e){for(var t in e)this._grammar.functions[t]=e[t]}},{key:"addUnaryOp",value:function(e,t){this._addGrammarElement(e,{type:"unaryOp",weight:1/0,eval:t})}},{key:"addTransform",value:function(e,t){this._grammar.transforms[e]=t}},{key:"addTransforms",value:function(e){for(var t in e)this._grammar.transforms[t]=e[t]}},{key:"compile",value:function(e){return this.createExpression(e).compile()}},{key:"createExpression",value:function(e){return new s(this._grammar,e)}},{key:"getFunction",value:function(e){return this._grammar.functions[e]}},{key:"getTransform",value:function(e){return this._grammar.transforms[e]}},{key:"eval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createExpression(e);return n.eval(t)}},{key:"evalSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createExpression(e);return n.evalSync(t)}},{key:"expr",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.reduce((function(e,t,r){return e+=t+(r<n.length?n[r]:"")}),"");return this.createExpression(i)}},{key:"removeOp",value:function(e){!this._grammar.elements[e]||"binaryOp"!==this._grammar.elements[e].type&&"unaryOp"!==this._grammar.elements[e].type||delete this._grammar.elements[e]}},{key:"_addGrammarElement",value:function(e,t){this._grammar.elements[e]=t}}]),e}();e.exports=new c,e.exports.Jexl=c},function(e,t,n){var r=n(357),i=n(358),o=n(359),a=n(360),s=n(361),u=n(362),c=n(363);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,e.exports=c},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(69),i=n(45),o=n(22),a=n(159),s=n(19),u=n(6),c=n(0),l=n(70),f=n(128),h=n(7),d={UTILS:{EventManager:r.eventManager,animationUtil:i.animationUtil,assetUtil:o.assetUtil,assetLoader:a.assetLoader,rendererLogger:h.rendererLogger},DATA_CAPTURE:{dataCaptureUtil:s.dataCaptureUtil,DC_EVENT_TYPES:s.DC_EVENT_TYPES,DC_EVENT_PAYLOADS:s.DC_EVENT_PAYLOADS},SCREEN:u.SCREEN,SHARED_DEPENDENCIES:{ReactDOM:c.ReactDOM},ORCHESTRATORS:{sequenceRunner:l.sequenceRunner},MODULES:{AudioModule:f.AudioModule,DisplayAnimationModule:f.DisplayAnimationModule}};t.default=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.navStateUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(50),u=n(6),c=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"prepareState",value:function(e){var t=e.navigationStore?a.default.cloneDeep(e.navigationStore):this._createState();return a.default.forEach(t.stepState,(function(e){e.complete&&!e.finished&&(e.finished=!0)})),t}},{key:"_createState",value:function(){var e={currentStep:s.NAV_ROOT_ID,highestReachedStepId:s.NAV_ROOT_ID,stepState:{},adaptivityResults:{},skips:[],buttonPresses:{next:[],back:[],pause:[],unpause:[],help:[],settings:[]}};return e.serializable=u.STATE_PROPERTIES.SERIALIZABLE,Object.assign(e,{totalSteps:0,overrideNavigation:{backBtn:!1,forwardBtn:!1},navigationDisabled:!1,lessonControlsEnabled:!0,screenElementsEnabled:!1,paused:!1,showNavPopover:!1,lessonComplete:!1,showMenuButton:!1,footerClassName:"",customBtns:{default:{visible:!1,enabled:!1,callback:a.default.noop}},done:{visible:!1,enabled:!1,callback:a.default.noop},componentCompletedImmediately:!1,help:{visible:!1,enabled:!1,callback:a.default.noop,pulsing:!1,pulseTimeout:3e4},settings:{visible:!0},teacherNav:[],sectionMarkers:[],decisionPoints:{},tabButtonsOrder:["next","done","default"]}),e}}]),e}());t.navStateUtil=c},function(e,t,n){var r=n(163),i=n(130),o=n(447),a=n(239),s=n(94),u=a((function(e,t){return r(t,(function(t){t=s(t),i(e,t,o(e[t],e))})),e}));e.exports=u},function(e,t,n){var r=n(241),i=n(478),o=n(95),a=n(41);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(541)(n(542));e.exports=r},function(e,t,n){var r=n(163),i=n(112),o=n(543),a=n(41);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},function(e,t,n){var r=n(544),i=n(253);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(251),i=n(95),o=n(545),a=n(41);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(546),i=n(558)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t,n){var r=n(559),i=n(239)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(562),i=n(112),o=n(95),a=n(563),s=n(41);e.exports=function(e,t,n){var u=s(e)?r:a,c=arguments.length<3;return u(e,o(t,4),n,c,i)}},function(e,t,n){var r=n(247),i=n(95),o=n(564),a=n(41),s=n(259);e.exports=function(e,t,n){var u=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),u(e,i(t,3))}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseButtonWrapper=t.PlayPauseButton=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(105)),l=n(0),f=n(6),h=n(40),d=n(59);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=f.BUTTONS.BOTTOM_BAR.PLAY_PAUSE,v=function(e){(0,a.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={a11yMessage:""},e.buttonRef=l.React.createRef(),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.context&&(0,this.context.registerFocusShards)(g,[this.buttonRef])}},{key:"shouldComponentUpdate",value:function(e,t){return!e.idled}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.paused;e.paused!==n&&this.setState({a11yMessage:n?"":f.ACCESSIBILITY.UNPAUSE_ALERT})}},{key:"render",value:function(){var e=this.props,t=e.paused,n=e.disabled,r=e.onClick,i=this.state.a11yMessage;return l.React.createElement(l.React.Fragment,null,l.React.createElement(l.LiveMessage,{message:i,"aria-live":"polite",clearOnUnmount:!0}),l.React.createElement(h.Button,{forwardedRef:this.buttonRef,id:g,className:(0,c.default)("play-pause",{play:t,pause:!t}),"aria-label":f.ACCESSIBILITY[t?"UNPAUSE_BTN":"PAUSE_BTN"],tabIndex:0,type:"button",disabled:n||!1,onClick:r}))}}],[{key:"propTypes",get:function(){return{onClick:l.PropTypes.func,disabled:l.PropTypes.bool,paused:l.PropTypes.bool,idled:l.PropTypes.bool}}}]),n}(l.React.Component);t.PlayPauseButton=v,v.contextType=d.UIContext;var m=function(e){var t=e.className,n=l.React.useContext(d.BottomBarContext),r=n.lessonControlsEnabled,i=n.pauseEnabled,o=n.disabled,a=n.playPauseClick,s=n.isPaused,u=n.isAppIdled;return l.React.createElement(v,{key:"playpause",className:t,disabled:!i||o,paused:s,idled:u,onClick:r?a:l._.noop})};t.PlayPauseButtonWrapper=m,m.propTypes={className:l.PropTypes.string}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsButtonWrapper=t.SettingsButton=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=r(n(145)),f=n(0),h=n(6),d=n(40),p=n(59),g=n(260),v=n(9),m=n(180);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var _=h.BUTTONS.BOTTOM_BAR.SETTINGS,b=function(e){(0,a.default)(n,e);var t=y(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={a11yMessage:""},e.buttonRef=f.React.createRef(),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.context&&(0,this.context.registerFocusShards)(_,[this.buttonRef])}},{key:"componentDidUpdate",value:function(e,t){this.props.hidden&&!e.hidden&&m.focusUtil.last&&m.focusUtil.last.id===_&&this.focus()}},{key:"focus",value:function(){this.buttonRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.onClick,r=function(e){return f.React.createElement(d.Button,{forwardedRef:e,id:_,className:"settings-gear",key:"settings","aria-label":h.ACCESSIBILITY.SETTINGS_BTN,tabIndex:0,type:"button",disabled:t||!1,onClick:n})};return f.React.createElement(f.React.Fragment,null,f.React.createElement("span",{id:"settings-divider"}),this.focusable?f.React.createElement(l.default,null,r(this.buttonRef)):r(this.buttonRef))}},{key:"focusable",get:function(){var e=this.context.uiState,t=e.isLessonModalOpen,n=void 0!==t&&t,r=e.isBottomBarWithModal;return n&&(void 0!==r&&r)}}],[{key:"propTypes",get:function(){return{onClick:f.PropTypes.func,disabled:f.PropTypes.bool,hidden:f.PropTypes.bool}}}]),n}(f.React.Component);t.SettingsButton=b,b.contextType=p.UIContext;var A=function(e){var t=e.className,n=f.React.useContext(p.BottomBarContext),r=n.isPaused,i=n.disabled,o=(0,c.useSelector)((function(e){return(0,v.isNavShown)(e)})),a=f.React.useContext(g.PrefPanelContext),s=a.prefPanelState.isHidden,u=a.showPrefPanel;return f.React.createElement(b,{key:"settings",className:t,disabled:i||o||!1,paused:r,onClick:s?u:f._.noop,hidden:s})};t.SettingsButtonWrapper=A,A.propTypes={className:f.PropTypes.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelpButtonWrapper=t.HelpButton=void 0;var r=n(0),i=n(6),o=n(40),a=n(59),s=function(e){var t=e.onClick,n=e.disabled,a=e.isHidden,s=e.doneVisible,u=e.isPulsing,c=e.pulseStart;return r.React.createElement(o.Button,{id:i.BUTTONS.BOTTOM_BAR.HELP,className:"help",type:"button",tabIndex:0,"aria-label":i.ACCESSIBILITY.HELP_BTN,disabled:n||!1,isHidden:a,doneVisible:s,onClick:t,isPulsing:u,pulseStart:c})};t.HelpButton=s,s.propTypes={onClick:r.PropTypes.func,disabled:r.PropTypes.bool,isHidden:r.PropTypes.bool,doneVisible:r.PropTypes.bool,isPulsing:r.PropTypes.bool,pulseStart:r.PropTypes.number};var u=function(e){var t=e.className,n=e.disabled,o=r.React.useContext(a.BottomBarContext),u=o.helpButtonRef,c=o.help,l=o.done,f=o.lessonControlsEnabled,h=o.shouldHelpBeDisabled,d=r.React.useContext(a.UIContext).registerFocusShards;return r.React.useEffect((function(){d(i.BUTTONS.BOTTOM_BAR.HELP,[u])})),r.React.createElement(s,{className:t,forwardedRef:u,disabled:r._.isUndefined(n)?h:n,isHidden:!c.visible,doneVisible:l.visible,pulseStart:c.pulseTimeout,isPulsing:c.pulsing,onClick:f&&r._.isFunction(c.callback)?c.callback:r._.noop})};t.HelpButtonWrapper=u,u.propTypes={className:r.PropTypes.string,disabled:r.PropTypes.bool}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).handleOptionSelect=function(e){e.preventDefault(),e.stopPropagation();var t=e.target;return r.select({value:t.id}),r.toggleDropdown(),!1},r.state={dropdownOpen:!1},l._.bindAll((0,o.default)(r),["toggleDropdown"]),r._clickListener=function(e){var t=r.state.dropdownOpen,n=r.props.id;t&&e.target.parentElement.id!==n&&r.toggleDropdown()},document.addEventListener("click",r._clickListener),r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{id:l.PropTypes.string.isRequired,className:l.PropTypes.string,defaultValue:l.PropTypes.shape({name:l.PropTypes.string.isRequired,value:l.PropTypes.string}),enabled:l.PropTypes.bool,options:l.PropTypes.arrayOf(l.PropTypes.shape({name:l.PropTypes.string.isRequired,value:l.PropTypes.string})),onOptionSelect:l.PropTypes.func}}}]),(0,a.default)(n,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._clickListener)}},{key:"toggleDropdown",value:function(){var e=this.state.dropdownOpen;this.setState({dropdownOpen:!e})}},{key:"select",value:function(e){var t=this.props,n=t.options,r=t.onOptionSelect,i=l._.find(n,e);i&&(this.setState({selected:i}),r(i))}},{key:"render",value:function(){var e=this,t=this.state.dropdownOpen,n=this.props,r=n.className,i=n.enabled,o=n.id,a=n.defaultValue,s=n.options,u=t?"dropdown open":"dropdown";return l.React.createElement("div",{id:o,className:(0,l.classNames)(u,r,{disabled:!i}),key:"nav-".concat(u)},l.React.createElement("button",{className:"dropdown-toggle",type:"button",onClick:this.toggleDropdown},(this.selected||a||s[0]).name),l.React.createElement("ul",{className:"dropdown-menu"},l._.map(s,(function(t,n){var r=t.value,i=t.name;return l.React.createElement("li",{key:"".concat(r,"-").concat(n)},l.React.createElement("a",{className:"dropdown-item",id:r,onClick:e.handleOptionSelect},i))}))))}},{key:"selected",get:function(){return this.state.selected}}]),n}(l.React.Component);t.Dropdown=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Popover=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var f=function(e){(0,a.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onClick,r=e.title,i=e.children;return t?c.React.createElement("div",{className:"popover"},c.React.createElement("a",{className:"popover-close",onClick:n}),c.React.createElement("div",{className:"popover-header"},r),c.React.createElement("div",{className:"popover-content"},i)):null}}],[{key:"propTypes",get:function(){return{visible:c.PropTypes.bool,title:c.PropTypes.string,onClick:c.PropTypes.func,children:c.PropTypes.oneOfType([c.PropTypes.arrayOf(c.PropTypes.node),c.PropTypes.node])}}}]),n}(c.React.Component);t.Popover=f},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(105)),o=n(0),a=n(40),s=n(74),u=function(e){var t=e.onToggle,n=e.isOn,r=e.className,u=e["aria-label"],c=e["aria-labelledby"],l=e.disabled;return o.React.createElement(a.Button,{"aria-checked":n?"true":"false","aria-label":u,"aria-labelledby":c,role:"switch",className:(0,i.default)("toggle-switch",r,{on:n,off:!n}),onClick:function(){t(!n)},tabIndex:0,disabled:l},o.React.createElement("span",{className:"toggle"},n?s.i18nUtil.translate("ON"):s.i18nUtil.translate("OFF")))};u.defaultProps={disabled:!1},u.propTypes={"aria-label":o.PropTypes.string,"aria-labelledby":o.PropTypes.string,className:o.PropTypes.string,isOn:o.PropTypes.bool,onToggle:o.PropTypes.func,disabled:o.PropTypes.bool};var c=u;t.default=c},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TabButtonsWrapper=t.default=void 0;var i=n(32),o=r(n(3)),a=r(n(105)),s=n(0),u=n(582),c=n(583),l=n(584),f=n(9),h=n(22),d=n(6),p=n(8),g=function(e){var t=(0,i.useSelector)((function(e){return(0,f.getNavigationState)(e)})),n=t.footerClassName,r=t.tabButtonsSize,s=t.tabButtonsOrder,p=h.assetUtil.config.smallTabButtons,g=e.addRole,v=(0,a.default)("tab-buttons",n,{"small-tab-buttons":p||r===d.TAB_BUTTON_SIZES.SMALL});return o.default.createElement("div",{className:v,role:g?"region":void 0},s.map((function(e){switch(e){case"next":return o.default.createElement(u.NextButtonWrapper,{key:"next"});case"done":return o.default.createElement(c.DoneButtonWrapper,{key:"done"});default:return o.default.createElement(l.CustomButtonWrapper,{key:e,buttonName:e})}})))};g.propTypes={addRole:s.PropTypes.bool};t.TabButtonsWrapper=function(){return o.default.createElement(i.Provider,{store:p.store},o.default.createElement(g,null))};var v=g;t.default=v},function(e,t,n){var r=n(10);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerProviders=function(){return(0,r.registerProvider)("renderer",o),(0,r.registerProvider)("character",a),(0,r.registerProvider)("learningComponent",s),Promise.resolve(!0)},t.readingCompRendererProvider=void 0;var r=n(122);function i(e){if(e)return{module:e}}var o={getRenderer:function(e){return n(646)("./".concat(e,"/index")).then(i)}};t.readingCompRendererProvider=o;var a={load:function(){return n.e(19).then(n.t.bind(null,730,7)).then((function(){return n.e(20).then(n.t.bind(null,731,7)).then((function(e){return e.CHARACTERS}))}))}},s={load:function(e){return n(647)("./".concat(e)).then(i)}}},,,,,,function(e,t,n){"use strict";var r=n(2);n(320);var i=n(122);n(644);var o=n(645),a=n(313),s=n(648),u=r(n(649));function c(){return window.console.log("Started booting Reading Comp app..."),i.BOOTSTRAP.start({rendererMapping:o.MAPPING,extendConfigFunction:u.default}).then((function(){window.console.log("Done booting Reading Comp app!"),i.UTILS.idleService.disableMouseMoveReset()}))}n(650),document.addEventListener("DOMContentLoaded",(function(){document.body.addEventListener("touchstart",(function(){})),(0,a.registerProviders)().then(s.waitForFonts).then(c).then(s.extendAudio).catch((function(e){return window.console.warn(e)}))}),!1)},function(e,t,n){"use strict";var r,i=n(122),o=i.SHARED_DEPENDENCIES._,a=i.SHARED_DEPENDENCIES.is,s=i.UTILS.assetUtil,u={is:[function(e){var t=e.ipad;return e.ipad=function(e){if(e&&(o.isNumber(e)&&e>=13||e.includes("13")&&!e.includes("<"))){var n=navigator||{},r=n.platform,i=void 0===r?"":r,a=n.maxTouchPoints,s=void 0===a?0:a;return(null!==i.toLowerCase().match("macintel")||null!==i.toLowerCase().match("ipad"))&&s>1}return t(e)},e}],assetUtil:[function(){var e=s.loadVolumeData.bind(s),t=null;s.loadVolumeData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t||(t=n),e(t,r)}}]};r={is:a,assetUtil:s},Object.keys(r).forEach((function(e){var t=u[e];t&&t.length&&t.forEach((function(t){return r[e]=t(r[e])}))}))},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=l(t).replace(a,"")||"",h=l(n).replace(a,"")||"",d=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(f.match(u),16)||1!==d.length&&f.match(s)&&Date.parse(f),v=parseInt(h.match(u),16)||g&&h.match(s)&&Date.parse(h)||null;if(v){if(g<v)return-1;if(g>v)return 1}for(var m=0,y=Math.max(d.length,p.length);m<y;m++){if(r=!(d[m]||"").match(c)&&parseFloat(d[m])||d[m]||0,i=!(p[m]||"").match(c)&&parseFloat(p[m])||p[m]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},,function(e,t,n){"use strict";(function(t){var n=256,r=[],i=void 0===t?window:t,o=Math.pow(n,6),a=Math.pow(2,52),s=2*a,u=255,c=Math.random;function l(e,t){for(var n,r=e+"",i=0;i<r.length;)t[u&i]=u&(n^=19*t[u&i])+r.charCodeAt(i++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,c){if(c&&!0===c.global)return c.global=!1,Math.random=e.exports(t,c),c.global=!0,Math.random;var h=[],d=(l(function e(t,n){var r,i=[],o=(typeof t)[0];if(n&&"o"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"s"==o?t:t+"\0"}(c&&c.entropy?[t,f(r)]:0 in arguments?t:function(e){try{return i.crypto.getRandomValues(e=new Uint8Array(n)),f(e)}catch(e){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,f(r)]}}(),3),h),new function(e){var t,r=e.length,i=this,o=0,a=i.i=i.j=0,s=i.S=[];for(r||(e=[r++]);o<n;)s[o]=o++;for(o=0;o<n;o++)s[o]=s[a=u&a+e[o%r]+(t=s[o])],s[a]=t;(i.g=function(e){for(var t,r=0,o=i.i,a=i.j,s=i.S;e--;)t=s[o=u&o+1],r=r*n+s[u&(s[o]=s[a=u&a+t])+(s[a]=t)];return i.i=o,i.j=a,r})(n)}(h));return l(f(d.S),r),function(){for(var e=d.g(6),t=o,r=0;e<a;)e=(e+r)*n,t*=n,r=d.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t}},e.exports.resetGlobal=function(){Math.random=c},l(Math.random(),r)}).call(this,n(4))},function(e,t,n){"use strict";var r,i;void 0===(i="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],o={name:"any",test:e},a=[],s=[],u={types:i,conversions:s,ignore:a};function c(e){var t=B(u.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return o;var n=B(u.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===o?999:u.types.indexOf(e)}function f(e){var t=B(u.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function h(e){return e.map((function(e){var t=e.types.map(b);return(e.restParam?"...":"")+t.join("|")})).join(",")}function d(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(N).filter(I).filter(P),i=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}(t,r),o=r.map((function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var n=c(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:o.concat(a),restParam:n}}function p(e){var t=D(e);return!!t&&t.restParam}function g(e){return e.types.some((function(e){return null!=e.conversion}))}function v(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function m(e){var t,n,r;if(p(e)){var i=(t=function(e){return e.slice(0,e.length-1)}(e).map(v)).length,o=v(D(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=i;t<e.length;t++)if(!o(e[t]))return!1;return!0}(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=v(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=v(e[0]),r=v(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(v),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function y(e,t){return t<e.params.length?e.params[t]:p(e.params)?D(e.params):null}function _(e,t,n){var r=y(e,t);return(r?n?r.types.filter(A):r.types:[]).map(b)}function b(e){return e.name}function A(e){return null===e.conversion||void 0===e.conversion}function w(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}(F(e,(function(e){return _(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function E(e){for(var t=999,n=0;n<e.types.length;n++)A(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function x(e){for(var t=999,n=0;n<e.types.length;n++)A(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function T(e,t){var n;return 0!=(n=e.restParam-t.restParam)||0!=(n=g(e)-g(t))||0!=(n=E(e)-E(t))?n:x(e)-x(t)}function S(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!=(r=e.params.some(g)-t.params.some(g)))return r;for(n=0;n<i;n++)if(0!=(r=g(e.params[n])-g(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=T(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function O(e){var t,n,r,i,o=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(c(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=o[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=o[0],n=o[1],r=a[0],i=a[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(o[t](e))return a[t](e);return e}}}function C(e,t){return function e(n,r,i){if(r<n.length){var o,a=n[r],s=t?a.types.filter(A):a.types;if(a.restParam){var u=s.filter(A);o=u.length<s.length?[u,s]:[s]}else o=s.map((function(e){return[e]}));return F(o,(function(t){return e(n,r+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===n.length-1&&p(n)}}))]}(e,0,[])}function k(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(e){return function(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(N).map((function(e,t,r){var i=d(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),r.some(L)?null:{params:r,fn:t}}(e,r[e],u.conversions)})).filter(R).forEach((function(e){var t=B(i,(function(t){return function(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!j(_(e,r,!0),_(t,r,!0)))return!1;var i=e.params.length,o=t.params.length,a=p(e.params),s=p(t.params);return a?s?i===o:o>=i:s?i>=o:i===o}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+h(t.params)+'" and "'+h(e.params)+'".');i.push(e)}));var o=F(i,(function(e){return(e?C(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(R);o.sort(S);var a=o[0]&&o[0].params.length<=2&&!p(o[0].params),s=o[1]&&o[1].params.length<=2&&!p(o[1].params),c=o[2]&&o[2].params.length<=2&&!p(o[2].params),l=o[3]&&o[3].params.length<=2&&!p(o[3].params),b=o[4]&&o[4].params.length<=2&&!p(o[4].params),A=o[5]&&o[5].params.length<=2&&!p(o[5].params),E=a&&s&&c&&l&&b&&A,x=o.map((function(e){return m(e.params)})),T=a?v(o[0].params[0]):t,k=s?v(o[1].params[0]):t,P=c?v(o[2].params[0]):t,I=l?v(o[3].params[0]):t,D=b?v(o[4].params[0]):t,U=A?v(o[5].params[0]):t,H=a?v(o[0].params[1]):t,G=s?v(o[1].params[1]):t,Q=c?v(o[2].params[1]):t,z=l?v(o[3].params[1]):t,V=b?v(o[4].params[1]):t,W=A?v(o[5].params[1]):t,q=o.map((function(e){return function(e,t){var n=t;if(e.some(g)){var r=p(e),i=e.map(O);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)e[o]=i[o](arguments[o]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}var o=n;if(p(e)){var a=e.length-1;o=function(){return n.apply(this,M(arguments,0,a).concat([M(arguments,a)]))}}return o}(e.params,e.fn)})),X=a?q[0]:n,Y=s?q[1]:n,K=c?q[2]:n,$=l?q[3]:n,J=b?q[4]:n,Z=A?q[5]:n,ee=a?o[0].params.length:-1,te=s?o[1].params.length:-1,ne=c?o[2].params.length:-1,re=l?o[3].params.length:-1,ie=b?o[4].params.length:-1,oe=A?o[5].params.length:-1,ae=E?6:0,se=o.length,ue=function(){for(var t=ae;t<se;t++)if(x[t](arguments))return q[t].apply(this,arguments);throw function(e,t,n){var r,i,o,a=e||"unnamed",s=n;for(o=0;o<t.length;o++){var u=s.filter((function(e){var n=v(y(e,o));return(o<e.params.length||p(e.params))&&n(t[o])}));if(0===u.length){if((i=w(s,o)).length>0){var c=f(t[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:c,expected:i},r}}else s=u}var l=s.map((function(e){return p(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return i=w(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;var h=Math.max.apply(null,l);return t.length>h?((r=new TypeError("Too many arguments in function "+a+" (expected: "+h+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:h},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(f)},r)}(e,arguments,o)},ce=function e(t,n){return arguments.length===ee&&T(t)&&H(n)?X.apply(e,arguments):arguments.length===te&&k(t)&&G(n)?Y.apply(e,arguments):arguments.length===ne&&P(t)&&Q(n)?K.apply(e,arguments):arguments.length===re&&I(t)&&z(n)?$.apply(e,arguments):arguments.length===ie&&D(t)&&V(n)?J.apply(e,arguments):arguments.length===oe&&U(t)&&W(n)?Z.apply(e,arguments):ue.apply(e,arguments)};try{Object.defineProperty(ce,"name",{value:e})}catch(e){}return ce.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(g)||C(e.params,!0).forEach((function(n){t[h(n)]=e.fn}))})),t}(o),ce}function P(e){return-1===u.ignore.indexOf(e)}function N(e){return e.trim()}function I(e){return!!e}function R(e){return null!==e}function L(e){return 0===e.types.length}function D(e){return e[e.length-1]}function M(e,t,n){return Array.prototype.slice.call(e,t,n)}function j(e,t){for(var n=0;n<e.length;n++)if(r=t,i=e[n],-1!==r.indexOf(i))return!0;var r,i;return!1}function B(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function F(e,t){return Array.prototype.concat.apply([],e.map(t))}function U(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function H(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var o=e[i];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(o.signature,o),n[o.signature]=o}}return n}return(u=k("typed",{"string, Object":k,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return k(U(t),e)},"...Function":function(e){return k(U(e),H(e))},"string, ...Function":function(e,t){return k(e,H(t))}})).create=r,u.types=i,u.conversions=s,u.ignore=a,u.convert=function(e,t){var n=f(e);if(t===n)return e;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()})?r.apply(t,[]):r)||(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";const r=2147483647;e.exports=class{constructor(e){if(!Number.isInteger(e))throw new TypeError("Expected `seed` to be a `integer`");this._seed=e%r,this._seed<=0&&(this._seed+=r-1)}integer(){return this._seed*=16807,this._seed%=r,this._seed}integerInRange(e,t){return Math.round(this.floatInRange(e,t))}float(){return(this.integer()-1)/(r-1)}floatInRange(e,t){return e+(t-e)*this.float()}boolean(){return this.integer()%2==0}}},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function c(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function l(e,t){return!(null==e||!e.length)&&b(e,t,0)>-1}function f(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function p(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e){return e.match(Xe)||[]}function y(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function _(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function b(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):_(e,w,n)}function A(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function w(e){return e!=e}function E(e,t){var n=null==e?0:e.length;return n?O(e,t)/n:J}function x(e){return function(t){return null==t?W:t[e]}}function T(e){return function(t){return null==e?W:e[t]}}function S(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function O(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==W&&(n=n===W?o:n+o)}return n}function C(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e){return e?e.slice(0,z(e)+1).replace(Qe,""):e}function P(e){return function(t){return e(t)}}function N(e,t){return h(t,(function(t){return e[t]}))}function I(e,t){return e.has(t)}function R(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function L(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function D(e){return"\\"+Vt[e]}function M(e){return Ft.test(e)}function j(e){return Ut.test(e)}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function F(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Y||(e[n]=Y,o[i++]=n)}return o}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function G(e){return M(e)?function(e){for(var t=jt.lastIndex=0;jt.test(e);)++t;return t}(e):cn(e)}function Q(e){return M(e)?function(e){return e.match(jt)||[]}(e):function(e){return e.split("")}(e)}function z(e){for(var t=e.length;t--&&ze.test(e.charAt(t)););return t}function V(e){return e.match(Bt)||[]}var W,q="Expected a function",X="__lodash_hash_undefined__",Y="__lodash_placeholder__",K=128,$=9007199254740991,J=NaN,Z=4294967295,ee=[["ary",K],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],te="[object Arguments]",ne="[object Array]",re="[object Boolean]",ie="[object Date]",oe="[object Error]",ae="[object Function]",se="[object GeneratorFunction]",ue="[object Map]",ce="[object Number]",le="[object Object]",fe="[object Promise]",he="[object RegExp]",de="[object Set]",pe="[object String]",ge="[object Symbol]",ve="[object WeakMap]",me="[object ArrayBuffer]",ye="[object DataView]",_e="[object Float32Array]",be="[object Float64Array]",Ae="[object Int8Array]",we="[object Int16Array]",Ee="[object Int32Array]",xe="[object Uint8Array]",Te="[object Uint8ClampedArray]",Se="[object Uint16Array]",Oe="[object Uint32Array]",Ce=/\b__p \+= '';/g,ke=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,Ie=/[&<>"']/g,Re=RegExp(Ne.source),Le=RegExp(Ie.source),De=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,Ge=RegExp(He.source),Qe=/^\s+/,ze=/\s/,Ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,Xe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Je=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,tt=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot=/($^)/,at=/['\n\r\u2028\u2029\\]/g,st="\\ud800-\\udfff",ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ct="\\u2700-\\u27bf",lt="a-z\\xdf-\\xf6\\xf8-\\xff",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",ht="\\ufe0e\\ufe0f",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+st+"]",gt="["+dt+"]",vt="["+ut+"]",mt="\\d+",yt="["+ct+"]",_t="["+lt+"]",bt="[^"+st+dt+mt+ct+lt+ft+"]",At="\\ud83c[\\udffb-\\udfff]",wt="[^"+st+"]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+ft+"]",St="(?:"+_t+"|"+bt+")",Ot="(?:"+Tt+"|"+bt+")",Ct="(?:['](?:d|ll|m|re|s|t|ve))?",kt="(?:['](?:D|LL|M|RE|S|T|VE))?",Pt="(?:"+vt+"|"+At+")?",Nt="["+ht+"]?",It=Nt+Pt+"(?:\\u200d(?:"+[wt,Et,xt].join("|")+")"+Nt+Pt+")*",Rt="(?:"+[yt,Et,xt].join("|")+")"+It,Lt="(?:"+[wt+vt+"?",vt,Et,xt,pt].join("|")+")",Dt=RegExp("[']","g"),Mt=RegExp(vt,"g"),jt=RegExp(At+"(?="+At+")|"+Lt+It,"g"),Bt=RegExp([Tt+"?"+_t+"+"+Ct+"(?="+[gt,Tt,"$"].join("|")+")",Ot+"+"+kt+"(?="+[gt,Tt+St,"$"].join("|")+")",Tt+"?"+St+"+"+Ct,Tt+"+"+kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Rt].join("|"),"g"),Ft=RegExp("[\\u200d"+st+ut+ht+"]"),Ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Qt={};Qt[_e]=Qt[be]=Qt[Ae]=Qt[we]=Qt[Ee]=Qt[xe]=Qt[Te]=Qt[Se]=Qt[Oe]=!0,Qt[te]=Qt[ne]=Qt[me]=Qt[re]=Qt[ye]=Qt[ie]=Qt[oe]=Qt[ae]=Qt[ue]=Qt[ce]=Qt[le]=Qt[he]=Qt[de]=Qt[pe]=Qt[ve]=!1;var zt={};zt[te]=zt[ne]=zt[me]=zt[ye]=zt[re]=zt[ie]=zt[_e]=zt[be]=zt[Ae]=zt[we]=zt[Ee]=zt[ue]=zt[ce]=zt[le]=zt[he]=zt[de]=zt[pe]=zt[ge]=zt[xe]=zt[Te]=zt[Se]=zt[Oe]=!0,zt[oe]=zt[ae]=zt[ve]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,qt=parseInt,Xt="object"==typeof e&&e&&e.Object===Object&&e,Yt="object"==typeof self&&self&&self.Object===Object&&self,Kt=Xt||Yt||Function("return this")(),$t="object"==typeof t&&t&&!t.nodeType&&t,Jt=$t&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Jt&&Jt.exports===$t,en=Zt&&Xt.process,tn=function(){try{return Jt&&Jt.require&&Jt.require("util").types||en&&en.binding&&en.binding("util")}catch(e){}}(),nn=tn&&tn.isArrayBuffer,rn=tn&&tn.isDate,on=tn&&tn.isMap,an=tn&&tn.isRegExp,sn=tn&&tn.isSet,un=tn&&tn.isTypedArray,cn=x("length"),ln=T({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),fn=T({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),hn=T({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dn=function e(t){function n(e){if(Ti(e)&&!gs(e)&&!(e instanceof T)){if(e instanceof i)return e;if(go.call(e,"__wrapped__"))return $r(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=W}function T(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ut(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new st;++t<n;)this.add(e[t])}function ct(e){this.size=(this.__data__=new Xe(e)).size}function lt(e,t){var n=gs(e),r=!n&&ps(e),i=!n&&!r&&ms(e),o=!n&&!r&&!i&&ws(e),a=n||r||i||o,s=a?C(e.length,so):[],u=s.length;for(var c in e)!t&&!go.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Mr(c,u))||s.push(c);return s}function ft(e){var t=e.length;return t?e[wn(0,t-1)]:W}function ht(e,t,n){(n===W||mi(e[t],n))&&(n!==W||t in e)||mt(e,t,n)}function dt(e,t,n){var r=e[t];go.call(e,t)&&mi(r,n)&&(n!==W||t in e)||mt(e,t,n)}function pt(e,t){for(var n=e.length;n--;)if(mi(e[n][0],t))return n;return-1}function gt(e,t,n,r){return da(e,(function(e,i,o){t(r,e,n(e),o)})),r}function vt(e,t){return e&&$n(t,Fi(t),e)}function mt(e,t,n){"__proto__"==t&&Ro?Ro(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function yt(e,t){for(var n=-1,r=t.length,i=eo(r),o=null==e;++n<r;)i[n]=o?W:ji(e,t[n]);return i}function _t(e,t,n){return e==e&&(n!==W&&(e=e<=n?e:n),t!==W&&(e=e>=t?e:t)),e}function bt(e,t,n,r,i,o){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),a!==W)return a;if(!xi(e))return e;var f=gs(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&go.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Kn(e,a)}else{var h=Ta(e),d=h==ae||h==se;if(ms(e))return zn(e,u);if(h==le||h==te||d&&!i){if(a=c||d?{}:Lr(e),!u)return c?function(e,t){return $n(e,xa(e),t)}(e,function(e,t){return e&&$n(t,Ui(t),e)}(a,e)):function(e,t){return $n(e,Ea(e),t)}(e,vt(a,e))}else{if(!zt[h])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case me:return Vn(e);case re:case ie:return new r(+e);case ye:return function(e,t){return new e.constructor(t?Vn(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,n);case _e:case be:case Ae:case we:case Ee:case xe:case Te:case Se:case Oe:return Wn(e,n);case ue:return new r;case ce:case pe:return new r(e);case he:return function(e){var t=new e.constructor(e.source,Je.exec(e));return t.lastIndex=e.lastIndex,t}(e);case de:return new r;case ge:return function(e){return la?oo(la.call(e)):{}}(e)}}(e,h,u)}}o||(o=new ct);var p=o.get(e);if(p)return p;o.set(e,a),As(e)?e.forEach((function(r){a.add(bt(r,t,n,r,e,o))})):_s(e)&&e.forEach((function(r,i){a.set(i,bt(r,t,n,i,e,o))}));var g=f?W:(l?c?Sr:Tr:c?Ui:Fi)(e);return s(g||e,(function(r,i){g&&(r=e[i=r]),dt(a,i,bt(r,t,n,i,e,o))})),a}function At(e,t,n){var r=n.length;if(null==e)return!r;for(e=oo(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===W&&!(i in e)||!o(a))return!1}return!0}function wt(e,t,n){if("function"!=typeof e)throw new uo(q);return Ca((function(){e.apply(W,n)}),t)}function Et(e,t,n,r){var i=-1,o=l,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=h(t,P(n))),r?(o=f,a=!1):t.length>=200&&(o=I,a=!1,t=new ut(t));e:for(;++i<s;){var d=e[i],p=null==n?d:n(d);if(d=r||0!==d?d:0,a&&p==p){for(var g=c;g--;)if(t[g]===p)continue e;u.push(d)}else o(t,p,r)||u.push(d)}return u}function xt(e,t){var n=!0;return da(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Tt(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===W?a==a&&!ki(a):n(a,s)))var s=a,u=o}return u}function St(e,t){var n=[];return da(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Ot(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Dr),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Ot(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function Ct(e,t){return e&&ga(e,t,Fi)}function kt(e,t){return e&&va(e,t,Fi)}function Pt(e,t){return c(t,(function(t){return Ai(e[t])}))}function Nt(e,t){for(var n=0,r=(t=Gn(t,e)).length;null!=e&&n<r;)e=e[Yr(t[n++])];return n&&n==r?e:W}function It(e,t,n){var r=t(e);return gs(e)?r:d(r,n(e))}function Rt(e){return null==e?e===W?"[object Undefined]":"[object Null]":Io&&Io in oo(e)?function(e){var t=go.call(e,Io),n=e[Io];try{e[Io]=W;var r=!0}catch(e){}var i=yo.call(e);return r&&(t?e[Io]=n:delete e[Io]),i}(e):function(e){return yo.call(e)}(e)}function Lt(e,t){return e>t}function jt(e,t){return null!=e&&go.call(e,t)}function Bt(e,t){return null!=e&&t in oo(e)}function Ft(e,t,n){for(var r=n?f:l,i=e[0].length,o=e.length,a=o,s=eo(o),u=1/0,c=[];a--;){var d=e[a];a&&t&&(d=h(d,P(t))),u=Vo(d.length,u),s[a]=!n&&(t||i>=120&&d.length>=120)?new ut(a&&d):W}d=e[0];var p=-1,g=s[0];e:for(;++p<i&&c.length<u;){var v=d[p],m=t?t(v):v;if(v=n||0!==v?v:0,!(g?I(g,m):r(c,m,n))){for(a=o;--a;){var y=s[a];if(!(y?I(y,m):r(e[a],m,n)))continue e}g&&g.push(m),c.push(v)}}return c}function Ut(e,t,n){var r=null==(e=zr(e,t=Gn(t,e)))?e:e[Yr(ni(t))];return null==r?W:o(r,e,n)}function Vt(e){return Ti(e)&&Rt(e)==te}function Xt(e,t,n,r,i){return e===t||(null==e||null==t||!Ti(e)&&!Ti(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=gs(e),s=gs(t),u=a?ne:Ta(e),c=s?ne:Ta(t),l=(u=u==te?le:u)==le,f=(c=c==te?le:c)==le,h=u==c;if(h&&ms(e)){if(!ms(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new ct),a||ws(e)?Er(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case ye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case me:return!(e.byteLength!=t.byteLength||!o(new xo(e),new xo(t)));case re:case ie:case ce:return mi(+e,+t);case oe:return e.name==t.name&&e.message==t.message;case he:case pe:return e==t+"";case ue:var s=B;case de:var u=1&r;if(s||(s=H),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Er(s(e),s(t),r,i,o,a);return a.delete(e),l;case ge:if(la)return la.call(e)==la.call(t)}return!1}(e,t,u,n,r,i,o);if(!(1&n)){var d=l&&go.call(e,"__wrapped__"),p=f&&go.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,v=p?t.value():t;return o||(o=new ct),i(g,v,n,r,o)}}return!!h&&(o||(o=new ct),function(e,t,n,r,i,o){var a=1&n,s=Tr(e),u=s.length;if(u!=Tr(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:go.call(t,l)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var g=e[l=s[c]],v=t[l];if(r)var m=a?r(v,g,l,t,e,o):r(g,v,l,e,t,o);if(!(m===W?g===v||i(g,v,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o))}(e,t,n,r,Xt,i))}function Yt(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=oo(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(c===W&&!(u in e))return!1}else{var f=new ct;if(r)var h=r(c,l,u,e,t,f);if(!(h===W?Xt(l,c,3,r,f):h))return!1}}return!0}function $t(e){return!(!xi(e)||function(e){return!!mo&&mo in e}(e))&&(Ai(e)?Ao:tt).test(Kr(e))}function Jt(e){return"function"==typeof e?e:null==e?qi:"object"==typeof e?gs(e)?gn(e[0],e[1]):pn(e):$i(e)}function en(e){if(!Ur(e))return Qo(e);var t=[];for(var n in oo(e))go.call(e,n)&&"constructor"!=n&&t.push(n);return t}function tn(e,t){return e<t}function cn(e,t){var n=-1,r=yi(e)?eo(e.length):[];return da(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function pn(e){var t=Nr(e);return 1==t.length&&t[0][2]?Gr(t[0][0],t[0][1]):function(n){return n===e||Yt(n,e,t)}}function gn(e,t){return Br(e)&&Hr(t)?Gr(Yr(e),t):function(n){var r=ji(n,e);return r===W&&r===t?Bi(n,e):Xt(t,r,3)}}function vn(e,t,n,r,i){e!==t&&ga(t,(function(o,a){if(i||(i=new ct),xi(o))!function(e,t,n,r,i,o,a){var s=Vr(e,n),u=Vr(t,n),c=a.get(u);if(c)return ht(e,n,c),W;var l=o?o(s,u,n+"",e,t,a):W,f=l===W;if(f){var h=gs(u),d=!h&&ms(u),p=!h&&!d&&ws(u);l=u,h||d||p?gs(s)?l=s:_i(s)?l=Kn(s):d?(f=!1,l=zn(u,!0)):p?(f=!1,l=Wn(u,!0)):l=[]:Oi(u)||ps(u)?(l=s,ps(s)?l=Di(s):xi(s)&&!Ai(s)||(l=Lr(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),ht(e,n,l)}(e,t,a,n,vn,r,i);else{var s=r?r(Vr(e,a),o,a+"",e,t,i):W;s===W&&(s=o),ht(e,a,s)}}),Ui)}function mn(e,t){var n=e.length;if(n)return Mr(t+=t<0?n:0,n)?e[t]:W}function yn(e,t,n){var r=-1;return t=h(t=t.length?h(t,(function(e){return gs(e)?function(t){return Nt(t,1===e.length?e[0]:e)}:e})):[qi],P(kr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(cn(e,(function(e,n,i){return{criteria:h(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=qn(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function _n(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Nt(e,a);n(s,a)&&Tn(o,Gn(a,e),s)}return o}function bn(e,t,n,r){var i=r?A:b,o=-1,a=t.length,s=e;for(e===t&&(t=Kn(t)),n&&(s=h(e,P(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&ko.call(s,u,1),ko.call(e,u,1);return e}function An(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Mr(i)?ko.call(e,i,1):Ln(e,i)}}return e}function wn(e,t){return e+Bo(Xo()*(t-e+1))}function En(e,t){var n="";if(!e||t<1||t>$)return n;do{t%2&&(n+=e),(t=Bo(t/2))&&(e+=e)}while(t);return n}function xn(e,t){return ka(Qr(e,t,qi),e+"")}function Tn(e,t,n,r){if(!xi(e))return e;for(var i=-1,o=(t=Gn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Yr(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];(c=r?r(l,u,s):W)===W&&(c=xi(l)?l:Mr(t[i+1])?[]:{})}dt(s,u,c),s=s[u]}return e}function Sn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=eo(i);++r<i;)o[r]=e[r+t];return o}function On(e,t){var n;return da(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Cn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ki(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return kn(e,t,qi,n)}function kn(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,u=ki(t),c=t===W;i<o;){var l=Bo((i+o)/2),f=n(e[l]),h=f!==W,d=null===f,p=f==f,g=ki(f);if(a)var v=r||p;else v=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=t:f<t);v?i=l+1:o=l}return Vo(o,4294967294)}function Pn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!mi(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Nn(e){return"number"==typeof e?e:ki(e)?J:+e}function In(e){if("string"==typeof e)return e;if(gs(e))return h(e,In)+"";if(ki(e))return fa?fa.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Rn(e,t,n){var r=-1,i=l,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=f;else if(o>=200){var c=t?null:Aa(e);if(c)return H(c);a=!1,i=I,u=new ut}else u=t?[]:s;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),s.push(h)}else i(u,d,n)||(u!==s&&u.push(d),s.push(h))}return s}function Ln(e,t){return null==(e=zr(e,t=Gn(t,e)))||delete e[Yr(ni(t))]}function Dn(e,t,n,r){return Tn(e,t,n(Nt(e,t)),r)}function Mn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Sn(e,r?0:o,r?o+1:i):Sn(e,r?o+1:0,r?i:o)}function jn(e,t){var n=e;return n instanceof T&&(n=n.value()),p(t,(function(e,t){return t.func.apply(t.thisArg,d([e],t.args))}),n)}function Bn(e,t,n){var r=e.length;if(r<2)return r?Rn(e[0]):[];for(var i=-1,o=eo(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Et(o[i]||a,e[s],t,n));return Rn(Ot(o,1),t,n)}function Fn(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;)n(a,e[r],r<o?t[r]:W);return a}function Un(e){return _i(e)?e:[]}function Hn(e){return"function"==typeof e?e:qi}function Gn(e,t){return gs(e)?e:Br(e,t)?[e]:Pa(Mi(e))}function Qn(e,t,n){var r=e.length;return n=n===W?r:n,!t&&n>=r?e:Sn(e,t,n)}function zn(e,t){if(t)return e.slice();var n=e.length,r=To?To(n):new e.constructor(n);return e.copy(r),r}function Vn(e){var t=new e.constructor(e.byteLength);return new xo(t).set(new xo(e)),t}function Wn(e,t){return new e.constructor(t?Vn(e.buffer):e.buffer,e.byteOffset,e.length)}function qn(e,t){if(e!==t){var n=e!==W,r=null===e,i=e==e,o=ki(e),a=t!==W,s=null===t,u=t==t,c=ki(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Xn(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=zo(o-a,0),l=eo(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Yn(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=zo(o-s,0),f=eo(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function Kn(e,t){var n=-1,r=e.length;for(t||(t=eo(r));++n<r;)t[n]=e[n];return t}function $n(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):W;u===W&&(u=e[s]),i?mt(n,s,u):dt(n,s,u)}return n}function Jn(e,t){return function(n,r){var i=gs(n)?a:gt,o=t?t():{};return i(n,e,kr(r,2),o)}}function Zn(e){return xn((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:W,a=i>2?n[2]:W;for(o=e.length>3&&"function"==typeof o?(i--,o):W,a&&jr(n[0],n[1],a)&&(o=i<3?W:o,i=1),t=oo(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function er(e,t){return function(n,r){if(null==n)return n;if(!yi(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=oo(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function tr(e){return function(t,n,r){for(var i=-1,o=oo(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function nr(e){return function(t){var n=M(t=Mi(t))?Q(t):W,r=n?n[0]:t.charAt(0),i=n?Qn(n,1).join(""):t.slice(1);return r[e]()+i}}function rr(e){return function(t){return p(Vi(zi(t).replace(Dt,"")),e,"")}}function ir(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ha(e.prototype),r=e.apply(n,t);return xi(r)?r:n}}function or(e,t,n){var r=ir(e);return function i(){for(var a=arguments.length,s=eo(a),u=a,c=Cr(i);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:U(s,c);return(a-=l.length)<n?vr(e,t,ur,i.placeholder,W,s,l,W,W,n-a):o(this&&this!==Kt&&this instanceof i?r:e,this,s)}}function ar(e){return function(t,n,r){var i=oo(t);if(!yi(t)){var o=kr(n,3);t=Fi(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:W}}function sr(e){return xr((function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new uo(q);if(o&&!s&&"wrapper"==Or(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){var u=Or(a=t[r]),c="wrapper"==u?wa(a):W;s=c&&Fr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Or(c[0])].apply(s,c[3]):1==a.length&&Fr(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gs(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ur(e,t,n,r,i,o,a,s,u,c){var l=t&K,f=1&t,h=2&t,d=24&t,p=512&t,g=h?W:ir(e);return function v(){for(var m=arguments.length,y=eo(m),_=m;_--;)y[_]=arguments[_];if(d)var b=Cr(v),A=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,b);if(r&&(y=Xn(y,r,i,d)),o&&(y=Yn(y,o,a,d)),m-=A,d&&m<c)return vr(e,t,ur,v.placeholder,n,y,U(y,b),s,u,c-m);var w=f?n:this,E=h?w[e]:e;return m=y.length,s?y=function(e,t){for(var n=e.length,r=Vo(t.length,n),i=Kn(e);r--;){var o=t[r];e[r]=Mr(o,n)?i[o]:W}return e}(y,s):p&&m>1&&y.reverse(),l&&u<m&&(y.length=u),this&&this!==Kt&&this instanceof v&&(E=g||ir(E)),E.apply(w,y)}}function cr(e,t){return function(n,r){return function(e,t,n,r){return Ct(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function lr(e,t){return function(n,r){var i;if(n===W&&r===W)return t;if(n!==W&&(i=n),r!==W){if(i===W)return r;"string"==typeof n||"string"==typeof r?(n=In(n),r=In(r)):(n=Nn(n),r=Nn(r)),i=e(n,r)}return i}}function fr(e){return xr((function(t){return t=h(t,P(kr())),xn((function(n){var r=this;return e(t,(function(e){return o(e,r,n)}))}))}))}function hr(e,t){var n=(t=t===W?" ":In(t)).length;if(n<2)return n?En(t,e):t;var r=En(t,jo(e/G(t)));return M(t)?Qn(Q(r),0,e).join(""):r.slice(0,e)}function dr(e,t,n,r){var i=1&t,a=ir(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=r.length,f=eo(l+u),h=this&&this!==Kt&&this instanceof t?a:e;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++s];return o(h,i?n:this,f)}}function pr(e){return function(t,n,r){return r&&"number"!=typeof r&&jr(t,n,r)&&(n=r=W),t=Ni(t),n===W?(n=t,t=0):n=Ni(n),function(e,t,n,r){for(var i=-1,o=zo(jo((t-e)/(n||1)),0),a=eo(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,n,r=r===W?t<n?1:-1:Ni(r),e)}}function gr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Li(t),n=Li(n)),e(t,n)}}function vr(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:W,l?a:W,l?W:o,l?W:a,s,u,c],h=n.apply(W,f);return Fr(e)&&Oa(h,f),h.placeholder=r,Wr(h,e,t)}function mr(e){var t=io[e];return function(e,n){if(e=Li(e),(n=null==n?0:Vo(Ii(n),292))&&Ho(e)){var r=(Mi(e)+"e").split("e");return+((r=(Mi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function yr(e){return function(t){var n=Ta(t);return n==ue?B(t):n==de?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return h(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function _r(e,t,n,r,i,o,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new uo(q);var c=r?r.length:0;if(c||(t&=-97,r=i=W),a=a===W?a:zo(Ii(a),0),s=s===W?s:Ii(s),c-=i?i.length:0,64&t){var l=r,f=i;r=i=W}var h=u?W:wa(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==K&&8==n||r==K&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?Xn(u,s,t[4]):s,e[4]=u?U(e[3],Y):t[4]}(s=t[5])&&(u=e[5],e[5]=u?Yn(u,s,t[6]):s,e[6]=u?U(e[5],Y):t[6]),(s=t[7])&&(e[7]=s),r&K&&(e[8]=null==e[8]?t[8]:Vo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=d[9]===W?u?0:e.length:zo(d[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?or(e,t,s):32!=t&&33!=t||i.length?ur.apply(W,d):dr(e,t,n,r);else var p=function(e,t,n){var r=1&t,i=ir(e);return function t(){return(this&&this!==Kt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Wr((h?ma:Oa)(p,d),e,t)}function br(e,t,n,r){return e===W||mi(e,fo[n])&&!go.call(r,n)?t:e}function Ar(e,t,n,r,i,o){return xi(e)&&xi(t)&&(o.set(t,e),vn(e,t,W,Ar,o),o.delete(t)),e}function wr(e){return Oi(e)?W:e}function Er(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new ut:W;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var m=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(m!==W){if(m)continue;h=!1;break}if(d){if(!v(t,(function(e,t){if(!I(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function xr(e){return ka(Qr(e,W,ei),e+"")}function Tr(e){return It(e,Fi,Ea)}function Sr(e){return It(e,Ui,xa)}function Or(e){for(var t=e.name+"",n=ra[t],r=go.call(ra,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Cr(e){return(go.call(n,"placeholder")?n:e).placeholder}function kr(){var e=n.iteratee||Xi;return e=e===Xi?Jt:e,arguments.length?e(arguments[0],arguments[1]):e}function Pr(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Nr(e){for(var t=Fi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Hr(i)]}return t}function Ir(e,t){var n=function(e,t){return null==e?W:e[t]}(e,t);return $t(n)?n:W}function Rr(e,t,n){for(var r=-1,i=(t=Gn(t,e)).length,o=!1;++r<i;){var a=Yr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ei(i)&&Mr(a,i)&&(gs(e)||ps(e))}function Lr(e){return"function"!=typeof e.constructor||Ur(e)?{}:ha(So(e))}function Dr(e){return gs(e)||ps(e)||!!(Po&&e&&e[Po])}function Mr(e,t){var n=typeof e;return!!(t=null==t?$:t)&&("number"==n||"symbol"!=n&&rt.test(e))&&e>-1&&e%1==0&&e<t}function jr(e,t,n){if(!xi(n))return!1;var r=typeof t;return!!("number"==r?yi(n)&&Mr(t,n.length):"string"==r&&t in n)&&mi(n[t],e)}function Br(e,t){if(gs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ki(e))||Fe.test(e)||!Be.test(e)||null!=t&&e in oo(t)}function Fr(e){var t=Or(e),r=n[t];if("function"!=typeof r||!(t in T.prototype))return!1;if(e===r)return!0;var i=wa(r);return!!i&&e===i[0]}function Ur(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fo)}function Hr(e){return e==e&&!xi(e)}function Gr(e,t){return function(n){return null!=n&&n[e]===t&&(t!==W||e in oo(n))}}function Qr(e,t,n){return t=zo(t===W?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=zo(r.length-t,0),s=eo(a);++i<a;)s[i]=r[t+i];i=-1;for(var u=eo(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),o(e,this,u)}}function zr(e,t){return t.length<2?e:Nt(e,Sn(t,0,-1))}function Vr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Wr(e,t,n){var r=t+"";return ka(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ve,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return s(ee,(function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(We);return t?t[1].split(qe):[]}(r),n)))}function qr(e){var t=0,n=0;return function(){var r=Wo(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(W,arguments)}}function Xr(e,t){var n=-1,r=e.length,i=r-1;for(t=t===W?r:t;++n<t;){var o=wn(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Yr(e){if("string"==typeof e||ki(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kr(e){if(null!=e){try{return po.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $r(e){if(e instanceof T)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Kn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Jr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ii(n);return i<0&&(i=zo(r+i,0)),_(e,kr(t,3),i)}function Zr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==W&&(i=Ii(n),i=n<0?zo(r+i,0):Vo(i,r-1)),_(e,kr(t,3),i,!0)}function ei(e){return null!=e&&e.length?Ot(e,1):[]}function ti(e){return e&&e.length?e[0]:W}function ni(e){var t=null==e?0:e.length;return t?e[t-1]:W}function ri(e,t){return e&&e.length&&t&&t.length?bn(e,t):e}function ii(e){return null==e?e:Yo.call(e)}function oi(e){if(!e||!e.length)return[];var t=0;return e=c(e,(function(e){if(_i(e))return t=zo(e.length,t),!0})),C(t,(function(t){return h(e,x(t))}))}function ai(e,t){if(!e||!e.length)return[];var n=oi(e);return null==t?n:h(n,(function(e){return o(t,W,e)}))}function si(e){var t=n(e);return t.__chain__=!0,t}function ui(e,t){return t(e)}function ci(e,t){return(gs(e)?s:da)(e,kr(t,3))}function li(e,t){return(gs(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:pa)(e,kr(t,3))}function fi(e,t){return(gs(e)?h:cn)(e,kr(t,3))}function hi(e,t,n){return t=n?W:t,t=e&&null==t?e.length:t,_r(e,K,W,W,W,W,t)}function di(e,t){var n;if("function"!=typeof t)throw new uo(q);return e=Ii(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=W),n}}function pi(e,t,n){function r(t){var n=u,r=c;return u=c=W,p=t,f=e.apply(r,n)}function i(e){var n=e-d;return d===W||n>=t||n<0||v&&e-p>=l}function o(){var e=rs();return i(e)?a(e):(h=Ca(o,function(e){var n=t-(e-d);return v?Vo(n,l-(e-p)):n}(e)),W)}function a(e){return h=W,m&&u?r(e):(u=c=W,f)}function s(){var e=rs(),n=i(e);if(u=arguments,c=this,d=e,n){if(h===W)return function(e){return p=e,h=Ca(o,t),g?r(e):f}(d);if(v)return ba(h),h=Ca(o,t),r(d)}return h===W&&(h=Ca(o,t)),f}var u,c,l,f,h,d,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new uo(q);return t=Li(t)||0,xi(n)&&(g=!!n.leading,l=(v="maxWait"in n)?zo(Li(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),s.cancel=function(){h!==W&&ba(h),p=0,u=d=c=h=W},s.flush=function(){return h===W?f:a(rs())},s}function gi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new uo(q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(gi.Cache||st),n}function vi(e){if("function"!=typeof e)throw new uo(q);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function mi(e,t){return e===t||e!=e&&t!=t}function yi(e){return null!=e&&Ei(e.length)&&!Ai(e)}function _i(e){return Ti(e)&&yi(e)}function bi(e){if(!Ti(e))return!1;var t=Rt(e);return t==oe||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Oi(e)}function Ai(e){if(!xi(e))return!1;var t=Rt(e);return t==ae||t==se||"[object AsyncFunction]"==t||"[object Proxy]"==t}function wi(e){return"number"==typeof e&&e==Ii(e)}function Ei(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=$}function xi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ti(e){return null!=e&&"object"==typeof e}function Si(e){return"number"==typeof e||Ti(e)&&Rt(e)==ce}function Oi(e){if(!Ti(e)||Rt(e)!=le)return!1;var t=So(e);if(null===t)return!0;var n=go.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&po.call(n)==_o}function Ci(e){return"string"==typeof e||!gs(e)&&Ti(e)&&Rt(e)==pe}function ki(e){return"symbol"==typeof e||Ti(e)&&Rt(e)==ge}function Pi(e){if(!e)return[];if(yi(e))return Ci(e)?Q(e):Kn(e);if(No&&e[No])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[No]());var t=Ta(e);return(t==ue?B:t==de?H:Gi)(e)}function Ni(e){return e?(e=Li(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Ii(e){var t=Ni(e),n=t%1;return t==t?n?t-n:t:0}function Ri(e){return e?_t(Ii(e),0,Z):0}function Li(e){if("number"==typeof e)return e;if(ki(e))return J;if(xi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=k(e);var n=et.test(e);return n||nt.test(e)?qt(e.slice(2),n?2:8):Ze.test(e)?J:+e}function Di(e){return $n(e,Ui(e))}function Mi(e){return null==e?"":In(e)}function ji(e,t,n){var r=null==e?W:Nt(e,t);return r===W?n:r}function Bi(e,t){return null!=e&&Rr(e,t,Bt)}function Fi(e){return yi(e)?lt(e):en(e)}function Ui(e){return yi(e)?lt(e,!0):function(e){if(!xi(e))return function(e){var t=[];if(null!=e)for(var n in oo(e))t.push(n);return t}(e);var t=Ur(e),n=[];for(var r in e)("constructor"!=r||!t&&go.call(e,r))&&n.push(r);return n}(e)}function Hi(e,t){if(null==e)return{};var n=h(Sr(e),(function(e){return[e]}));return t=kr(t),_n(e,n,(function(e,n){return t(e,n[0])}))}function Gi(e){return null==e?[]:N(e,Fi(e))}function Qi(e){return Xs(Mi(e).toLowerCase())}function zi(e){return(e=Mi(e))&&e.replace(it,ln).replace(Mt,"")}function Vi(e,t,n){return e=Mi(e),(t=n?W:t)===W?j(e)?V(e):m(e):e.match(t)||[]}function Wi(e){return function(){return e}}function qi(e){return e}function Xi(e){return Jt("function"==typeof e?e:bt(e,1))}function Yi(e,t,n){var r=Fi(t),i=Pt(t,r);null!=n||xi(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Pt(t,Fi(t)));var o=!(xi(n)&&"chain"in n&&!n.chain),a=Ai(e);return s(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Kn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})})),e}function Ki(){}function $i(e){return Br(e)?x(Yr(e)):function(e){return function(t){return Nt(t,e)}}(e)}function Ji(){return[]}function Zi(){return!1}var eo=(t=null==t?Kt:dn.defaults(Kt.Object(),t,dn.pick(Kt,Ht))).Array,to=t.Date,no=t.Error,ro=t.Function,io=t.Math,oo=t.Object,ao=t.RegExp,so=t.String,uo=t.TypeError,co=eo.prototype,lo=ro.prototype,fo=oo.prototype,ho=t["__core-js_shared__"],po=lo.toString,go=fo.hasOwnProperty,vo=0,mo=function(){var e=/[^.]+$/.exec(ho&&ho.keys&&ho.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yo=fo.toString,_o=po.call(oo),bo=Kt._,Ao=ao("^"+po.call(go).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wo=Zt?t.Buffer:W,Eo=t.Symbol,xo=t.Uint8Array,To=wo?wo.allocUnsafe:W,So=F(oo.getPrototypeOf,oo),Oo=oo.create,Co=fo.propertyIsEnumerable,ko=co.splice,Po=Eo?Eo.isConcatSpreadable:W,No=Eo?Eo.iterator:W,Io=Eo?Eo.toStringTag:W,Ro=function(){try{var e=Ir(oo,"defineProperty");return e({},"",{}),e}catch(e){}}(),Lo=t.clearTimeout!==Kt.clearTimeout&&t.clearTimeout,Do=to&&to.now!==Kt.Date.now&&to.now,Mo=t.setTimeout!==Kt.setTimeout&&t.setTimeout,jo=io.ceil,Bo=io.floor,Fo=oo.getOwnPropertySymbols,Uo=wo?wo.isBuffer:W,Ho=t.isFinite,Go=co.join,Qo=F(oo.keys,oo),zo=io.max,Vo=io.min,Wo=to.now,qo=t.parseInt,Xo=io.random,Yo=co.reverse,Ko=Ir(t,"DataView"),$o=Ir(t,"Map"),Jo=Ir(t,"Promise"),Zo=Ir(t,"Set"),ea=Ir(t,"WeakMap"),ta=Ir(oo,"create"),na=ea&&new ea,ra={},ia=Kr(Ko),oa=Kr($o),aa=Kr(Jo),sa=Kr(Zo),ua=Kr(ea),ca=Eo?Eo.prototype:W,la=ca?ca.valueOf:W,fa=ca?ca.toString:W,ha=function(){function e(){}return function(t){if(!xi(t))return{};if(Oo)return Oo(t);e.prototype=t;var n=new e;return e.prototype=W,n}}();n.templateSettings={escape:De,evaluate:Me,interpolate:je,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=ha(r.prototype),i.prototype.constructor=i,T.prototype=ha(r.prototype),T.prototype.constructor=T,ze.prototype.clear=function(){this.__data__=ta?ta(null):{},this.size=0},ze.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ze.prototype.get=function(e){var t=this.__data__;if(ta){var n=t[e];return n===X?W:n}return go.call(t,e)?t[e]:W},ze.prototype.has=function(e){var t=this.__data__;return ta?t[e]!==W:go.call(t,e)},ze.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ta&&t===W?X:t,this},Xe.prototype.clear=function(){this.__data__=[],this.size=0},Xe.prototype.delete=function(e){var t=this.__data__,n=pt(t,e);return!(n<0||(n==t.length-1?t.pop():ko.call(t,n,1),--this.size,0))},Xe.prototype.get=function(e){var t=this.__data__,n=pt(t,e);return n<0?W:t[n][1]},Xe.prototype.has=function(e){return pt(this.__data__,e)>-1},Xe.prototype.set=function(e,t){var n=this.__data__,r=pt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},st.prototype.clear=function(){this.size=0,this.__data__={hash:new ze,map:new($o||Xe),string:new ze}},st.prototype.delete=function(e){var t=Pr(this,e).delete(e);return this.size-=t?1:0,t},st.prototype.get=function(e){return Pr(this,e).get(e)},st.prototype.has=function(e){return Pr(this,e).has(e)},st.prototype.set=function(e,t){var n=Pr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ut.prototype.add=ut.prototype.push=function(e){return this.__data__.set(e,X),this},ut.prototype.has=function(e){return this.__data__.has(e)},ct.prototype.clear=function(){this.__data__=new Xe,this.size=0},ct.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ct.prototype.get=function(e){return this.__data__.get(e)},ct.prototype.has=function(e){return this.__data__.has(e)},ct.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xe){var r=n.__data__;if(!$o||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new st(r)}return n.set(e,t),this.size=n.size,this};var da=er(Ct),pa=er(kt,!0),ga=tr(),va=tr(!0),ma=na?function(e,t){return na.set(e,t),e}:qi,ya=Ro?function(e,t){return Ro(e,"toString",{configurable:!0,enumerable:!1,value:Wi(t),writable:!0})}:qi,_a=xn,ba=Lo||function(e){return Kt.clearTimeout(e)},Aa=Zo&&1/H(new Zo([,-0]))[1]==1/0?function(e){return new Zo(e)}:Ki,wa=na?function(e){return na.get(e)}:Ki,Ea=Fo?function(e){return null==e?[]:(e=oo(e),c(Fo(e),(function(t){return Co.call(e,t)})))}:Ji,xa=Fo?function(e){for(var t=[];e;)d(t,Ea(e)),e=So(e);return t}:Ji,Ta=Rt;(Ko&&Ta(new Ko(new ArrayBuffer(1)))!=ye||$o&&Ta(new $o)!=ue||Jo&&Ta(Jo.resolve())!=fe||Zo&&Ta(new Zo)!=de||ea&&Ta(new ea)!=ve)&&(Ta=function(e){var t=Rt(e),n=t==le?e.constructor:W,r=n?Kr(n):"";if(r)switch(r){case ia:return ye;case oa:return ue;case aa:return fe;case sa:return de;case ua:return ve}return t});var Sa=ho?Ai:Zi,Oa=qr(ma),Ca=Mo||function(e,t){return Kt.setTimeout(e,t)},ka=qr(ya),Pa=function(e){var t=gi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ue,(function(e,n,r,i){t.push(r?i.replace(Ke,"$1"):n||e)})),t})),Na=xn((function(e,t){return _i(e)?Et(e,Ot(t,1,_i,!0)):[]})),Ia=xn((function(e,t){var n=ni(t);return _i(n)&&(n=W),_i(e)?Et(e,Ot(t,1,_i,!0),kr(n,2)):[]})),Ra=xn((function(e,t){var n=ni(t);return _i(n)&&(n=W),_i(e)?Et(e,Ot(t,1,_i,!0),W,n):[]})),La=xn((function(e){var t=h(e,Un);return t.length&&t[0]===e[0]?Ft(t):[]})),Da=xn((function(e){var t=ni(e),n=h(e,Un);return t===ni(n)?t=W:n.pop(),n.length&&n[0]===e[0]?Ft(n,kr(t,2)):[]})),Ma=xn((function(e){var t=ni(e),n=h(e,Un);return(t="function"==typeof t?t:W)&&n.pop(),n.length&&n[0]===e[0]?Ft(n,W,t):[]})),ja=xn(ri),Ba=xr((function(e,t){var n=null==e?0:e.length,r=yt(e,t);return An(e,h(t,(function(e){return Mr(e,n)?+e:e})).sort(qn)),r})),Fa=xn((function(e){return Rn(Ot(e,1,_i,!0))})),Ua=xn((function(e){var t=ni(e);return _i(t)&&(t=W),Rn(Ot(e,1,_i,!0),kr(t,2))})),Ha=xn((function(e){var t=ni(e);return t="function"==typeof t?t:W,Rn(Ot(e,1,_i,!0),W,t)})),Ga=xn((function(e,t){return _i(e)?Et(e,t):[]})),Qa=xn((function(e){return Bn(c(e,_i))})),za=xn((function(e){var t=ni(e);return _i(t)&&(t=W),Bn(c(e,_i),kr(t,2))})),Va=xn((function(e){var t=ni(e);return t="function"==typeof t?t:W,Bn(c(e,_i),W,t)})),Wa=xn(oi),qa=xn((function(e){var t=e.length,n=t>1?e[t-1]:W;return ai(e,n="function"==typeof n?(e.pop(),n):W)})),Xa=xr((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return yt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof T&&Mr(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ui,args:[o],thisArg:W}),new i(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(W),e}))):this.thru(o)})),Ya=Jn((function(e,t,n){go.call(e,n)?++e[n]:mt(e,n,1)})),Ka=ar(Jr),$a=ar(Zr),Ja=Jn((function(e,t,n){go.call(e,n)?e[n].push(t):mt(e,n,[t])})),Za=xn((function(e,t,n){var r=-1,i="function"==typeof t,a=yi(e)?eo(e.length):[];return da(e,(function(e){a[++r]=i?o(t,e,n):Ut(e,t,n)})),a})),es=Jn((function(e,t,n){mt(e,n,t)})),ts=Jn((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ns=xn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&jr(e,t[0],t[1])?t=[]:n>2&&jr(t[0],t[1],t[2])&&(t=[t[0]]),yn(e,Ot(t,1),[])})),rs=Do||function(){return Kt.Date.now()},is=xn((function(e,t,n){var r=1;if(n.length){var i=U(n,Cr(is));r|=32}return _r(e,r,t,n,i)})),os=xn((function(e,t,n){var r=3;if(n.length){var i=U(n,Cr(os));r|=32}return _r(t,r,e,n,i)})),as=xn((function(e,t){return wt(e,1,t)})),ss=xn((function(e,t,n){return wt(e,Li(t)||0,n)}));gi.Cache=st;var us=_a((function(e,t){var n=(t=1==t.length&&gs(t[0])?h(t[0],P(kr())):h(Ot(t,1),P(kr()))).length;return xn((function(r){for(var i=-1,a=Vo(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return o(e,this,r)}))})),cs=xn((function(e,t){return _r(e,32,W,t,U(t,Cr(cs)))})),ls=xn((function(e,t){return _r(e,64,W,t,U(t,Cr(ls)))})),fs=xr((function(e,t){return _r(e,256,W,W,W,t)})),hs=gr(Lt),ds=gr((function(e,t){return e>=t})),ps=Vt(function(){return arguments}())?Vt:function(e){return Ti(e)&&go.call(e,"callee")&&!Co.call(e,"callee")},gs=eo.isArray,vs=nn?P(nn):function(e){return Ti(e)&&Rt(e)==me},ms=Uo||Zi,ys=rn?P(rn):function(e){return Ti(e)&&Rt(e)==ie},_s=on?P(on):function(e){return Ti(e)&&Ta(e)==ue},bs=an?P(an):function(e){return Ti(e)&&Rt(e)==he},As=sn?P(sn):function(e){return Ti(e)&&Ta(e)==de},ws=un?P(un):function(e){return Ti(e)&&Ei(e.length)&&!!Qt[Rt(e)]},Es=gr(tn),xs=gr((function(e,t){return e<=t})),Ts=Zn((function(e,t){if(Ur(t)||yi(t))return $n(t,Fi(t),e),W;for(var n in t)go.call(t,n)&&dt(e,n,t[n])})),Ss=Zn((function(e,t){$n(t,Ui(t),e)})),Os=Zn((function(e,t,n,r){$n(t,Ui(t),e,r)})),Cs=Zn((function(e,t,n,r){$n(t,Fi(t),e,r)})),ks=xr(yt),Ps=xn((function(e,t){e=oo(e);var n=-1,r=t.length,i=r>2?t[2]:W;for(i&&jr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Ui(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(l===W||mi(l,fo[c])&&!go.call(e,c))&&(e[c]=o[c])}return e})),Ns=xn((function(e){return e.push(W,Ar),o(Ms,W,e)})),Is=cr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=yo.call(t)),e[t]=n}),Wi(qi)),Rs=cr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=yo.call(t)),go.call(e,t)?e[t].push(n):e[t]=[n]}),kr),Ls=xn(Ut),Ds=Zn((function(e,t,n){vn(e,t,n)})),Ms=Zn((function(e,t,n,r){vn(e,t,n,r)})),js=xr((function(e,t){var n={};if(null==e)return n;var r=!1;t=h(t,(function(t){return t=Gn(t,e),r||(r=t.length>1),t})),$n(e,Sr(e),n),r&&(n=bt(n,7,wr));for(var i=t.length;i--;)Ln(n,t[i]);return n})),Bs=xr((function(e,t){return null==e?{}:function(e,t){return _n(e,t,(function(t,n){return Bi(e,n)}))}(e,t)})),Fs=yr(Fi),Us=yr(Ui),Hs=rr((function(e,t,n){return t=t.toLowerCase(),e+(n?Qi(t):t)})),Gs=rr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qs=rr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),zs=nr("toLowerCase"),Vs=rr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ws=rr((function(e,t,n){return e+(n?" ":"")+Xs(t)})),qs=rr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=nr("toUpperCase"),Ys=xn((function(e,t){try{return o(e,W,t)}catch(e){return bi(e)?e:new no(e)}})),Ks=xr((function(e,t){return s(t,(function(t){t=Yr(t),mt(e,t,is(e[t],e))})),e})),$s=sr(),Js=sr(!0),Zs=xn((function(e,t){return function(n){return Ut(n,e,t)}})),eu=xn((function(e,t){return function(n){return Ut(e,n,t)}})),tu=fr(h),nu=fr(u),ru=fr(v),iu=pr(),ou=pr(!0),au=lr((function(e,t){return e+t}),0),su=mr("ceil"),uu=lr((function(e,t){return e/t}),1),cu=mr("floor"),lu=lr((function(e,t){return e*t}),1),fu=mr("round"),hu=lr((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new uo(q);return e=Ii(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=hi,n.assign=Ts,n.assignIn=Ss,n.assignInWith=Os,n.assignWith=Cs,n.at=ks,n.before=di,n.bind=is,n.bindAll=Ks,n.bindKey=os,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gs(e)?e:[e]},n.chain=si,n.chunk=function(e,t,n){t=(n?jr(e,t,n):t===W)?1:zo(Ii(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=eo(jo(r/t));i<r;)a[o++]=Sn(e,i,i+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=eo(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return d(gs(n)?Kn(n):[n],Ot(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=kr();return e=t?h(e,(function(e){if("function"!=typeof e[1])throw new uo(q);return[n(e[0]),e[1]]})):[],xn((function(n){for(var r=-1;++r<t;){var i=e[r];if(o(i[0],this,n))return o(i[1],this,n)}}))},n.conforms=function(e){return function(e){var t=Fi(e);return function(n){return At(n,e,t)}}(bt(e,1))},n.constant=Wi,n.countBy=Ya,n.create=function(e,t){var n=ha(e);return null==t?n:vt(n,t)},n.curry=function e(t,n,r){var i=_r(t,8,W,W,W,W,W,n=r?W:n);return i.placeholder=e.placeholder,i},n.curryRight=function e(t,n,r){var i=_r(t,16,W,W,W,W,W,n=r?W:n);return i.placeholder=e.placeholder,i},n.debounce=pi,n.defaults=Ps,n.defaultsDeep=Ns,n.defer=as,n.delay=ss,n.difference=Na,n.differenceBy=Ia,n.differenceWith=Ra,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?Sn(e,(t=n||t===W?1:Ii(t))<0?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Sn(e,0,(t=r-(t=n||t===W?1:Ii(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Mn(e,kr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Mn(e,kr(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&jr(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Ii(n))<0&&(n=-n>i?0:i+n),(r=r===W||r>i?i:Ii(r))<0&&(r+=i),r=n>r?0:Ri(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(gs(e)?c:St)(e,kr(t,3))},n.flatMap=function(e,t){return Ot(fi(e,t),1)},n.flatMapDeep=function(e,t){return Ot(fi(e,t),1/0)},n.flatMapDepth=function(e,t,n){return n=n===W?1:Ii(n),Ot(fi(e,t),n)},n.flatten=ei,n.flattenDeep=function(e){return null!=e&&e.length?Ot(e,1/0):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?Ot(e,t=t===W?1:Ii(t)):[]},n.flip=function(e){return _r(e,512)},n.flow=$s,n.flowRight=Js,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:Pt(e,Fi(e))},n.functionsIn=function(e){return null==e?[]:Pt(e,Ui(e))},n.groupBy=Ja,n.initial=function(e){return null!=e&&e.length?Sn(e,0,-1):[]},n.intersection=La,n.intersectionBy=Da,n.intersectionWith=Ma,n.invert=Is,n.invertBy=Rs,n.invokeMap=Za,n.iteratee=Xi,n.keyBy=es,n.keys=Fi,n.keysIn=Ui,n.map=fi,n.mapKeys=function(e,t){var n={};return t=kr(t,3),Ct(e,(function(e,r,i){mt(n,t(e,r,i),e)})),n},n.mapValues=function(e,t){var n={};return t=kr(t,3),Ct(e,(function(e,r,i){mt(n,r,t(e,r,i))})),n},n.matches=function(e){return pn(bt(e,1))},n.matchesProperty=function(e,t){return gn(e,bt(t,1))},n.memoize=gi,n.merge=Ds,n.mergeWith=Ms,n.method=Zs,n.methodOf=eu,n.mixin=Yi,n.negate=vi,n.nthArg=function(e){return e=Ii(e),xn((function(t){return mn(t,e)}))},n.omit=js,n.omitBy=function(e,t){return Hi(e,vi(kr(t)))},n.once=function(e){return di(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(gs(t)||(t=null==t?[]:[t]),gs(n=r?W:n)||(n=null==n?[]:[n]),yn(e,t,n))},n.over=tu,n.overArgs=us,n.overEvery=nu,n.overSome=ru,n.partial=cs,n.partialRight=ls,n.partition=ts,n.pick=Bs,n.pickBy=Hi,n.property=$i,n.propertyOf=function(e){return function(t){return null==e?W:Nt(e,t)}},n.pull=ja,n.pullAll=ri,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?bn(e,t,kr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bn(e,t,W,n):e},n.pullAt=Ba,n.range=iu,n.rangeRight=ou,n.rearg=fs,n.reject=function(e,t){return(gs(e)?c:St)(e,vi(kr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=kr(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return An(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new uo(q);return xn(e,t=t===W?t:Ii(t))},n.reverse=ii,n.sampleSize=function(e,t,n){return t=(n?jr(e,t,n):t===W)?1:Ii(t),(gs(e)?function(e,t){return Xr(Kn(e),_t(t,0,e.length))}:function(e,t){var n=Gi(e);return Xr(n,_t(t,0,n.length))})(e,t)},n.set=function(e,t,n){return null==e?e:Tn(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:Tn(e,t,n,r)},n.shuffle=function(e){return(gs(e)?function(e){return Xr(Kn(e))}:function(e){return Xr(Gi(e))})(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&jr(e,t,n)?(t=0,n=r):(t=null==t?0:Ii(t),n=n===W?r:Ii(n)),Sn(e,t,n)):[]},n.sortBy=ns,n.sortedUniq=function(e){return e&&e.length?Pn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Pn(e,kr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&jr(e,t,n)&&(t=n=W),(n=n===W?Z:n>>>0)?(e=Mi(e))&&("string"==typeof t||null!=t&&!bs(t))&&!(t=In(t))&&M(e)?Qn(Q(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new uo(q);return t=null==t?0:zo(Ii(t),0),xn((function(n){var r=n[t],i=Qn(n,0,t);return r&&d(i,r),o(e,this,i)}))},n.tail=function(e){var t=null==e?0:e.length;return t?Sn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Sn(e,0,(t=n||t===W?1:Ii(t))<0?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Sn(e,(t=r-(t=n||t===W?1:Ii(t)))<0?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?Mn(e,kr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Mn(e,kr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new uo(q);return xi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=ui,n.toArray=Pi,n.toPairs=Fs,n.toPairsIn=Us,n.toPath=function(e){return gs(e)?h(e,Yr):ki(e)?[e]:Kn(Pa(Mi(e)))},n.toPlainObject=Di,n.transform=function(e,t,n){var r=gs(e),i=r||ms(e)||ws(e);if(t=kr(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:xi(e)&&Ai(o)?ha(So(e)):{}}return(i?s:Ct)(e,(function(e,r,i){return t(n,e,r,i)})),n},n.unary=function(e){return hi(e,1)},n.union=Fa,n.unionBy=Ua,n.unionWith=Ha,n.uniq=function(e){return e&&e.length?Rn(e):[]},n.uniqBy=function(e,t){return e&&e.length?Rn(e,kr(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:W,e&&e.length?Rn(e,W,t):[]},n.unset=function(e,t){return null==e||Ln(e,t)},n.unzip=oi,n.unzipWith=ai,n.update=function(e,t,n){return null==e?e:Dn(e,t,Hn(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:Dn(e,t,Hn(n),r)},n.values=Gi,n.valuesIn=function(e){return null==e?[]:N(e,Ui(e))},n.without=Ga,n.words=Vi,n.wrap=function(e,t){return cs(Hn(t),e)},n.xor=Qa,n.xorBy=za,n.xorWith=Va,n.zip=Wa,n.zipObject=function(e,t){return Fn(e||[],t||[],dt)},n.zipObjectDeep=function(e,t){return Fn(e||[],t||[],Tn)},n.zipWith=qa,n.entries=Fs,n.entriesIn=Us,n.extend=Ss,n.extendWith=Os,Yi(n,n),n.add=au,n.attempt=Ys,n.camelCase=Hs,n.capitalize=Qi,n.ceil=su,n.clamp=function(e,t,n){return n===W&&(n=t,t=W),n!==W&&(n=(n=Li(n))==n?n:0),t!==W&&(t=(t=Li(t))==t?t:0),_t(Li(e),t,n)},n.clone=function(e){return bt(e,4)},n.cloneDeep=function(e){return bt(e,5)},n.cloneDeepWith=function(e,t){return bt(e,5,t="function"==typeof t?t:W)},n.cloneWith=function(e,t){return bt(e,4,t="function"==typeof t?t:W)},n.conformsTo=function(e,t){return null==t||At(e,t,Fi(t))},n.deburr=zi,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=uu,n.endsWith=function(e,t,n){e=Mi(e),t=In(t);var r=e.length,i=n=n===W?r:_t(Ii(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=mi,n.escape=function(e){return(e=Mi(e))&&Le.test(e)?e.replace(Ie,fn):e},n.escapeRegExp=function(e){return(e=Mi(e))&&Ge.test(e)?e.replace(He,"\\$&"):e},n.every=function(e,t,n){var r=gs(e)?u:xt;return n&&jr(e,t,n)&&(t=W),r(e,kr(t,3))},n.find=Ka,n.findIndex=Jr,n.findKey=function(e,t){return y(e,kr(t,3),Ct)},n.findLast=$a,n.findLastIndex=Zr,n.findLastKey=function(e,t){return y(e,kr(t,3),kt)},n.floor=cu,n.forEach=ci,n.forEachRight=li,n.forIn=function(e,t){return null==e?e:ga(e,kr(t,3),Ui)},n.forInRight=function(e,t){return null==e?e:va(e,kr(t,3),Ui)},n.forOwn=function(e,t){return e&&Ct(e,kr(t,3))},n.forOwnRight=function(e,t){return e&&kt(e,kr(t,3))},n.get=ji,n.gt=hs,n.gte=ds,n.has=function(e,t){return null!=e&&Rr(e,t,jt)},n.hasIn=Bi,n.head=ti,n.identity=qi,n.includes=function(e,t,n,r){e=yi(e)?e:Gi(e),n=n&&!r?Ii(n):0;var i=e.length;return n<0&&(n=zo(i+n,0)),Ci(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&b(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ii(n);return i<0&&(i=zo(r+i,0)),b(e,t,i)},n.inRange=function(e,t,n){return t=Ni(t),n===W?(n=t,t=0):n=Ni(n),function(e,t,n){return e>=Vo(t,n)&&e<zo(t,n)}(e=Li(e),t,n)},n.invoke=Ls,n.isArguments=ps,n.isArray=gs,n.isArrayBuffer=vs,n.isArrayLike=yi,n.isArrayLikeObject=_i,n.isBoolean=function(e){return!0===e||!1===e||Ti(e)&&Rt(e)==re},n.isBuffer=ms,n.isDate=ys,n.isElement=function(e){return Ti(e)&&1===e.nodeType&&!Oi(e)},n.isEmpty=function(e){if(null==e)return!0;if(yi(e)&&(gs(e)||"string"==typeof e||"function"==typeof e.splice||ms(e)||ws(e)||ps(e)))return!e.length;var t=Ta(e);if(t==ue||t==de)return!e.size;if(Ur(e))return!en(e).length;for(var n in e)if(go.call(e,n))return!1;return!0},n.isEqual=function(e,t){return Xt(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:W)?n(e,t):W;return r===W?Xt(e,t,W,n):!!r},n.isError=bi,n.isFinite=function(e){return"number"==typeof e&&Ho(e)},n.isFunction=Ai,n.isInteger=wi,n.isLength=Ei,n.isMap=_s,n.isMatch=function(e,t){return e===t||Yt(e,t,Nr(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:W,Yt(e,t,Nr(t),n)},n.isNaN=function(e){return Si(e)&&e!=+e},n.isNative=function(e){if(Sa(e))throw new no("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $t(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Si,n.isObject=xi,n.isObjectLike=Ti,n.isPlainObject=Oi,n.isRegExp=bs,n.isSafeInteger=function(e){return wi(e)&&e>=-$&&e<=$},n.isSet=As,n.isString=Ci,n.isSymbol=ki,n.isTypedArray=ws,n.isUndefined=function(e){return e===W},n.isWeakMap=function(e){return Ti(e)&&Ta(e)==ve},n.isWeakSet=function(e){return Ti(e)&&"[object WeakSet]"==Rt(e)},n.join=function(e,t){return null==e?"":Go.call(e,t)},n.kebabCase=Gs,n.last=ni,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==W&&(i=(i=Ii(n))<0?zo(r+i,0):Vo(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):_(e,w,i,!0)},n.lowerCase=Qs,n.lowerFirst=zs,n.lt=Es,n.lte=xs,n.max=function(e){return e&&e.length?Tt(e,qi,Lt):W},n.maxBy=function(e,t){return e&&e.length?Tt(e,kr(t,2),Lt):W},n.mean=function(e){return E(e,qi)},n.meanBy=function(e,t){return E(e,kr(t,2))},n.min=function(e){return e&&e.length?Tt(e,qi,tn):W},n.minBy=function(e,t){return e&&e.length?Tt(e,kr(t,2),tn):W},n.stubArray=Ji,n.stubFalse=Zi,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=lu,n.nth=function(e,t){return e&&e.length?mn(e,Ii(t)):W},n.noConflict=function(){return Kt._===this&&(Kt._=bo),this},n.noop=Ki,n.now=rs,n.pad=function(e,t,n){e=Mi(e);var r=(t=Ii(t))?G(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return hr(Bo(i),n)+e+hr(jo(i),n)},n.padEnd=function(e,t,n){e=Mi(e);var r=(t=Ii(t))?G(e):0;return t&&r<t?e+hr(t-r,n):e},n.padStart=function(e,t,n){e=Mi(e);var r=(t=Ii(t))?G(e):0;return t&&r<t?hr(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),qo(Mi(e).replace(Qe,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&jr(e,t,n)&&(t=n=W),n===W&&("boolean"==typeof t?(n=t,t=W):"boolean"==typeof e&&(n=e,e=W)),e===W&&t===W?(e=0,t=1):(e=Ni(e),t===W?(t=e,e=0):t=Ni(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Xo();return Vo(e+i*(t-e+Wt("1e-"+((i+"").length-1))),t)}return wn(e,t)},n.reduce=function(e,t,n){var r=gs(e)?p:S,i=arguments.length<3;return r(e,kr(t,4),n,i,da)},n.reduceRight=function(e,t,n){var r=gs(e)?g:S,i=arguments.length<3;return r(e,kr(t,4),n,i,pa)},n.repeat=function(e,t,n){return t=(n?jr(e,t,n):t===W)?1:Ii(t),En(Mi(e),t)},n.replace=function(){var e=arguments,t=Mi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=Gn(t,e)).length;for(i||(i=1,e=W);++r<i;){var o=null==e?W:e[Yr(t[r])];o===W&&(r=i,o=n),e=Ai(o)?o.call(e):o}return e},n.round=fu,n.runInContext=e,n.sample=function(e){return(gs(e)?ft:function(e){return ft(Gi(e))})(e)},n.size=function(e){if(null==e)return 0;if(yi(e))return Ci(e)?G(e):e.length;var t=Ta(e);return t==ue||t==de?e.size:en(e).length},n.snakeCase=Vs,n.some=function(e,t,n){var r=gs(e)?v:On;return n&&jr(e,t,n)&&(t=W),r(e,kr(t,3))},n.sortedIndex=function(e,t){return Cn(e,t)},n.sortedIndexBy=function(e,t,n){return kn(e,t,kr(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Cn(e,t);if(r<n&&mi(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return Cn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return kn(e,t,kr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Cn(e,t,!0)-1;if(mi(e[n],t))return n}return-1},n.startCase=Ws,n.startsWith=function(e,t,n){return e=Mi(e),n=null==n?0:_t(Ii(n),0,e.length),t=In(t),e.slice(n,n+t.length)==t},n.subtract=hu,n.sum=function(e){return e&&e.length?O(e,qi):0},n.sumBy=function(e,t){return e&&e.length?O(e,kr(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&jr(e,t,r)&&(t=W),e=Mi(e),t=Os({},t,i,br);var o,a,s=Os({},t.imports,i.imports,br),u=Fi(s),c=N(s,u),l=0,f=t.interpolate||ot,h="__p += '",d=ao((t.escape||ot).source+"|"+f.source+"|"+(f===je?$e:ot).source+"|"+(t.evaluate||ot).source+"|$","g"),p="//# sourceURL="+(go.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(l,u).replace(at,D),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var g=go.call(t,"variable")&&t.variable;if(g){if(Ye.test(g))throw new no("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(Ce,""):h).replace(ke,"$1").replace(Pe,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Ys((function(){return ro(u,p+"return "+h).apply(W,c)}));if(v.source=h,bi(v))throw v;return v},n.times=function(e,t){if((e=Ii(e))<1||e>$)return[];var n=Z,r=Vo(e,Z);t=kr(t),e-=Z;for(var i=C(r,t);++n<e;)t(n);return i},n.toFinite=Ni,n.toInteger=Ii,n.toLength=Ri,n.toLower=function(e){return Mi(e).toLowerCase()},n.toNumber=Li,n.toSafeInteger=function(e){return e?_t(Ii(e),-$,$):0===e?e:0},n.toString=Mi,n.toUpper=function(e){return Mi(e).toUpperCase()},n.trim=function(e,t,n){if((e=Mi(e))&&(n||t===W))return k(e);if(!e||!(t=In(t)))return e;var r=Q(e),i=Q(t);return Qn(r,R(r,i),L(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=Mi(e))&&(n||t===W))return e.slice(0,z(e)+1);if(!e||!(t=In(t)))return e;var r=Q(e);return Qn(r,0,L(r,Q(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Mi(e))&&(n||t===W))return e.replace(Qe,"");if(!e||!(t=In(t)))return e;var r=Q(e);return Qn(r,R(r,Q(t))).join("")},n.truncate=function(e,t){var n=30,r="...";if(xi(t)){var i="separator"in t?t.separator:i;n="length"in t?Ii(t.length):n,r="omission"in t?In(t.omission):r}var o=(e=Mi(e)).length;if(M(e)){var a=Q(e);o=a.length}if(n>=o)return e;var s=n-G(r);if(s<1)return r;var u=a?Qn(a,0,s).join(""):e.slice(0,s);if(i===W)return u+r;if(a&&(s+=u.length-s),bs(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ao(i.source,Mi(Je.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===W?s:f)}}else if(e.indexOf(In(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},n.unescape=function(e){return(e=Mi(e))&&Re.test(e)?e.replace(Ne,hn):e},n.uniqueId=function(e){var t=++vo;return Mi(e)+t},n.upperCase=qs,n.upperFirst=Xs,n.each=ci,n.eachRight=li,n.first=ti,Yi(n,function(){var e={};return Ct(n,(function(t,r){go.call(n.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),n.VERSION="4.17.21",s(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),s(["drop","take"],(function(e,t){T.prototype[e]=function(n){n=n===W?1:zo(Ii(n),0);var r=this.__filtered__&&!t?new T(this):this.clone();return r.__filtered__?r.__takeCount__=Vo(n,r.__takeCount__):r.__views__.push({size:Vo(n,Z),type:e+(r.__dir__<0?"Right":"")}),r},T.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),s(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;T.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:kr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),s(["head","last"],(function(e,t){var n="take"+(t?"Right":"");T.prototype[e]=function(){return this[n](1).value()[0]}})),s(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");T.prototype[e]=function(){return this.__filtered__?new T(this):this[n](1)}})),T.prototype.compact=function(){return this.filter(qi)},T.prototype.find=function(e){return this.filter(e).head()},T.prototype.findLast=function(e){return this.reverse().find(e)},T.prototype.invokeMap=xn((function(e,t){return"function"==typeof e?new T(this):this.map((function(n){return Ut(n,e,t)}))})),T.prototype.reject=function(e){return this.filter(vi(kr(e)))},T.prototype.slice=function(e,t){e=Ii(e);var n=this;return n.__filtered__&&(e>0||t<0)?new T(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==W&&(n=(t=Ii(t))<0?n.dropRight(-t):n.take(t-e)),n)},T.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},T.prototype.toArray=function(){return this.take(Z)},Ct(T.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,u=o?[1]:arguments,c=t instanceof T,l=u[0],f=c||gs(t),h=function(e){var t=a.apply(n,d([e],u));return o&&p?t[0]:t};f&&r&&"function"==typeof l&&1!=l.length&&(c=f=!1);var p=this.__chain__,g=!!this.__actions__.length,v=s&&!p,m=c&&!g;if(!s&&f){t=m?t:new T(this);var y=e.apply(t,u);return y.__actions__.push({func:ui,args:[h],thisArg:W}),new i(y,p)}return v&&m?e.apply(this,u):(y=this.thru(h),v?o?y.value()[0]:y.value():y)})})),s(["pop","push","shift","sort","splice","unshift"],(function(e){var t=co[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(gs(n)?n:[],e)}return this[r]((function(n){return t.apply(gs(n)?n:[],e)}))}})),Ct(T.prototype,(function(e,t){var r=n[t];if(r){var i=r.name+"";go.call(ra,i)||(ra[i]=[]),ra[i].push({name:t,func:r})}})),ra[ur(W,2).name]=[{name:"wrapper",func:W}],T.prototype.clone=function(){var e=new T(this.__wrapped__);return e.__actions__=Kn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Kn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Kn(this.__views__),e},T.prototype.reverse=function(){if(this.__filtered__){var e=new T(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},T.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=gs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vo(t,e+a);break;case"takeRight":e=zo(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=Vo(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return jn(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var g=-1,v=e[c+=t];++g<f;){var m=l[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue e;break e}}p[h++]=v}return p},n.prototype.at=Xa,n.prototype.chain=function(){return si(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===W&&(this.__values__=Pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?W:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=$r(n);i.__index__=0,i.__values__=W,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof T){var t=e;return this.__actions__.length&&(t=new T(this)),(t=t.reverse()).__actions__.push({func:ui,args:[ii],thisArg:W}),new i(t,this.__chain__)}return this.thru(ii)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return jn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,No&&(n.prototype[No]=function(){return this}),n}();Kt._=dn,void 0===(i=function(){return dn}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(4),n(10)(e))},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return r({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,s=void 0!==n&&n,u=t.escapeMapFn,c=void 0===u?a:u,l=String(e),f="",h=c(r({},i),s?r({},o):{}),d=Object.keys(h),p=function(){var e=!1;d.forEach((function(t,n){e||l.length>=t.length&&l.slice(0,t.length)===t&&(f+=h[d[n]],l=l.slice(t.length,l.length),e=!0)})),e||(f+=l.slice(0,1),l=l.slice(1,l.length))};l;)p();return f}},function(e,t,n){"use strict";n.r(t);var r={};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"number"==typeof e}function a(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function s(e){return e&&"object"===i(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function u(e){return e&&"object"===i(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function c(e){return e&&!0===e.constructor.prototype.isUnit||!1}function l(e){return"string"==typeof e}n.r(r),n.d(r,"createTyped",(function(){return Sn})),n.d(r,"createResultSet",(function(){return Pn})),n.d(r,"createRangeClass",(function(){return Nn})),n.d(r,"createHelpClass",(function(){return In})),n.d(r,"createChainClass",(function(){return Rn})),n.d(r,"createHelp",(function(){return Vn})),n.d(r,"createChain",(function(){return Wn})),n.d(r,"createSimplify",(function(){return Jn})),n.d(r,"createDerivative",(function(){return Zn})),n.d(r,"createRationalize",(function(){return er})),n.d(r,"createUnaryMinus",(function(){return ma})),n.d(r,"createUnaryPlus",(function(){return ya})),n.d(r,"createAbs",(function(){return _a})),n.d(r,"createAddScalar",(function(){return ba})),n.d(r,"createCbrt",(function(){return Aa})),n.d(r,"createCeil",(function(){return wa})),n.d(r,"createCube",(function(){return Ea})),n.d(r,"createExp",(function(){return xa})),n.d(r,"createExpm1",(function(){return Ta})),n.d(r,"createFix",(function(){return Sa})),n.d(r,"createFloor",(function(){return Oa})),n.d(r,"createGcd",(function(){return Ca})),n.d(r,"createLcm",(function(){return ka})),n.d(r,"createLog10",(function(){return Pa})),n.d(r,"createLog2",(function(){return Na})),n.d(r,"createMod",(function(){return Ia})),n.d(r,"createMultiplyScalar",(function(){return Ra})),n.d(r,"createMultiply",(function(){return La})),n.d(r,"createNthRoot",(function(){return ar})),n.d(r,"createSign",(function(){return Da})),n.d(r,"createSqrt",(function(){return Ma})),n.d(r,"createSquare",(function(){return ja})),n.d(r,"createSubtract",(function(){return Ba})),n.d(r,"createXgcd",(function(){return Fa})),n.d(r,"createDivideScalar",(function(){return Ua})),n.d(r,"createPow",(function(){return Ha})),n.d(r,"createRound",(function(){return ur})),n.d(r,"createLog",(function(){return Ga})),n.d(r,"createLog1p",(function(){return Qa})),n.d(r,"createAdd",(function(){return za})),n.d(r,"createHypot",(function(){return cr})),n.d(r,"createNorm",(function(){return Va})),n.d(r,"createDivide",(function(){return Wa})),n.d(r,"createBitAnd",(function(){return qa})),n.d(r,"createBitNot",(function(){return Xa})),n.d(r,"createBitOr",(function(){return Ya})),n.d(r,"createBitXor",(function(){return Ka})),n.d(r,"createLeftShift",(function(){return $a})),n.d(r,"createRightArithShift",(function(){return Ja})),n.d(r,"createRightLogShift",(function(){return Za})),n.d(r,"createStirlingS2",(function(){return lr})),n.d(r,"createBellNumbers",(function(){return fr})),n.d(r,"createCatalan",(function(){return hr})),n.d(r,"createComposition",(function(){return dr})),n.d(r,"createE",(function(){return Ir})),n.d(r,"createUppercaseE",(function(){return Hr})),n.d(r,"createFalse",(function(){return Sr})),n.d(r,"createInfinity",(function(){return Cr})),n.d(r,"createLN10",(function(){return Dr})),n.d(r,"createLN2",(function(){return Lr})),n.d(r,"createLOG10E",(function(){return jr})),n.d(r,"createLOG2E",(function(){return Mr})),n.d(r,"createNaN",(function(){return kr})),n.d(r,"createNull",(function(){return Or})),n.d(r,"createPhi",(function(){return Rr})),n.d(r,"createPi",(function(){return Pr})),n.d(r,"createUppercasePi",(function(){return Ur})),n.d(r,"createSQRT1_2",(function(){return Br})),n.d(r,"createSQRT2",(function(){return Fr})),n.d(r,"createTau",(function(){return Nr})),n.d(r,"createTrue",(function(){return Tr})),n.d(r,"createVersion",(function(){return Gr})),n.d(r,"createNumber",(function(){return zr})),n.d(r,"createString",(function(){return Vr})),n.d(r,"createBoolean",(function(){return Wr})),n.d(r,"createParser",(function(){return qr})),n.d(r,"createNode",(function(){return Kr})),n.d(r,"createAccessorNode",(function(){return ei})),n.d(r,"createArrayNode",(function(){return ti})),n.d(r,"createAssignmentNode",(function(){return si})),n.d(r,"createBlockNode",(function(){return ui})),n.d(r,"createConditionalNode",(function(){return ci})),n.d(r,"createConstantNode",(function(){return yi})),n.d(r,"createFunctionAssignmentNode",(function(){return _i})),n.d(r,"createIndexNode",(function(){return Ai})),n.d(r,"createObjectNode",(function(){return Ei})),n.d(r,"createOperatorNode",(function(){return xi})),n.d(r,"createParenthesisNode",(function(){return Ti})),n.d(r,"createRangeNode",(function(){return Si})),n.d(r,"createRelationalNode",(function(){return Oi})),n.d(r,"createSymbolNode",(function(){return Ci})),n.d(r,"createFunctionNode",(function(){return Ni})),n.d(r,"createParse",(function(){return Ri})),n.d(r,"createCompile",(function(){return Li})),n.d(r,"createEvaluate",(function(){return Di})),n.d(r,"createParserClass",(function(){return Mi})),n.d(r,"createAnd",(function(){return es})),n.d(r,"createNot",(function(){return ts})),n.d(r,"createOr",(function(){return ns})),n.d(r,"createXor",(function(){return rs})),n.d(r,"createApply",(function(){return ji})),n.d(r,"createFilter",(function(){return Fi})),n.d(r,"createForEach",(function(){return Hi})),n.d(r,"createMap",(function(){return Qi})),n.d(r,"createRange",(function(){return Vi})),n.d(r,"createSize",(function(){return Wi})),n.d(r,"createIndex",(function(){return is})),n.d(r,"createMatrix",(function(){return os})),n.d(r,"createSubset",(function(){return as})),n.d(r,"createPartitionSelect",(function(){return qi})),n.d(r,"createCombinations",(function(){return ss})),n.d(r,"createGamma",(function(){return us})),n.d(r,"createCombinationsWithRep",(function(){return Xi})),n.d(r,"createFactorial",(function(){return Ki})),n.d(r,"createMultinomial",(function(){return $i})),n.d(r,"createPermutations",(function(){return Ji})),n.d(r,"createPickRandom",(function(){return io})),n.d(r,"createRandom",(function(){return oo})),n.d(r,"createRandomInt",(function(){return ao})),n.d(r,"createEqualScalar",(function(){return so})),n.d(r,"createCompare",(function(){return uo})),n.d(r,"createCompareNatural",(function(){return fo})),n.d(r,"createCompareText",(function(){return ho})),n.d(r,"createEqual",(function(){return po})),n.d(r,"createEqualText",(function(){return go})),n.d(r,"createSmaller",(function(){return vo})),n.d(r,"createSmallerEq",(function(){return mo})),n.d(r,"createLarger",(function(){return yo})),n.d(r,"createLargerEq",(function(){return _o})),n.d(r,"createDeepEqual",(function(){return bo})),n.d(r,"createUnequal",(function(){return Ao})),n.d(r,"createErf",(function(){return wo})),n.d(r,"createMode",(function(){return Co})),n.d(r,"createProd",(function(){return Po})),n.d(r,"createMax",(function(){return No})),n.d(r,"createMin",(function(){return Io})),n.d(r,"createSum",(function(){return Ro})),n.d(r,"createMean",(function(){return Lo})),n.d(r,"createMedian",(function(){return Do})),n.d(r,"createMad",(function(){return Mo})),n.d(r,"createVariance",(function(){return jo})),n.d(r,"createQuantileSeq",(function(){return Bo})),n.d(r,"createStd",(function(){return Fo})),n.d(r,"createFormat",(function(){return Uo})),n.d(r,"createPrint",(function(){return Ho})),n.d(r,"createAcos",(function(){return cs})),n.d(r,"createAcosh",(function(){return ls})),n.d(r,"createAcot",(function(){return fs})),n.d(r,"createAcoth",(function(){return hs})),n.d(r,"createAcsc",(function(){return ds})),n.d(r,"createAcsch",(function(){return ps})),n.d(r,"createAsec",(function(){return gs})),n.d(r,"createAsech",(function(){return vs})),n.d(r,"createAsin",(function(){return ms})),n.d(r,"createAsinh",(function(){return ys})),n.d(r,"createAtan",(function(){return _s})),n.d(r,"createAtan2",(function(){return bs})),n.d(r,"createAtanh",(function(){return As})),n.d(r,"createCos",(function(){return ws})),n.d(r,"createCosh",(function(){return Es})),n.d(r,"createCot",(function(){return xs})),n.d(r,"createCoth",(function(){return Ts})),n.d(r,"createCsc",(function(){return Ss})),n.d(r,"createCsch",(function(){return Os})),n.d(r,"createSec",(function(){return Cs})),n.d(r,"createSech",(function(){return ks})),n.d(r,"createSin",(function(){return Ps})),n.d(r,"createSinh",(function(){return Ns})),n.d(r,"createTan",(function(){return Is})),n.d(r,"createTanh",(function(){return Rs})),n.d(r,"createApplyTransform",(function(){return Qo})),n.d(r,"createFilterTransform",(function(){return Vo})),n.d(r,"createForEachTransform",(function(){return qo})),n.d(r,"createMapTransform",(function(){return Xo})),n.d(r,"createMaxTransform",(function(){return Ko})),n.d(r,"createMeanTransform",(function(){return $o})),n.d(r,"createMinTransform",(function(){return Jo})),n.d(r,"createRangeTransform",(function(){return Zo})),n.d(r,"createSubsetTransform",(function(){return oa})),n.d(r,"createStdTransform",(function(){return aa})),n.d(r,"createSumTransform",(function(){return sa})),n.d(r,"createVarianceTransform",(function(){return ua})),n.d(r,"createClone",(function(){return ca})),n.d(r,"createIsInteger",(function(){return Ls})),n.d(r,"createIsNegative",(function(){return Ds})),n.d(r,"createIsNumeric",(function(){return la})),n.d(r,"createHasNumericValue",(function(){return fa})),n.d(r,"createIsPositive",(function(){return Ms})),n.d(r,"createIsZero",(function(){return js})),n.d(r,"createIsNaN",(function(){return Bs})),n.d(r,"createTypeOf",(function(){return ha})),n.d(r,"createIsPrime",(function(){return da})),n.d(r,"createNumeric",(function(){return pa})),n.d(r,"createReviver",(function(){return ga})),n.d(r,"createReplacer",(function(){return va}));var f=Array.isArray;function h(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function d(e){return Array.isArray(e)||h(e)}function p(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function g(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function v(e){return e&&!0===e.constructor.prototype.isRange||!1}function m(e){return e&&!0===e.constructor.prototype.isIndex||!1}function y(e){return"boolean"==typeof e}function _(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function b(e){return e&&!0===e.constructor.prototype.isHelp||!1}function A(e){return"function"==typeof e}function w(e){return e instanceof Date}function E(e){return e instanceof RegExp}function x(e){return!(!e||"object"!==i(e)||e.constructor!==Object||s(e)||u(e))}function T(e){return null===e}function S(e){return void 0===e}function O(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function C(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function k(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function M(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function j(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function H(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function G(e){return e&&!0===e.constructor.prototype.isChain||!1}function Q(e){var t=i(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":a(e)?"BigNumber":s(e)?"Complex":u(e)?"Fraction":h(e)?"Matrix":c(e)?"Unit":m(e)?"Index":v(e)?"Range":_(e)?"ResultSet":M(e)?e.type:G(e)?"Chain":b(e)?"Help":"Object":"function"===t?"Function":t}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e){var t=z(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return V(e)}));if(e instanceof Date)return new Date(e.valueOf());if(a(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return W(e,V)}function W(e,t){var n={};for(var r in e)Y(e,r)&&(n[r]=t(e[r]));return n}function q(e){var t={};return function e(t,n){for(var r in t)if(Y(t,r)){var i=t[r];"object"===z(i)&&null!==i?e(i,n):n[r]=i}}(e,t),t}function X(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}function Y(e,t){return e&&Object.hasOwnProperty.call(e,t)}function K(e){return Object.keys(e).map((function(t){return e[t]}))}var $=n(7),J=n.n($);function Z(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var ee=Math.sign||function(e){return e>0?1:e<0?-1:0},te=Math.log2||function(e){return Math.log(e)/Math.LN2},ne=Math.log10||function(e){return Math.log(e)/Math.LN10},re=Math.log1p||function(e){return Math.log(e+1)},ie=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},oe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function ae(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),o(t)?n=t:o(t.precision)&&(n=t.precision)),r){case"fixed":return ue(e,n);case"exponential":return ce(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=le(se(e),t),r=n.exponent,i=n.coefficients,a=r%3==0?r:r<0?r-3-r%3:r-r%3;if(o(t))for(;t>i.length||r-a+1>i.length;)i.push(0);else for(var s=Math.abs(r-a)-(i.length-1),u=0;u<s;u++)i.push(0);for(var c=Math.abs(r-a),l=1;c>0;)l++,c--;var f=i.slice(l).join(""),h=o(t)&&f.length||f.match(/[1-9]/)?"."+f:"",d=i.slice(0,l).join("")+h+"e"+(r>=0?"+":"")+a.toString();return n.sign+d}(e,n);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=se(e),a=t?le(o,t):o;if(a.exponent<r||a.exponent>=i)return ce(e,t);var s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(fe(t-s.length))),s=s.concat(fe(u-s.length+1+(s.length<t?t-s.length:0)));var c=u>0?u:0;return c<(s=fe(-u).concat(s)).length-1&&s.splice(c+1,0,"."),a.sign+s.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function se(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function ue(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=se(e),r="number"==typeof t?le(n,n.exponent+1+t):n,i=r.coefficients,o=r.exponent+1,a=o+(t||0);return i.length<a&&(i=i.concat(fe(a-i.length))),o<0&&(i=fe(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function ce(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=se(e),r=t?le(n,t):n,i=r.coefficients,o=r.exponent;i.length<t&&(i=i.concat(fe(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function le(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function fe(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var he=Number.EPSILON||2220446049250313e-31;function de(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<he||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var pe=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},ge=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},ve=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},me=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},ye=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},_e=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function be(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return"number"==typeof e?ae(e,t):a(e)?function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==t&&(t.notation&&(r=t.notation),"number"==typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return be(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),o=i.toPrecision(t);return-1!==o.indexOf("e")&&(o=i.toString()),o+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var a=e.toSignificantDigits(n),s=a.e;return(s>=i&&s<o?a.toFixed():be(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}(e,t):function(e){return e&&"object"===Ae(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,n){if(Array.isArray(t)){for(var r="[",i=t.length,o=0;o<i;o++)0!==o&&(r+=", "),r+=e(t[o],n);return r+"]"}return we(t,n)}(e,t):l(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"===Ae(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(n){return'"'+n+'": '+we(e[n],t)})).join(", ")+"}":String(e)}function Ee(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function xe(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Te(e,t){if(!l(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Q(e)+", index: 0)");if(!l(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Q(t)+", index: 1)");return e===t?0:e>t?1:-1}function Se(e,t,n){if(!(this instanceof Se))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Oe(e,t,n){if(!(this instanceof Oe))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Ce(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ke(e,t){if(!o(e)||!Z(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new Oe(e,t)}function Pe(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function Ne(e,t){return Array.prototype.map.call(e,t)}function Ie(e,t){Array.prototype.forEach.call(e,t)}function Re(e,t){if(1!==Ce(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Le(e,t){if(1!==Ce(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function De(e,t){return Array.prototype.join.call(e,t)}function Me(e,t){return-1!==e.indexOf(t)}function je(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],o=e[i];void 0!==o&&(n[i]=o)}return n}(r,t.map(Fe));return function(e,t,n){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==n[e]}))){var r=t.filter((function(e){return void 0===n[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Be(e){return"function"==typeof e&&"string"==typeof e.fn&&Array.isArray(e.dependencies)}function Fe(e){return e&&"?"===e[0]?e.slice(1):e}function Ue(e,t,n,r){if(!(this instanceof Ue))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Se.prototype=new RangeError,Se.prototype.constructor=RangeError,Se.prototype.name="DimensionError",Se.prototype.isDimensionError=!0,Oe.prototype=new RangeError,Oe.prototype.constructor=RangeError,Oe.prototype.name="IndexError",Oe.prototype.isIndexError=!0,Ue.prototype=new Error,Ue.prototype.constructor=Error,Ue.prototype.name="ArgumentsError",Ue.prototype.isArgumentsError=!0;var Ge={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Qe=["Matrix","Array"],ze=["number","BigNumber","Fraction"];function Ve(e,t){function n(n){if(n){var r=W(e,V);We(n,"matrix",Qe),We(n,"number",ze),function e(t,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Y(n,r)&&!(r in Object.prototype)&&!(r in Function.prototype))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r]&&t[r].constructor===Object?e(t[r],n[r]):t[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");t[r]=n[r]}return t}(e,n);var i=W(e,V),o=W(n,V);return t("config",i,r,o),i}return W(e,V)}return n.MATRIX_OPTIONS=Qe,n.NUMBER_OPTIONS=ze,Object.keys(Ge).forEach((function(t){Object.defineProperty(n,t,{get:function(){return e[t]},enumerable:!0,configurable:!0})})),n}function We(e,t,n){void 0===e[t]||function(e,t){return-1!==e.indexOf(t)}(n,e[t])||console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map((function(e){return JSON.stringify(e)})).join(", ")+".")}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xe="number, number";function Ye(e){return Math.abs(e)}function Ke(e,t){return e+t}function $e(e,t){return e-t}function Je(e,t){return e*t}function Ze(e,t){return e/t}function et(e){return-e}function tt(e){return e}function nt(e){return ie(e)}function rt(e){return Math.ceil(e)}function it(e){return e*e*e}function ot(e){return Math.exp(e)}function at(e){return oe(e)}function st(e){return e>0?Math.floor(e):Math.ceil(e)}function ut(e){return Math.floor(e)}function ct(e,t){if(!Z(e)||!Z(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function lt(e,t){if(!Z(e)||!Z(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function ft(e){return Math.log(e)}function ht(e){return ne(e)}function dt(e){return te(e)}function pt(e){return re(e)}function gt(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function vt(e,t){var n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function mt(e){return ee(e)}function yt(e){return Math.sqrt(e)}function _t(e){return e*e}function bt(e,t){var n,r,i,o=0,a=1,s=1,u=0;if(!Z(e)||!Z(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=o,o=a-r*o,a=n,n=s,s=u-r*s,u=n,e=t,t=i;return e<0?[-e,-a,-u]:[e,e?a:0,u]}function At(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ue(e,t))}function Et(e){return Math.abs(e)}Ye.signature="number",Ke.signature=Xe,$e.signature=Xe,Je.signature=Xe,Ze.signature=Xe,et.signature="number",tt.signature="number",nt.signature="number",rt.signature="number",it.signature="number",ot.signature="number",at.signature="number",st.signature="number",ut.signature="number",ct.signature=Xe,lt.signature=Xe,ft.signature="number",ht.signature="number",dt.signature="number",pt.signature="number",gt.signature=Xe,vt.signature=Xe,mt.signature="number",yt.signature="number",_t.signature="number",bt.signature=Xe,At.signature=Xe,wt.signature=Xe,Et.signature="number";var xt="number, number";function Tt(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function bitAnd");return e&t}function St(e){if(!Z(e))throw new Error("Integer expected in function bitNot");return~e}function Ot(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function bitOr");return e|t}function Ct(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function bitXor");return e^t}function kt(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function leftShift");return e<<t}function Pt(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function Nt(e,t){if(!Z(e)||!Z(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}function It(e){return!e}function Rt(e,t){return!(!e&&!t)}function Lt(e,t){return!!e!=!!t}function Dt(e,t){return!(!e||!t)}function Mt(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return Mt(e,n)*Mt(n+1,t)}function jt(e,t){if(!Z(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Z(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var n=e-t;return t<n?Mt(n+1,e)/Mt(1,t):Mt(t+1,e)/Mt(1,n)}function Bt(e){var t;if(Z(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Mt(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Bt(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,o=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e,t=Ut[0];for(var a=1;a<Ut.length;++a)t+=Ut[a]/(e+a);var s=e+Ft+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}Tt.signature=xt,St.signature="number",Ot.signature=xt,Ct.signature=xt,kt.signature=xt,Pt.signature=xt,Nt.signature=xt,It.signature="number",Rt.signature="number, number",Lt.signature="number, number",Dt.signature="number, number",jt.signature="number, number",Bt.signature="number";var Ft=4.7421875,Ut=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Ht(e){return Math.acos(e)}function Gt(e){return pe(e)}function Qt(e){return Math.atan(1/e)}function zt(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function Vt(e){return Math.asin(1/e)}function Wt(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function qt(e){return Math.acos(1/e)}function Xt(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Yt(e){return Math.asin(e)}function Kt(e){return ge(e)}function $t(e){return Math.atan(e)}function Jt(e,t){return Math.atan2(e,t)}function Zt(e){return ve(e)}function en(e){return Math.cos(e)}function tn(e){return me(e)}function nn(e){return 1/Math.tan(e)}function rn(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function on(e){return 1/Math.sin(e)}function an(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*ee(e)}function sn(e){return 1/Math.cos(e)}function un(e){return 2/(Math.exp(e)+Math.exp(-e))}function cn(e){return Math.sin(e)}function ln(e){return ye(e)}function fn(e){return Math.tan(e)}function hn(e){return _e(e)}function dn(e){return Z(e)}function pn(e){return e<0}function gn(e){return e>0}function vn(e){return 0===e}function mn(e){return Number.isNaN(e)}function yn(){throw new Error('No "bignumber" implementation available')}function _n(){throw new Error('No "fraction" implementation available')}function bn(){throw new Error('No "matrix" implementation available')}function An(){throw new Error('No "index" implementation available')}function wn(){throw new Error('No "matrix" implementation available')}Ht.signature="number",Gt.signature="number",Qt.signature="number",zt.signature="number",Vt.signature="number",Wt.signature="number",qt.signature="number",Xt.signature="number",Yt.signature="number",Kt.signature="number",$t.signature="number",Jt.signature="number, number",Zt.signature="number",en.signature="number",tn.signature="number",nn.signature="number",rn.signature="number",on.signature="number",an.signature="number",sn.signature="number",un.signature="number",cn.signature="number",ln.signature="number",fn.signature="number",hn.signature="number",dn.signature="number",pn.signature="number",gn.signature="number",vn.signature="number",mn.signature="number";var En=n(3),xn=n.n(En),Tn=function(){return Tn=xn.a.create,xn.a},Sn=je("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,n=e.Complex,r=e.DenseMatrix,i=e.Fraction,d=Tn();return d.types=[{name:"number",test:o},{name:"Complex",test:s},{name:"BigNumber",test:a},{name:"Fraction",test:u},{name:"Unit",test:c},{name:"string",test:l},{name:"Chain",test:G},{name:"Array",test:f},{name:"Matrix",test:h},{name:"DenseMatrix",test:p},{name:"SparseMatrix",test:g},{name:"Range",test:v},{name:"Index",test:m},{name:"boolean",test:y},{name:"ResultSet",test:_},{name:"Help",test:b},{name:"function",test:A},{name:"Date",test:w},{name:"RegExp",test:E},{name:"null",test:T},{name:"undefined",test:S},{name:"AccessorNode",test:O},{name:"ArrayNode",test:C},{name:"AssignmentNode",test:k},{name:"BlockNode",test:P},{name:"ConditionalNode",test:N},{name:"ConstantNode",test:I},{name:"FunctionNode",test:L},{name:"FunctionAssignmentNode",test:R},{name:"IndexNode",test:D},{name:"Node",test:M},{name:"ObjectNode",test:j},{name:"OperatorNode",test:B},{name:"ParenthesisNode",test:F},{name:"RangeNode",test:U},{name:"SymbolNode",test:H},{name:"Object",test:x}],d.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||On(e),function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||Cn(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||Cn(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||Cn(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||kn(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||On(e);try{return new t(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||kn(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||Cn(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||On(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||kn(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],d}));function On(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Cn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function kn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Pn=je("ResultSet",[],(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),Nn=je("Range",[],(function(){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,o=null!=n,s=null!=r;if(i)if(a(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(o)if(a(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(a(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=o?parseFloat(n):0,this.step=s?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":").map((function(e){return parseFloat(e)}));if(n.some((function(e){return isNaN(e)})))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return ee(n)===ee(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(n,r,i){t[r[0]]=e(n,r,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,n){e[n[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=ae(this.start,e);return 1!==this.step&&(t+=":"+ae(this.step,e)),t+":"+ae(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),In=je("Help",["parse"],(function(e){var t=e.parse;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var o=e.examples[i];n+="    "+o+"\n";var a=void 0;try{a=t(o).compile().evaluate(r)}catch(e){a=e}void 0===a||b(a)||(n+="        "+we(a,{precision:14})+"\n")}n+="\n"}return e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=V(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};return Object.keys(e).filter((function(e){return"mathjs"!==e})).forEach((function(n){t[n]=e[n]})),new n(t)},n.prototype.valueOf=n.prototype.toString,n}),{isClass:!0}),Rn=je("Chain",["?on","math"],(function(e){var t=e.on,n=e.math;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");G(e)?this.value=e.value:this.value=e}function i(e,t){X(r.prototype,e,(function(){var e=t();if("function"==typeof e)return o(e)}))}function o(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new r(e.apply(e,t))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return we(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.createProxy=function(e,t){if("string"==typeof e)!function(e,t){"function"==typeof t&&(r.prototype[e]=o(t))}(e,t);else{var n=function(t){Y(e,t)&&void 0===a[t]&&i(t,(function(){return e[t]}))};for(var s in e)n(s)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),t&&t("import",(function(e,t,n){n||i(e,t)})),r}),{isClass:!0});function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){if(Fn(e)&&jn(e,t))return e[t];if("function"==typeof e[t]&&Bn(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function Mn(e,t,n){if(Fn(e)&&jn(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function jn(e,t){return!(!e||"object"!==Ln(e)||!Y(Un,t)&&(t in Object.prototype||t in Function.prototype))}function Bn(e,t){return!(null==e||"function"!=typeof e[t]||Y(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!Y(Hn,t)&&(t in Object.prototype||t in Function.prototype))}function Fn(e){return"object"===Ln(e)&&e&&e.constructor===Object}var Un={length:!0,name:!0},Hn={toString:!0,valueOf:!0,toLocaleString:!0},Gn={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Qn={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},zn={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Qn,E:Qn,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Gn,PI:Gn,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},Vn=je("help",["typed","mathWithTransform","Help"],(function(e){var t=e.typed,n=e.mathWithTransform,r=e.Help;return t("help",{any:function(e){var t,i=e;if("string"!=typeof e)for(t in n)if(Y(n,t)&&e===n[t]){i=t;break}var o=Dn(zn,i);if(!o){var a="function"==typeof i?i.name:i;throw new Error('No documentation found on "'+a+'"')}return new r(o)}})})),Wn=je("chain",["typed","Chain"],(function(e){var t=e.typed,n=e.Chain;return t("chain",{"":function(){return new n},any:function(e){return new n(e)}})})),qn=je("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],(function(e){var t=e.FunctionNode,n=e.OperatorNode,r=e.SymbolNode,i={add:!0,multiply:!0},o={add:!0,multiply:!0};function a(e,t){if(!B(e))return!1;var n=e.fn.toString();return t&&Y(t,n)&&Y(t[n],"associative")?t[n].associative:o[n]||!1}function s(e){var t,n=[];return a(e)?(t=e.op,function e(r){for(var i=0;i<r.args.length;i++){var o=r.args[i];B(o)&&t===o.op?e(o):n.push(o)}}(e),n):e.args}function u(e){return B(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(e){return console.error(e),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:u,isCommutative:function(e,t){if(!B(e))return!0;var n=e.fn.toString();return t&&Y(t,n)&&Y(t[n],"commutative")?t[n].commutative:i[n]||!1},isAssociative:a,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=s(t);for(var n=0;n<t.args.length;n++)e(t.args[n])},allChildren:s,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var n=u(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.pop();t.args.length>0;)o=n([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var n=u(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.shift();t.args.length>0;)o=n([o,t.args.shift()]);t.args=o.args}}}}})),Xn=je("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],(function(e){var t=e.equal,n=e.isZero,r=e.add,i=e.subtract,o=e.multiply,a=e.divide,s=e.pow,u=e.ConstantNode,c=e.OperatorNode,l=e.FunctionNode,f=e.ParenthesisNode,h=new u(0),d=new u(1);return function e(p){if(B(p)&&p.isUnary()){var g=e(p.args[0]);if("+"===p.op)return g;if("-"===p.op){if(B(g)){if(g.isUnary()&&"-"===g.op)return g.args[0];if(g.isBinary()&&"subtract"===g.fn)return new c("-","subtract",[g.args[1],g.args[0]])}return new c(p.op,p.fn,[g])}}else if(B(p)&&p.isBinary()){var v=e(p.args[0]),m=e(p.args[1]);if("+"===p.op){if(I(v)){if(n(v.value))return m;if(I(m))return new u(r(v.value,m.value))}return I(m)&&n(m.value)?v:B(m)&&m.isUnary()&&"-"===m.op?new c("-","subtract",[v,m.args[0]]):new c(p.op,p.fn,m?[v,m]:[v])}if("-"===p.op){if(I(v)&&m){if(I(m))return new u(i(v.value,m.value));if(n(v.value))return new c("-","unaryMinus",[m])}if("subtract"===p.fn)return I(m)&&n(m.value)?v:B(m)&&m.isUnary()&&"-"===m.op?e(new c("+","add",[v,m.args[0]])):new c(p.op,p.fn,[v,m])}else{if("*"===p.op){if(I(v)){if(n(v.value))return h;if(t(v.value,1))return m;if(I(m))return new u(o(v.value,m.value))}if(I(m)){if(n(m.value))return h;if(t(m.value,1))return v;if(B(v)&&v.isBinary()&&v.op===p.op){var y=v.args[0];if(I(y)){var _=new u(o(y.value,m.value));return new c(p.op,p.fn,[_,v.args[1]],p.implicit)}}return new c(p.op,p.fn,[m,v],p.implicit)}return new c(p.op,p.fn,[v,m],p.implicit)}if("/"===p.op){if(I(v)){if(n(v.value))return h;if(I(m)&&(t(m.value,1)||t(m.value,2)||t(m.value,4)))return new u(a(v.value,m.value))}return new c(p.op,p.fn,[v,m])}if("^"===p.op){if(I(m)){if(n(m.value))return d;if(t(m.value,1))return v;if(I(v))return new u(s(v.value,m.value));if(B(v)&&v.isBinary()&&"^"===v.op){var b=v.args[1];if(I(b))return new c(p.op,p.fn,[v.args[0],new u(o(b.value,m.value))])}}return new c(p.op,p.fn,[v,m])}}}else{if(F(p)){var A=e(p.content);return F(A)||H(A)||I(A)?A:new f(A)}if(L(p)){var w=p.args.map(e).map((function(e){return F(e)?e.content:e}));return new l(e(p.fn),w)}}return p}})),Yn=je("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.mathWithTransform,i=e.fraction,o=e.bignumber,a=e.ConstantNode,s=e.OperatorNode,c=e.FunctionNode,l=e.SymbolNode,f=qn({FunctionNode:c,OperatorNode:s,SymbolNode:l}),h=f.isCommutative,d=f.isAssociative,p=f.allChildren,g=f.createMakeNodeFunction;function v(e,t,n){try{return _(r[e].apply(null,t),n)}catch(i){return t=t.map((function(e){return u(e)?e.valueOf():e})),_(r[e].apply(null,t),n)}}var m=t({Fraction:function(e){var t,n=e.s*e.n;return t=n<0?new s("-","unaryMinus",[new a(-n)]):new a(n),1===e.d?t:new s("/","divide",[t,new a(e.d)])},number:function(e){return e<0?b(new a(-e)):new a(e)},BigNumber:function(e){return e<0?b(new a(-e)):new a(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function y(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var n=i(e);if(n.valueOf()===e)return n}return e}var _=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&yn(),o(e)):"Fraction"===n.number?(void 0===i&&_n(),i(e)):y(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return y(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:y(e.re,t)}});function b(e){return new s("-","unaryMinus",[e])}function A(e,t,n,r){return t.reduce((function(t,i){if(M(t)||M(i))M(t)?M(i)||(i=m(i)):t=m(t);else{try{return v(e,[t,i],r)}catch(e){}t=m(t),i=m(i)}return n([t,i])}))}return function(e,t){var n=function e(t,n){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:_(t.value,n);case"FunctionNode":if(r[t.name]&&r[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var i=t.args.map((function(t){return e(t,n)}));if(!i.some(M))try{return v(t.name,i,n)}catch(e){}return i=i.map((function(e){return M(e)?e:m(e)})),new c(t.name,i)}case"OperatorNode":var o,a,s=t.fn.toString(),u=g(t);if(B(t)&&t.isUnary())a=M((o=[e(t.args[0],n)])[0])?u(o):v(s,o,n);else if(d(t))if(o=(o=p(t)).map((function(t){return e(t,n)})),h(s)){for(var l=[],f=[],y=0;y<o.length;y++)M(o[y])?f.push(o[y]):l.push(o[y]);l.length>1?(a=A(s,l,u,n),f.unshift(a),a=A(s,f,u,n)):a=A(s,o,u,n)}else a=A(s,o,u,n);else a=A(s,o=t.args.map((function(t){return e(t,n)})),u,n);return a;case"ParenthesisNode":return e(t.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(e,t);return M(n)?n:m(n)}})),Kn=je("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],(function(e){var t=e.parse,n=e.FunctionNode,r=e.OperatorNode,i=e.ParenthesisNode;return function e(o,a){if(!a)return o;if(H(o)){var s=a[o.name];if(M(s))return e(s,a);if("number"==typeof s)return t(String(s))}else{if(B(o)){var u=o.args.map((function(t){return e(t,a)}));return new r(o.op,o.fn,u,o.implicit)}if(F(o))return new i(e(o.content,a));if(L(o)){var c=o.args.map((function(t){return e(t,a)}));return new n(o.name,c)}}return o}}));function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Jn=je("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.config,n=e.typed,r=e.parse,i=e.add,o=e.subtract,a=e.multiply,s=e.divide,u=e.pow,c=e.isZero,l=e.equal,f=e.fraction,h=e.bignumber,d=e.mathWithTransform,p=e.ConstantNode,g=e.FunctionNode,v=e.OperatorNode,m=e.ParenthesisNode,y=e.SymbolNode,_=Yn({typed:n,config:t,mathWithTransform:d,fraction:f,bignumber:h,ConstantNode:p,OperatorNode:v,FunctionNode:g,SymbolNode:y}),b=Xn({equal:l,isZero:c,add:i,subtract:o,multiply:a,divide:s,pow:u,ConstantNode:p,OperatorNode:v,FunctionNode:g,ParenthesisNode:m}),A=Kn({parse:r,FunctionNode:g,OperatorNode:v,ParenthesisNode:m}),w=qn({FunctionNode:g,OperatorNode:v,SymbolNode:y}),E=w.isCommutative,x=w.isAssociative,T=w.flatten,S=w.unflattenr,O=w.unflattenl,C=w.createMakeNodeFunction,k=n("simplify",{string:function(e){return this(r(e),this.rules,{},{})},"string, Object":function(e,t){return this(r(e),this.rules,t,{})},"string, Object, Object":function(e,t,n){return this(r(e),this.rules,t,n)},"string, Array":function(e,t){return this(r(e),t,{},{})},"string, Array, Object":function(e,t,n){return this(r(e),t,n,{})},"string, Array, Object, Object":function(e,t,n,i){return this(r(e),t,n,i)},"Node, Object":function(e,t){return this(e,this.rules,t,{})},"Node, Object, Object":function(e,t,n){return this(e,this.rules,t,n)},Node:function(e){return this(e,this.rules,{},{})},"Node, Array":function(e,t){return this(e,t,{},{})},"Node, Array, Object":function(e,t,n){return this(e,t,n,{})},"Node, Array, Object, Object":function(e,t,n,i){t=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=void 0,a=$n(i);switch(a){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(o={l:P(r(i.l)),r:P(r(i.r))},i.context&&(o.evaluate=i.context),i.evaluate&&(o.evaluate=r(i.evaluate)),x(o.l)){var u=C(o.l),c=new y("_p"+R++);o.expanded={},o.expanded.l=u([o.l.clone(),c]),T(o.expanded.l),S(o.expanded.l),o.expanded.r=u([o.r,c])}break;case"function":o=i;break;default:throw TypeError("Unsupported type of rule: "+a)}t.push(o)}return t}(t);for(var o=A(e,n),a={},s=(o=P(o)).toString({parenthesis:"all"});!a[s];){a[s]=!0,R=0;for(var u=0;u<t.length;u++)"function"==typeof t[u]?o=t[u](o,i):(T(o),o=L(o,t[u])),O(o);s=o.toString({parenthesis:"all"})}return o}});function P(e){return e.transform((function(e,t,n){return F(e)?P(e.content):e}))}k.simplifyCore=b,k.resolve=A;var N={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};k.rules=[b,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},_,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var R=0,L=n("applyRule",{"Node, Object":function(e,t){var n=e;if(n instanceof v||n instanceof g){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=L(n.args[r],t)}else n instanceof m&&n.content&&(n.content=L(n.content,t));var i=t.r,o=j(t.l,n)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=j(t.expanded.l,n)[0]),o){var a=n.implicit;n=i.clone(),a&&"implicit"in i&&(n.implicit=!0),n=n.transform((function(e){return e.isSymbolNode&&Y(o.placeholders,e.name)?o.placeholders[e.name].clone():e}))}return n}});function D(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(Y(e.placeholders,r)&&(n.placeholders[r]=e.placeholders[r],Y(t.placeholders,r)&&!B(e.placeholders[r],t.placeholders[r])))return null;for(var i in t.placeholders)Y(t.placeholders,i)&&(n.placeholders[i]=t.placeholders[i]);return n}function M(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(n=D(e[i],t[o]))&&r.push(n);return r}function j(e,t,n){var r=[{placeholders:{}}];if(e instanceof v&&t instanceof v||e instanceof g&&t instanceof g){if(e instanceof v){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof g&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&x(t)&&!n){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var n,r,i=[],o=C(e);if(E(e,t))for(var a=0;a<e.args.length;a++)(r=e.args.slice(0)).splice(a,1),n=1===r.length?r[0]:o(r),i.push(o([e.args[a],n]));else n=1===(r=e.args.slice(1)).length?r[0]:o(r),i.push(o([e.args[0],n]));return i}(t,e.context),o=[],a=0;a<i.length;a++){var s=j(e,i[a],!0);o=o.concat(s)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],c=0;c<e.args.length;c++){var f=j(e.args[c],t.args[c]);if(0===f.length)return[];u.push(f)}r=function(e){if(0===e.length)return e;for(var t=e.reduce(M),n=[],r={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);r[o]||(r[o]=!0,n.push(t[i]))}return n}(u)}else if(e instanceof y){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(N[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))r[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(I(t))return[];r[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof p))return[];r[0].placeholders[e.name]=t}}else{if(!(e instanceof p))return[];if(!l(e.value,t.value))return[]}return r}function B(e,t){if(e instanceof p&&t instanceof p){if(!l(e.value,t.value))return!1}else if(e instanceof y&&t instanceof y){if(e.name!==t.name)return!1}else{if(!(e instanceof v&&t instanceof v||e instanceof g&&t instanceof g))return!1;if(e instanceof v){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof g&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!B(e.args[n],t.args[n]))return!1}return!0}return k})),Zn=je("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.parse,i=e.simplify,o=e.equal,a=e.isZero,s=e.numeric,u=e.ConstantNode,c=e.FunctionNode,l=e.OperatorNode,f=e.ParenthesisNode,h=e.SymbolNode,d=t("derivative",{"Node, SymbolNode, Object":function(e,t,n){var r={};g(r,e,t.name);var o=v(e,r);return n.simplify?i(o):o},"Node, SymbolNode":function(e,t){return this(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return this(r(e),t)},"string, SymbolNode, Object":function(e,t,n){return this(r(e),t,n)},"string, string":function(e,t){return this(r(e),r(t))},"string, string, Object":function(e,t,n){return this(r(e),r(t),n)},"Node, string":function(e,t){return this(e,r(t))},"Node, string, Object":function(e,t,n){return this(e,r(t),n)}});d._simplify=!0,d.toTex=function(e){return p.apply(null,e.args)};var p=t("_derivTex",{"Node, SymbolNode":function(e,t){return I(e)&&"string"===Q(e.value)?p(r(e.value).toString(),t.toString(),1):p(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===Q(t.value))return p(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return p(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),g=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return g(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):g(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=g(e,t.args[0],n),i=1;i<t.args.length;++i)r=g(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),v=t("_derivative",{"ConstantNode, Object":function(e){return m(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?m(0):m(1)},"ParenthesisNode, Object":function(e,t){return new f(v(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?m(0):v(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name&&"pow"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=m(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return m(0);var n,r,i,o,a=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,r=new l("*","multiply",[m(3),new l("^","pow",[a,new l("/","divide",[m(2),m(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new l("*","multiply",[m(2),new c("sqrt",[a])]);else if(2===e.args.length)return t[n=new l("/","divide",[m(1),e.args[1]])]=t[e.args[1]],v(new l("^","pow",[a,n]),t);break;case"log10":n=m(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new l("*","multiply",[a.clone(),new c("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return v(new l("/","divide",[new c("log",[a]),new c("log",[e.args[1]])]),t)}else r=a.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],v(new l("^","pow",[a,e.args[1]]),t);case"exp":r=new c("exp",[a.clone()]);break;case"sin":r=new c("cos",[a.clone()]);break;case"cos":r=new l("-","unaryMinus",[new c("sin",[a.clone()])]);break;case"tan":r=new l("^","pow",[new c("sec",[a.clone()]),m(2)]);break;case"sec":r=new l("*","multiply",[e,new c("tan",[a.clone()])]);break;case"csc":u=!0,r=new l("*","multiply",[e,new c("cot",[a.clone()])]);break;case"cot":u=!0,r=new l("^","pow",[new c("csc",[a.clone()]),m(2)]);break;case"asin":s=!0,r=new c("sqrt",[new l("-","subtract",[m(1),new l("^","pow",[a.clone(),m(2)])])]);break;case"acos":s=!0,u=!0,r=new c("sqrt",[new l("-","subtract",[m(1),new l("^","pow",[a.clone(),m(2)])])]);break;case"atan":s=!0,r=new l("+","add",[new l("^","pow",[a.clone(),m(2)]),m(1)]);break;case"asec":s=!0,r=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),m(2)]),m(1)])])]);break;case"acsc":s=!0,u=!0,r=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),m(2)]),m(1)])])]);break;case"acot":s=!0,u=!0,r=new l("+","add",[new l("^","pow",[a.clone(),m(2)]),m(1)]);break;case"sinh":r=new c("cosh",[a.clone()]);break;case"cosh":r=new c("sinh",[a.clone()]);break;case"tanh":r=new l("^","pow",[new c("sech",[a.clone()]),m(2)]);break;case"sech":u=!0,r=new l("*","multiply",[e,new c("tanh",[a.clone()])]);break;case"csch":u=!0,r=new l("*","multiply",[e,new c("coth",[a.clone()])]);break;case"coth":u=!0,r=new l("^","pow",[new c("csch",[a.clone()]),m(2)]);break;case"asinh":s=!0,r=new c("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),m(2)]),m(1)])]);break;case"acosh":s=!0,r=new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),m(2)]),m(1)])]);break;case"atanh":s=!0,r=new l("-","subtract",[m(1),new l("^","pow",[a.clone(),m(2)])]);break;case"asech":s=!0,u=!0,r=new l("*","multiply",[a.clone(),new c("sqrt",[new l("-","subtract",[m(1),new l("^","pow",[a.clone(),m(2)])])])]);break;case"acsch":s=!0,u=!0,r=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),m(2)]),m(1)])])]);break;case"acoth":s=!0,u=!0,r=new l("-","subtract",[m(1),new l("^","pow",[a.clone(),m(2)])]);break;case"abs":r=new l("/","divide",[new c(new h("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",o="divide"):(i="*",o="multiply");var f=v(a,t);return u&&(f=new l("-","unaryMinus",[f])),new l(i,o,[f,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return m(0);if("+"===e.op)return new l(e.op,e.fn,e.args.map((function(e){return v(e,t)})));if("-"===e.op){if(e.isUnary())return new l(e.op,e.fn,[v(e.args[0],t)]);if(e.isBinary())return new l(e.op,e.fn,[v(e.args[0],t),v(e.args[1],t)])}if("*"===e.op){var n=e.args.filter((function(e){return void 0!==t[e]}));if(n.length>0){var r=e.args.filter((function(e){return void 0===t[e]})),i=1===r.length?r[0]:new l("*","multiply",r),s=n.concat(v(i,t));return new l("*","multiply",s)}return new l("+","add",e.args.map((function(n){return new l("*","multiply",e.args.map((function(e){return e===n?v(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var u=e.args[0],f=e.args[1];return void 0!==t[f]?new l("/","divide",[v(u,t),f]):void 0!==t[u]?new l("*","multiply",[new l("-","unaryMinus",[u]),new l("/","divide",[v(f,t),new l("^","pow",[f.clone(),m(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[v(u,t),f.clone()]),new l("*","multiply",[u.clone(),v(f,t)])]),new l("^","pow",[f.clone(),m(2)])])}if("^"===e.op&&e.isBinary()){var h=e.args[0],d=e.args[1];if(void 0!==t[h])return I(h)&&(a(h.value)||o(h.value,1))?m(0):new l("*","multiply",[e,new l("*","multiply",[new c("log",[h.clone()]),v(d.clone(),t)])]);if(void 0!==t[d]){if(I(d)){if(a(d.value))return m(0);if(o(d.value,1))return v(h,t)}var p=new l("^","pow",[h.clone(),new l("-","subtract",[d,m(1)])]);return new l("*","multiply",[d.clone(),new l("*","multiply",[v(h,t),p])])}return new l("*","multiply",[new l("^","pow",[h.clone(),d.clone()]),new l("+","add",[new l("*","multiply",[v(h,t),new l("/","divide",[d.clone(),h.clone()])]),new l("*","multiply",[v(d,t),new c("log",[h.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function m(e,t){return new u(s(e,t||n.number))}return d})),er=je("rationalize",["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],(function(e){var t=e.config,n=e.typed,r=e.equal,i=e.isZero,o=e.add,a=e.subtract,s=e.multiply,u=e.divide,c=e.pow,l=e.parse,f=e.simplify,h=e.fraction,d=e.bignumber,p=e.mathWithTransform,g=e.ConstantNode,v=e.OperatorNode,m=e.FunctionNode,y=e.SymbolNode,_=e.ParenthesisNode,b=Yn({typed:n,config:t,mathWithTransform:p,fraction:h,bignumber:d,ConstantNode:g,OperatorNode:v,FunctionNode:m,SymbolNode:y}),A=Xn({equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:u,pow:c,ConstantNode:g,OperatorNode:v,FunctionNode:m,ParenthesisNode:_});return n("rationalize",{string:function(e){return this(l(e),{},!1)},"string, boolean":function(e,t){return this(l(e),{},t)},"string, Object":function(e,t){return this(l(e),t,!1)},"string, Object, boolean":function(e,t,n){return this(l(e),t,n)},Node:function(e){return this(e,{},!1)},"Node, boolean":function(e,t){return this(e,{},t)},"Node, Object":function(e,t){return this(e,t,!1)},"Node, Object, boolean":function(e,t,n){var r=function(){var e=[A,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},b,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],r={};return r.firstRules=e.concat(t,n),r.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r.sucDivRules=n,r.firstRulesAgain=e.concat(t),r.finalRules=[A,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},b,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],r}(),i=function(e,t,n,r){var i=[],o=f(e,r,t,{exactFractions:!1}),a="+-*"+((n=!!n)?"/":"");!function e(t){var n=t.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===t.op){if("ConstantNode"!==t.args[1].type||!Z(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===a.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var r=0;r<t.args.length;r++)e(t.args[r])}else if("SymbolNode"===n){var o=t.name;-1===i.indexOf(o)&&i.push(o)}else if("ParenthesisNode"===n)e(t.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}(o);var s={};return s.expression=o,s.variables=i,s}(e,t,!0,r.firstRules),o=i.variables.length;if(e=i.expression,o>=1){var a,s;e=function e(t,n,r){var i=t.type,o=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var a,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(s=(a=parseFloat(t.args[1].value))>=2&&Z(a))),s){if(a>2){var u=t.args[0],c=new v("^","pow",[t.args[0].cloneDeep(),new g(a-1)]);t=new v("*","multiply",[u,c])}else t=new v("*","multiply",[t.args[0],t.args[0].cloneDeep()]);o&&("content"===r?n.content=t:n.args[r]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var l=0;l<t.args.length;l++)e(t.args[l],t,l);if(!o)return t}(e);var u,c=!0,l=!1;for(e=f(e,r.firstRules,{},{exactFractions:!1});s=c?r.distrDivRules:r.sucDivRules,c=!c,(u=(e=f(e,s)).toString())!==a;)l=!0,a=u;l&&(e=f(e,r.firstRulesAgain,{},{exactFractions:!1})),e=f(e,r.finalRules,{},{exactFractions:!1})}var h=[],d={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===o&&(e.args[0]=w(e.args[0],h),e.args[1]=w(e.args[1])),n&&(d.numerator=e.args[0],d.denominator=e.args[1])):(1===o&&(e=w(e,h)),n&&(d.numerator=e,d.denominator=null)),n?(d.coefficients=h,d.variables=i.variables,d.expression=e,d):e}});function w(e,t){void 0===t&&(t=[]),t[0]=0;var n=0,r="";!function e(i,o,a){var s=i.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(i.op))throw new Error("Operator "+i.op+" invalid");if(null!==o){if(("unaryMinus"===i.fn||"pow"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn&&"multiply"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"multiply"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"unaryMinus"===i.fn)&&0!==a.noFil)throw new Error("Invalid "+i.op+" placing")}"^"!==i.op&&"*"!==i.op||(a.fire=i.op);for(var u=0;u<i.args.length;u++)"unaryMinus"===i.fn&&(a.oper="-"),"+"!==i.op&&"subtract"!==i.fn||(a.fire="",a.cte=1,a.oper=0===u?"+":i.op),a.noFil=u,e(i.args[u],i,a)}else if("SymbolNode"===s){if(i.name!==r&&""!==r)throw new Error("There is more than one variable");if(r=i.name,null===o)return void(t[1]=1);if("^"===o.op&&0!==a.noFil)throw new Error("In power the variable should be the first parameter");if("*"===o.op&&1!==a.noFil)throw new Error("In multiply the variable should be the second parameter");""!==a.fire&&"*"!==a.fire||(n<1&&(t[1]=0),t[1]+=a.cte*("+"===a.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var c=parseFloat(i.value);if(null===o)return void(t[0]=c);if("^"===o.op){if(1!==a.noFil)throw new Error("Constant cannot be powered");if(!Z(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<c;l++)t[l]=0;return c>n&&(t[c]=0),t[c]+=a.cte*("+"===a.oper?1:-1),void(n=Math.max(c,n))}a.cte=c,""===a.fire&&(t[0]+=a.cte*("+"===a.oper?1:-1))}}(e,null,{cte:1,oper:"+",fire:""});for(var i,o=!0,a=n=t.length-1;a>=0;a--)if(0!==t[a]){var s=new g(o?t[a]:Math.abs(t[a])),u=t[a]<0?"-":"+";if(a>0){var c=new y(r);if(a>1){var l=new g(a);c=new v("^","pow",[c,l])}s=-1===t[a]&&o?new v("-","unaryMinus",[c]):1===Math.abs(t[a])?c:new v("*","multiply",[s,c])}i=o?s:"+"===u?new v("+","add",[i,s]):new v("-","subtract",[i,s]),o=!1}return o?new g(0):i}}));function tr(e){for(var t=0;t<e.length;t++)if(d(e[t]))return!0;return!1}function nr(e,t){h(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?nr(i,t):t(i)}}function rr(e,t,n){return e&&"function"==typeof e.map?e.map((function(e){return rr(e,t,n)})):t(e)}function ir(e,t,n){var r=Array.isArray(e)?Ce(e):e.size();if(t<0||t>=r.length)throw new Oe(t,r.length);return h(e)?e.create(or(e.valueOf(),t,n)):or(e,t,n)}function or(e,t,n){var r,i,o,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<a.length;r++)i[r]=or(a[r],t-1,n);return i}for(o=e[0],r=1;r<e.length;r++)o=n(o,e[r]);return o}for(i=[],r=0;r<e.length;r++)i[r]=or(e[r],t-1,n);return i}var ar=je("nthRoot",["typed"],(function(e){return(0,e.typed)("nthRoot",{number:vt,"number, number":vt})})),sr={number:wt,"number, number":function(e,t){if(!Z(t))throw new TypeError("Number of decimals in function round must be an integer");if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return wt(e,t)}},ur=je("round",["typed"],(function(e){return(0,e.typed)("round",sr)})),cr=je("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(e){var t=e.typed,n=e.abs,r=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,a=e.sqrt,s=e.smaller,u=e.isPositive;return t("hypot",{"... number | BigNumber":function(e){for(var t=0,c=0,l=0;l<e.length;l++){var f=n(e[l]);s(c,f)?(t=o(t,o(i(c,f),i(c,f))),t=r(t,1),c=f):t=r(t,u(f)?o(i(f,c),i(f,c)):f)}return o(c,a(t))},Array:function(e){return this.apply(this,Pe(e))},Matrix:function(e){return this.apply(this,Pe(e.toArray()))}})})),lr=je("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(e){var t=e.typed,n=e.addScalar,r=e.subtract,i=e.multiplyScalar,o=e.divideScalar,a=e.pow,s=e.factorial,u=e.combinations,c=e.isNegative,l=e.isInteger,f=e.larger;return t("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!l(e)||c(e)||!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var h=s(t),d=0,p=0;p<=t;p++){var g=a(-1,r(t,p)),v=u(t,p),m=a(p,e);d=n(d,i(i(v,m),g))}return o(d,h)}})})),fr=je("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(e){var t=e.typed,n=e.addScalar,r=e.isNegative,i=e.isInteger,o=e.stirlingS2;return t("bellNumbers",{"number | BigNumber":function(e){if(!i(e)||r(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,a=0;a<=e;a++)t=n(t,o(e,a));return t}})})),hr=je("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(e){var t=e.typed,n=e.addScalar,r=e.divideScalar,i=e.multiplyScalar,o=e.combinations,a=e.isNegative,s=e.isInteger;return t("catalan",{"number | BigNumber":function(e){if(!s(e)||a(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(o(i(e,2),e),n(e,1))}})})),dr=je("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(e){var t=e.typed,n=e.addScalar,r=e.combinations,i=e.isPositive,o=(e.isNegative,e.isInteger),a=e.larger;return t("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(o(e)&&i(e)&&o(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(a(t,e))throw new TypeError("k must be less than or equal to n in function composition");return r(n(e,-1),n(t,-1))}})}));function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){return function n(){"object"!==pr(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t(r):JSON.stringify(r);return o in n.cache||(n.cache[o]=e.apply(e,r)),n.cache[o]}}function vr(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}var mr=gr((function(e){return new e(1).exp()}),Ar),yr=gr((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),Ar),_r=gr((function(e){return e.acos(-1)}),Ar),br=gr((function(e){return _r(e).times(2)}),Ar);function Ar(e){return e[0].precision}var wr=Math.PI,Er=2*Math.PI,xr=Math.E,Tr=je("true",[],(function(){return!0})),Sr=je("false",[],(function(){return!1})),Or=je("null",[],(function(){return null})),Cr=Qr("Infinity",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1/0):1/0})),kr=Qr("NaN",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(NaN):NaN})),Pr=Qr("pi",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?_r(n):wr})),Nr=Qr("tau",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?br(n):Er})),Ir=Qr("e",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?mr(n):xr})),Rr=Qr("phi",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?yr(n):1.618033988749895})),Lr=Qr("LN2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(2).ln():Math.LN2})),Dr=Qr("LN10",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(10).ln():Math.LN10})),Mr=Qr("LOG2E",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1).div(new n(2).ln()):Math.LOG2E})),jr=Qr("LOG10E",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1).div(new n(10).ln()):Math.LOG10E})),Br=Qr("SQRT1_2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n("0.5").sqrt():Math.SQRT1_2})),Fr=Qr("SQRT2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(2).sqrt():Math.SQRT2})),Ur=je("PI",["pi"],(function(e){return e.pi})),Hr=je("E",["e"],(function(e){return e.e})),Gr=je("version",[],(function(){return"7.5.1"}));function Qr(e,t,n){return je(e,t,n,{recreateOnConfigChange:!0})}var zr=je("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(["0b","0o","0x"].includes(e.substring(0,2))){if(t>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));2147483648&t&&(t=-1*~(t-1))}return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return rr(e,this)}});return t.fromJSON=function(e){return parseFloat(e.value)},t})),Vr=je("string",["typed"],(function(e){return(0,e.typed)("string",{"":function(){return""},number:ae,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return rr(e,this)},any:function(e){return String(e)}})})),Wr=je("boolean",["typed"],(function(e){return(0,e.typed)("boolean",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return rr(e,this)}})})),qr=je("parser",["typed","Parser"],(function(e){var t=e.typed,n=e.Parser;return t("parser",{"":function(){return new n}})})),Xr={end:!0};function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kr=je("Node",["mathWithTransform"],(function(e){var t=e.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=t||{};return function(e){for(var t in e)if(Y(e,t)&&t in Xr)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!M(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach((function(t,r,i){n(t,r,i),e(t,n)}))}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var o=e(n,r,i);return o!==n?o:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,i){e(n,r,i)&&t.push(n)})),t},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&function e(t,n){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!==n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e(t[i],n[i]))return!1;return!0}if("function"==typeof t)return t===n;if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!(r in n)||!e(t[r],n[r]))return!1;for(r in n)if(!(r in t)||!e(t[r],n[r]))return!1;return!0}return t===n}(this,e)},n.prototype.toString=function(e){var t;if(e&&"object"===Yr(e))switch(Yr(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t;if(e&&"object"===Yr(e))switch(Yr(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t;if(e&&"object"===Yr(e))switch(Yr(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0});function $r(e){return e&&e.isIndexError?new Oe(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e){var t=e.subset;return function e(n,r){try{if(Array.isArray(n))return t(n,r);if(n&&"function"==typeof n.subset)return n.subset(r);if("string"==typeof n)return t(n,r);if("object"===Jr(n)){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Dn(n,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw $r(e)}}}var ei=je("AccessorNode",["subset","Node"],(function(e){var t=e.subset,n=e.Node,r=Zr({subset:t});function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!M(e))throw new TypeError('Node expected for parameter "object"');if(!D(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e){return!(O(e)||C(e)||I(e)||L(e)||j(e)||F(e)||H(e))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(e,t){var n=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(e,t,r){return Dn(n(e,t,r),o)}}return function(e,t,o){var a=n(e,t,o),s=i(e,t,a);return r(a,s)}},i.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(e){var t=this.object.toString(e);return o(this.object)&&(t="("+t+")"),t+this.index.toString(e)},i.prototype.toHTML=function(e){var t=this.object.toHTML(e);return o(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},i.prototype._toTex=function(e){var t=this.object.toTex(e);return o(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(e){return new i(e.object,e.index)},i}),{isClass:!0,isNode:!0}),ti=je("ArrayNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(M))throw new TypeError("Array containing Nodes expected")}return n.prototype=new t,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(e,t){var n=Ne(this.items,(function(n){return n._compile(e,t)}));if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(Ne(n,(function(n){return n(e,t,i)})))}}return function(e,t,r){return Ne(n,(function(n){return n(e,t,r)}))}},n.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(e){return new n(e.items)},n.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?t+=n.items.map((function(t){return t.toTex(e)})).join("&"):t+=n.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},n}),{isClass:!0,isNode:!0});function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ri=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function ii(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<ri.length;i++)if(r in ri[i])return i;return null}function oi(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=ii(n,t);if(null===i)return null;var o=ri[i][r];if(Y(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function ai(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,o=r.getIdentifier(),a=i.getIdentifier(),s=ii(r,n);if(null===s)return null;var u=ri[s][o];if(Y(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===a)return!0;return!1}return null}var si=je("AssignmentNode",["subset","?matrix","Node"],(function(e){var t=e.subset,n=e.matrix,r=e.Node,i=Zr({subset:t}),o=function(e){var t=e.subset,n=e.matrix;return function e(r,i,o){try{if(Array.isArray(r))return n(r).subset(i,o).valueOf();if(r&&"function"==typeof r.subset)return r.subset(i,o);if("string"==typeof r)return t(r,i,o);if("object"===ni(r)){if(!i.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Mn(r,i.getObjectProperty(),o),r}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw $r(e)}}}({subset:t,matrix:n});function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!H(e)&&!O(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(H(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!D(this.index))throw new TypeError('IndexNode expected as "index"');if(!M(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var n=ii(e,t),r=ii(e.value,t);return"all"===t||null!==r&&r<=n}return a.prototype=new r,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),o=a(e,t,r);return Mn(i,u,o)}}if(H(this.object))return function(e,t,i){var u=n(e,t,i),c=a(e,t,i),l=r(e,t,u);return Mn(e,s,o(u,l,c)),c};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,n){var i=c(e,t,n),s=Dn(i,l),u=r(e,t,s),f=a(e,t,n);return Mn(i,l,o(s,u,f)),f}}var f=this.object.index._compile(e,t);return function(e,t,n){var s=c(e,t,n),u=f(e,t,s),l=i(s,u),h=r(e,t,l),d=a(e,t,n);return o(s,u,o(l,h,d)),d}}if(!H(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return Mn(e,s,a(e,t,n))}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return s(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},a.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},a}),{isClass:!0,isNode:!0}),ui=je("BlockNode",["ResultSet","Node"],(function(e){var t=e.ResultSet,n=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!M(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(e,n){var r=Ne(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,i){var o=[];return Ie(r,(function(t){var r=t.evaluate(e,n,i);t.visible&&o.push(r)})),new t(o)}},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],o=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:o,visible:i.visible}}return new r(t)},r.prototype.clone=function(){return new r(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},r.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(e){return new r(e.blocks)},r.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},r}),{isClass:!0,isNode:!0}),ci=je("ConditionalNode",["Node"],(function(e){var t=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!M(e))throw new TypeError("Parameter condition must be a Node");if(!M(t))throw new TypeError("Parameter trueExpr must be a Node");if(!M(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}return n.prototype=new t,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,o){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(a(e))return!e.isZero();if(s(e))return!(!e.re&&!e.im);if(c(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+Q(e)+'"')}(n(e,t,o))?r(e,t,o):i(e,t,o)}},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=ii(this,t),r=this.condition.toString(e),i=ii(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var o=this.trueExpr.toString(e),a=ii(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o="("+o+")");var s=this.falseExpr.toString(e),u=ii(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s="("+s+")"),r+" ? "+o+" : "+s},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(e){return new n(e.condition,e.trueExpr,e.falseExpr)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=ii(this,t),r=this.condition.toHTML(e),i=ii(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),a=ii(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=ii(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+s},n.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n}),{isClass:!0,isNode:!0}),li=n(8),fi=n.n(li),hi={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},di={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},pi={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(di.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(di.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(di.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(di.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(di.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(di.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(di.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(di.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(di.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(di.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(di.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(di.bitAnd,"${args[1]}\\right)")},bitNot:{1:di.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(di.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(di.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(di.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(di.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(di.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(di.and,"${args[1]}\\right)")},not:{1:di.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(di.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(di.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(di.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(di.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(di.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(di.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(di.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(di.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(di.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(di.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(di.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(di.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(di.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(hi.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},gi={deg:"^\\circ"};function vi(e){return fi()(e,{preserveFormatting:!0})}function mi(e,t){return(t=void 0!==t&&t)?Y(gi,e)?gi[e]:"\\mathrm{"+vi(e)+"}":Y(hi,e)?hi[e]:vi(e)}var yi=je("ConstantNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return n.prototype=new t,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(e,t){var n=this.value;return function(){return n}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(e){return we(this.value,e)},n.prototype.toHTML=function(e){var t=this._toString(e);switch(Q(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.prototype._toTex=function(e){var t=this._toString(e);switch(Q(this.value)){case"string":return"\\mathtt{"+vi(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},n}),{isClass:!0,isNode:!0}),_i=je("FunctionAssignmentNode",["typed","Node"],(function(e){var t=e.typed,n=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!M(n))throw new TypeError('Node expected for parameter "expr"');if(e in Xr)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=n}function i(e,t){var n=ii(e,t),r=ii(e.expr,t);return"all"===t||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(e,n){var r=Object.create(n);Ie(this.params,(function(e){r[e]=!0}));var i=this.expr._compile(e,r),o=this.name,a=this.params,s=De(this.types,","),u=o+"("+De(this.params,", ")+")";return function(e,n,r){var c={};c[s]=function(){for(var t=Object.create(n),o=0;o<a.length;o++)t[a[o]]=arguments[o];return i(e,t,r)};var l=t(o,c);return l.syntax=u,Mn(e,o,l),l}},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return i(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},r.fromJSON=function(e){return new r(e.name,e.params,e.expr)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+xe(this.params[r])+"</span>");var o=this.expr.toHTML(e);return i(this,t)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+xe(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+o},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return i(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(mi).join(",")+"\\right):="+n},r}),{isClass:!0,isNode:!0});function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ai=je("IndexNode",["Range","Node","size"],(function(e){var t=e.Range,n=e.Node,r=e.size;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(M))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function o(e,n,r){return new t(a(e)?e.toNumber():e,a(n)?n.toNumber():n,a(r)?r.toNumber():r)}return i.prototype=new n,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(e,t){var n=Ne(this.dimensions,(function(n,i){if(U(n)){if(n.needsEnd()){var a=Object.create(t);a.end=!0;var s=n.start._compile(e,a),u=n.end._compile(e,a),c=n.step?n.step._compile(e,a):function(){return 1};return function(e,t,n){var a=r(n).valueOf(),l=Object.create(t);return l.end=a[i],o(s(e,l,n),u(e,l,n),c(e,l,n))}}var l=n.start._compile(e,t),f=n.end._compile(e,t),h=n.step?n.step._compile(e,t):function(){return 1};return function(e,t,n){return o(l(e,t,n),f(e,t,n),h(e,t,n))}}if(H(n)&&"end"===n.name){var d=Object.create(t);d.end=!0;var p=n._compile(e,d);return function(e,t,n){var o=r(n).valueOf(),a=Object.create(t);return a.end=o[i],p(e,a,n)}}var g=n._compile(e,t);return function(e,t,n){return g(e,t,n)}})),i=Dn(e,"index");return function(e,t,r){var o=Ne(n,(function(n){return n(e,t,r)}));return i.apply(void 0,function(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o))}},i.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},i.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new i(t,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&I(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(e){return new i(e.dimensions,e.dotNotation)},i.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+xe(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},i}),{isClass:!0,isNode:!0});function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ei=je("ObjectNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==wi(e)||!Object.keys(e).every((function(t){return M(e[t])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new t,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(Y(this.properties,r)){var i=Ee(r),o=JSON.parse(i);if(!jn(this.properties,o))throw new Error('No access to property "'+o+'"');n[o]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var o in n)Y(n,o)&&(i[o]=n[o](e,t,r));return i}},n.prototype.forEach=function(e){for(var t in this.properties)Y(this.properties,t)&&e(this.properties[t],"properties["+Ee(t)+"]",this)},n.prototype.map=function(e){var t={};for(var r in this.properties)Y(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+Ee(r)+"]",this)));return new n(t)},n.prototype.clone=function(){var e={};for(var t in this.properties)Y(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)},n.prototype._toString=function(e){var t=[];for(var n in this.properties)Y(this.properties,n)&&t.push(Ee(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(e){return new n(e.properties)},n.prototype.toHTML=function(e){var t=[];for(var n in this.properties)Y(this.properties,n)&&t.push('<span class="math-symbol math-property">'+xe(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(e){var t=[];for(var n in this.properties)Y(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},n}),{isClass:!0,isNode:!0}),xi=je("OperatorNode",["Node"],(function(e){var t=e.Node;function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(M))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=t,this.args=r||[]}function r(e,t,n,r,i){var o,a=ii(e,t),s=oi(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:o=[];break;case 1:var u=ii(r[0],t);if(i&&null!==u){var c,l;if("keep"===t?(c=r[0].getIdentifier(),l=e.getIdentifier()):(c=r[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===ri[a][l].latexLeftParens){o=[!1];break}if(!1===ri[u][c].latexParens){o=[!1];break}}if(null===u){o=[!1];break}if(u<=a){o=[!0];break}o=[!1];break;case 2:var f,h,d=ii(r[0],t),p=ai(e,r[0],t);f=null!==d&&(d===a&&"right"===s&&!p||d<a);var g,v,m,y=ii(r[1],t),_=ai(e,r[1],t);h=null!==y&&(y===a&&"left"===s&&!_||y<a),i&&("keep"===t?(g=e.getIdentifier(),v=e.args[0].getIdentifier(),m=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),v=e.args[0].getContent().getIdentifier(),m=e.args[1].getContent().getIdentifier()),null!==d&&(!1===ri[a][g].latexLeftParens&&(f=!1),!1===ri[d][v].latexParens&&(f=!1)),null!==y&&(!1===ri[a][g].latexRightParens&&(h=!1),!1===ri[y][m].latexParens&&(h=!1))),o=[f,h];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=r.map((function(n){var r=ii(n,t),i=ai(e,n,t),o=oi(n,t);return null!==r&&(a===r&&s===o&&!i||r<a)})))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(o=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!o[t]&&!n)}))),o}return n.prototype=new t,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(e,t){if("string"!=typeof this.fn||!Bn(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=Dn(e,this.fn),r=Ne(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var o=r[0],a=r[1];return function(e,t,r){return n(o(e,t,r),a(e,t,r))}}return function(e,t,i){return n.apply(null,Ne(r,(function(n){return n(e,t,i)})))}},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!1);if(1===i.length){var a=oi(this,t),s=i[0].toString(e);o[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(u?" ":"")+s:"left"===a?s+(u?" ":"")+this.op:s+this.op}if(2===i.length){var c=i[0].toString(e),l=i[1].toString(e);return o[0]&&(c="("+c+")"),o[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+l:c+" "+this.op+" "+l}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(t,n){return t=t.toString(e),o[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(e){return new n(e.op,e.fn,e.args,e.implicit)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!1);if(1===i.length){var a=oi(this,t),s=i[0].toHTML(e);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+xe(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+xe(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(e),c=i[1].toHTML(e);return o[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+xe(this.op)+"</span>"+c}var l=i.map((function(t,n){return t=t.toHTML(e),o[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+xe(this.op)+"</span>"):'<span class="math-function">'+xe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!0),a=di[this.fn];if(a=void 0===a?this.op:a,1===i.length){var s=oi(this,t),u=i[0].toTex(e);return o[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?a+u:u+a}if(2===i.length){var c=i[0],l=c.toTex(e);o[0]&&(l="\\left(".concat(l,"\\right)"));var f,h=i[1].toTex(e);switch(o[1]&&(h="\\left(".concat(h,"\\right)")),f="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+l+"}{"+h+"}";case"OperatorNode:pow":switch(l="{"+l+"}",h="{"+h+"}",f){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return l+"~"+h}return l+a+h}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var d=i.map((function(t,n){return t=t.toTex(e),o[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?d.join("~"):d.join(a)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n}),{isClass:!0,isNode:!0}),Ti=je("ParenthesisNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!M(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return n.prototype=new t,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(e,t){return this.content._compile(e,t)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(e){e(this.content,"content",this)},n.prototype.map=function(e){return new n(e(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(e){return new n(e.content)},n.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},n.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},n}),{isClass:!0,isNode:!0}),Si=je("RangeNode",["Node"],(function(e){var t=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!M(e))throw new TypeError("Node expected");if(!M(t))throw new TypeError("Node expected");if(r&&!M(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function r(e,t){var n=ii(e,t),r={},i=ii(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var o=ii(e.step,t);r.step=null!==o&&o<=n||"all"===t}var a=ii(e.end,t);return r.end=null!==a&&a<=n||"all"===t,r}return n.prototype=new t,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter((function(e){return H(e)&&"end"===e.name})).length>0},n.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var o=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),i(e,t,a),o(e,t,a))}}return function(e,t,o){return n(r(e,t,o),i(e,t,o))}},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(n.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);n.step&&(o="("+o+")"),t+=":"+o}var a=this.end.toString(e);return n.end&&(a="("+a+")"),t+":"+a},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n.prototype.toHTML=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var o=this.step.toHTML(e);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(e);return n.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+'<span class="math-operator math-range-operator">:</span>'+a},n.prototype._toTex=function(e){var t=r(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);if(t.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),n+":"+o},n}),{isClass:!0,isNode:!0}),Oi=je("RelationalNode",["Node"],(function(e){var t=e.Node;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return n.prototype=new t,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(e,t){var n=this,r=this.params.map((function(n){return n._compile(e,t)}));return function(t,i,o){for(var a,s=r[0](t,i,o),u=0;u<n.conditionals.length;u++)if(a=s,s=r[u+1](t,i,o),!Dn(e,n.conditionals[u])(a,s))return!1;return!0}},n.prototype.forEach=function(e){var t=this;this.params.forEach((function(n,r){return e(n,"params["+r+"]",t)}),this)},n.prototype.map=function(e){var t=this;return new n(this.conditionals.slice(),this.params.map((function(n,r){return t._ifNode(e(n,"params["+r+"]",t))}),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=ii(this,t),r=this.params.map((function(r,i){var o=ii(r,t);return"all"===t||null!==o&&o<=n?"("+r.toString(e)+")":r.toString(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+=" "+i[this.conditionals[a]]+" "+r[a+1];return o},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(e){return new n(e.conditionals,e.params)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=ii(this,t),r=this.params.map((function(r,i){var o=ii(r,t);return"all"===t||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+xe(i[this.conditionals[a]])+"</span>"+r[a+1];return o},n.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=ii(this,t),r=this.params.map((function(r,i){var o=ii(r,t);return"all"===t||null!==o&&o<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),i=r[0],o=0;o<this.conditionals.length;o++)i+=di[this.conditionals[o]]+r[o+1];return i},n}),{isClass:!0,isNode:!0}),Ci=je("SymbolNode",["math","?Unit","Node"],(function(e){var t=e.math,n=e.Unit,r=e.Node;function i(e){return!!n&&n.isValuelessUnit(e)}function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return o.prototype=new r,o.prototype.type="SymbolNode",o.prototype.isSymbolNode=!0,o.prototype._compile=function(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return t[r]};if(r in e)return function(t,n,i){return Dn(r in t?t:e,r)};var o=i(r);return function(e,t,i){return r in e?Dn(e,r):o?new n(null,r):function(e){throw new Error("Undefined symbol "+e)}(r)}},o.prototype.forEach=function(e){},o.prototype.map=function(e){return this.clone()},o.prototype.clone=function(){return new o(this.name)},o.prototype._toString=function(e){return this.name},o.prototype.toHTML=function(e){var t=xe(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},o.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},o.fromJSON=function(e){return new o(e.name)},o.prototype._toTex=function(e){var n=!1;void 0===t[this.name]&&i(this.name)&&(n=!0);var r=mi(this.name,n);return"\\"===r[0]?r:" "+r},o}),{isClass:!0,isNode:!0});function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ni=je("FunctionNode",["math","Node","SymbolNode"],(function(e){var t=e.math,n=e.Node,r=e.SymbolNode;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new r(e)),!M(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(M))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(e,t){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=Ne(this.args,(function(n){return n._compile(e,t)}));if(H(this.fn)){var r=this.fn.name,o=r in e?Dn(e,r):void 0;if("function"==typeof o&&!0===o.rawArgs){var a=this.args;return function(t,n,i){return(r in t?Dn(t,r):o)(a,e,Pi({},t,n))}}if(1===n.length){var s=n[0];return function(e,t,n){return(r in e?Dn(e,r):o)(s(e,t,n))}}if(2===n.length){var u=n[0],c=n[1];return function(e,t,n){return(r in e?Dn(e,r):o)(u(e,t,n),c(e,t,n))}}return function(e,t,i){return(r in e?Dn(e,r):o).apply(null,Ne(n,(function(n){return n(e,t,i)})))}}if(O(this.fn)&&D(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),f=this.fn.index.getObjectProperty(),h=this.args;return function(t,r,i){var o=l(t,r,i);return function(e,t){if(!Bn(e,t))throw new Error('No access to method "'+t+'"')}(o,f),o[f]&&o[f].rawArgs?o[f](h,e,Pi({},t,r)):o[f].apply(o,Ne(n,(function(e){return e(t,r,i)})))}}var d=this.fn._compile(e,t),p=this.args;return function(t,r,i){var o=d(t,r,i);return o&&o.rawArgs?o(p,e,Pi({},t,r)):o.apply(o,Ne(n,(function(e){return e(t,r,i)})))}},i.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},i.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new i(t,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var o=i.prototype.toString;function a(e,t,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(e));)if(i+=e.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(ki(s)){case"string":i+=s;break;case"object":if(M(s))i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map((function(e,t){if(M(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!M(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+e.slice(a)}i.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===ki(e.handler)&&Y(e.handler,n)&&(t=e.handler[n](this,e)),void 0!==t?t:o.call(this,e)},i.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(R(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(e){return new i(e.fn,e.args)},i.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+xe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var s=i.prototype.toTex;return i.prototype.toTex=function(e){var t;return e&&"object"===ki(e.handler)&&Y(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:s.call(this,e)},i.prototype._toTex=function(e){var n,r,i=this.args.map((function(t){return t.toTex(e)}));switch(pi[this.name]&&(n=pi[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!==ki(t[this.name].toTex)&&"string"!=typeof t[this.name].toTex||(n=t[this.name].toTex),ki(n)){case"function":r=n(this,e);break;case"string":r=a(n,this,e);break;case"object":switch(ki(n[i.length])){case"function":r=n[i.length](this,e);break;case"string":r=a(n[i.length],this,e)}}return void 0!==r?r:a("\\mathrm{${name}}\\left(${args}\\right)",this,e)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0});function Ii(){return(Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ri=je("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(function(e){var t=e.typed,n=e.numeric,r=e.config,i=e.AccessorNode,o=e.ArrayNode,a=e.AssignmentNode,s=e.BlockNode,u=e.ConditionalNode,c=e.ConstantNode,l=e.FunctionAssignmentNode,f=e.FunctionNode,h=e.IndexNode,d=e.ObjectNode,p=e.OperatorNode,g=e.ParenthesisNode,v=e.RangeNode,m=e.RelationalNode,y=e.SymbolNode,_=t("parse",{string:function(e){return z(e,{})},"Array | Matrix":function(e){return b(e,{})},"string, Object":function(e,t){return z(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return rr(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return z(e,n)}))}var A=0,w=1,E=2,x=3,T=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},k={true:!0,false:!1,null:null,undefined:void 0},P=["NaN","Infinity"];function N(e,t){return e.expression.substr(e.index,t)}function R(e){return N(e,1)}function D(e){e.index++}function M(e){return e.expression.charAt(e.index-1)}function j(e){return e.expression.charAt(e.index+1)}function F(e){for(e.tokenType=A,e.token="",e.comment="";_.isWhitespace(R(e),e.nestingLevel);)D(e);if("#"===R(e))for(;"\n"!==R(e)&&""!==R(e);)e.comment+=R(e),D(e);if(""!==R(e)){if("\n"===R(e)&&!e.nestingLevel)return e.tokenType=w,e.token=R(e),void D(e);var t=R(e),n=N(e,2),r=N(e,3);if(3===r.length&&S[r])return e.tokenType=w,e.token=r,D(e),D(e),void D(e);if(2===n.length&&S[n])return e.tokenType=w,e.token=n,D(e),void D(e);if(S[t])return e.tokenType=w,e.token=t,void D(e);if(_.isDigitDot(t)){e.tokenType=E;var i=N(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=R(e),D(e),e.token+=R(e),D(e);_.isHexDigit(R(e));)e.token+=R(e),D(e);return}if("."===R(e))e.token+=R(e),D(e),_.isDigit(R(e))||(e.tokenType=w);else{for(;_.isDigit(R(e));)e.token+=R(e),D(e);_.isDecimalMark(R(e),j(e))&&(e.token+=R(e),D(e))}for(;_.isDigit(R(e));)e.token+=R(e),D(e);if("E"===R(e)||"e"===R(e))if(_.isDigit(j(e))||"-"===j(e)||"+"===j(e)){if(e.token+=R(e),D(e),"+"!==R(e)&&"-"!==R(e)||(e.token+=R(e),D(e)),!_.isDigit(R(e)))throw he(e,'Digit expected, got "'+R(e)+'"');for(;_.isDigit(R(e));)e.token+=R(e),D(e);if(_.isDecimalMark(R(e),j(e)))throw he(e,'Digit expected, got "'+R(e)+'"')}else if("."===j(e))throw D(e),he(e,'Digit expected, got "'+R(e)+'"')}else{if(!_.isAlpha(R(e),M(e),j(e))){for(e.tokenType=T;""!==R(e);)e.token+=R(e),D(e);throw he(e,'Syntax error in part "'+e.token+'"')}for(;_.isAlpha(R(e),M(e),j(e))||_.isDigit(R(e));)e.token+=R(e),D(e);Y(C,e.token)?e.tokenType=w:e.tokenType=x}}else e.tokenType=w}function U(e){do{F(e)}while("\n"===e.token)}function G(e){e.nestingLevel++}function Q(e){e.nestingLevel--}function z(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:A,nestingLevel:0,conditionalLevel:null};Ii(n,{expression:e,extraNodes:t}),F(n);var r=function(e){var t,n,r=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=V(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),F(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=V(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new s(r):(t||((t=new c(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw n.tokenType===w?de(n,"Unexpected operator "+n.token):he(n,'Unexpected part "'+n.token+'"');return r}function V(e){var t,n,r,i,o=function(e){for(var t=function(e){for(var t=W(e);"or"===e.token;)U(e),t=new p("or","or",[t,W(e)]);return t}(e);"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,U(e);var r=t,i=V(e);if(":"!==e.token)throw he(e,"False part of conditional expression expected");e.conditionalLevel=null,U(e);var o=V(e);t=new u(r,i,o),e.conditionalLevel=n}return t}(e);if("="===e.token){if(H(o))return t=o.name,U(e),r=V(e),new a(new y(t),r);if(O(o))return U(e),r=V(e),new a(o.object,o.index,r);if(L(o)&&H(o.fn)&&(i=!0,n=[],t=o.name,o.args.forEach((function(e,t){H(e)?n[t]=e.name:i=!1})),i))return U(e),r=V(e),new l(t,n,r);throw he(e,"Invalid left hand side of assignment operator =")}return o}function W(e){for(var t=q(e);"xor"===e.token;)U(e),t=new p("xor","xor",[t,q(e)]);return t}function q(e){for(var t=X(e);"and"===e.token;)U(e),t=new p("and","and",[t,X(e)]);return t}function X(e){for(var t=K(e);"|"===e.token;)U(e),t=new p("|","bitOr",[t,K(e)]);return t}function K(e){for(var t=$(e);"^|"===e.token;)U(e),t=new p("^|","bitXor",[t,$(e)]);return t}function $(e){for(var t=J(e);"&"===e.token;)U(e),t=new p("&","bitAnd",[t,J(e)]);return t}function J(e){for(var t=[Z(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Y(r,e.token);){var i={name:e.token,fn:r[e.token]};n.push(i),U(e),t.push(Z(e))}return 1===t.length?t[0]:2===t.length?new p(n[0].name,n[0].fn,t):new m(n.map((function(e){return e.fn})),t)}function Z(e){var t,n,r,i;t=ee(e);for(var o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Y(o,e.token);)r=o[n=e.token],U(e),i=[t,ee(e)],t=new p(n,r,i);return t}function ee(e){var t,n,r,i;t=te(e);for(var o={to:"to",in:"to"};Y(o,e.token);)r=o[n=e.token],U(e),"in"===n&&""===e.token?t=new p("*","multiply",[t,new y("in")],!0):(i=[t,te(e)],t=new p(n,r,i));return t}function te(e){var t,n=[];if(t=":"===e.token?new c(1):ne(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)U(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new y("end")):n.push(ne(e));t=3===n.length?new v(n[0],n[2],n[1]):new v(n[0],n[1])}return t}function ne(e){var t,n,r,i;t=re(e);for(var o={"+":"add","-":"subtract"};Y(o,e.token);)r=o[n=e.token],U(e),i=[t,re(e)],t=new p(n,r,i);return t}function re(e){var t,n,r,i;n=t=ie(e);for(var o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Y(o,e.token);)i=o[r=e.token],U(e),n=ie(e),t=new p(r,i,[t,n]);return t}function ie(e){var t,n;for(n=t=oe(e);e.tokenType===x||"in"===e.token&&I(t)||!(e.tokenType!==E||I(n)||B(n)&&"!"!==n.op)||"("===e.token;)n=oe(e),t=new p("*","multiply",[t,n],!0);return t}function oe(e){for(var t=ae(e),n=t,r=[];"/"===e.token&&I(n);){if(r.push(Ii({},e)),U(e),e.tokenType!==E){Ii(e,r.pop());break}if(r.push(Ii({},e)),U(e),e.tokenType!==x&&"("!==e.token){r.pop(),Ii(e,r.pop());break}Ii(e,r.pop()),r.pop(),n=ae(e),t=new p("/","divide",[t,n])}return t}function ae(e){var t,i,a,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Y(s,e.token)?(a=s[e.token],t=e.token,U(e),i=[ae(e)],new p(t,a,i)):function(e){var t,i,a,s;return t=function(e){var t,i,a;t=function(e){var t=[];if(e.tokenType===x&&Y(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(F(e),"("===e.token){if(t=[],G(e),F(e),")"!==e.token)for(t.push(V(e));","===e.token;)F(e),t.push(V(e));if(")"!==e.token)throw he(e,"Parenthesis ) expected");Q(e),F(e)}return new i(t)}return function(e){var t;return e.tokenType===x||e.tokenType===w&&e.token in C?(t=e.token,F(e),se(e,Y(k,t)?new c(k[t]):-1!==P.indexOf(t)?new c(n(t,"number")):new y(t))):function(e){var t;return'"'===e.token?(t=ue(e),se(e,new c(t))):function(e){var t;return"'"===e.token?(t=ce(e),se(e,new c(t))):function(e){var t,i,a,s;if("["===e.token){if(G(e),F(e),"]"!==e.token){var u=le(e);if(";"===e.token){for(a=1,i=[u];";"===e.token;)F(e),i[a]=le(e),a++;if("]"!==e.token)throw he(e,"End of matrix ] expected");Q(e),F(e),s=i[0].items.length;for(var l=1;l<a;l++)if(i[l].items.length!==s)throw de(e,"Column dimensions mismatch ("+i[l].items.length+" !== "+s+")");t=new o(i)}else{if("]"!==e.token)throw he(e,"End of matrix ] expected");Q(e),F(e),t=u}}else Q(e),F(e),t=new o([]);return se(e,t)}return function(e){if("{"===e.token){var t;G(e);var i={};do{if(F(e),"}"!==e.token){if('"'===e.token)t=ue(e);else if("'"===e.token)t=ce(e);else{if(!(e.tokenType===x||e.tokenType===w&&e.token in C))throw he(e,"Symbol or string expected as object key");t=e.token,F(e)}if(":"!==e.token)throw he(e,"Colon : expected after object key");F(e),i[t]=V(e)}}while(","===e.token);if("}"!==e.token)throw he(e,"Comma , or bracket } expected after object value");Q(e),F(e);var o=new d(i);return se(e,o)}return function(e){var t;return e.tokenType===E?(t=e.token,F(e),new c(n(t,r.number))):function(e){var t;if("("===e.token){if(G(e),F(e),t=V(e),")"!==e.token)throw he(e,"Parenthesis ) expected");return Q(e),F(e),se(e,t=new g(t))}return function(e){throw""===e.token?he(e,"Unexpected end of expression"):he(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);for(var s={"!":"factorial","'":"ctranspose"};Y(s,e.token);)a=s[i=e.token],F(e),t=se(e,t=new p(i,a,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(a="^"===(i=e.token)?"pow":"dotPow",U(e),s=[t,ae(e)],t=new p(i,a,s)),t}(e)}function se(e,t,n){for(var r;!("("!==e.token&&"["!==e.token&&"."!==e.token||n&&-1===n.indexOf(e.token));)if(r=[],"("===e.token){if(!H(t)&&!O(t))return t;if(G(e),F(e),")"!==e.token)for(r.push(V(e));","===e.token;)F(e),r.push(V(e));if(")"!==e.token)throw he(e,"Parenthesis ) expected");Q(e),F(e),t=new f(t,r)}else if("["===e.token){if(G(e),F(e),"]"!==e.token)for(r.push(V(e));","===e.token;)F(e),r.push(V(e));if("]"!==e.token)throw he(e,"Parenthesis ] expected");Q(e),F(e),t=new i(t,new h(r))}else{if(F(e),e.tokenType!==x)throw he(e,"Property name expected after dot");r.push(new c(e.token)),F(e),t=new i(t,new h(r,!0))}return t}function ue(e){for(var t="";""!==R(e)&&'"'!==R(e);)"\\"===R(e)&&(t+=R(e),D(e)),t+=R(e),D(e);if(F(e),'"'!==e.token)throw he(e,'End of string " expected');return F(e),JSON.parse('"'+t+'"')}function ce(e){for(var t="";""!==R(e)&&"'"!==R(e);)"\\"===R(e)&&(t+=R(e),D(e)),t+=R(e),D(e);if(F(e),"'"!==e.token)throw he(e,"End of string ' expected");return F(e),JSON.parse('"'+t+'"')}function le(e){for(var t=[V(e)],n=1;","===e.token;)F(e),t[n]=V(e),n++;return new o(t)}function fe(e){return e.index-e.token.length+1}function he(e,t){var n=fe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function de(e,t){var n=fe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return _.isAlpha=function(e,t,n){return _.isValidLatinOrGreek(e)||_.isValidMathSymbol(e,n)||_.isValidMathSymbol(t,e)},_.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},_.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},_.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},_.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},_.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},_.isDigit=function(e){return e>="0"&&e<="9"},_.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},_})),Li=je("compile",["typed","parse"],(function(e){var t=e.typed,n=e.parse;return t("compile",{string:function(e){return n(e).compile()},"Array | Matrix":function(e){return rr(e,(function(e){return n(e).compile()}))}})})),Di=je("evaluate",["typed","parse"],(function(e){var t=e.typed,n=e.parse;return t("evaluate",{string:function(e){return n(e).compile().evaluate({})},"string, Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t={};return rr(e,(function(e){return n(e).compile().evaluate(t)}))},"Array | Matrix, Object":function(e,t){return rr(e,(function(e){return n(e).compile().evaluate(t)}))}})})),Mi=je("Parser",["parse"],(function(e){var t=e.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},n.prototype.get=function(e){return e in this.scope?Dn(this.scope,e):void 0},n.prototype.getAll=function(){return function(e,t){for(var n in t)Y(t,n)&&(e[n]=t[n]);return e}({},this.scope)},n.prototype.set=function(e,t){return Mn(this.scope,e,t)},n.prototype.remove=function(e){delete this.scope[e]},n.prototype.clear=function(){for(var e in this.scope)Y(this.scope,e)&&delete this.scope[e]},n}),{isClass:!0}),ji=je("apply",["typed","isInteger"],(function(e){var t=e.typed,n=e.isInteger;return t("apply",{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?Ce(e):e.size();if(t<0||t>=i.length)throw new Oe(t,i.length);return h(e)?e.create(Bi(e.valueOf(),t,r)):Bi(e,t,r)}})}));function Bi(e,t,n){var r,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<o.length;r++)i[r]=Bi(o[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=Bi(e[r],t-1,n);return i}var Fi=je("filter",["typed"],(function(e){return(0,e.typed)("filter",{"Array, function":Ui,"Matrix, function":function(e,t){return e.create(Ui(e.toArray(),t))},"Array, RegExp":Le,"Matrix, RegExp":function(e,t){return e.create(Le(e.toArray(),t))}})}));function Ui(e,t){var n=vr(t);return Re(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)}))}var Hi=je("forEach",["typed"],(function(e){return(0,e.typed)("forEach",{"Array, function":Gi,"Matrix, function":function(e,t){return e.forEach(t)}})}));function Gi(e,t){var n=vr(t);!function r(i,o){Array.isArray(i)?Ie(i,(function(e,t){r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Qi=je("map",["typed"],(function(e){return(0,e.typed)("map",{"Array, function":zi,"Matrix, function":function(e,t){return e.map(t)}})}));function zi(e,t){var n=vr(t);return function r(i,o){return Array.isArray(i)?i.map((function(e,t){return r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Vi=je("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.bignumber,o=e.smaller,a=e.smallerEq,s=e.larger,u=e.largerEq;return t("range",{string:l,"string, boolean":l,"number, number":function(e,t){return c(f(e,t,1))},"number, number, number":function(e,t,n){return c(f(e,t,n))},"number, number, boolean":function(e,t,n){return c(n?h(e,t,1):f(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return c(r?h(e,t,n):f(e,t,n))},"BigNumber, BigNumber":function(e,t){return c(d(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return c(d(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){var r=e.constructor;return c(n?p(e,t,new r(1)):d(e,t,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return c(r?p(e,t,n):d(e,t,n))}});function c(e){return"Matrix"===n.matrix?r?r(e):bn():e}function l(e,t){var r=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?(void 0===i&&yn(),c((t?p:d)(i(r.start),i(r.end),i(r.step)))):c((t?h:f)(r.start,r.end,r.step))}function f(e,t,n){var r=[],i=e;if(n>0)for(;o(i,t);)r.push(i),i+=n;else if(n<0)for(;s(i,t);)r.push(i),i+=n;return r}function h(e,t,n){var r=[],i=e;if(n>0)for(;a(i,t);)r.push(i),i+=n;else if(n<0)for(;u(i,t);)r.push(i),i+=n;return r}function d(e,t,n){var r=i(0),a=[],u=e;if(n.gt(r))for(;o(u,t);)a.push(u),u=u.plus(n);else if(n.lt(r))for(;s(u,t);)a.push(u),u=u.plus(n);return a}function p(e,t,n){var r=i(0),o=[],s=e;if(n.gt(r))for(;a(s,t);)o.push(s),s=s.plus(n);else if(n.lt(r))for(;u(s,t);)o.push(s),s=s.plus(n);return o}})),Wi=je("size",["typed","config","?matrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix;return t("size",{Matrix:function(e){return e.create(e.size())},Array:Ce,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):bn()}})})),qi=je("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(e){var t=e.typed,n=e.isNumeric,r=e.isNaN,i=e.compare,o=i,a=function(e,t){return-i(e,t)};return t("partitionSelect",{"Array | Matrix, number":function(e,t){return s(e,t,o)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,o);if("desc"===n)return s(e,t,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!Z(t)||t<0)throw new Error("k must be a non-negative integer");if(h(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return u(e.valueOf(),t,n)}if(Array.isArray(e))return u(e,t,n)}function u(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var o=0;o<e.length;o++)if(n(e[o])&&r(e[o]))return e[o];for(var a=0,s=e.length-1;a<s;){for(var u=a,c=s,l=e[Math.floor(Math.random()*(s-a+1))+a];u<c;)if(i(e[u],l)>=0){var f=e[c];e[c]=e[u],e[u]=f,--c}else++u;i(e[u],l)>0&&--u,t<=u?s=u:a=u+1}return e[t]}})),Xi=je("combinationsWithRep",["typed"],(function(e){return(0,e.typed)("combinationsWithRep",{"number, number":function(e,t){if(!Z(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Z(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?Mt(e,e+t-1)/Mt(1,t):Mt(t+1,e+t-1)/Mt(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),o=e.minus(i);if(!Yi(e)||!Yi(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(o))for(r=i;r.lte(o);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function Yi(e){return e.isInteger()&&e.gte(0)}var Ki=je("factorial",["typed","gamma"],(function(e){var t=e.typed,n=e.gamma;return t("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return n(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return n(e.plus(1))},"Array | Matrix":function(e){return rr(e,this)}})})),$i=je("multinomial",["typed","add","divide","multiply","factorial","isInteger","isPositive"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.multiply,o=e.factorial,a=e.isInteger,s=e.isPositive;return t("multinomial",{"Array | Matrix":function(e){var t=0,u=1;return nr(e,(function(e){if(!a(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=n(t,e),u=i(u,o(e))})),r(o(t),u)}})})),Ji=je("permutations",["typed","factorial"],(function(e){return(0,e.typed)("permutations",{"number | BigNumber":e.factorial,"number, number":function(e,t){if(!Z(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Z(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return Mt(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!Zi(e)||!Zi(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})}));function Zi(e){return e.isInteger()&&e.gte(0)}var eo=n(2),to=n.n(eo),no=to()();function ro(e){var t;return function(e){t=null===e?no:to()(String(e))}(e),function(){return t()}}var io=je("pickRandom",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=ro(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=ro(e.randomSeed))})),t({"Array | Matrix":function(e){return a(e)},"Array | Matrix, number":function(e,t){return a(e,t,void 0)},"Array | Matrix, Array":function(e,t){return a(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,n){return a(e,n,t)},"Array | Matrix, number, Array | Matrix":function(e,t,n){return a(e,t,n)}});function a(e,t,n){var r=void 0===t;r&&(t=1),e=Pe(e.valueOf()).valueOf(),n&&(n=n.valueOf());var a=0;if(void 0!==n){if(n.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var s=0,u=n.length;s<u;s++){if(!o(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");a+=n[s]}}var c=e.length;if(0===c)return[];if(t>=c)return t>1?e:e[0];for(var l,f=[];f.length<t;){if(void 0===n)l=e[Math.floor(i()*c)];else for(var h=i()*a,d=0,p=e.length;d<p;d++)if((h-=n[d])<0){l=e[d];break}-1===f.indexOf(l)&&f.push(l)}return r?f[0]:f}})),oo=je("random",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=(e.matrix,ro(n.randomSeed));return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=ro(e.randomSeed))})),t("random",{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)}});function o(e,t){return e+i()*(t-e)}})),ao=je("randomInt",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=ro(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=ro(e.randomSeed))})),t("randomInt",{"":function(){return a(0,1)},number:function(e){return a(0,e)},"number, number":function(e,t){return a(e,t)},"Array | Matrix":function(e){return o(e,0,1)},"Array | Matrix, number":function(e,t){return o(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return o(e,t,n)}});function o(e,t,n){var r=function e(t,n){var r=[];if((t=t.slice(0)).length>1)for(var i=0,o=t.shift();i<o;i++)r.push(e(t,n));else for(var a=0,s=t.shift();a<s;a++)r.push(n());return r}(e.valueOf(),(function(){return a(t,n)}));return h(e)?e.create(r):r}function a(e,t){return Math.floor(e+i()*(t-e))}})),so=je("equalScalar",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("equalScalar",{"number, number":function(e,t){return de(e,t,n.epsilon)}})})),uo=je("compare",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("compare",{"number, number":function(e,t){return de(e,t,n.epsilon)?0:e>t?1:-1}})})),co=n(0),lo=n.n(co),fo=je("compareNatural",["typed","compare"],(function(e){var t=e.typed,n=e.compare,r=n.signatures["boolean,boolean"];return t("compareNatural",{"any, any":function(e,t){var o,a=Q(e),s=Q(t);if(!("number"!==a&&"BigNumber"!==a&&"Fraction"!==a||"number"!==s&&"BigNumber"!==s&&"Fraction"!==s))return"0"!==(o=n(e,t)).toString()?o>0?1:-1:lo()(a,s);if("Array"===a||"Matrix"===a||"Array"===s||"Matrix"===s)return 0!==(o=function e(t,n,r){return g(n)&&g(r)?i(t,n.toJSON().values,r.toJSON().values):g(n)?e(t,n.toArray(),r):g(r)?e(t,n,r.toArray()):p(n)?e(t,n.toJSON().data,r):p(r)?e(t,n,r.toJSON().data):Array.isArray(n)?Array.isArray(r)?i(t,n,r):e(t,n,[r]):e(t,[n],r)}(this,e,t))?o:lo()(a,s);if(a!==s)return lo()(a,s);if("Complex"===a)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(e,t);if("Unit"===a)return e.equalBase(t)?this(e.value,t.value):i(this,e.formatUnits(),t.formatUnits());if("boolean"===a)return r(e,t);if("string"===a)return lo()(e,t);if("Object"===a)return function(e,t,n){var r=Object.keys(t),o=Object.keys(n);r.sort(lo.a),o.sort(lo.a);var a=i(e,r,o);if(0!==a)return a;for(var s=0;s<r.length;s++){var u=e(t[r[s]],n[o[s]]);if(0!==u)return u}return 0}(this,e,t);if("null"===a)return 0;if("undefined"===a)return 0;throw new TypeError('Unsupported type of value "'+a+'"')}});function i(e,t,n){for(var r=0,i=Math.min(t.length,n.length);r<i;r++){var o=e(t[r],n[r]);if(0!==o)return o}return t.length>n.length?1:t.length<n.length?-1:0}})),ho=je("compareText",["typed"],(function(e){return(0,e.typed)("compareText",{"any, any":Te})})),po=je("equal",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})})),go=je("equalText",["typed","compareText","isZero"],(function(e){var t=e.typed,n=e.compareText,r=e.isZero;return t("equalText",{"any, any":function(e,t){return r(n(e,t))}})})),vo=je("smaller",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("smaller",{"number, number":function(e,t){return e<t&&!de(e,t,n.epsilon)}})})),mo=je("smallerEq",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("smallerEq",{"number, number":function(e,t){return e<=t||de(e,t,n.epsilon)}})})),yo=je("larger",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("larger",{"number, number":function(e,t){return e>t&&!de(e,t,n.epsilon)}})})),_o=je("largerEq",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("largerEq",{"number, number":function(e,t){return e>=t||de(e,t,n.epsilon)}})})),bo=je("deepEqual",["typed","equal"],(function(e){var t=e.typed,n=e.equal;return t("deepEqual",{"any, any":function(e,t){return function e(t,r){if(Array.isArray(t)){if(Array.isArray(r)){var i=t.length;if(i!==r.length)return!1;for(var o=0;o<i;o++)if(!e(t[o],r[o]))return!1;return!0}return!1}return!Array.isArray(r)&&n(t,r)}(e.valueOf(),t.valueOf())}})})),Ao=je("unequal",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})})),wo=je("erf",["typed"],(function(e){return(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=Oo?ee(e):t<=Eo?ee(e)*function(e){var t,n=e*e,r=To[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+To[0][t])*n,i=(i+So[0][t])*n;return e*(r+To[0][3])/(i+So[0][3])}(t):t<=4?ee(e)*(1-function(e){var t,n=To[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+To[1][t])*e,r=(r+So[1][t])*e;var i=(n+To[1][7])/(r+So[1][7]),o=parseInt(16*e)/16,a=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-a)*i}(t)):ee(e)*(1-function(e){var t,n=1/(e*e),r=To[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+To[2][t])*n,i=(i+So[2][t])*n;var o=n*(r+To[2][4])/(i+So[2][4]);o=(xo-o)/e;var a=(e-(n=parseInt(16*e)/16))*(e+n);return Math.exp(-n*n)*Math.exp(-a)*o}(t))},"Array | Matrix":function(e){return rr(e,this)}})})),Eo=.46875,xo=.5641895835477563,To=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],So=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Oo=Math.pow(2,53),Co=je("mode",["typed","isNaN","isNumeric"],(function(e){var t=e.typed,n=e.isNaN,r=e.isNumeric;return t("mode",{"Array | Matrix":i,"...":function(e){return i(e)}});function i(e){if(0===(e=Pe(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},i=[],o=0,a=0;a<e.length;a++){var s=e[a];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===o?i.push(s):t[s]>o&&(o=t[s],i=[s])}return i}}));function ko(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+Q(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+Q(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var Po=je("prod",["typed","config","multiplyScalar","numeric"],(function(e){var t=e.typed,n=e.config,r=e.multiplyScalar,i=e.numeric;return t("prod",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return o(e)}});function o(e){var t;if(nr(e,(function(e){try{t=void 0===t?e:r(t,e)}catch(t){throw ko(t,"prod",e)}})),"string"==typeof t&&(t=i(t,n.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}})),No=je("max",["typed","config","numeric","larger"],(function(e){var t=e.typed,n=e.config,r=e.numeric,i=e.larger;return t("max",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){return ir(e,t.valueOf(),o)},"...":function(e){if(tr(e))throw new TypeError("Scalar values expected in function max");return a(e)}});function o(e,t){try{return i(e,t)?e:t}catch(e){throw ko(e,"max",t)}}function a(e){var t;if(nr(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(t){throw ko(t,"max",e)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=r(t,n.number)),t}})),Io=je("min",["typed","config","numeric","smaller"],(function(e){var t=e.typed,n=e.config,r=e.numeric,i=e.smaller;return t("min",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){return ir(e,t.valueOf(),o)},"...":function(e){if(tr(e))throw new TypeError("Scalar values expected in function min");return a(e)}});function o(e,t){try{return i(e,t)?e:t}catch(e){throw ko(e,"min",t)}}function a(e){var t;if(nr(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(t){throw ko(t,"min",e)}})),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"==typeof t&&(t=r(t,n.number)),t}})),Ro=je("sum",["typed","config","add","numeric"],(function(e){var t=e.typed,n=e.config,r=e.add,i=e.numeric;return t("sum",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){try{return ir(e,t,r)}catch(e){throw ko(e,"sum")}},"...":function(e){if(tr(e))throw new TypeError("Scalar values expected in function sum");return o(e)}});function o(e){var t;return nr(e,(function(e){try{t=void 0===t?e:r(t,e)}catch(t){throw ko(t,"sum",e)}})),void 0===t&&(t=i(0,n.number)),"string"==typeof t&&(t=i(t,n.number)),t}})),Lo=je("mean",["typed","add","divide"],(function(e){var t=e.typed,n=e.add,r=e.divide;return t("mean",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=ir(e,t,n),o=Array.isArray(e)?Ce(e):e.size();return r(i,o[t])}catch(e){throw ko(e,"mean")}},"...":function(e){if(tr(e))throw new TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(nr(e,(function(e){try{t=void 0===t?e:n(t,e),i++}catch(t){throw ko(t,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return r(t,i)}})),Do=je("median",["typed","add","divide","compare","partitionSelect"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.compare,o=e.partitionSelect;function a(e){try{var t=(e=Pe(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var n=t/2-1,r=o(e,n+1),a=e[n],c=0;c<n;++c)i(e[c],a)>0&&(a=e[c]);return u(a,r)}var l=o(e,(t-1)/2);return s(l)}catch(e){throw ko(e,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t("median",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(tr(e))throw new TypeError("Scalar values expected in function median");return a(e)}})})),Mo=je("mad",["typed","abs","map","median","subtract"],(function(e){var t=e.typed,n=e.abs,r=e.map,i=e.median,o=e.subtract;return t("mad",{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=Pe(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=i(e);return i(r(e,(function(e){return n(o(e,t))})))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):ko(e,"mad")}}})),jo=je("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=e.add,r=e.subtract,i=e.multiply,o=e.divide,s=e.apply,u=e.isNaN;return t("variance",{"Array | Matrix":function(e){return c(e,"unbiased")},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t,"unbiased")},"Array | Matrix, number | BigNumber, string":l,"...":function(e){return c(e,"unbiased")}});function c(e,t){var s,c=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(nr(e,(function(e){try{s=void 0===s?e:n(s,e),c++}catch(t){throw ko(t,"variance",e)}})),0===c)throw new Error("Cannot calculate variance of an empty array");var l=o(s,c);if(s=void 0,nr(e,(function(e){var t=r(e,l);s=void 0===s?i(t,t):n(s,i(t,t))})),u(s))return s;switch(t){case"uncorrected":return o(s,c);case"biased":return o(s,c+1);case"unbiased":var f=a(s)?s.mul(0):0;return 1===c?f:o(s,c-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(e,t,(function(e){return c(e,n)}))}catch(e){throw ko(e,"variance")}}})),Bo=je("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(e){var t=e.typed,n=e.add,r=e.multiply,i=e.partitionSelect,s=e.compare;function u(e,t,a){var u=Pe(e),l=u.length;if(0===l)throw new Error("Cannot calculate quantile of an empty sequence");if(o(t)){var f=t*(l-1),h=f%1;if(0===h){var d=a?u[f]:i(u,f);return c(d),d}var p,g,v=Math.floor(f);if(a)p=u[v],g=u[v+1];else{g=i(u,v+1),p=u[v];for(var m=0;m<v;++m)s(u[m],p)>0&&(p=u[m])}return c(p),c(g),n(r(p,1-h),r(g,h))}var y=t.times(l-1);if(y.isInteger()){y=y.toNumber();var _=a?u[y]:i(u,y);return c(_),_}var b,A,w=y.floor(),E=y.minus(w),x=w.toNumber();if(a)b=u[x],A=u[x+1];else{A=i(u,x+1),b=u[x];for(var T=0;T<x;++T)s(u[T],b)>0&&(b=u[T])}c(b),c(A);var S=new E.constructor(1);return n(r(b,S.minus(E)),r(A,E))}var c=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,n){var r,i,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(d(e)){if("boolean"==typeof(n=n||!1)){if(i=e.valueOf(),o(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return u(i,t,n);if(t>1){if(!Z(t))throw new Error("N must be a positive integer");var c=t+1;r=new Array(t);for(var l=0;l<t;)r[l]=u(i,++l/c,n);return r}}if(a(t)){var f=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(s=new f(1),t.lte(s))return new f(u(i,t,n));if(t.gt(s)){if(!t.isInteger())throw new Error("N must be a positive integer");var h=t.toNumber();if(h>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var p=new f(h+1);r=new Array(h);for(var g=0;g<h;)r[g]=new f(u(i,new f(++g).div(p),n));return r}}if(Array.isArray(t)){r=new Array(t.length);for(var v=0;v<r.length;++v){var m=t[v];if(o(m)){if(m<0||m>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!a(m))throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new m.constructor(1),m.isNegative()||m.gt(s))throw new Error("Probability must be between 0 and 1, inclusive")}r[v]=u(i,m,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}})),Fo=je("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=e.sqrt,r=e.variance;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" variance")?new TypeError(e.message.replace(" variance"," std")):e}}})),Uo=je("format",["typed"],(function(e){return(0,e.typed)("format",{any:we,"any, Object | function | number":we})})),Ho=je("print",["typed"],(function(e){return(0,e.typed)("print",{"string, Object | Array":Go,"string, Object | Array, number | Object":Go})}));function Go(e,t,n){return e.replace(/\$([\w.]+)/g,(function(e,r){for(var i=r.split("."),o=t[i.shift()];i.length&&void 0!==o;){var a=i.shift();o=a?o[a]:o+"."}return void 0!==o?l(o)?o:we(o,n):e}))}var Qo=je("apply",["typed","isInteger"],(function(e){var t=e.typed,n=e.isInteger,r=ji({typed:t,isInteger:n});return t("apply",{"...any":function e(t){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1));try{return r.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0});function zo(e,t,n){var r=e.filter((function(e){return H(e)&&!(e.name in t)&&!(e.name in n)}))[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,o=Object.create(n),a=e.compile();return function(e){return o[i]=e,a.evaluate(o)}}var Vo=je("filter",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=H(e[1])||R(e[1])?e[1].compile().evaluate(n):zo(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("filter",{"Array, function":Wo,"Matrix, function":function(e,t){return e.create(Wo(e.toArray(),t))},"Array, RegExp":Le,"Matrix, RegExp":function(e,t){return e.create(Le(e.toArray(),t))}});return n}),{isTransformFunction:!0});function Wo(e,t){var n=vr(t);return Re(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r+1]):t(e,[r+1],i)}))}var qo=je("forEach",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=H(e[1])||R(e[1])?e[1].compile().evaluate(n):zo(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){var n=vr(t);!function r(i,o){Array.isArray(i)?Ie(i,(function(e,t){r(e,o.concat(t+1))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e.valueOf(),[])}});return n}),{isTransformFunction:!0}),Xo=je("map",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=H(e[1])||R(e[1])?e[1].compile().evaluate(n):zo(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return Yo(e,t,e)},"Matrix, function":function(e,t){return e.create(Yo(e.valueOf(),t,e))}});return n}),{isTransformFunction:!0});function Yo(e,t,n){var r=vr(t);return function e(i,o){return Array.isArray(i)?Ne(i,(function(t,n){return e(t,o.concat(n+1))})):1===r?t(i):2===r?t(i,o):t(i,o,n)}(e,[])}var Ko=je("max",["typed","config","numeric","larger"],(function(e){var t=e.typed,n=e.config,r=e.numeric,i=e.larger,s=No({typed:t,config:n,numeric:r,larger:i});return t("max",{"...any":function e(t){if(2===t.length&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return s.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),$o=je("mean",["typed","add","divide"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=Lo({typed:t,add:n,divide:r});return t("mean",{"...any":function e(t){if(2===t.length&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return i.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),Jo=je("min",["typed","config","numeric","smaller"],(function(e){var t=e.typed,n=e.config,r=e.numeric,i=e.smaller,s=Io({typed:t,config:n,numeric:r,smaller:i});return t("min",{"...any":function e(t){if(2===t.length&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return s.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),Zo=je("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.bignumber,o=e.smaller,a=e.smallerEq,s=e.larger,u=e.largerEq,c=Vi({typed:t,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:u});return t("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),c.apply(null,e)}})}),{isTransformFunction:!0}),ea=je("subset",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix;return t("subset",{"Array, Index":function(e,t){var r=n(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":ra,"string, Index":ta,"Array, Index, any":function(e,t,r){return n(V(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return n(V(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":na,"string, Index, string, string":na,"Object, Index, any":ia})}));function ta(e,t){if(!m(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new Se(t.size().length,1);var n=e.length;ke(t.min()[0],n),ke(t.max()[0],n);var r="";return t.dimension(0).forEach((function(t){r+=e.charAt(t)})),r}function na(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new Se(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new Se(i.size()[0],n.length);var o=e.length;ke(t.min()[0]),ke(t.max()[0]);for(var a=[],s=0;s<o;s++)a[s]=e.charAt(s);if(i.forEach((function(e,t){a[e]=n.charAt(t[0])})),a.length>o)for(var u=o-1,c=a.length;u<c;u++)a[u]||(a[u]=r);return a.join("")}function ra(e,t){if(1!==t.size().length)throw new Se(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return Dn(e,n)}function ia(e,t,n){if(1!==t.size().length)throw new Se(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=V(e);return Mn(i,r,n),i}var oa=je("subset",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=ea({typed:t,matrix:n});return t("subset",{"...any":function e(t){try{return r.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),aa=je("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=e.sqrt,r=e.variance,i=Fo({typed:t,sqrt:n,variance:r});return t("std",{"...any":function e(t){if(t.length>=2&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return i.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),sa=je("sum",["typed","config","add","numeric"],(function(e){var t=e.typed,n=e.config,r=e.add,i=e.numeric,s=Ro({typed:t,config:n,add:r,numeric:i});return t("sum",{"...any":function e(t){if(2===t.length&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return s.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),ua=je("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=e.add,r=e.subtract,i=e.multiply,s=e.divide,u=e.apply,c=e.isNaN,l=jo({typed:t,add:n,subtract:r,multiply:i,divide:s,apply:u,isNaN:c});return t("variance",{"...any":function e(t){if(t.length>=2&&d(t[0])){var n=t[1];o(n)?t[1]=n-1:a(n)&&(t[1]=n.minus(1))}try{return l.apply(null,t)}catch(e){throw $r(e)}}})}),{isTransformFunction:!0}),ca=je("clone",["typed"],(function(e){return(0,e.typed)("clone",{any:V})})),la=je("isNumeric",["typed"],(function(e){return(0,e.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return rr(e,this)}})})),fa=je("hasNumericValue",["typed","isNumeric"],(function(e){var t=e.typed,n=e.isNumeric;return t("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return n(e)}})})),ha=je("typeOf",["typed"],(function(e){return(0,e.typed)("typeOf",{any:Q})})),da=je("isPrime",["typed"],(function(e){return(0,e.typed)("isPrime",{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return rr(e,this)}})})),pa=je("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,n=e.bignumber,r=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(e){return t(e)},BigNumber:n?function(e){return n(e)}:yn,Fraction:r?function(e){return r(e)}:_n};return function(e,t){var n=Q(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===n?e:o[t](e)}})),ga=je("reviver",["classes"],(function(e){var t=e.classes;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}})),va=je("replacer",[],(function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}})),ma=Fs("unaryMinus",et),ya=Fs("unaryPlus",tt),_a=Fs("abs",Ye),ba=Fs("addScalar",Ke),Aa=Fs("cbrt",nt),wa=Fs("ceil",rt),Ea=Fs("cube",it),xa=Fs("exp",ot),Ta=Fs("expm1",at),Sa=Fs("fix",st),Oa=Fs("floor",ut),Ca=Fs("gcd",ct),ka=Fs("lcm",lt),Pa=Fs("log10",ht),Na=Fs("log2",dt),Ia=Fs("mod",gt),Ra=Fs("multiplyScalar",Je),La=Fs("multiply",Je),Da=Fs("sign",mt),Ma=Fs("sqrt",yt),ja=Fs("square",_t),Ba=Fs("subtract",$e),Fa=Fs("xgcd",bt),Ua=Fs("divideScalar",Ze),Ha=Fs("pow",At),Ga=Fs("log",ft),Qa=Fs("log1p",pt),za=Fs("add",Ke),Va=Fs("norm",Et),Wa=Fs("divide",Ze),qa=Fs("bitAnd",Tt),Xa=Fs("bitNot",St),Ya=Fs("bitOr",Ot),Ka=Fs("bitXor",Ct),$a=Fs("leftShift",kt),Ja=Fs("rightArithShift",Pt),Za=Fs("rightLogShift",Nt),es=Fs("and",Dt),ts=Fs("not",It),ns=Fs("or",Rt),rs=Fs("xor",Lt),is=je("index",[],(function(){return An})),os=je("matrix",[],(function(){return bn})),as=je("subset",[],(function(){return wn})),ss=Fs("combinations",jt),us=Fs("gamma",Bt),cs=Fs("acos",Ht),ls=Fs("acosh",Gt),fs=Fs("acot",Qt),hs=Fs("acoth",zt),ds=Fs("acsc",Vt),ps=Fs("acsch",Wt),gs=Fs("asec",qt),vs=Fs("asech",Xt),ms=Fs("asin",Yt),ys=Fs("asinh",Kt),_s=Fs("atan",$t),bs=Fs("atan2",Jt),As=Fs("atanh",Zt),ws=Fs("cos",en),Es=Fs("cosh",tn),xs=Fs("cot",nn),Ts=Fs("coth",rn),Ss=Fs("csc",on),Os=Fs("csch",an),Cs=Fs("sec",sn),ks=Fs("sech",un),Ps=Fs("sin",cn),Ns=Fs("sinh",ln),Is=Fs("tan",fn),Rs=Fs("tanh",hn),Ls=Fs("isInteger",dn),Ds=Fs("isNegative",pn),Ms=Fs("isPositive",gn),js=Fs("isZero",vn),Bs=Fs("isNaN",mn);function Fs(e,t){return je(e,["typed"],(function(e){return(0,e.typed)(t)}))}const Us=function e(t,n){var r=qe({},Ge,n);if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var i=function(e){var t=new J.a;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}({isNumber:o,isComplex:s,isBigNumber:a,isFraction:u,isUnit:c,isString:l,isArray:f,isMatrix:h,isCollection:d,isDenseMatrix:p,isSparseMatrix:g,isRange:v,isIndex:m,isBoolean:y,isResultSet:_,isHelp:b,isFunction:A,isDate:w,isRegExp:E,isObject:x,isNull:T,isUndefined:S,isAccessorNode:O,isArrayNode:C,isAssignmentNode:k,isBlockNode:P,isConditionalNode:N,isConstantNode:I,isFunctionAssignmentNode:R,isFunctionNode:L,isIndexNode:D,isNode:M,isObjectNode:j,isOperatorNode:B,isParenthesisNode:F,isRangeNode:U,isSymbolNode:H,isChain:G});i.config=Ve(r,i.emit),i.expression={transform:{},mathWithTransform:{config:i.config}};var Q={},z=function(e,t,n,r){function i(t,i,a){if(a.wrap&&"function"==typeof i&&(i=function(e){var t=function(){for(var t=[],r=0,i=arguments.length;r<i;r++){var o=arguments[r];t[r]=o&&o.valueOf()}return e.apply(n,t)};return e.transform&&(t.transform=e.transform),t}(i)),function(e){return"function"==typeof e&&"string"==typeof e.signature}(i)&&(i=e(t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.signature,i))),d(n[t])&&d(i))return i=a.override?e(t,i.signatures):e(n[t],i),n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(void 0===n[t]||a.override)return n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(!a.silent)throw new Error('Cannot import "'+t+'": already exists')}function o(e,t){t&&"function"==typeof t.transform?(n.expression.transform[e]=t.transform,p(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],p(e)&&(n.expression.mathWithTransform[e]=t))}function l(e){delete n.expression.transform[e],p(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function f(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(Me(o,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(o));var a=v(t)?n.expression.transform:n,s=o in n.expression.transform,u=Y(a,o)?a[o]:void 0,c=function(){var r={};t.dependencies.map(Fe).forEach((function(e){if(Me(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]}));var a=t(r);if(a&&"function"==typeof a.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===u||i.override)return a;if(d(u)&&d(a))return e(u,a);if(i.silent)return u;throw new Error('Cannot import "'+o+'": already exists')};t.meta&&!1===t.meta.lazy?(a[o]=c(),u&&s?l(o):(v(t)||g(t))&&X(n.expression.mathWithTransform,o,(function(){return a[o]}))):(X(a,o,c),u&&s?l(o):(v(t)||g(t))&&X(n.expression.mathWithTransform,o,(function(){return a[o]}))),r[o]=t,n.emit("import",o,c)}function d(e){return"function"==typeof e&&"object"===He(e.signatures)}function p(e){return!Y(m,e)}function g(e){return!(-1!==e.fn.indexOf(".")||Y(m,e.fn)||e.meta&&e.meta.isClass)}function v(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var m={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new Ue("import",n,1,2);t||(t={});var r,o={};for(var l in function e(n,r,i){if(Array.isArray(r))r.forEach((function(t){return e(n,t)}));else if("object"===He(r))for(var o in r)Y(r,o)&&e(n,r[o],o);else if(Be(r)||void 0!==i){var a=Be(r)?v(r)?r.fn+".transform":r.fn:i;if(Y(n,a)&&n[a]!==r&&!t.silent)throw new Error('Cannot import "'+a+'" twice');n[a]=r}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}(o,e),o)if(Y(o,l)){var d=o[l];if(Be(d))f(d,t);else if("function"==typeof(r=d)||"number"==typeof r||"string"==typeof r||"boolean"==typeof r||null===r||c(r)||s(r)||a(r)||u(r)||h(r)||Array.isArray(r))i(l,d,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.typed.apply(i.typed,t)}),0,i,Q);return i.import=z,i.on("config",(function(){K(Q).forEach((function(e){e&&e.meta&&e.meta.recreateOnConfigChange&&z(e,{override:!0})}))})),i.create=e.bind(null,t),i.factory=je,i.import(K(q(t))),i.ArgumentsError=Ue,i.DimensionError=Se,i.IndexError=Oe,i}(r),Hs=Us.evaluate;Us.import({import(){throw new Error("Function import is disabled")},createUnit(){throw new Error("Function createUnit is disabled")},evaluate(){throw new Error("Function evaluate is disabled")},parse(){throw new Error("Function parse is disabled")},simplify(){throw new Error("Function simplify is disabled")},derivative(){throw new Error("Function derivative is disabled")}},{override:!0});const Gs=Number.MAX_SAFE_INTEGER||9007199254740991;class Qs{constructor({min:e=0,max:t=Gs,domain:n,notInDomain:r=[],rng:i}){this._min=e,this._max=t,this._domain=n,this._rng=i,this._notInDomain=r}getValueFromDomain(e=0,t=30){let n;if(this._domain&&Array.isArray(this._domain)){const e=this._randomFromInterval(0,this._domain.length,!1);n=this._domain[e]}else window.isNaN(this._min)||window.isNaN(this._max)||(n=this._randomFromInterval(this._min,this._max,e))>=this._min&&n<this._max||(n=NaN);if(-1===this._notInDomain.indexOf(n))return n;if(t>0)return this.getValueFromDomain(e,--t);throw new Error("could not generate a value satisfying the domain with num retries: 30")}addToDomainSet(e){this._domain.push(e)}removeFromDomainSet(e){if(this._notInDomain.push(e),this._domain&&Array.isArray(this._domain)){const t=this._domain.indexOf(e);-1!==t&&this._domain.splice(t,1)}}checkIfInDomain(e){return(this._domain&&Array.isArray(this._domain)&&-1!==this._domain.indexOf(e)||e>=this._min&&e<this._max)&&-1===this._notInDomain.indexOf(e)}_randomFromInterval(e,t,n){return n?this._precisionRound(this._rng.nextFloat()*(t-e)+e,n):(e=Math.ceil(e),t=Math.floor(t),Math.floor(this._rng.nextFloat()*(t-e))+e)}_precisionRound(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}set domain(e){this._domain=e}set notInDomain(e){this._notInDomain=e}set min(e){this._min=e}set max(e){this._max=e}get min(){return this._min}get max(){return this._max}}class zs{constructor({id:e,conditionString:t="",conditions:n=[],variables:r,rng:i}){this._id=e,this._conditionString=t,this._conditions=n,this._evalChains=[],this._variableMap=r,this._evaluationExpression="",this._rng=i,this._dependencies=[],this._dependents=[],this.init()}init(){this.variableType="GENERIC",this._domain=new Qs({rng:this._rng})}resetValue(){this._value=null,this._domain=new Qs({rng:this._rng})}get domain(){return this._domain}set domainSet(e){this._domain.domain=e}set evaluationExpression(e){this._evaluationExpression=e}get evaluationExpression(){return this._evaluationExpression}get value(){return this._value||(this._value=this._domain.getValueFromDomain()),this._value}get id(){return this._id}set id(e){this._id=e}get conditions(){return this._conditions}set conditionString(e){this._conditionString=e}get conditionString(){return this._conditionString}get evalChains(){return this._evalChains}}class Vs extends zs{init(){super.init(),this.variableType="NUMERIC",this._digits=[],this._floatDigits=0,this._divideBy=null,this._divideByRemainder=null,this._digits=[]}setType(e,t=0){this._floatDigits="Integer"===e?0:t}setDivideByAndRemainder(e,t=0){this._divideBy=e,this._divideByRemainder=t}_generateNumber(e=10){let t;this._evaluationExpression&&this._evaluationExpression.length>0?t=this._evaluateExpression():0!==this._digits.length||this._evaluationExpression?this._digits.length>0&&(t=this._generateValueFromDigits()):t=Number(this._domain.getValueFromDomain(this._floatDigits));let n=!0,r=!0;if(this._divideBy){const e=t%this._divideBy;r=window.isNaN(this._divideByRemainder)&&-1!==this._divideByRemainder.indexOf("!")&&e!==Number(this._divideByRemainder.replace("!","")),n=this._divideByRemainder===e}const i=t.toString().split("."),o=i.length>1?i[1].length:0,a=this.domain.checkIfInDomain(t)&&o<=this._floatDigits;return(!r&&!n||!a)&&e>0?this._generateNumber(--e):((!r&&!n||!a)&&e<=0&&(t=NaN),t)}_generateValueFromDigits(){const e=[];return this._digits.forEach(t=>{if("."!==t){const n=this._variableMap[t].value;e.push(n)}else e.push(t)}),Number(e.join(""))}_evaluateExpression(){let e=this._evaluationExpression;const t=Object.keys(this._variableMap).sort();return t.sort((e,t)=>t.length-e.length||e.localeCompare(t)),t.forEach(t=>{if(-1!==e.indexOf(t)){const n=new RegExp(t,"g");e=e.replace(n,this._variableMap[t].value.toString())}}),Hs(e)}set digits(e){this._digits=e}get digits(){return this._digits}set id(e){this._id=e}get value(){return null!==this._value&&void 0!==this._value||(this._value=this._generateNumber()),this._value}get id(){return this._id}}const Ws="(",qs=")",Xs="&&",Ys="||",Ks="=";class $s{constructor(e=[]){this._value=Array.isArray(e)?e:[e],this._children=[]}set value(e){this._value=e}get value(){return this._value}get children(){return this._children}}const Js=new class{createAllBranches(e){const t=e,n=new $s;this._buildTree(t.slice(0),n);const r=[],i=[r];return this._makeBranches(n,r,i),i}_buildTree(e,t,n=[]){if(0===e.length)return t.value=t.value.concat(n),t;const r=e.shift();if(r===Ws){const n=new $s;t.children.push(n);const r=this._findMatchingClosingParen(0,e);if(this._buildTree(e.slice(0,r),n),e[r+1]===Ys){const n=new $s;t.children.push(n),this._buildTree(e.slice(r+2),n,[])}else{const t=[],i=n.children.length>0?[]:[n];for(t.push(...n.children),i.push(...n.children);t.length>0;){const e=t.shift();e.children.length>0&&(t.push(...e.children),i.push(...e.children),this._removeFromArray(i,e))}i.forEach(t=>{this._buildTree(e.slice(r+1),t)})}}else if(r===Ys){const r=new $s(n);t.children.push(r);const i=new $s;t.children.push(i),this._buildTree(e,i,[])}else if(r===Xs){t.value=t.value.concat(n);const r=new $s(Xs);t.children.push(r),this._buildTree(e,r,[])}else if(r===Ks){n.push(r);let i=e.indexOf(Xs);i=-1===i?e.length:i;let o=e.indexOf(Ys);o=-1===o?e.length:o;let a=this._findMatchingClosingParen(0,e);a=-1===a?e.length:a;const s=Math.min(i,o,a);n.push(...e.slice(0,s)),this._buildTree(e.slice(s),t,n)}else n.push(r),this._buildTree(e,t,n)}_findMatchingClosingParen(e,t){let n=1,r=0;for(let i=e;i<t.length;i++){const e=t[i];if(e===Ws)n+=1;else if(e===qs&&(r+=1)===n)return i}return-1}_makeBranches(e,t,n){t.push(...e.value),e.children.length>0&&(this._removeFromArray(n,t),e.children.forEach(e=>{const r=t.slice(0);n.push(r),this._makeBranches(e,r,n)}))}_removeFromArray(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}};class Zs{constructor(e){this._rng=e}decodeString(e,t={}){const n=e.split("\n"),r=Object.keys(t).sort();return n.forEach(e=>{const n=e.split("->");if(n.length>1){const e=n[0].trim();if(t[e])(t[e].value||0===t[e].value)&&t[e].resetValue(),t[e].conditionString=`${t[e].conditionString} && (${n[1]})`;else{r.push(e);const i=n[1].match(/in\s*{.*?}/g);i&&/".*?"/g.test(i[0])?t[e]=new zs({id:e,conditionString:`(${n[1]})`,variables:t,rng:this._rng}):t[e]=new Vs({id:e,conditionString:`(${n[1]})`,variables:t,rng:this._rng})}}}),r.forEach(e=>{const n=t[e],r=this._tokenize(n.conditionString),i=Js.createAllBranches(r);n.conditions.push(...i),this._parseVariableConditions(n,i,t)}),t}_parseVariableConditions(e,t,n,r){if(0===t.length)return;const i=t.pop();let o;r||(r=[],e.evalChains.push(r)),i.forEach((t,n)=>{if(!(o&&n<o))switch(o=null,!0){case/isType\(.*?\)/.test(t):{const n=t.match(/\(([^)]+)\)/)[1];r.push(t=>this._isType(t,e,n));break}case/hasDigits\(.*?\)/.test(t):{const n=t.match(/\(([^)]+)\)/)[1];r.push(t=>this._hasDigits(t,e,n));break}case/=$/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._setExpression(n,e,t.rest));break}case/<$/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isLessThan(n,e,t.rest));break}case/>/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isGreaterThan(n,e,t.rest));break}case/lessOrEqual/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isLessThanOrEqualTo(n,e,t.rest));break}case/greaterOrEqual/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isGreaterThanOrEqualTo(n,e,t.rest));break}case/equals/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isEqualTo(n,e,t.rest));break}case/notEquals/.test(t):{const t=this._getRest(n+1,i);o=t.endIndex,r.push(n=>this._isNotEqualTo(n,e,t.rest));break}case/in{.*?}/.test(t):{let n=t.replace(/in{|}/g,"").replace(/"/g,"").split(",");"NUMERIC"===e.variableType&&(n=n.map(e=>Number(e))),r.push(t=>this._isIn(t,e,n));break}case/%/g.test(t):{const t=this._getRest(n+1,i);o=t.endIndex;const a=i[n+1],s=i[n+2],u=i[n+3];"equals"===s?r.push(t=>this._isDivisibleByIncludeRemainder(t,e,a,u)):r.push(t=>this._isDivisibleByExcludeRemainder(t,e,a,u));break}}}),this._parseVariableConditions(e,t,n)}_isType(e,t,n){const r=n.split(",");r.length>1?t.setType(r[0].trim(),Number(r[1].trim())):t.setType(r[0].trim())}_isIn(e,t,n){t.domainSet=n}_isLessThan(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.max=r}_isEqualTo(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.max=r+1,t.domain.min=r}_isNotEqualTo(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.removeFromDomainSet(r)}_isGreaterThan(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.min=r+1}_isLessThanOrEqualTo(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.max=r+1}_isGreaterThanOrEqualTo(e,t,n){let r=this._evaluateExpression(e,n);window.isNaN(r)&&e[n]&&(r=e[n].value),t.domain.min=r}_isDivisibleByIncludeRemainder(e,t,n,r){let i=this._evaluateExpression(e,n);window.isNaN(i)&&e[n]&&(i=e[n].value);let o=Number(r);window.isNaN(o)&&e[r]&&(o=e[r].value),t.setDivideByAndRemainder(i,o)}_isDivisibleByExcludeRemainder(e,t,n,r){let i=this._evaluateExpression(e,n);window.isNaN(i)&&e[n]&&(i=e[n].value);let o=Number(r);window.isNaN(o)&&e[r]&&(o=e[r].value),o="!"+o,t.setDivideByAndRemainder(i,o)}_hasDigits(e,t,n){const r=n.split(",");t.digits=r,r.forEach((n,i)=>{const o=n.trim();/^[A-z][A-z0-9]*/.test(o)?(e[o]||(e[o]=new Vs({id:o,variables:e,rng:this._rng})),this._isGreaterThanOrEqualTo(e,e[o],"0"),this._isLessThan(e,e[o],"10")):"."===o&&t.setType("Decimal",r.length-i-1)})}_setExpression(e,t,n){t.evaluationExpression=n}_tokenize(e){const t={">=":" greaterOrEqual ","<=":" lessOrEqual ","==":" equals ","!=":" notEquals "};return(e=(e=e.replace(/>=|<=|==|!=/g,e=>t[e])).replace(/=|>|<|in\s*{.*?}|&&|\|\||%|isType\(.*?\)|hasDigits\(.*?\)|[A-z]+?\(.*?\)|\(|\)/g,e=>/in\s*{.*}/g.test(e)||/isType\(.*\)/.test(e)||/hasDigits\(.*\)/.test(e)||/[A-z]+?\(.*?\)/.test(e)?` ${e.replace(/\s/g,"")} `:` ${e} `)).trim().split(/\s+/)}_getRest(e,t){const n=[];let r=e;for(let i=e;i<t.length;i++){const e=t[i].trim();if(r=i,"&&"===e||"||"===e)break;n.push(e)}return{rest:n.join(""),endIndex:r}}_evaluateExpression(e,t){const n=[];return t.split("").forEach(t=>{const r=t.trim();e[r]?n.push(e[r].value):n.push(r)}),Hs(n.join(""))}}var eu=n(6),tu=n.n(eu),nu=n(5),ru=n.n(nu);class iu{constructor(e=function(e,t){return Math.round(Math.random()*(t-e)+e)}(0,1e6)){if(!Number.isInteger(e))throw new Error("seed must be an integer");this._generator=new ru.a(e)}static randomSeedGenerator(){return tu.a.random(0,1e6,!1)}next(){return this._generator.integer()}nextFloat(){return this._generator.float()}}class ou{constructor({seed:e}){this._seed=e||iu.randomSeedGenerator(),this._rng=new iu(this._seed),this._decoder=new Zs(this._rng),this._variables={}}processString(e,t=200,n=!0){n&&(this._variables={}),this._variables=this._decoder.decodeString(e,this._variables);const r=Object.keys(this._variables).sort();r.forEach(e=>{const t=this._variables[e],n=Math.floor(this._rng.nextFloat()*t.evalChains.length);t.evalChains[n].forEach(e=>e(this._variables))});for(let n=0;n<r.length;n++){const i=this._variables[r[n]],o="NUMERIC"===i.variableType&&window.isNaN(i.value),a="GENERIC"===i.variableType&&!i.value;if((o||a)&&t>0)return this._variables={},this.processString(e,--t);if((o||a)&&t<=0)throw new Error(`Could not generate valid value for variable ${r[n]}, please check for over restrictive conditions`)}return this._variables}set seed(e){this._seed=e,this._rng=new iu(this._seed)}get seed(){return this._seed}get variables(){return this._variables}}n.d(t,"Generator",(function(){return ou})),n.d(t,"PRNG",(function(){return iu}))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},e.exports=r()},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=n(15)},function(e,t){e.exports=n(323)},function(e,t){e.exports=n(3)},function(e,t){e.exports=n(106)},function(e,t){e.exports=n(27)},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(3),a=n.n(o),s=n(0),u=n.n(s),c=n(4),l=n.n(c),f={NONE:"none",ALERT:"alert",ALERTDIALOG:"alertdialog",BUTTON:"button",CHECKBOX:"checkbox",DIALOG:"dialog",GRIDCELL:"gridcell",LINK:"link",LOG:"log",MARQUEE:"marquee",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",MULTILINETEXTBOX:"multilinetextbox",SINGLESELECTOPTION:"singleselectoption",MULTISELECTOPTION:"multiselectoption",PROGRESSBAR:"progressbar",RADIO:"radio",SCROLLBAR:"scrollbar",SEARCHBOX:"searchbox",SINGLELINETEXTBOX:"singlelinetextbox",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",SWITCH:"switch",TAB:"tab",TABPANEL:"tabpanel",TIMER:"timer",TOOLTIP:"tooltip",TREEITEM:"treeitem",COMBOBOX:"combobox",GRID:"grid",MULTISELECTLISTBOX:"multiselectlistbox",SINGLESELECTLISTBOX:"singleselectlistbox",MENU:"menu",MENUBAR:"menubar",RADIOGROUP:"radiogroup",TABLIST:"tablist",TREE:"tree",TREEGRID:"treegrid",ARTICLE:"article",COLUMNHEADER:"columnheader",CELL:"cell",DEFINITION:"definition",DIRECTORY:"directory",DOCUMENT:"document",FEED:"feed",GROUP:"group",HEADING1:"heading1",HEADING2:"heading2",HEADING3:"heading3",HEADING4:"heading4",HEADING5:"heading5",HEADING6:"heading6",IMG:"img",UNORDEREDLIST:"unorderedlist",ORDEREDLIST:"orderedlist",LISTITEM:"listitem",MATH:"math",NOTE:"note",PRESENTATION:"presentation",PARAGRAPH:"paragraph",REGION:"region",ROW:"row",ROWHEADER:"rowheader",SEPARATOR:"separator",TABLE:"table",TABLEBODY:"tableBody",TABLEFOOT:"tableFoot",TABLEHEAD:"tableHead",TERM:"term",TOOLBAR:"toolbar",FIGURE:"figure",FIGCAPTION:"figcaption",APPLICATION:"application",BANNER:"banner",COMPEMENTARY:"complementary",CONTENTINFO:"contentinfo",FORM:"form",MAIN:"main",NAVIGATION:"navigation",SEARCH:"search",SPAN:"span",FORMAT_TEXT_BOLD:"bold",FORMAT_TEXT_CODE:"code",FORMAT_TEXT_DELETE:"delete",FORMAT_TEXT_EMPHASIZE:"emphasize",FORMAT_TEXT_ITALIC:"italic",FORMAT_TEXT_INSERT:"insert",FORMAT_TEXT_KBD:"keybordtext",FORMAT_TEXT_PREFORMAT:"preformated",FORMAT_TEXT_STRIKETHROUGH:"strikethrough",FORMAT_TEXT_SAMPLE:"sample",FORMAT_TEXT_SMALL:"small",FORMAT_TEXT_STRONG:"strong",FORMAT_TEXT_SUBSCRIPT:"subscript",FORMAT_TEXT_SUPERSCRIPT:"superscript",FORMAT_TEXT_TIME:"time",FORMAT_TEXT_UNDERLINE:"underline",FORMAT_TEXT_VARIABLE:"variable"};Object.freeze(f);var h={article:"article",button:"button",link:"a",form:"form",singleselectoption:"li",multiselectoption:"option",img:"img",heading1:"h1",heading2:"h2",heading3:"h3",heading4:"h4",heading5:"h5",heading6:"h6",menubar:"ul",menu:"ul",menuitem:"li",multiselectlistbox:"select",singleselectlistbox:"ul",singlelinetextbox:"input",multilinetextbox:"textarea",unorderedlist:"ul",orderedlist:"ol",listitem:"li",menuitemcheckbox:"li",menuitemradio:"li",checkbox:"input",radio:"input",searchbox:"input",slider:"input",spinbutton:"input",switch:"button",table:"table",tableBody:"tbody",tableFoot:"tfoot",tableHead:"thead",row:"tr",columnheader:"th",rowheader:"th",cell:"td",progressbar:"progress",grid:"table",gridcell:"td",figure:"figure",figcaption:"figcaption",tree:"ul",treegrid:"table",treeitem:"li",separator:"hr",definition:"dd",term:"dt",navigation:"nav",bold:"b",code:"code",delete:"del",emphasize:"em",italic:"i",insert:"ins",keybordtext:"kbd",paragraph:"p",preformated:"pre",strikethrough:"s",sample:"samp",small:"small",strong:"strong",subscript:"sub",superscript:"sup",time:"time",underline:"u",variable:"var",span:"span",contentinfo:"footer",complementary:"aside",timer:"time",main:"main"};function d(e){var t=h[e]||"div";return"a"===t||"select"===t||"input"===t||"textarea"===t||"button"===t}Object.freeze(h);var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.a.bindAll(n,"update"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),p(t,null,[{key:"propTypes",get:function(){return{stage:l.a.object.isRequired}}}]),p(t,[{key:"update",value:function(){this.forceUpdate()}},{key:"_processDisplayObject",value:function(e,t){var n=this;if(e.accessible){var r=e.accessible,o=r.role,a=function(e){var t=u.a.get(e,"accessible.role",f.NONE),n=h[t]||"div";return t===f.MENUITEM&&e.accessible.parent.role===f.MENUITEM&&(n="span"),n}(e),s=r.children||[],c=r.text;(o===f.MENUBAR||o===f.MENU||(o===f.MENUITEM||o===f.MENUITEMCHECKBOX||o===f.MENUITEMRADIO)&&s.length>0)&&(c=null);var l={x:t.x,y:t.y},d={x:0,y:0,width:1,height:1};try{var p=e.getBounds();l=e.localToGlobal(p.x,p.y);var g=e.localToGlobal(p.x+p.width,p.y+p.height);d.x=(l.x-t.x)*(1/e.stage.scaleX),d.y=(l.y-t.y)*(1/e.stage.scaleY),d.width=(g.x-l.x)*(1/e.stage.scaleX),d.height=(g.y-l.y)*(1/e.stage.scaleY),d.width<0&&(d.width=-d.width,d.x-=d.width),d.height<0&&(d.height=-d.height,d.y-=d.height)}catch(e){}var v=[];c&&v.push(c),s.length>0&&s.forEach((function(e){v.push(n._processDisplayObject(e,l))}));var m=u.a.merge({style:{position:"absolute",left:d.x+"px",top:d.y+"px",width:d.width+"px",height:d.height+"px",margin:0,padding:0}},e.accessible._reactProps);return"div"===a&&o!==f.NONE||o===f.MENUBAR||o===f.MENUITEMCHECKBOX||o===f.MENUITEMRADIO||o===f.MENU||o===f.MENUITEM||o===f.SWITCH||o===f.SPINBUTTON||o===f.GRID||o===f.GRIDCELL||o===f.TREE||o===f.TREEGRID||o===f.TREEITEM||o===f.DEFINITION||o===f.TERM?m.role=o:o===f.SINGLESELECTLISTBOX?m.role="listbox":o===f.SINGLESELECTOPTION&&(m.role="option"),e.accessible.disabledWithInference&&(m.disabled="disabled",m["aria-disabled"]=!0),e.accessible.visibleWithInference||(m.style.display="none"),e.visible||void 0!==m["aria-hidden"]||(m["aria-hidden"]=!0),i.a.createElement.apply(i.a,[a,m].concat(v))}}},{key:"render",value:function(){var e=this,t=null;if(this._root){var n=this._processDisplayObject(this._root,{x:0,y:0});t=i.a.createElement("div",{ref:function(t){e.rootElem=t}},n)}return t}},{key:"root",set:function(e){if(!e.accessible)throw new Error("The root of the accessibility tree must have accessibility information when being added to the tree");this._root=e},get:function(){return this._root}}]),t}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u.a.bindAll(this,"_onKeyDown","_onKeyUp"),this._displayObject=t,this._children=[],this._role=n,this._domId=r+t.id,this._areKeyEventsEnabled=!1,this._reactProps={key:this._displayObject.id,id:this.domId,onFocus:function(e){i._displayObject.dispatchEvent("focus",!1,!0)&&(e.stopPropagation(),e.preventDefault())},onBlur:function(e){i._displayObject.dispatchEvent("blur",!1,!0)&&(e.stopPropagation(),e.preventDefault())}},this.text=void 0}return v(e,[{key:"addChild",value:function(e){if(!e.accessible)throw new Error("DisplayObjects added to the accessibility tree must have accessibility information when being added to the tree");e.accessible._parent&&e.accessible._parent.removeChild(e),this._children.push(e),e.accessible._parent=this}},{key:"addChildAt",value:function(e,t){if(!e.accessible)throw new Error("DisplayObjects added to the accessibility tree must have accessibility information when being added to the tree");e.accessible._parent&&e.accessible._parent.removeChild(e),this._children.splice(t,0,e),e.accessible._parent=this}},{key:"removeAllChildren",value:function(){this._children.forEach((function(e){e.accessible._parent=null})),this._children=[]}},{key:"removeChild",value:function(e){var t=u.a.findIndex(this._children,(function(t){return t===e}));this.removeChildAt(t)}},{key:"removeChildAt",value:function(e){e>=0&&e<this._children.length&&(this._children[e].accessible._parent=null,this._children.splice(e,1))}},{key:"requestFocus",value:function(){var e=document.getElementById(this._domId);e&&(this.visibleWithInference&&"none"===getComputedStyle(e).display&&this._forceShow(),this.enabled&&null!==e.getAttribute("disabled")&&e.removeAttribute("disabled"),u.a.isUndefined(this.tabIndex)||null!==e.getAttribute("tabindex")||e.setAttribute("tabindex",this.tabIndex),e.focus())}},{key:"_forceShow",value:function(){document.getElementById(this._domId).style.display=""}},{key:"_domIdToChildIndex",value:function(e){return u.a.findIndex(this._children,(function(t){return e===t.accessible._domId}))}},{key:"_onKeyDown",value:function(e){var t=new createjs.Event("keydown",!1,e.cancelable);t.keyCode=e.keyCode,this._displayObject.dispatchEvent(t),t.propagationStopped&&e.stopPropagation(),t.defaultPrevented&&e.preventDefault()}},{key:"_onKeyUp",value:function(e){var t=new createjs.Event("keyup",!1,e.cancelable);t.keyCode=e.keyCode,this._displayObject.dispatchEvent(t),t.propagationStopped&&e.stopPropagation(),t.defaultPrevented&&e.preventDefault()}},{key:"enableKeyEvents",set:function(e){this._areKeyEventsEnabled&&!e?(this._reactProps.onKeyDown=void 0,this._reactProps.onKeyUp=void 0):!this._areKeyEventsEnabled&&e&&(this._reactProps.onKeyDown=this._onKeyDown,this._reactProps.onKeyUp=this._onKeyUp),this._areKeyEventsEnabled=e},get:function(){return this._areKeyEventsEnabled}},{key:"accessKey",set:function(e){this._reactProps.accessKey=e},get:function(){return this._reactProps.accessKey}},{key:"spellcheck",set:function(e){this._reactProps.spellCheck=e},get:function(){return this._reactProps.spellCheck}},{key:"title",set:function(e){this._reactProps.title=e},get:function(){return this._reactProps.title}},{key:"lang",get:function(){return this._reactProps.lang},set:function(e){this._reactProps.lang=e}},{key:"dir",set:function(e){this._reactProps.dir=e},get:function(){return this._reactProps.dir}},{key:"atomic",set:function(e){this._reactProps["aria-atomic"]=e},get:function(){return this._reactProps["aria-atomic"]}},{key:"busy",set:function(e){this._reactProps["aria-busy"]=e},get:function(){return this._reactProps["aria-busy"]}},{key:"children",get:function(){return this._children}},{key:"controls",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject being controlled by another must have accessibility information");this._controls=e,this._reactProps["aria-controls"]=e?e.accessible.domId:void 0},get:function(){return this._controls}},{key:"controlsId",get:function(){return this._reactProps["aria-controls"]}},{key:"describedBy",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject describing another must have accessibility information");this._describedBy=e,this._reactProps["aria-describedby"]=e?e.accessible.domId:void 0},get:function(){return this._describedBy}},{key:"describedById",get:function(){return this._reactProps["aria-describedby"]}},{key:"displayObject",get:function(){return this._displayObject}},{key:"domId",get:function(){return this._domId}},{key:"dropEffects",set:function(e){this._reactProps["aria-dropeffect"]=e},get:function(){return this._reactProps["aria-dropeffect"]}},{key:"enabled",set:function(e){this._reactProps["aria-disabled"]=void 0===e?void 0:!e},get:function(){return void 0===this._reactProps["aria-disabled"]?void 0:!this._reactProps["aria-disabled"]}},{key:"disabledWithInference",get:function(){return void 0!==this._reactProps["aria-disabled"]?this._reactProps["aria-disabled"]:!this._displayObject.mouseEnabled&&(this._displayObject.hasEventListener("click")||this._displayObject.hasEventListener("mousedown")||this._displayObject.hasEventListener("pressup"))}},{key:"flowTo",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject to flow to must have accessibility information");this._flowTo=e,this._reactProps["aria-flowto"]=e?e.accessible.domId:void 0},get:function(){return this._flowTo}},{key:"flowToId",get:function(){return this._reactProps["aria-flowto"]}},{key:"grabbed",set:function(e){this._reactProps["aria-grabbed"]=e},get:function(){return this._reactProps["aria-grabbed"]}},{key:"hasPopUp",set:function(e){this._reactProps["aria-haspopup"]=e},get:function(){return this._reactProps["aria-haspopup"]}},{key:"hidden",set:function(e){this._reactProps["aria-hidden"]=e},get:function(){return this._reactProps["aria-hidden"]}},{key:"hiddenWithInference",get:function(){return this._reactProps["aria-hidden"]||!this._displayObject.visible&&void 0===this._reactProps["aria-hidden"]}},{key:"invalid",set:function(e){this._reactProps["aria-invalid"]=e},get:function(){return this._reactProps["aria-invalid"]}},{key:"label",set:function(e){this._reactProps["aria-label"]=e},get:function(){return this._reactProps["aria-label"]}},{key:"labelledBy",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObjects used to label another DisplayObject must have accessibility information when being provided as a label");if(e===this._displayObject)throw new Error("An object cannot be used as its own labelledBy");this._labelledBy=e,this._reactProps["aria-labelledby"]=e?e.accessible.domId:void 0},get:function(){return this._labelledBy}},{key:"labelledById",get:function(){return this._reactProps["aria-labelledby"]}},{key:"live",set:function(e){this._reactProps["aria-live"]=e},get:function(){return this._reactProps["aria-live"]}},{key:"owns",set:function(e){if(e){var t="";e.forEach((function(e){if(!e.accessible)throw new Error("DisplayObjects owned by another DisplayObject must have accessibility information");t=t+" "+e.accessible.domId})),this._reactProps["aria-owns"]=t,this._owns=e}else this._reactProps["aria-owns"]=void 0,this._owns=void 0},get:function(){return this._owns}},{key:"ownsIds",get:function(){return this._reactProps["aria-owns"]}},{key:"parent",get:function(){return this._parent}},{key:"relevant",set:function(e){this._reactProps["aria-relevant"]=e},get:function(){return this._reactProps["aria-relevant"]}},{key:"role",get:function(){return this._role}},{key:"tabIndex",set:function(e){this._reactProps.tabIndex=e},get:function(){return this._reactProps.tabIndex}},{key:"visible",set:function(e){this._visible=e},get:function(){return this._visible}},{key:"visibleWithInference",get:function(){return void 0===this.visible?this._displayObject.visible:!0===this.visible}}]),e}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),y(t,[{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}}]),t}(),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,_),b(t,[{key:"size",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}},{key:"position",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}}]),t}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},x=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onClick"),i._reactProps.onClick=i._onClick,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),w(t,[{key:"addChild",value:function(e){if(!e.accessible||d(e.accessible.role)||!u.a.isUndefined(e.accessible.tabIndex))throw new Error("Children of "+this.role+" cannot be interactive");E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||d(e.accessible.role)||!u.a.isUndefined(e.accessible.tabIndex))throw new Error("Children of "+this.role+" cannot be interactive");E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_onClick",value:function(e){var t=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(t),t.propagationStopped&&e.stopPropagation(),t.defaultPrevented&&e.preventDefault()}},{key:"pressed",set:function(e){this._reactProps["aria-pressed"]=e},get:function(){return this._reactProps["aria-pressed"]}},{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}},{key:"autoFocus",set:function(e){this._reactProps.autoFocus=e?"autofocus":void 0},get:function(){return"autofocus"===this._reactProps.autoFocus}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"form",set:function(e){this._reactProps.form=e},get:function(){return this._reactProps.form}},{key:"formaction",set:function(e){this._reactProps.formaction=e},get:function(){return this._reactProps.formaction}},{key:"formenctype",set:function(e){this._reactProps.enctype=e},get:function(){return this._reactProps.enctype}},{key:"formmethod",set:function(e){this._reactProps.formmethod=e},get:function(){return this._reactProps.formmethod}},{key:"formnovalidate",set:function(e){this._reactProps.formnovalidate=!e},get:function(){return!this._reactProps.formnovalidate}},{key:"formtarget",set:function(e){this._reactProps.formtarget=e},get:function(){return this._reactProps.formtarget}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}},{key:"type",set:function(e){this._reactProps.type=e},get:function(){return this._reactProps.type}},{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}}]),t}(),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),T(t,[{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}}]),t}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),O(t,[{key:"colIndex",set:function(e){this._reactProps["aria-colindex"]=e},get:function(){return this._reactProps["aria-colindex"]}},{key:"colSpan",set:function(e){this._reactProps.colSpan=e},get:function(){return this._reactProps.colSpan}},{key:"rowIndex",set:function(e){this._reactProps["aria-rowindex"]=e},get:function(){return this._reactProps["aria-rowindex"]}},{key:"rowSpan",set:function(e){this._reactProps.rowSpan=e},get:function(){return this._reactProps.rowSpan}}]),t}(),k=n(1),P=n.n(k),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),N(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"autoFocus",set:function(e){this._reactProps.autoFocus=e?"autofocus":void 0},get:function(){return"autofocus"===this._reactProps.autoFocus}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}}]),t}(),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},D=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown","_onChange"),i._reactProps.onChange=i._onChange,i._reactProps.onKeyDown=i._onKeyDown,i._reactProps.type="checkbox",i._reactProps.checked=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),R(t,[{key:"_onKeyDown",value:function(e){this.enableKeyEvents&&(L(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||e.keyCode===P.a.enter&&this._displayObject.dispatchEvent("keyboardClick")}},{key:"_onChange",value:function(){this._displayObject.dispatchEvent("keyboardClick")}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return L(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"checked",set:function(e){this._reactProps.checked=e},get:function(){return this._reactProps.checked}}]),t}(),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),M(t,[{key:"active",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject being set as the active descendant must have accessibility information");this._active=e,this._reactProps["aria-activedescendant"]=e?e.accessible.domId:void 0},get:function(){return this._active}},{key:"activeId",get:function(){return this._reactProps["aria-activedescendant"]}}]),t}(),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,j),B(t,[{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}}]),t}(),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),U(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.SINGLELINETEXTBOX&&e.accessible.role!==f.SEARCH&&e.accessible.role!==f.BUTTON&&e.accessible.role!==f.SINGLESELECTLISTBOX&&e.accessible.role!==f.TREE&&e.accessible.role!==f.GRID&&e.accessible.role!==f.DIALOG)throw new Error("Children of "+this.role+" must have a role of "+f.SINGLELINETEXTBOX+", "+f.SEARCH+", "+f.BUTTON+", "+f.SINGLESELECTLISTBOX+", "+f.TREE+", "+f.GRID+", or "+f.DIALOG);H(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.SINGLELINETEXTBOX&&e.accessible.role!==f.SEARCH&&e.accessible.role!==f.BUTTON&&e.accessible.role!==f.SINGLESELECTLISTBOX&&e.accessible.role!==f.TREE&&e.accessible.role!==f.GRID&&e.accessible.role!==f.DIALOG)throw new Error("Children of "+this.role+" must have a role of "+f.SINGLELINETEXTBOX+", "+f.SEARCH+", "+f.BUTTON+", "+f.SINGLESELECTLISTBOX+", "+f.TREE+", "+f.GRID+", or "+f.DIALOG);H(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"autoComplete",set:function(e){this._reactProps.autoComplete=e?"on":"off"},get:function(){return"on"===this._reactProps.autoComplete}},{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}},{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}}]),t}(),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),Q(t,[{key:"active",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject being set as the active descendant must have accessibility information");this._active=e,this._reactProps["aria-activedescendant"]=e?e.accessible.domId:void 0},get:function(){return this._active}},{key:"activeId",get:function(){return this._reactProps["aria-activedescendant"]}}]),t}(),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),V(t,[{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}}]),t}(),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),q(t,[{key:"charSet",set:function(e){this._reactProps["accept-charset"]=e},get:function(){return this._reactProps["accept-charset"]}},{key:"action",set:function(e){this._reactProps.action=e},get:function(){return this._reactProps.action}},{key:"autoComplete",set:function(e){this._reactProps.autoComplete=e?"on":"off"},get:function(){return"on"===this._reactProps.autoComplete}},{key:"enctype",set:function(e){this._reactProps.enctype=e},get:function(){return this._reactProps.enctype}},{key:"method",set:function(e){this._reactProps.method=e},get:function(){return this._reactProps.method}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}},{key:"validate",set:function(e){this._reactProps.novalidate=!e},get:function(){return!this._reactProps.novalidate}},{key:"target",set:function(e){this._reactProps.target=e},get:function(){return this._reactProps.target}}]),t}(),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),Y(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"alt",set:function(e){this._reactProps.alt=e},get:function(){return this._reactProps.alt}},{key:"crossOrigin",set:function(e){this._reactProps.crossOrigin=e},get:function(){return this._reactProps.crossOrigin}},{key:"height",set:function(e){this._reactProps.height=e},get:function(){return this._reactProps.height}},{key:"isMap",set:function(e){this._reactProps.ismap=e},get:function(){return this._reactProps.ismap}},{key:"longDesc",set:function(e){this._reactProps.longdesc=e},get:function(){return this._reactProps.longdesc}},{key:"sizes",set:function(e){this._reactProps.sizes=e},get:function(){return this._reactProps.sizes}},{key:"src",set:function(e){this._reactProps.src=e},get:function(){return this._reactProps.src}},{key:"srcSet",set:function(e){this._reactProps.srcSet=e},get:function(){return this._reactProps.srcSet}},{key:"useMap",set:function(e){this._reactProps.useMap=e},get:function(){return this._reactProps.useMap}},{key:"width",set:function(e){this._reactProps.width=e},get:function(){return this._reactProps.width}}]),t}(),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),J=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),$(t,[{key:"addChild",value:function(e){if(!e.accessible||-1===[f.TABLEBODY,f.TABLEFOOT,f.TABLEHEAD].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.TABLEBODY+", "+f.TABLEFOOT+", or "+f.TABLEHEAD);J(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||-1===[f.TABLEBODY,f.TABLEFOOT,f.TABLEHEAD].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.TABLEBODY+", "+f.TABLEFOOT+", or "+f.TABLEHEAD);J(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"rowCount",set:function(e){this._reactProps["aria-rowcount"]=e},get:function(){return this._reactProps["aria-rowcount"]}},{key:"colCount",set:function(e){this._reactProps["aria-colcount"]=e},get:function(){return this._reactProps["aria-colcount"]}}]),t}(),ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),te=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Z),ee(t,[{key:"_onKeyDown",value:function(e){var n;if(!this.enableKeyEvents||(te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),!e.defaultPrevented)){var r=(ne(n={},P.a.up,"_updateTargetDataUp"),ne(n,P.a.down,"_updateTargetDataDown"),ne(n,P.a.left,"_updateTargetDataLeft"),ne(n,P.a.right,"_updateTargetDataRight"),ne(n,P.a.home,"_updateTargetDataHome"),ne(n,P.a.end,"_updateTargetDataEnd"),n)[e.keyCode];if(r){var i=this._focusableElemToTargetData(e.target);if(this[r](i)){var o=this._findNextTarget(i);this._focusToNextTarget(o,i,e)}}}}},{key:"_updateTargetDataUp",value:function(e){return e.rowIndex--,e.rowIndex<0&&e.sectionIndex>0&&(e.sectionIndex--,e.rowIndex=this.children[e.sectionIndex].accessible.children.length-1),!0}},{key:"_updateTargetDataDown",value:function(e){var t=this.children[e.sectionIndex].accessible.children;return e.rowIndex++,e.rowIndex>=t.length&&e.sectionIndex<this.children.length-1&&(e.sectionIndex++,e.rowIndex=0),!0}},{key:"_updateTargetDataLeft",value:function(e){return e.colIndex--,!0}},{key:"_updateTargetDataRight",value:function(e){return e.colIndex++,!0}},{key:"_updateTargetDataHome",value:function(e){return e.colIndex=0,!0}},{key:"_updateTargetDataEnd",value:function(e){var t=this.children[e.sectionIndex].accessible.children;return e.colIndex=t[e.rowIndex].accessible.children.length-1,!0}},{key:"_findNextTarget",value:function(e){var t=null,n=this.children[e.sectionIndex].accessible.children;if(n[e.rowIndex]){var r=n[e.rowIndex].accessible.children[e.colIndex];r&&(r.accessible.children.length>0?t=r.accessible.children[0]:r.accessible.role===f.GRIDCELL&&(t=r))}return t}},{key:"_focusToNextTarget",value:function(e,t,n){if(e){var r=t.displayObject;e.accessible.tabIndex=r.accessible.tabIndex,r.accessible.tabIndex=-1,e.accessible.requestFocus(),n.preventDefault(),n.stopPropagation()}}},{key:"_focusableElemToTargetData",value:function(e){var t=this,n=null,r=e.getAttribute("id");return u.a.forEach(this.children,(function(e,i){return!(n=t._searchSection(r,e,i))})),n}},{key:"_searchSection",value:function(e,t,n){var r=this,i=null;return u.a.forEach(t.accessible.children,(function(t,o){return!(i=r._searchRow(e,t,n,o))})),i}},{key:"_searchRow",value:function(e,t,n,r){var i=this,o=null;return u.a.forEach(t.accessible.children,(function(t,a){return!(o=i._searchCell(e,t,n,r,a))})),o}},{key:"_searchCell",value:function(e,t,n,r,i){var o=null;return t.accessible.domId===e?o={displayObject:t,sectionIndex:n,rowIndex:r,colIndex:i,cellChildIndex:-1}:u.a.forEach(t.accessible.children,(function(t,a){return t.accessible.domId===e&&(o={displayObject:t,sectionIndex:n,rowIndex:r,colIndex:i,cellChildIndex:a}),!o})),o}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"level",set:function(e){this._reactProps["aria-level"]=e},get:function(){return this._reactProps["aria-level"]}},{key:"multiselectable",set:function(e){this._reactProps["aria-multiselectable"]=e},get:function(){return this._reactProps["aria-multiselectable"]}},{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}}]),t}(),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,C),ie(t,[{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}},{key:"selected",set:function(e){this._reactProps["aria-selected"]=e},get:function(){return this._reactProps["aria-selected"]}}]),t}(),ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),ae(t,[{key:"download",set:function(e){this._reactProps.download=e},get:function(){return this._reactProps.download}},{key:"href",set:function(e){this._reactProps.href=e},get:function(){return this._reactProps.href}},{key:"hrefLang",set:function(e){this._reactProps.hrefLang=e},get:function(){return this._reactProps.hrefLang}},{key:"media",set:function(e){this._reactProps.media=e},get:function(){return this._reactProps.media}},{key:"rel",set:function(e){this._reactProps.rel=e},get:function(){return this._reactProps.rel}},{key:"target",set:function(e){this._reactProps.target=e},get:function(){return this._reactProps.target}},{key:"type",set:function(e){this._reactProps.type=e},get:function(){return this._reactProps.type}}]),t}(),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),ue(t,[{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}}]),t}(),le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),le(t,[{key:"mathML",set:function(e){this._reactProps.dangerouslySetInnerHTML={__html:e}},get:function(){return u.a.get(this._reactProps.dangerouslySetInnerHTML,"__html")}}]),t}(),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},pe=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),he(t,[{key:"addChild",value:function(e){if(!e.accessible||-1===[f.MENUITEM,f.MENUITEMCHECKBOX,f.MENUITEMRADIO].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+" or "+f.MENUITEMCHECKBOX+" or "+f.MENUITEMRADIO);de(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||-1===[f.MENUITEM,f.MENUITEMCHECKBOX,f.MENUITEMRADIO].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+" or "+f.MENUITEMCHECKBOX+" or "+f.MENUITEMRADIO);de(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(de(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||e.keyCode!==P.a.left&&e.keyCode!==P.a.right)){var n=u.a.findIndex(this._children,(function(e){return e.accessible.expanded}));-1!==n&&this._children[n]._label.dispatchEvent("closeMenu"),e.keyCode===P.a.left?n=(this._children.length+n-1)%this._children.length:e.keyCode===P.a.right&&(n=(n+1)%this._children.length);var r=this._children[n];r._label.dispatchEvent("openMenu");var i=r.accessible._subMenu.accessible.children[0];r.accessible._subMenu.accessible._forceShow(),i.accessible.requestFocus(),e.stopPropagation(),e.preventDefault()}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return de(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}}]),t}(),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ve=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},me=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),ge(t,[{key:"addChild",value:function(e){if(!e.accessible||-1===[f.MENUITEM,f.MENUITEMCHECKBOX,f.MENUITEMRADIO,f.SEPARATOR].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+", "+f.MENUITEMCHECKBOX+", "+f.MENUITEMRADIO+" or "+f.SEPARATOR);ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||-1===[f.MENUITEM,f.MENUITEMCHECKBOX,f.MENUITEMRADIO,f.SEPARATOR].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+", "+f.MENUITEMCHECKBOX+", "+f.MENUITEMRADIO+" or "+f.SEPARATOR);ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||e.keyCode!==P.a.up&&e.keyCode!==P.a.down)){var n=e.target.id,r=this._domIdToChildIndex(n),i=void 0;i=e.keyCode===P.a.up?(this._children.length+r-1)%this._children.length:(r+1)%this._children.length,this._children[i].accessible.role===f.SEPARATOR&&(e.keyCode===P.a.up?i--:i++),this._children[i].accessible.requestFocus(),e.stopPropagation(),e.preventDefault()}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}}]),t}(),ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_e=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},be=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown","_menuItemKeyDown","_subMenuOpenerKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i._isPopupOpener=!1,i._reactProps["aria-haspopup"]=!1,i._activeKeyDownListener=i._menuItemKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),ye(t,[{key:"addChild",value:function(e){if(!e.accessible||-1===[f.MENUITEM,f.MENU,f.MENUITEMCHECKBOX,f.MENUITEMRADIO].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+" or "+f.MENU+" or "+f.MENUITEMCHECKBOX+" or "+f.MENUITEMRADIO+" ");this._addingChild(e),_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||-1===[f.MENUITEM,f.MENU,f.MENUITEMCHECKBOX,f.MENUITEMRADIO].indexOf(e.accessible.role))throw new Error("Children of "+this.role+" must have a role of "+f.MENUITEM+" or "+f.MENU+" or "+f.MENUITEMCHECKBOX+" or "+f.MENUITEMRADIO);this._addingChild(e),_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_subMenuOpenerKeyDown",value:function(e){var t=e.keyCode===P.a.enter||e.keyCode===P.a.space||e.keyCode===P.a.down&&!this._subMenu.visible,n=e.keyCode===P.a.down||!this._subMenu.visible&&(e.keyCode===P.a.enter||e.keyCode===P.a.space);if(t){var r=new createjs.Event(this._subMenu.visible?"closeMenu":"openMenu",!1,e.cancelable);this._displayObject.dispatchEvent(r)||e.preventDefault()}if(n){var i=this._subMenu.accessible.children[0];this._subMenu.accessible._forceShow(),i.accessible.requestFocus(),e.stopPropagation()}}},{key:"_menuItemKeyDown",value:function(e){if(e.keyCode===P.a.enter){var t=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(t)||e.preventDefault(),e.stopPropagation()}}},{key:"_addingChild",value:function(e){-1!==[f.MENUITEM,f.MENUITEMCHECKBOX].indexOf(e.accessible.role)?(e.accessible._isPopupOpener=!0,this._label=e,this._activeKeyDownListener=void 0):e.accessible.role===f.MENU&&(this._subMenu=e),this._label&&(this._label.accessible.subMenu=this._subMenu)}},{key:"_onKeyDown",value:function(e){this.enableKeyEvents&&(_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||this._activeKeyDownListener&&this._activeKeyDownListener(e)}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return _e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"subMenu",set:function(e){this._subMenu=e,this._activeKeyDownListener=e?this._subMenuOpenerKeyDown:this._menuItemKeyDown}},{key:"expanded",set:function(e){this._reactProps["aria-expanded"]=e},get:function(){return this._reactProps["aria-expanded"]}},{key:"positionInSet",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}},{key:"setSize",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}}]),t}(),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),we=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._reactProps["aria-checked"]=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,be),Ae(t,[{key:"checked",set:function(e){this._reactProps["aria-checked"]=e},get:function(){return this._reactProps["aria-checked"]}},{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}}]),t}(),Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xe=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._reactProps["aria-checked"]=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,be),Ee(t,[{key:"checked",set:function(e){this._reactProps["aria-checked"]=e},get:function(){return this._reactProps["aria-checked"]}},{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}}]),t}(),Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Se=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onChange","_onSelect"),i._reactProps["aria-multiline"]=!0,i._reactProps.onChange=i._onChange,i._reactProps.onSelect=i._onSelect,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),Te(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"_onChange",value:function(e){var t=new createjs.Event("valueChanged",!1,!1);t.newValue=e.target.value,this._displayObject.dispatchEvent(t)}},{key:"_onSelect",value:function(e){var t=new createjs.Event("selectionChanged",!1,!1);t.selectionStart=e.currentTarget.selectionStart,t.selectionEnd=e.currentTarget.selectionEnd,t.selectionDirection=e.currentTarget.selectionDirection,this._displayObject.dispatchEvent(t)}},{key:"active",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject being set as the active descendant must have accessibility information");this._active=e,this._reactProps["aria-activedescendant"]=e?e.accessible.domId:void 0},get:function(){return this._active}},{key:"activeId",get:function(){return this._reactProps["aria-activedescendant"]}},{key:"autoFocus",set:function(e){this._reactProps.autoFocus=e?"autofocus":void 0},get:function(){return"autofocus"===this._reactProps.autoFocus}},{key:"cols",set:function(e){this._reactProps.cols=e},get:function(){return this._reactProps.cols}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"form",set:function(e){if(e&&(!e.accessible||e.accessible.role!==f.FORM))throw new Error("The form property of a "+this.role+" must be a DisplayObject with a role of "+f.FORM);this._form=e,this._reactProps.form=e?e.accessible.domId:void 0},get:function(){return this._form}},{key:"formDomId",get:function(){return this._reactProps.form}},{key:"maxLength",set:function(e){this._reactProps.maxLength=e},get:function(){return this._reactProps.maxLength}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}},{key:"placeholder",set:function(e){this._reactProps.placeholder=e},get:function(){return this._reactProps.placeholder}},{key:"readOnly",set:function(e){this._reactProps.readOnly=e},get:function(){return this._reactProps.readOnly}},{key:"required",set:function(e){this._reactProps.required=e},get:function(){return this._reactProps.required}},{key:"rows",set:function(e){this._reactProps.rows=e},get:function(){return this._reactProps.rows}},{key:"value",set:function(e){var t=this._reactProps.id;document.getElementById(t).value=e},get:function(){return this._reactProps.value}},{key:"wrap",set:function(e){this._reactProps.wrap=e?"soft":"hard"},get:function(){return"soft"===this._reactProps.wrap}}]),t}(),Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ce=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},ke=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onListBoxChanged"),i._reactProps.onChange=i._onListBoxChanged,i._reactProps.multiple="multiple",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),Oe(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.MULTISELECTOPTION)throw new Error("Children of "+this.role+" must have a role of "+f.MULTISELECTOPTION);Ce(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.MULTISELECTOPTION)throw new Error("Children of "+this.role+" must have a role of "+f.MULTISELECTOPTION);Ce(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_onListBoxChanged",value:function(e){var t=this,n=new createjs.Event("valueChanged",!1,!1);n.selectedValues=u.a.filter(e.target.options,(function(e){return e.selected})).map((function(e){return e.value})),n.selectedDisplayObjects=u.a.map(n.selectedValues,(function(e){return u.a.find(t.children,(function(t){return t.accessible.value===e}))})),this.selected=n.selectedDisplayObjects,this._displayObject.dispatchEvent(n)}},{key:"autoFocus",set:function(e){this._reactProps.autoFocus=e?"autofocus":void 0},get:function(){return"autofocus"===this._reactProps.autoFocus}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return Ce(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"form",set:function(e){if(e&&(!e.accessible||e.accessible.role!==f.FORM))throw new Error("The form property of a "+this.role+" must be a DisplayObject with a role of "+f.FORM);this._form=e,this._reactProps.form=e?e.accessible.domId:void 0},get:function(){return this._form}},{key:"formDomId",get:function(){return this._reactProps.form}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}},{key:"required",set:function(e){this._reactProps.required=e},get:function(){return this._reactProps.required}},{key:"selected",set:function(e){e.forEach((function(e){if(!e.accessible||e.accessible.role!==f.MULTISELECTOPTION)throw new Error("Selected value must have a role of "+f.MULTISELECTOPTION);if(!e.accessible.value)throw new Error("The selected option must have its value field populated")})),this._selected=e,this._reactProps.value=u.a.map(this._selected,(function(e){return e.accessible.value}))},get:function(){return this._selected}},{key:"selectedValue",get:function(){return this._reactProps.value}},{key:"size",set:function(e){this._reactProps.size=e},get:function(){return this._reactProps.size}}]),t}(),Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),Pe(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"positionInSet",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}},{key:"setSize",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}},{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}}]),t}(),Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Re=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),Ie(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.LISTITEM)throw new Error("Children of "+this.role+" must have a role of "+f.LISTITEM);Re(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.LISTITEM)throw new Error("Children of "+this.role+" must have a role of "+f.LISTITEM);Re(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"reversed",set:function(e){this._reactProps.reversed=e},get:function(){return this._reactProps.reversed}},{key:"start",set:function(e){this._reactProps.start=e},get:function(){return this._reactProps.start}},{key:"type",set:function(e){this._reactProps.type=e},get:function(){return this._reactProps.type}}]),t}(),De=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),De(t,[{key:"value",set:function(e){this._reactProps["aria-valuenow"]=e},get:function(){return this._reactProps["aria-valuenow"]}},{key:"min",set:function(e){this._reactProps["aria-valuemin"]=e},get:function(){return this._reactProps["aria-valuemin"]}},{key:"max",set:function(e){this._reactProps["aria-valuemax"]=e},get:function(){return this._reactProps["aria-valuemax"]}},{key:"valueText",set:function(e){this._reactProps["aria-valuetext"]=e},get:function(){return this._reactProps["aria-valuetext"]}}]),t}(),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Me),je(t,[{key:"valueMax",set:function(e){this._reactProps.max=e},get:function(){return this._reactProps.max}},{key:"valueNow",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}}]),t}(),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ue=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},He=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.type="radio",i._reactProps.onKeyDown=i._onKeyDown,i._reactProps.onChange=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),Fe(t,[{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(Ue(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||e.keyCode!==P.a.enter&&e.keyCode!==P.a.space)){var n=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(n)}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return Ue(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}},{key:"checked",set:function(e){this._reactProps.checked=e},get:function(){return this._reactProps.checked}},{key:"size",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}},{key:"position",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}}]),t}(),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),Ge(t,[{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}}]),t}(),ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ve=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,j),ze(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.CELL&&e.accessible.role!==f.GRIDCELL&&e.accessible.role!==f.COLUMNHEADER&&e.accessible.role!==f.ROWHEADER)throw new Error("Children of "+this.role+" must have a role of "+f.CELL+", "+f.GRIDCELL+", "+f.COLUMNHEADER+", or "+f.ROWHEADER);Ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.CELL&&e.accessible.role!==f.GRIDCELL&&e.accessible.role!==f.COLUMNHEADER&&e.accessible.role!==f.ROWHEADER)throw new Error("Children of "+this.role+" must have a role of "+f.CELL+", "+f.GRIDCELL+", "+f.COLUMNHEADER+", or "+f.ROWHEADER);Ve(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"colIndex",set:function(e){this._reactProps["aria-colindex"]=e},get:function(){return this._reactProps["aria-colindex"]}},{key:"rowIndex",set:function(e){this._reactProps["aria-rowindex"]=e},get:function(){return this._reactProps["aria-rowindex"]}},{key:"level",set:function(e){this._reactProps["aria-level"]=e},get:function(){return this._reactProps["aria-level"]}}]),t}(),qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xe=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Ye=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i.increment=20,i.min=0,i.max=100,i.value=(i.max+i.min)/2,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Me),qe(t,[{key:"_onKeyDown",value:function(e){if(!this.enableKeyEvents||(Xe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),!e.defaultPrevented))if("horizontal"!==this.orientation){if(e.keyCode===P.a.up||e.keyCode===P.a.down){e.stopPropagation(),e.preventDefault(),e.keyCode===P.a.up?this.value=Math.max(this.value-this.increment,this.min):this.value=Math.min(this.value+this.increment,this.max);var n=new createjs.Event("scroll",!1,e.cancelable);n.scrollTop=this.value,this._displayObject.dispatchEvent(n)}}else if(e.keyCode===P.a.left||e.keyCode===P.a.right){e.stopPropagation(),e.preventDefault(),e.keyCode===P.a.left?this.value=Math.max(this.value-this.increment,this.min):this.value=Math.min(this.value+this.increment,this.max);var r=new createjs.Event("scroll",!1,e.cancelable);r.scrollLeft=this.value,this._displayObject.dispatchEvent(r)}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return Xe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}}]),t}(),Ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$e=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onChange","_onSelect"),i._reactProps.type="text",i._reactProps.onChange=i._onChange,i._reactProps.onSelect=i._onSelect,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),Ke(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"_onChange",value:function(e){var t=new createjs.Event("valueChanged",!1,!1);t.newValue=e.target.value,this._displayObject.dispatchEvent(t)}},{key:"_onSelect",value:function(e){var t=new createjs.Event("selectionChanged",!1,!1);t.selectionStart=e.currentTarget.selectionStart,t.selectionEnd=e.currentTarget.selectionEnd,t.selectionDirection=e.currentTarget.selectionDirection,this._displayObject.dispatchEvent(t)}},{key:"active",set:function(e){if(e&&!e.accessible)throw new Error("DisplayObject being set as the active descendant must have accessibility information");this._active=e,this._reactProps["aria-activedescendant"]=e?e.accessible.domId:void 0},get:function(){return this._active}},{key:"activeId",get:function(){return this._reactProps["aria-activedescendant"]}},{key:"autoComplete",set:function(e){this._reactProps.autoComplete=e?"on":"off"},get:function(){return"on"===this._reactProps.autoComplete}},{key:"maxLength",set:function(e){this._reactProps.maxLength=e},get:function(){return this._reactProps.maxLength}},{key:"pattern",set:function(e){this._reactProps.pattern=e},get:function(){return this._reactProps.pattern}},{key:"placeholder",set:function(e){this._reactProps.placeholder=e},get:function(){return this._reactProps.placeholder}},{key:"readOnly",set:function(e){this._reactProps.readOnly=e},get:function(){return this._reactProps.readOnly}},{key:"required",set:function(e){this._reactProps.required=e},get:function(){return this._reactProps.required}},{key:"size",set:function(e){this._reactProps.size=e},get:function(){return this._reactProps.size}},{key:"value",set:function(e){var t=this._reactProps.id;document.getElementById(t).value=e},get:function(){return this._reactProps.value}}]),t}(),Je=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._reactProps.type="search",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,$e),t}(),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),Ze(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}},{key:"valueMax",set:function(e){this._reactProps["aria-valuemax"]=e},get:function(){return this._reactProps["aria-valuemax"]}},{key:"valueMin",set:function(e){this._reactProps["aria-valuemin"]=e},get:function(){return this._reactProps["aria-valuemin"]}},{key:"valueNow",set:function(e){this._reactProps["aria-valuenow"]=e},get:function(){return this._reactProps["aria-valuenow"]}},{key:"valueText",set:function(e){this._reactProps["aria-valuetext"]=e},get:function(){return this._reactProps["aria-valuetext"]}}]),t}(),tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},rt=function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},it=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),tt(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.SINGLESELECTOPTION)throw new Error("Children of "+this.role+" must have a role of "+f.SINGLESELECTOPTION);nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.SINGLESELECTOPTION)throw new Error("Children of "+this.role+" must have a role of "+f.SINGLESELECTOPTION);nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"_onKeyDown",value:function(e){if(!(this.disabledWithInference||this.enableKeyEvents&&(nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)))if(e.keyCode===P.a.down){var n=this._getSelectionIndex()+1;n<this.children.length&&(this.selected=this.children[n],this._onListBoxChanged()),e.preventDefault(),e.stopPropagation()}else if(e.keyCode===P.a.up){var r=this._getSelectionIndex()-1;r>=0&&(this.selected=this.children[r],this._onListBoxChanged()),e.preventDefault(),e.stopPropagation()}else if(e.keyCode===P.a.home){var i=this.children[0];this.selected=i,this._onListBoxChanged(),e.preventDefault(),e.stopPropagation()}else e.keyCode===P.a.end&&(this.selected=this.children[this.children.length-1],this._onListBoxChanged(),e.preventDefault(),e.stopPropagation())}},{key:"_getSelectionIndex",value:function(){var e=this;return u.a.findIndex(this.children,(function(t){return t===e.selected}))}},{key:"_onListBoxChanged",value:function(){this.active=this.selected;var e=new createjs.Event("valueChanged",!1,!1);e.selectedValue=this.selectedValue,e.selectedDisplayObject=this.selected,this._displayObject.dispatchEvent(e)}},{key:"enableKeyEvents",set:function(e){rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"autoFocus",set:function(e){this._reactProps.autoFocus=e?"autofocus":void 0},get:function(){return"autofocus"===this._reactProps.autoFocus}},{key:"enabled",set:function(e){this._reactProps.disabled=!1!==e?void 0:"disabled",rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this)},get:function(){return nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"form",set:function(e){if(e&&(!e.accessible||e.accessible.role!==f.FORM))throw new Error("The form property of a "+this.role+" must be a DisplayObject with a role of "+f.FORM);this._form=e,this._reactProps.form=e?e.accessible.domId:void 0},get:function(){return this._form}},{key:"formDomId",get:function(){return this._reactProps.form}},{key:"name",set:function(e){this._reactProps.name=e},get:function(){return this._reactProps.name}},{key:"required",set:function(e){this._reactProps.required=e},get:function(){return this._reactProps.required}},{key:"selected",set:function(e){if(!e.accessible||e.accessible.role!==f.SINGLESELECTOPTION)throw new Error("Selected value must have a role of "+f.SINGLESELECTOPTION);if(!e.accessible.value)throw new Error("The selected option must have its value field populated");this._selected=e,this._reactProps.value=e.accessible.value},get:function(){return this._selected}},{key:"selectedValue",get:function(){return this._reactProps.value}},{key:"size",set:function(e){this._reactProps.size=e},get:function(){return this._reactProps.size}}]),t}(),ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),at=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},st=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onChange","_onKeyDown"),i._reactProps.onChange=i._onChange,i._reactProps.onKeyDown=i._onKeyDown,i._reactProps.type="range",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),ot(t,[{key:"_onChange",value:function(e){this.value=e.target.value;var t=new createjs.Event("valueChanged",!1,!1);t.newValue=this.value,this._displayObject.dispatchEvent(t)}},{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(at(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||u.a.isUndefined(this.pageStep)||e.keyCode!==P.a.pageup&&e.keyCode!==P.a.pagedown)){var n=(e.keyCode===P.a.pageup?1:-1)*this.pageStep;this.value=u.a.toNumber(this.value)+n,u.a.isUndefined(this.min)||(this.value=Math.max(this.value,this.min)),u.a.isUndefined(this.max)||(this.value=Math.min(this.value,this.max));var r=new createjs.Event("valueChanged",!1,!1);r.newValue=this.value,this._displayObject.dispatchEvent(r),e.stopPropagation(),e.preventDefault()}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return at(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"step",set:function(e){this._reactProps.step=e},get:function(){return this._reactProps.step}},{key:"pageStep",set:function(e){this._pageStep=e},get:function(){return this._pageStep}},{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}},{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}},{key:"min",set:function(e){this._reactProps.min=e},get:function(){return this._reactProps.min}},{key:"max",set:function(e){this._reactProps.max=e},get:function(){return this._reactProps.max}}]),t}(),ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ct=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},lt=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown","_onChange"),i._reactProps.onKeyDown=i._onKeyDown,i._reactProps.onChange=i._onChange,i._reactProps.type="number",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Me),ut(t,[{key:"addChild",value:function(){throw new Error(this.role+" cannot have children")}},{key:"addChildAt",value:function(){throw new Error(this.role+" cannot have children")}},{key:"_onKeyDown",value:function(e){if(!this.enableKeyEvents||(ct(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),!e.defaultPrevented))if(e.keyCode===P.a.up)this._displayObject.dispatchEvent("increment");else if(e.keyCode===P.a.down)this._displayObject.dispatchEvent("decrement");else if(e.keyCode===P.a.home&&void 0!==this.min){var n=new createjs.Event("change",!1,!1);n.value=this.min,this._displayObject.dispatchEvent(n),e.stopPropagation(),e.preventDefault()}else if(e.keyCode===P.a.end&&void 0!==this.max){var r=new createjs.Event("change",!1,!1);r.value=this.max,this._displayObject.dispatchEvent(r),e.stopPropagation(),e.preventDefault()}}},{key:"_onChange",value:function(e){var t=new createjs.Event("change",!1,!1);t.value=parseInt(e.target.value,10),this._displayObject.dispatchEvent(t)}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return ct(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"value",set:function(e){this._reactProps.value=e},get:function(){return this._reactProps.value}},{key:"min",set:function(e){this._reactProps.min=e},get:function(){return this._reactProps.min}},{key:"max",set:function(e){this._reactProps.max=e},get:function(){return this._reactProps.max}},{key:"readOnly",set:function(e){this._reactProps["aria-readonly"]=e},get:function(){return this._reactProps["aria-readonly"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}}]),t}(),ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ht=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._reactProps["aria-checked"]=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x),ft(t,[{key:"checked",set:function(e){this._reactProps["aria-checked"]=e},get:function(){return this._reactProps["aria-checked"]}}]),t}(),dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},gt=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),dt(t,[{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||-1===[P.a.enter,P.a.space].indexOf(e.keyCode))){var n=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(n)}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"size",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}},{key:"position",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}},{key:"controls",set:function(e){this._reactProps["aria-controls"]=e},get:function(){return this._reactProps["aria-controls"]}},{key:"selected",set:function(e){this._reactProps["aria-selected"]=e},get:function(){return this._reactProps["aria-selected"]}}]),t}(),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),vt(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.ROW)throw new Error("Children of "+this.role+" must have a role of "+f.ROW);mt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.ROW)throw new Error("Children of "+this.role+" must have a role of "+f.ROW);mt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}}]),t}(),_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,C),_t(t,[{key:"sort",set:function(e){this._reactProps["aria-sort"]=e},get:function(){return this._reactProps["aria-sort"]}}]),t}(),At=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Et=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,z),At(t,[{key:"_onKeyDown",value:function(e){if(!this.enableKeyEvents||(wt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),!e.defaultPrevented)){if(-1!==[P.a.enter,P.a.space].indexOf(e.keyCode)){var n=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(n)}if((e.keyCode===P.a.left||e.keyCode===P.a.right)&&"horizontal"===this.orientation){var r=u.a.findIndex(this._children,(function(e){return e.accessible.selected}));e.keyCode===P.a.left?r=(this._children.length+r-1)%this._children.length:e.keyCode===P.a.right&&(r=(r+1)%this._children.length);var i=this._children[r],o=new createjs.Event("keyboardClick",!1,e.cancelable);i.dispatchEvent(o),e.stopPropagation(),e.preventDefault()}if((e.keyCode===P.a.up||e.keyCode===P.a.down)&&"vertical"===this.orientation){var a,s=e.target.id,c=this._domIdToChildIndex(s);a=e.keyCode===P.a.up?(this._children.length+c-1)%this._children.length:(c+1)%this._children.length,this._children[a].accessible.requestFocus();var l=this._children[a],f=new createjs.Event("keyboardClick",!1,e.cancelable);l.dispatchEvent(f),e.stopPropagation(),e.preventDefault()}}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return wt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"level",set:function(e){this._reactProps["aria-level"]=e},get:function(){return this._reactProps["aria-level"]}},{key:"multiselectable",set:function(e){this._reactProps["aria-multiselectable"]=e},get:function(){return this._reactProps["aria-multiselectable"]}},{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}}]),t}(),xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),xt(t,[{key:"dateTime",set:function(e){this._reactProps.dateTime=e},get:function(){return this._reactProps.dateTime}}]),t}(),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ot=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Ct=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._reactProps["aria-orientation"]="vertical",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),St(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.TREEITEM)throw new Error("Children of "+this.role+" must have a role of "+f.TREEITEM);Ot(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.TREEITEM)throw new Error("Children of "+this.role+" must have a role of "+f.TREEITEM);Ot(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}},{key:"multiselectable",set:function(e){this._reactProps["aria-multiselectable"]=e},get:function(){return this._reactProps["aria-multiselectable"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}}]),t}(),kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,re),kt(t,[{key:"_findPrevRowAtHigherLevel",value:function(e){for(var t=null,n=e.accessible.level,r=u.a.findIndex(this.children,e.accessible.parent.displayObject);r>=0&&!t;r--){var i=this.children[r],o=u.a.findIndex(i.accessible.children,e);o<0&&(o=i.accessible.children.length-1);var a=u.a.findLastIndex(i.accessible.children,(function(e){return e.accessible.visibleWithInference&&e.accessible.level<n}),o);-1!==a&&(t={displayObject:i.accessible.children[a],sectionIndex:r,rowIndex:a,colIndex:-1,cellChildIndex:-1})}return t}},{key:"_updateTargetDataLeft",value:function(e){if(e.displayObject.accessible.role===f.ROW){if(e.displayObject.accessible.expanded){var n=new createjs.Event("collapseRow",!1,!1);return n.rowDisplayObject=e.displayObject,this._displayObject.dispatchEvent(n),!1}var r=this._findPrevRowAtHigherLevel(e.displayObject);r&&(r.displayObject=e.displayObject,e=r)}else if(Pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateTargetDataLeft",this).call(this,e),e.colIndex<0&&u.a.isUndefined(e.displayObject.accessible.parent.tabIndex))return!1;return!0}},{key:"_updateTargetDataRight",value:function(e){var n=!0;if(e.displayObject.accessible.role===f.ROW)if(!1===e.displayObject.accessible.expanded){var r=new createjs.Event("expandRow",!1,!1);r.rowDisplayObject=e.displayObject,this._displayObject.dispatchEvent(r),n=!1}else e.colIndex=0;else n=Pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateTargetDataRight",this).call(this,e);return n}},{key:"_updateTargetDataUp",value:function(e){var n=!0;if(e.displayObject.accessible.role===f.ROW){var r=e.sectionIndex,i=u.a.findLastIndex(this.children[r].accessible.children,(function(e){return!u.a.isUndefined(e.accessible.tabIndex)&&e.accessible.visibleWithInference}),e.rowIndex-1);if(-1===i)for(r=e.sectionIndex-1;r>=0&&-1===i;r--)i=u.a.findLastIndex(this.children[r].accessible.children,(function(e){return!u.a.isUndefined(e.accessible.tabIndex)&&e.accessible.visibleWithInference}));-1===i?n=!1:(e.currFocusRowIndex=e.rowIndex,e.currFocusSectionIndex=e.sectionIndex,e.rowIndex=i,e.sectionIndex=r)}else e.currFocusRowIndex=e.rowIndex,e.currFocusSectionIndex=e.sectionIndex,n=Pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateTargetDataUp",this).call(this,e);return n}},{key:"_updateTargetDataDown",value:function(e){var n=!0;if(e.displayObject.accessible.role===f.ROW){var r=e.sectionIndex,i=u.a.findIndex(this.children[r].accessible.children,(function(e){return!u.a.isUndefined(e.accessible.tabIndex)&&e.accessible.visibleWithInference}),e.rowIndex+1);if(-1===i)for(r=e.sectionIndex+1;r<this.children.length&&-1===i;r++)i=u.a.findIndex(this.children[r].accessible.children,(function(e){return!u.a.isUndefined(e.accessible.tabIndex)&&e.accessible.visibleWithInference}));-1===i?n=!1:(e.currFocusRowIndex=e.rowIndex,e.currFocusSectionIndex=e.sectionIndex,e.rowIndex=i,e.sectionIndex=r)}else e.currFocusRowIndex=e.rowIndex,e.currFocusSectionIndex=e.sectionIndex,n=Pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateTargetDataDown",this).call(this,e);return n}},{key:"_searchRow",value:function(e,t,n,r){var i=this,o=null;return t.accessible.domId===e?o={displayObject:t,sectionIndex:n,rowIndex:r,colIndex:-1,cellChildIndex:-1}:u.a.forEach(t.accessible.children,(function(t,a){return!(o=i._searchCell(e,t,n,r,a))})),o}},{key:"_findNextTarget",value:function(e){return-1===e.colIndex?this.children[e.sectionIndex].accessible.children[e.rowIndex]:Pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_findNextTarget",this).call(this,e)}},{key:"_focusToNextTarget",value:function(e,t,n){if(e){if(!u.a.isUndefined(t.currFocusRowIndex)&&(t.currFocusRowIndex!==t.rowIndex||t.currFocusSectionIndex!==t.sectionIndex)){var r=this.children[t.currFocusSectionIndex],i=this.children[t.sectionIndex],o=r.accessible.children[t.currFocusRowIndex];i.accessible.children[t.rowIndex].accessible.tabIndex=o.accessible.tabIndex,o.accessible.tabIndex=-1}e.accessible.role===f.GRIDCELL&&(e.accessible.tabIndex=0),t.displayObject.accessible.role===f.GRIDCELL&&(t.displayObject.accessible.tabIndex=void 0),e.accessible.requestFocus(),n.preventDefault(),n.stopPropagation()}}},{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}},{key:"required",set:function(e){this._reactProps["aria-required"]=e},get:function(){return this._reactProps["aria-required"]}}]),t}(),It=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Lt=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return u.a.bindAll(i,"_onKeyDown"),i._reactProps.onKeyDown=i._onKeyDown,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ce),It(t,[{key:"_onKeyDown",value:function(e){if(!(this.enableKeyEvents&&(Rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onKeyDown",this).call(this,e),e.defaultPrevented)||e.keyCode!==P.a.enter)){var n=new createjs.Event("keyboardClick",!1,e.cancelable);this._displayObject.dispatchEvent(n)||e.preventDefault(),e.stopPropagation()}}},{key:"enableKeyEvents",set:function(e){!function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",e,this),this._reactProps.onKeyDown=this._onKeyDown},get:function(){return Rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableKeyEvents",this)}},{key:"positionInSet",set:function(e){this._reactProps["aria-posinset"]=e},get:function(){return this._reactProps["aria-posinset"]}},{key:"setSize",set:function(e){this._reactProps["aria-setsize"]=e},get:function(){return this._reactProps["aria-setsize"]}},{key:"selected",set:function(e){this._reactProps["aria-selected"]=e},get:function(){return this._reactProps["aria-selected"]}},{key:"checked",set:function(e){this._reactProps.checked=e},get:function(){return this._reactProps.checked}}]),t}(),Dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,j),Dt(t,[{key:"orientation",set:function(e){this._reactProps["aria-orientation"]=e},get:function(){return this._reactProps["aria-orientation"]}}]),t}(),jt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,S),jt(t,[{key:"addChild",value:function(e){if(!e.accessible||e.accessible.role!==f.LISTITEM)throw new Error("Children of "+this.role+" must have a role of "+f.LISTITEM);Bt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,n){if(!e.accessible||e.accessible.role!==f.LISTITEM)throw new Error("Children of "+this.role+" must have a role of "+f.LISTITEM);Bt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addChildAt",this).call(this,e,n)}}]),t}();function Ut(e){var t=e.accessibleOptions,n=e.displayObject,r=e.domIdPrefix,i=void 0===r?"acc_":r,o=e.events,a=e.role,s=e.containerIndex,c=e.parent;if(!n)throw new Error("No DisplayObject specified.");if(c&&!c.accessible)throw new Error("The parent object must be registered with the module.");if(n.accessible){var l=n.accessible.parent;if(l){var h=u.a.findIndex(l.children,(function(e){return e===n}));l.removeChildAt(h),c||(c=l.displayObject,u.a.isUndefined(s)&&(s=h))}}var d=void 0;switch(a){case f.FIGCAPTION:case f.FORMAT_TEXT_BOLD:case f.FORMAT_TEXT_CODE:case f.FORMAT_TEXT_DELETE:case f.FORMAT_TEXT_EMPHASIZE:case f.FORMAT_TEXT_ITALIC:case f.FORMAT_TEXT_INSERT:case f.FORMAT_TEXT_KBD:case f.FORMAT_TEXT_PREFORMAT:case f.FORMAT_TEXT_STRIKETHROUGH:case f.FORMAT_TEXT_SAMPLE:case f.FORMAT_TEXT_SMALL:case f.FORMAT_TEXT_STRONG:case f.FORMAT_TEXT_SUBSCRIPT:case f.FORMAT_TEXT_SUPERSCRIPT:case f.FORMAT_TEXT_UNDERLINE:case f.FORMAT_TEXT_VARIABLE:case f.MAIN:case f.NONE:case f.PARAGRAPH:case f.PRESENTATION:case f.SPAN:case f.SEARCH:d=new m(n,a,i);break;case f.ARTICLE:d=new A(n,a,i);break;case f.BUTTON:d=new x(n,a,i);break;case f.CELL:d=new C(n,a,i);break;case f.CHECKBOX:d=new D(n,a,i);break;case f.COMBOBOX:d=new G(n,a,i);break;case f.APPLICATION:d=new z(n,a,i);break;case f.DIALOG:d=new W(n,a,i);break;case f.DOCUMENT:d=new _(n,a,i);break;case f.FORM:d=new X(n,a,i);break;case f.GRID:d=new re(n,a,i);break;case f.GRIDCELL:d=new oe(n,a,i);break;case f.GROUP:d=new j(n,a,i);break;case f.IMG:d=new K(n,a,i);break;case f.LINK:d=new se(n,a,i);break;case f.LISTITEM:d=new ce(n,a,i);break;case f.MATH:d=new fe(n,a,i);break;case f.MENU:d=new me(n,a,i);break;case f.MENUBAR:d=new pe(n,a,i);break;case f.MENUITEM:d=new be(n,a,i);break;case f.MENUITEMCHECKBOX:d=new we(n,a,i);break;case f.MENUITEMRADIO:d=new xe(n,a,i);break;case f.MULTILINETEXTBOX:d=new Se(n,a,i);break;case f.MULTISELECTLISTBOX:d=new ke(n,a,i);break;case f.SINGLESELECTOPTION:case f.MULTISELECTOPTION:d=new Ne(n,a,i);break;case f.ORDEREDLIST:d=new Le(n,a,i);break;case f.PROGRESSBAR:d=new Be(n,a,i);break;case f.RADIO:d=new He(n,a,i);break;case f.RADIOGROUP:d=new Qe(n,a,i);break;case f.ROW:d=new We(n,a,i);break;case f.SCROLLBAR:d=new Ye(n,a,i);break;case f.SEARCHBOX:d=new Je(n,a,i);break;case f.ALERT:case f.ALERTDIALOG:case f.BANNER:case f.COMPEMENTARY:case f.CONTENTINFO:case f.DEFINITION:case f.DIRECTORY:case f.FEED:case f.FIGURE:case f.HEADING1:case f.HEADING2:case f.HEADING3:case f.HEADING4:case f.HEADING5:case f.HEADING6:case f.LOG:case f.MARQUEE:case f.NAVIGATION:case f.NOTE:case f.REGION:case f.STATUS:case f.TABPANEL:case f.TERM:case f.TOOLTIP:d=new S(n,a,i);break;case f.SEPARATOR:d=new et(n,a,i);break;case f.SINGLELINETEXTBOX:d=new $e(n,a,i);break;case f.SINGLESELECTLISTBOX:d=new it(n,a,i);break;case f.SLIDER:d=new st(n,a,i);break;case f.SPINBUTTON:d=new lt(n,a,i);break;case f.SWITCH:d=new ht(n,a,i);break;case f.TABLE:d=new Z(n,a,i);break;case f.COLUMNHEADER:case f.ROWHEADER:d=new bt(n,a,i);break;case f.TABLEBODY:case f.TABLEFOOT:case f.TABLEHEAD:d=new yt(n,a,i);break;case f.TAB:d=new gt(n,a,i);break;case f.TABLIST:d=new Et(n,a,i);break;case f.FORMAT_TEXT_TIME:case f.TIMER:d=new Tt(n,a,i);break;case f.TREE:d=new Ct(n,a,i);break;case f.TREEGRID:d=new Nt(n,a,i);break;case f.TREEITEM:d=new Lt(n,a,i);break;case f.TOOLBAR:d=new Mt(n,a,i);break;case f.UNORDEREDLIST:d=new Ft(n,a,i);break;default:throw new Error('Invalid role of "'+a+'"')}n.accessible=d,o&&u.a.forEach(o,(function(e){var t=e.eventName,r=e.listener;n.on(t,r)})),t&&u.a.forEach(t,(function(e,t){n.accessible[t]=e})),c&&(s?c.accessible.addChildAt(n,s):c.accessible.addChild(n))}function Ht(e,t){var n=e.canvas,r=getComputedStyle(n),o=parseInt(r.width,10),a=parseInt(r.height,10),s=parseInt(n.getAttribute("width"),10)||o,u=parseInt(n.getAttribute("height"),10)||a,c=o/s,l=a/u,f={overflow:"hidden",position:"absolute",left:"auto",top:n.offsetTop,zIndex:-1,height:u,width:s,marginLeft:r["margin-left"],transform:r.transform,transformOrigin:r.transformOrigin},h={width:"100%",height:"100%",border:r.border,boxSizing:r["box-sizing"],padding:r.padding,transform:"scaleX("+c+") scaleY("+l+")",transformOrigin:"top left"};return i.a.createElement("div",{style:f},i.a.createElement("div",{style:h},i.a.createElement(g,{stage:e,ref:t})))}n.d(t,"default",(function(){return Gt}));var Gt={createAccessibilityObjectForRole:Ut,register:function(e){var t=e;Array.isArray(e)||(t=[e]);var n=t.map((function(e){return Ut(e)}));return n.length>1?n:n[0]},resize:function e(t){t.accessibilityTranslator.rootElem?Ht(t.accessibilityTranslator.rootElem.parentElement,t):u.a.defer((function(){e(t)}))},ROLES:f,setupStage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=void 0,i=Ht(e,(function(e){r=e}));u.a.isString(t)&&(t=document.getElementById(t)),a.a.render(i,t,(function(){e.accessibilityTranslator=r,e.accessibilityRootElement=t,n()}))},releaseStage:function(e){var t=e.accessibilityRootElement;a.a.unmountComponentAtNode(t)}}}])},function(e,t){var n,r={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,break:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,printscreen:44,prntscrn:44,insert:45,delete:46,nul:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,winkey:91,winmenu:93,numlock:144,scrolllock:145,comma:188,point:190,forwardslash:191,tilde:192,leftbracket:219,backslash:220,rightbracket:221,quote:222,numlockon:{nul:96,ins:96,insert:96,one:97,end:97,two:98,down:98,pgdown:99,pagedown:99,three:99,four:100,left:100,five:101,six:102,right:102,home:103,seven:103,up:104,eight:104,nine:105,pgup:105,pageup:105,asterisk:106,plus:107,min:109,point:110,del:110,delete:110,forwardslash:111,slash:111},numlockoff:{nul:45,ins:45,insert:45,one:35,end:35,two:40,down:40,pgdown:34,pagedown:34,three:34,four:37,left:37,five:12,six:39,right:39,home:36,seven:36,up:38,eight:38,nine:33,pgup:33,pageup:33,asterisk:106,plus:107,min:109,point:46,del:46,delete:46,forwardslash:111,slash:111}},i="abcdefghijklmnopqrstuvwxyz".split("");for(n=90;n>=65;n--)r[i.pop()]=n;for(n=12;n>=1;n--)r["f"+n]=n+111;e.exports=r},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(198),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}function A(){}function w(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=b.prototype;var E=w.prototype=new A;E.constructor=w,r(E,b.prototype),E.isPureReactComponent=!0;var x={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:x.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,P=[];function N(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+L(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+L(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+L(s,c++),r,i);else if("object"===s)throw r=""+t,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),R(e,M,t=N(t,o,r,i)),I(t)}var B={current:null};function F(){var e=B.current;if(null===e)throw Error(m(321));return e}var U={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,D,t=N(null,null,t,n)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(m(143));return e}},t.Component=b,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(3),i=n(198),o=n(326);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function d(e,t,n,r,i,o,a,l,f){u=!1,c=null,s.apply(h,arguments)}var p=null,g=null,v=null;function m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(a(198));var g=c;u=!1,c=null,l||(l=!0,f=g)}}(r,t,void 0,e),e.currentTarget=null}var y=null,_={};function b(){if(y)for(var e in _){var t=_[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(E.hasOwnProperty(u))throw Error(a(99,u));E[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&A(c[i],s,u);i=!0}else o.registrationName?(A(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function A(e,t,n){if(x[e])throw Error(a(100,e));x[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],E={},x={},T={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!_.hasOwnProperty(t)||_[t]!==r){if(_[t])throw Error(a(102,t));_[t]=r,n=!0}}n&&b()}var O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,k=null,P=null;function N(e){if(e=g(e)){if("function"!=typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function I(e){k?P?P.push(e):P=[e]:k=e}function R(){if(k){var e=k,t=P;if(P=k=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function L(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function M(){}var j=L,B=!1,F=!1;function U(){null===k&&null===P||(M(),R())}function H(e,t,n){if(F)return e(t,n);F=!0;try{return j(e,t,n)}finally{F=!1,U()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q=Object.prototype.hasOwnProperty,z={},V={};function W(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Y);q[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Y);q[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Y);q[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Q.call(V,e)||!Q.call(z,e)&&(G.test(e)?V[e]=!0:(z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case de:return ve(e.render);case he:if(e=1===e._status?e._result:null)return ve(e)}return null}function me(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Te(e,t){xe(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Fe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Qe={},ze={};function Ve(e){if(Qe[e])return Qe[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in ze)return Qe[e]=n[t];return e}O&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var We=Ve("animationend"),qe=Ve("animationiteration"),Xe=Ve("animationstart"),Ye=Ve("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)m(e,t[r],n[r]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ht(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&qt(e,t)}n.set(e,null)}}var gt,vt,mt,yt=!1,_t=[],bt=null,At=null,wt=null,Et=new Map,xt=new Map,Tt=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function kt(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=On(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){It(e)&&n.delete(t)}function Lt(){for(yt=!1;0<_t.length;){var e=_t[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&gt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:_t.shift()}null!==bt&&It(bt)&&(bt=null),null!==At&&It(At)&&(At=null),null!==wt&&It(wt)&&(wt=null),Et.forEach(Rt),xt.forEach(Rt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Mt(e){function t(t){return Dt(t,e)}if(0<_t.length){Dt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==bt&&Dt(bt,e),null!==At&&Dt(At,e),null!==wt&&Dt(wt,e),Et.forEach(t),xt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Tt.shift()}var jt={},Bt=new Map,Ft=new Map,Ut=["abort","abort",We,"animationEnd",qe,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),Bt.set(r,o),jt[i]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(Ut,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qt=0;Qt<Gt.length;Qt++)Ft.set(Gt[Qt],0);var zt=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,Wt=!0;function qt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){B||M();var i=$t,o=B;B=!0;try{D(i,e,t,n,r)}finally{(B=o)||U()}}function Kt(e,t,n,r){Vt(zt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Wt)if(0<_t.length&&-1<St.indexOf(e))e=Ct(null,e,t,n,r),_t.push(e);else{var i=Jt(e,t,n,r);if(null===i)kt(e,r);else if(-1<St.indexOf(e))e=Ct(i,e,t,n,r),_t.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return bt=Pt(bt,e,t,n,r,i),!0;case"dragenter":return At=Pt(At,e,t,n,r,i),!0;case"mouseover":return wt=Pt(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,Pt(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Pt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){kt(e,r),e=ht(e,r,null,t);try{H(dt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=On(n=ut(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{H(dt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Le;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function cn(){}function ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,vn=null;function mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"==typeof setTimeout?setTimeout:void 0,bn="function"==typeof clearTimeout?clearTimeout:void 0;function An(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+En,Tn="__reactEventHandlers$"+En,Sn="__reactContainere$"+En;function On(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[xn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[xn]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function kn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[Tn]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function In(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Rn(e,t,n){(t=In(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function Dn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=In(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Mn(e){e&&e.dispatchConfig.registrationName&&Dn(e._targetInst,null,e)}function jn(e){it(e,Ln)}var Bn=null,Fn=null,Un=null;function Hn(){if(Un)return Un;var e,t,n=Fn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Un=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function Qn(){return!1}function zn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:Qn,this.isPropagationStopped=Qn,this}function Vn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Wn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=Vn,e.release=Wn}i(zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:Qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qn,this._dispatchInstances=this._dispatchListeners=null}}),zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},zn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,qn(n),n},qn(zn);var Xn=zn.extend({data:null}),Yn=zn.extend({data:null}),Kn=[9,13,27,32],$n=O&&"CompositionEvent"in window,Jn=null;O&&"documentMode"in document&&(Jn=document.documentMode);var Zn=O&&"TextEvent"in window&&!Jn,er=O&&(!$n||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if($n)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Hn()):(Fn="value"in(Bn=r)?Bn.value:Bn.textContent,ar=!0)),o=Xn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),jn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!$n&&ir(e,t)?(e=Hn(),Un=Fn=Bn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=zn.getPooled(lr.change,e,t,n)).type="change",I(n),jn(e),e}var hr=null,dr=null;function pr(e){st(e)}function gr(e){if(Ae(kn(e)))return e}function vr(e,t){if("change"===e)return t}var mr=!1;function yr(){hr&&(hr.detachEvent("onpropertychange",_r),dr=hr=null)}function _r(e){if("value"===e.propertyName&&gr(dr))if(e=fr(dr,e,ut(e)),B)st(e);else{B=!0;try{L(pr,e)}finally{B=!1,U()}}}function br(e,t,n){"focus"===e?(yr(),dr=n,(hr=t).attachEvent("onpropertychange",_r)):"blur"===e&&yr()}function Ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(dr)}function wr(e,t){if("click"===e)return gr(t)}function Er(e,t){if("input"===e||"change"===e)return gr(t)}O&&(mr=ct("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:lr,_isInputEventSupported:mr,extractEvents:function(e,t,n,r){var i=t?kn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(cr(i))if(mr)a=Er;else{a=Ar;var s=br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Tr=zn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Cr(){return Or}var kr=0,Pr=0,Nr=!1,Ir=!1,Rr=Tr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=kr;return kr=e.screenX,Nr?"mousemove"===e.type?e.screenX-t:0:(Nr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Ir?"mousemove"===e.type?e.screenY-t:0:(Ir=!0,0)}}),Lr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Dr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Mr={eventTypes:Dr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rr,u=Dr.mouseLeave,c=Dr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Lr,u=Dr.pointerLeave,c=Dr.pointerEnter,l="pointer");if(e=null==a?o:kn(a),o=null==t?o:kn(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=Nn(e))a++;for(e=0,t=c;t;t=Nn(t))e++;for(;0<a-e;)s=Nn(s),a--;for(;0<e-a;)c=Nn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Nn(s),c=Nn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Nn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Nn(l);for(l=0;l<s.length;l++)Dn(s[l],"bubbled",u);for(l=r.length;0<l--;)Dn(r[l],"captured",n);return 0==(64&i)?[u]:[u,n]}};var jr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Br=Object.prototype.hasOwnProperty;function Fr(e,t){if(jr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var Ur=O&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,Qr=null,zr=null,Vr=!1;function Wr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vr||null==Gr||Gr!==ln(n)?null:("selectionStart"in(n=Gr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zr&&Fr(zr,n)?null:(zr=n,(e=zn.getPooled(Hr.select,Qr,e,t)).type="select",e.target=Gr,jn(e),e))}var qr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=T.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?kn(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Gr=i,Qr=t,zr=null);break;case"blur":zr=Qr=Gr=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vr=!1,Wr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return Wr(n,r)}return null}},Xr=zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=zn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=Tr.extend({relatedTarget:null});function $r(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Tr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$r(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?$r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rr.extend({dataTransfer:null}),ni=Tr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:jt,extractEvents:function(e,t,n,r){var i=Bt.get(e);if(!i)return null;switch(e){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case We:case qe:case Xe:e=Xr;break;case Ye:e=ri;break;case"scroll":e=Tr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Lr;break;default:e=zn}return jn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Pn,g=Cn,v=kn,S({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Mr,ChangeEventPlugin:xr,SelectEventPlugin:qr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var li={},fi={current:li},hi={current:!1},di=li;function pi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=(e=e.childContextTypes)}function vi(){ui(hi),ui(fi)}function mi(e,t,n){if(fi.current!==li)throw Error(a(168));ci(fi,t),ci(hi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,di=fi.current,ci(fi,e),ci(hi,hi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ui(hi),ui(fi),ci(fi,e)):ui(hi),ci(hi,n)}var Ai=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,xi=o.unstable_requestPaint,Ti=o.unstable_now,Si=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,ki=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Ii={},Ri=o.unstable_shouldYield,Li=void 0!==xi?xi:function(){},Di=null,Mi=null,ji=!1,Bi=Ti(),Fi=1e4>Bi?Ti:function(){return Ti()-Bi};function Ui(){switch(Si()){case Oi:return 99;case Ci:return 98;case ki:return 97;case Pi:return 96;case Ni:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Ci;case 97:return ki;case 96:return Pi;case 95:return Ni;default:throw Error(a(332))}}function Gi(e,t){return e=Hi(e),Ai(e,t)}function Qi(e,t,n){return e=Hi(e),wi(e,t,n)}function zi(e){return null===Di?(Di=[e],Mi=wi(Oi,Wi)):Di.push(e),Ii}function Vi(){if(null!==Mi){var e=Mi;Mi=null,Ei(e)}Wi()}function Wi(){if(!ji&&null!==Di){ji=!0;var e=0;try{var t=Di;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),wi(Oi,Vi),t}finally{ji=!1}}}function qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yi={current:null},Ki=null,$i=null,Ji=null;function Zi(){Ji=$i=Ki=null}function eo(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Ki=e,Ji=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Ki)throw Error(a(308));$i=t,Ki.dependencies={expirationTime:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=g,f=c):d=d.next=g,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(s,p.suspenseConfig);e:{var v=e,m=p;switch(s=t,g=n,m.tag){case 1:if("function"==typeof(v=m.payload)){c=v.call(g,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=m.payload)?v.call(g,c,s):v))break e;c=i({},c,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,au(l),e.expirationTime=l,e.memoizedState=c}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var ho=K.ReactCurrentBatchConfig,po=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=ho.suspense;(i=so(r=qs(r,e,i),i)).payload=t,null!=n&&(i.callback=n),uo(e,i),Xs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=ho.suspense;(i=so(r=qs(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),uo(e,i),Xs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ws(),r=ho.suspense;(r=so(n=qs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),uo(e,r),Xs(e,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fr(n,r)||!Fr(i,o))}function yo(e,t,n){var r=!1,i=li,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=gi(t)?di:fi.current,o=(r=null!=(r=t.contextTypes))?pi(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=gi(t)?di:fi.current,i.context=pi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ao=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Su(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Cu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Pu(t,e.mode,n)).return=e,t}if(Ao(t)||ge(t))return(t=Cu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ao(n)||ge(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ao(r)||ge(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=d(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=ge(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var _=d(i,g,y.value,c);if(null===_){null===g&&(g=m);break}e&&g&&null===_.alternate&&t(i,g),s=o(_,s,v),null===f?l=_:f.sibling=_,f=_,g=m}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Cu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Ou(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Pu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ku(o,e.mode,u)).return=e,e=r),s(e);if(Ao(o))return g(e,r,o,u);if(ge(o))return v(e,r,o,u);if(l&&Eo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var To=xo(!0),So=xo(!1),Oo={},Co={current:Oo},ko={current:Oo},Po={current:Oo};function No(e){if(e===Oo)throw Error(a(174));return e}function Io(e,t){switch(ci(Po,t),ci(ko,e),ci(Co,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Co),ci(Co,t)}function Ro(){ui(Co),ui(ko),ui(Po)}function Lo(e){No(Po.current);var t=No(Co.current),n=je(t,e.type);t!==n&&(ci(ko,e),ci(Co,n))}function Do(e){ko.current===e&&(ui(Co),ui(ko))}var Mo={current:0};function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var Fo=K.ReactCurrentDispatcher,Uo=K.ReactCurrentBatchConfig,Ho=0,Go=null,Qo=null,zo=null,Vo=!1;function Wo(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Xo(e,t,n,r,i,o){if(Ho=o,Go=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fo.current=null===e||null===e.memoizedState?ma:ya,e=n(r,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,zo=Qo=null,t.updateQueue=null,Fo.current=_a,e=n(r,i)}while(t.expirationTime===Ho)}if(Fo.current=va,t=null!==Qo&&null!==Qo.next,Ho=0,zo=Qo=Go=null,Vo=!1,t)throw Error(a(300));return e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zo?Go.memoizedState=zo=e:zo=zo.next=e,zo}function Ko(){if(null===Qo){var e=Go.alternate;e=null!==e?e.memoizedState:null}else e=Qo.next;var t=null===zo?Go.memoizedState:zo.next;if(null!==t)zo=t,Qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Qo=e).memoizedState,baseState:Qo.baseState,baseQueue:Qo.baseQueue,queue:Qo.queue,next:null},null===zo?Go.memoizedState=zo=e:zo=zo.next=e}return zo}function $o(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<Ho){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>Go.expirationTime&&(Go.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ou(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,jr(r,t.memoizedState)||(Pa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);jr(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Yo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e}).dispatch=ga.bind(null,Go,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Go.updateQueue)?(t={lastEffect:null},Go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Ko().memoizedState}function ra(e,t,n,r){var i=Yo();Go.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==r&&qo(r,a.deps))return void ta(t,n,o,r)}Go.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function la(){}function fa(e,t){return Yo().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Ui();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Uo.suspense=r}}))}function ga(e,t,n){var r=Ws(),i=ho.suspense;i={expirationTime:r=qs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Go||null!==o&&o===Go)Vo=!0,i.expirationTime=Ho,Go.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,jr(s,a))return}catch(e){}Xs(e,r)}}var va={readContext:ro,useCallback:Wo,useContext:Wo,useEffect:Wo,useImperativeHandle:Wo,useLayoutEffect:Wo,useMemo:Wo,useReducer:Wo,useRef:Wo,useState:Wo,useDebugValue:Wo,useResponder:Wo,useDeferredValue:Wo,useTransition:Wo},ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yo().memoizedState=e},useState:ea,useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:da,useReducer:Jo,useRef:na,useState:function(){return Jo($o)},useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=Jo($o),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo($o),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},_a={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:da,useReducer:Zo,useRef:na,useState:function(){return Zo($o)},useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=Zo($o),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo($o),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba=null,Aa=null,wa=!1;function Ea(e,t){var n=xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ta(e){if(wa){var t=Aa;if(t){var n=t;if(!xa(e,t)){if(!(t=An(n.nextSibling))||!xa(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(ba=e);Ea(ba,n)}ba=e,Aa=An(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,ba=e}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ba=e}function Oa(e){if(e!==ba)return!1;if(!wa)return Sa(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=Aa;t;)Ea(e,t),t=An(t.nextSibling);if(Sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Aa=An(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Aa=null}}else Aa=ba?An(e.stateNode.nextSibling):null;return!0}function Ca(){Aa=ba=null,wa=!1}var ka=K.ReactCurrentOwner,Pa=!1;function Na(e,t,n,r){t.child=null===e?So(t,null,n,r):To(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Xo(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Tu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Fr)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Su(a,r)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,r,i,o){return null!==e&&Fr(e.memoizedProps,r)&&e.ref===t.ref&&(Pa=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Ma(e,t,n,r,o)}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ma(e,t,n,r,i){var o=gi(n)?di:fi.current;return o=pi(t,o),no(t,i),n=Xo(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function ja(e,t,n,r,i){if(gi(n)){var o=!0;_i(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ro(c):c=pi(t,c=gi(n)?di:fi.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),io=!1;var h=t.memoizedState;a.state=h,lo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||hi.current||io?("function"==typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=io||mo(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=ro(c):c=pi(t,c=gi(n)?di:fi.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),io=!1,u=t.memoizedState,a.state=u,lo(t,r,a,i),h=t.memoizedState,s!==r||u!==h||hi.current||io?("function"==typeof l&&(go(t,n,l,r),h=t.memoizedState),(l=io||mo(t,n,s,r,u,h,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Da(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&bi(t,n,!1),Xa(e,t,o);r=t.stateNode,ka.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):Na(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Io(e,t.containerInfo)}var Ua,Ha,Ga,Qa={dehydrated:null,retryTime:0};function za(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Mo.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Mo,1&a),null===e){if(void 0!==o.fallback&&Ta(t),s){if(s=o.fallback,(o=Cu(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Qa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=So(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Su(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Su(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qa,t.child=n,i}return n=To(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Qa,t.child=o,n}return t.memoizedState=null,t.child=To(t,e,o.children,n)}function Va(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Wa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Na(e,t,r.children,n),0!=(2&(r=Mo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n);else if(19===e.tag)Va(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Mo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o,t.lastEffect);break;case"together":Wa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Su(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Su(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&vi(),null;case 3:return Ro(),ui(hi),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Oa(t)||(t.effectTag|=4),null;case 5:Do(t),n=No(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ha(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Co.current),Oa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[Tn]=s,o){case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)qt(Ke[e],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"form":qt("reset",r),qt("submit",r);break;case"details":qt("toggle",r);break;case"input":Ee(r,s),qt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r),un(n,"onChange");break;case"textarea":Ne(r,s),qt("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(o){case"input":be(r),Se(r,s,!0);break;case"textarea":be(r),Re(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Me(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[xn]=t,e[Tn]=r,Ua(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ke.length;c++)qt(Ke[c],e);c=r;break;case"source":qt("error",e),c=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),c=r;break;case"form":qt("reset",e),qt("submit",e),c=r;break;case"details":qt("toggle",e),c=r;break;case"input":Ee(e,r),c=we(e,r),qt("invalid",e),un(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),qt("invalid",e),un(n,"onChange");break;case"textarea":Ne(e,r),c=Pe(e,r),qt("invalid",e),un(n,"onChange");break;default:c=r}on(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Fe(e,f):"children"===s?"string"==typeof f?("textarea"!==o||""!==f)&&Ue(e,f):"number"==typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&$(e,s,f,u))}switch(o){case"input":be(e),Se(e,r,!1);break;case"textarea":be(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?ke(e,!!r.multiple,n,!1):null!=r.defaultValue&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}mn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(Po.current),No(Co.current),Oa(t)?(n=t.stateNode,r=t.memoizedProps,n[xn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=t,t.stateNode=n)}return null;case 13:return ui(Mo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Oa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mo.current)?Os===bs&&(Os=As):(Os!==bs&&Os!==As||(Os=ws),0!==Is&&null!==xs&&(Ru(xs,Ss),Lu(xs,Is)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ro(),null;case 10:return eo(t),null;case 17:return gi(t.type)&&vi(),null;case 19:if(ui(Mo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Ya(r,!1);else if(Os!==bs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=jo(s))){for(t.effectTag|=64,Ya(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Mo,1&Mo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=jo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ya(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Fi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Mo.current,ci(Mo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function $a(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ro(),ui(hi),ui(fi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Do(e),null;case 13:return ui(Mo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Mo),null;case 4:return Ro(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:me(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(No(Co.current),e=null,n){case"input":a=we(c,a),r=we(c,r),e=[];break;case"option":a=Ce(c,a),r=Ce(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Pe(c,a),r=Pe(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=l&&un(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ga=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=me(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yu(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Mt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof wu&&wu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){yu(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yu(e,t)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ls(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(as(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Tn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Fe(n,u):"children"===s?Ue(n,u):$(n,s,u,t)}switch(e){case"input":Te(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?ke(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?ke(n,!!r.multiple,r.defaultValue,!0):ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Mt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ls=Fi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ms||(Ms=!0,js=r),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,ms=Math.ceil,ys=K.ReactCurrentDispatcher,_s=K.ReactCurrentOwner,bs=0,As=3,ws=4,Es=0,xs=null,Ts=null,Ss=0,Os=bs,Cs=null,ks=1073741823,Ps=1073741823,Ns=null,Is=0,Rs=!1,Ls=0,Ds=null,Ms=!1,js=null,Bs=null,Fs=!1,Us=null,Hs=90,Gs=null,Qs=0,zs=null,Vs=0;function Ws(){return 0!=(48&Es)?1073741821-(Fi()/10|0):0!==Vs?Vs:Vs=1073741821-(Fi()/10|0)}function qs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ui();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Es))return Ss;if(null!==n)e=qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==xs&&e===Ss&&--e,e}function Xs(e,t){if(50<Qs)throw Qs=0,zs=null,Error(a(185));if(null!==(e=Ys(e,t))){var n=Ui();1073741823===t?0!=(8&Es)&&0==(48&Es)?Zs(e):($s(e),0===Es&&Vi()):$s(e),0==(4&Es)||98!==n&&99!==n||(null===Gs?Gs=new Map([[e,t]]):(void 0===(n=Gs.get(e))||n>t)&&Gs.set(e,t))}}function Ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xs===i&&(au(t),Os===ws&&Ru(i,Ss)),Lu(i,t)),i}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Iu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function $s(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=zi(Zs.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ws();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ii&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?zi(Zs.bind(null,e)):Qi(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Fi()}),e.callbackNode=t}}}function Js(e,t){if(Vs=0,t)return Du(e,t=Ws()),$s(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!=(48&Es))throw Error(a(327));if(gu(),e===xs&&n===Ss||nu(e,n),null!==Ts){var r=Es;Es|=16;for(var i=iu();;)try{uu();break}catch(t){ru(e,t)}if(Zi(),Es=r,ys.current=i,1===Os)throw t=Cs,nu(e,n),Ru(e,n),$s(e),t;if(null===Ts)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Os,xs=null,r){case bs:case 1:throw Error(a(345));case 2:Du(e,2<n?2:n);break;case As:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===ks&&10<(i=Ls+500-Fi())){if(Rs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(hu.bind(null,e),i);break}hu(e);break;case ws:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Rs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Ks(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ps?r=10*(1073741821-Ps)-Fi():1073741823===ks?r=0:(r=10*(1073741821-ks)-5e3,0>(r=(i=Fi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ms(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(hu.bind(null,e),r);break}hu(e);break;case 5:if(1073741823!==ks&&null!==Ns){o=ks;var s=Ns;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Fi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ru(e,n),e.timeoutHandle=_n(hu.bind(null,e),r);break}}hu(e);break;default:throw Error(a(329))}if($s(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Es))throw Error(a(327));if(gu(),e===xs&&t===Ss||nu(e,t),null!==Ts){var n=Es;Es|=16;for(var r=iu();;)try{su();break}catch(t){ru(e,t)}if(Zi(),Es=n,ys.current=r,1===Os)throw n=Cs,nu(e,t),Ru(e,t),$s(e),n;if(null!==Ts)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,xs=null,hu(e),$s(e)}return null}function eu(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&Vi()}}function tu(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&Vi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bn(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Ro(),ui(hi),ui(fi);break;case 5:Do(r);break;case 4:Ro();break;case 13:case 19:ui(Mo);break;case 10:eo(r)}n=n.return}xs=e,Ts=Su(e.current,null),Ss=t,Os=bs,Cs=null,Ps=ks=1073741823,Ns=null,Is=0,Rs=!1}function ru(e,t){for(;;){try{if(Zi(),Fo.current=va,Vo)for(var n=Go.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,zo=Qo=Go=null,Vo=!1,null===Ts||null===Ts.return)return Os=1,Cs=t,Ts=null;e:{var i=e,o=Ts.return,a=Ts,s=t;if(t=Ss,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Mo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var g=f.updateQueue;if(null===g){var v=new Set;v.add(u),f.updateQueue=v}else g.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=so(1073741823,null);m.tag=2,uo(a,m)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ds,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(a)){s.add(a);var _=_u.bind(null,i,u,a);u.then(_,_)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+me(a))}5!==Os&&(Os=2),s=Ja(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,co(f,ps(f,u,t));break e;case 1:u=s;var b=f.type,A=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==A&&"function"==typeof A.componentDidCatch&&(null===Bs||!Bs.has(A)))){f.effectTag|=4096,f.expirationTime=t,co(f,gs(f,u,t));break e}}f=f.return}while(null!==f)}Ts=lu(Ts)}catch(e){t=e;continue}break}}function iu(){var e=ys.current;return ys.current=va,null===e?va:e}function ou(e,t){e<ks&&2<e&&(ks=e),null!==t&&e<Ps&&2<e&&(Ps=e,Ns=t)}function au(e){e>Is&&(Is=e)}function su(){for(;null!==Ts;)Ts=cu(Ts)}function uu(){for(;null!==Ts&&!Ri();)Ts=cu(Ts)}function cu(e){var t=vs(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),_s.current=null,t}function lu(e){Ts=e;do{var t=Ts.alternate;if(e=Ts.return,0==(2048&Ts.effectTag)){if(t=Ka(t,Ts,Ss),1===Ss||1!==Ts.childExpirationTime){for(var n=0,r=Ts.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ts.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ts.firstEffect),null!==Ts.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ts.firstEffect),e.lastEffect=Ts.lastEffect),1<Ts.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ts:e.firstEffect=Ts,e.lastEffect=Ts))}else{if(null!==(t=$a(Ts)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ts.sibling))return t;Ts=e}while(null!==Ts);return Os===bs&&(Os=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hu(e){var t=Ui();return Gi(99,du.bind(null,e,t)),null}function du(e,t){do{gu()}while(null!==Us);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===xs&&(Ts=xs=null,Ss=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,_s.current=null,gn=Wt;var s=dn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var h=0,d=-1,p=-1,g=0,v=0,m=s,y=null;t:for(;;){for(var _;m!==u||0!==l&&3!==m.nodeType||(d=h+l),m!==f||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(_=m.firstChild);)y=m,m=_;for(;;){if(m===s)break t;if(y===u&&++g===l&&(d=h),y===f&&++v===c&&(p=h),null!==(_=m.nextSibling))break;y=(m=y).parentNode}m=_}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:u},Wt=!1,Ds=i;do{try{pu()}catch(e){if(null===Ds)throw Error(a(330));yu(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);Ds=i;do{try{for(s=e,u=t;null!==Ds;){var b=Ds.effectTag;if(16&b&&Ue(Ds.stateNode,""),128&b){var A=Ds.alternate;if(null!==A){var w=A.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:cs(Ds),Ds.effectTag&=-3;break;case 6:cs(Ds),Ds.effectTag&=-3,fs(Ds.alternate,Ds);break;case 1024:Ds.effectTag&=-1025;break;case 1028:Ds.effectTag&=-1025,fs(Ds.alternate,Ds);break;case 4:fs(Ds.alternate,Ds);break;case 8:ls(s,l=Ds,u),ss(l)}Ds=Ds.nextEffect}}catch(e){if(null===Ds)throw Error(a(330));yu(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);if(w=vn,A=dn(),b=w.focusedElem,u=w.selectionRange,A!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&pn(b)&&(A=u.start,void 0===(w=u.end)&&(w=A),"selectionStart"in b?(b.selectionStart=A,b.selectionEnd=Math.min(w,b.value.length)):(w=(A=b.ownerDocument||document)&&A.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!w.extend&&s>u&&(l=u,u=s,s=l),l=hn(b,s),f=hn(b,u),l&&f&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((A=A.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>u?(w.addRange(A),w.extend(f.node,f.offset)):(A.setEnd(f.node,f.offset),w.addRange(A))))),A=[];for(w=b;w=w.parentNode;)1===w.nodeType&&A.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<A.length;b++)(w=A[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Wt=!!gn,vn=gn=null,e.current=n,Ds=i;do{try{for(b=e;null!==Ds;){var E=Ds.effectTag;if(36&E&&os(b,Ds.alternate,Ds),128&E){A=void 0;var x=Ds.ref;if(null!==x){var T=Ds.stateNode;switch(Ds.tag){case 5:A=T;break;default:A=T}"function"==typeof x?x(A):x.current=A}}Ds=Ds.nextEffect}}catch(e){if(null===Ds)throw Error(a(330));yu(Ds,e),Ds=Ds.nextEffect}}while(null!==Ds);Ds=null,Li(),Es=o}else e.current=n;if(Fs)Fs=!1,Us=e,Hs=t;else for(Ds=i;null!==Ds;)t=Ds.nextEffect,Ds.nextEffect=null,Ds=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===zs?Qs++:(Qs=0,zs=e):Qs=0,"function"==typeof Au&&Au(n.stateNode,r),$s(e),Ms)throw Ms=!1,e=js,js=null,e;return 0!=(8&Es)||Vi(),null}function pu(){for(;null!==Ds;){var e=Ds.effectTag;0!=(256&e)&&ns(Ds.alternate,Ds),0==(512&e)||Fs||(Fs=!0,Qi(97,(function(){return gu(),null}))),Ds=Ds.nextEffect}}function gu(){if(90!==Hs){var e=97<Hs?97:Hs;return Hs=90,Gi(e,vu)}}function vu(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(t){if(null===e)throw Error(a(330));yu(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,Vi(),!0}function mu(e,t,n){uo(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Ys(e,1073741823))&&$s(e)}function yu(e,t){if(3===e.tag)mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){uo(n,e=gs(n,e=Ja(t,e),1073741823)),null!==(n=Ys(n,1073741823))&&$s(n);break}}n=n.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),xs===e&&Ss===n?Os===ws||Os===As&&1073741823===ks&&Fi()-Ls<500?nu(e,Ss):Rs=!0:Iu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,$s(e)))}function bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=qs(t=Ws(),e,null)),null!==(e=Ys(e,t))&&$s(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Pa=!0;else{if(r<n){switch(Pa=!1,t.tag){case 3:Fa(t),Ca();break;case 5:if(Lo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&_i(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?za(e,t,n):(ci(Mo,1&Mo.current),null!==(t=Xa(e,t,n))?t.sibling:null);ci(Mo,1&Mo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Mo,Mo.current),!r)return null}return Xa(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Xo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternalFiber=t,bo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,Na(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Tu(e)?1:0;if(null!=e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ma(null,t,i,e,n);break e;case 1:t=ja(null,t,i,e,n);break e;case 11:t=Ia(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Fa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Ca(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(Aa=An(t.stateNode.containerInfo.firstChild),ba=t,i=wa=!0),i)for(n=So(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Na(e,t,r,n),Ca();t=t.child}return t;case 5:return Lo(t),null===e&&Ta(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Da(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Na(e,t,s,n),t=t.child),t;case 6:return null===e&&Ta(t),null;case 13:return za(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ci(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=jr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,uo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Na(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ra(e,t,i,o=Xi(i.type,o),r,n);case 15:return La(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,no(t,n),yo(t,r,i),bo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var Au=null,wu=null;function Eu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xu(e,t,n,r){return new Eu(e,t,n,r)}function Tu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Su(e,t){var n=e.alternate;return null===n?((n=xu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Tu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Cu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=xu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=xu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=xu(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cu(e,t,n,r){return(e=xu(7,e,r,t)).expirationTime=n,e}function ku(e,t,n){return(e=xu(6,e,null,t)).expirationTime=n,e}function Pu(e,t,n){return(t=xu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Iu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ru(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Lu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Du(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Mu(e,t,n,r){var i=t.current,o=Ws(),s=ho.suspense;o=qs(o,i,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=yi(n,c,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Xs(i,o),o}function ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fu(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function Uu(e,t,n){var r=new Nu(e,t,n=null!=n&&!0===n.hydrate),i=xu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Sn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);St.forEach((function(e){pt(e,t,n)})),Ot.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Hu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=ju(a);s.call(e)}}Mu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=ju(a);u.call(e)}}tu((function(){Mu(t,a,e,i)}))}return ju(a)}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hu(t))throw Error(a(200));return Qu(e,t,null,n)}Uu.prototype.render=function(e){Mu(e,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Mu(null,e,null,(function(){t[Sn]=null}))},gt=function(e){if(13===e.tag){var t=qi(Ws(),150,100);Xs(e,t),Fu(e,t)}},vt=function(e){13===e.tag&&(Xs(e,3),Fu(e,3))},mt=function(e){if(13===e.tag){var t=Ws();Xs(e,t=qs(t,e,null)),Fu(e,t)}},C=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(a(90));Ae(r),Te(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},L=eu,D=function(e,t,n,r,i){var o=Es;Es|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&Vi()}},M=function(){0==(49&Es)&&(function(){if(null!==Gs){var e=Gs;Gs=null,e.forEach((function(e,t){Du(t,e),$s(t)})),Vi()}}(),gu())},j=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&Vi()}};var Vu,Wu,qu={Events:[Cn,kn,Pn,S,E,jn,function(e){it(e,Mn)},I,R,$t,st,gu,{current:!1}]};Wu=(Vu={findFiberByHostInstance:On,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Au=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},wu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Vu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Wu?Wu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qu,t.createPortal=zu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Gi(99,e.bind(null,t))}finally{Es=n,Vi()}},t.hydrate=function(e,t,n){if(!Hu(t))throw Error(a(200));return Gu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Hu(t))throw Error(a(200));return Gu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Gu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return zu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Gu(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(327)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(l,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var y=!1,_=null,b=-1,A=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):A=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();w=e+A;try{_(!0,e)?x.postMessage(null):(y=!1,_=null)}catch(e){throw x.postMessage(null),e}}else y=!1},r=function(e){_=e,y||(y=!0,x.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},o=function(){g(b),b=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],P=[],N=1,I=null,R=3,L=!1,D=!1,M=!1;function j(e){for(var t=S(P);null!==t;){if(null===t.callback)O(P);else{if(!(t.startTime<=e))break;O(P),t.sortIndex=t.expirationTime,T(k,t)}t=S(P)}}function B(e){if(M=!1,j(e),!D)if(null!==S(k))D=!0,r(F);else{var t=S(P);null!==t&&i(B,t.startTime-e)}}function F(e,n){D=!1,M&&(M=!1,o()),L=!0;var r=R;try{for(j(n),I=S(k);null!==I&&(!(I.expirationTime>n)||e&&!a());){var s=I.callback;if(null!==s){I.callback=null,R=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?I.callback=u:I===S(k)&&O(k),j(n)}else O(k);I=S(k)}if(null!==I)var c=!0;else{var l=S(P);null!==l&&i(B,l.startTime-n),c=!1}return c}finally{I=null,R=r,L=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||L||(D=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),u=s;return e={id:N++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,T(P,e),null===S(k)&&e===S(P)&&(M?o():M=!0,i(B,u-s))):(e.sortIndex=a,T(k,e),D||L||(D=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=S(k);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){"use strict";var r=n(329);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,A=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case c:return e;default:return t}}case o:return t}}}function E(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===u||e===s||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===_||e.$$typeof===b||e.$$typeof===A||e.$$typeof===y)},t.typeOf=w},function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserRouter",(function(){return f})),n.d(t,"HashRouter",(function(){return h})),n.d(t,"Link",(function(){return y})),n.d(t,"NavLink",(function(){return A}));var r=n(31);n.d(t,"MemoryRouter",(function(){return r.MemoryRouter})),n.d(t,"Prompt",(function(){return r.Prompt})),n.d(t,"Redirect",(function(){return r.Redirect})),n.d(t,"Route",(function(){return r.Route})),n.d(t,"Router",(function(){return r.Router})),n.d(t,"StaticRouter",(function(){return r.StaticRouter})),n.d(t,"Switch",(function(){return r.Switch})),n.d(t,"generatePath",(function(){return r.generatePath})),n.d(t,"matchPath",(function(){return r.matchPath})),n.d(t,"useHistory",(function(){return r.useHistory})),n.d(t,"useLocation",(function(){return r.useLocation})),n.d(t,"useParams",(function(){return r.useParams})),n.d(t,"useRouteMatch",(function(){return r.useRouteMatch})),n.d(t,"withRouter",(function(){return r.withRouter}));var i=n(47),o=n(3),a=n.n(o),s=n(53),u=(n(27),n(21)),c=n(42),l=n(55),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},t}(a.a.Component);var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},t}(a.a.Component);var d=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(s.c)(e,null,null,t):e},g=function(e){return e},v=a.a.forwardRef;void 0===v&&(v=g);var m=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=g!==v&&t||n,a.a.createElement("a",l)}));var y=v((function(e,t){var n=e.component,i=void 0===n?m:n,o=e.replace,f=e.to,h=e.innerRef,y=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=p(d(f,e.location),e.location),c=r?n.createHref(r):"",m=Object(u.a)({},y,{href:c,navigate:function(){var t=d(f,e.location),r=Object(s.e)(e.location)===Object(s.e)(p(t));(o||r?n.replace:n.push)(t)}});return g!==v?m.ref=t||h:m.innerRef=h,a.a.createElement(i,m)}))})),_=function(e){return e},b=a.a.forwardRef;void 0===b&&(b=_);var A=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,h=e.className,g=e.exact,v=e.isActive,m=e.location,A=e.sensitive,w=e.strict,E=e.style,x=e.to,T=e.innerRef,S=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,(function(e){e||Object(l.a)(!1);var n=m||e.location,o=p(d(x,n),n),c=o.pathname,O=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=O?Object(r.matchPath)(n.pathname,{path:O,exact:g,sensitive:A,strict:w}):null,k=!!(v?v(C,n):C),P="function"==typeof h?h(k):h,N="function"==typeof E?E(k):E;k&&(P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(P,s),N=Object(u.a)({},N,f));var I=Object(u.a)({"aria-current":k&&i||null,className:P,style:N,to:o},S);return _!==b?I.ref=t||T:I.innerRef=T,a.a.createElement(y,I)}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(334),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=p(o),s=p(n(106)),u=p(n(27)),c=p(n(335)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(200)),f=n(155),h=p(f),d=n(342);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",_=f.canUseDOM&&void 0!==s.default.createPortal,b=function(e){return document.createElement(e)},A=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var E=function(e){function t(){var e,n,i;g(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!_&&s.default.unmountComponentAtNode(i.node);var e=w(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=A()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},v(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(_||(this.node=b("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&_?(!this.node&&_&&(this.node=b("div")),A()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(o.Component);E.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(h.default),u.default.instanceOf(f.SafeHTMLCollection),u.default.instanceOf(f.SafeNodeList),u.default.arrayOf(u.default.instanceOf(h.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},E.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(E),t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=v(n(27)),u=g(n(336)),c=v(n(337)),l=g(n(200)),f=g(n(340)),h=n(155),d=v(h),p=v(n(201));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(341);var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&f.remove(document.body,o),i&&f.remove(document.getElementsByTagName("html")[0],i),r&&y>0&&0===(y-=1)&&l.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":i(t))?t:{base:m[e],afterOpen:m[e]+"--after-open",beforeClose:m[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&f.add(document.body,i),r&&f.add(document.getElementsByTagName("html")[0],r),n&&(y+=1,l.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,s=n?{}:o.content,u=i?{}:o.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(l,a);return this.props.overlayElement(c,f)}}]),t}(a.Component);_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(d.default),s.default.instanceOf(h.SafeHTMLCollection),s.default.instanceOf(h.SafeNodeList),s.default.arrayOf(s.default.instanceOf(d.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n(199),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1],u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return t.activeElement.shadowRoot?e(t.activeElement.shadowRoot):t.activeElement}();if(e===u){if(!i)return;r=s}s!==u||i||(r=a);a===u&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(u);l>-1&&(l+=i?-1:1);if(void 0===(r=n[l]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n(199),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)o(e,r[t]);var n=document.body;for(var a in i)o(n,i[a]);r={},i={}},t.log=function(){0};var r={},i={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,u=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var e=[a,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(201),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,u=[];function c(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(u=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t){
/*!
* @license EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
(function(){this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var n=e.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(r)for(var i in n[(t+="_")+"constructor"]=r.constructor,r)n.hasOwnProperty(i)&&"function"==typeof r[i]&&(n[t+i]=r[i]);return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var n=0,r=e.length;n<r;n++)if(t===e[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},createjs.deprecate=function(e,t){"use strict";return function(){var n="Deprecated property or method '"+t+"'. See docs for info.";return console&&(console.warn?console.warn(n):console.log(n)),e&&e.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var r,i=(r=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return i&&this.removeEventListener(e,t,n),(i=r[e])?i.push(t):r[e]=[t],t},t.on=function(e,t,n,r,i,o){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,(function(e){t.call(n,e,i),r&&e.remove()}),o)},t.removeEventListener=function(e,t,n){var r=n?this._captureListeners:this._listeners;if(r){var i=r[e];if(i)for(var o=0,a=i.length;o<a;o++)if(i[o]==t){1==a?delete r[e]:i.splice(o,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,n){if("string"==typeof e){var r=this._listeners;if(!(t||r&&r[e]))return!0;e=new createjs.Event(e,t,n)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var i=this,o=[i];i.parent;)o.push(i=i.parent);var a,s=o.length;for(a=s-1;a>=0&&!e.propagationStopped;a--)o[a]._dispatchEvent(e,1+(0==a));for(a=1;a<s&&!e.propagationStopped;a++)o[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,r,i=t<=2?this._captureListeners:this._listeners;if(e&&i&&(r=i[e.type])&&(n=r.length)){try{e.currentTarget=this}catch(e){}try{e.eventPhase=0|t}catch(e){}e.removed=!1,r=r.slice();for(var o=0;o<n&&!e.immediatePropagationStopped;o++){var a=r[o];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}2===t&&this._dispatchEvent(e,2.1)},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e._setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.setInterval=createjs.deprecate(e._setInterval,"Ticker.setInterval"),e._getInterval=function(){return e._interval},e.getInterval=createjs.deprecate(e._getInterval,"Ticker.getInterval"),e._setFPS=function(t){e._setInterval(1e3/t)},e.setFPS=createjs.deprecate(e._setFPS,"Ticker.setFPS"),e._getFPS=function(){return 1e3/e._interval},e.getFPS=createjs.deprecate(e._getFPS,"Ticker.getFPS");try{Object.defineProperties(e,{interval:{get:e._getInterval,set:e._setInterval},framerate:{get:e._getFPS,set:e._setFPS}})}catch(e){console.log(e)}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=e._pausedTime=0,e._inited=!1},e.getMeasuredTickTime=function(t){var n=0,r=e._tickTimes;if(!r||r.length<1)return-1;t=Math.min(r.length,t||0|e._getFPS());for(var i=0;i<t;i++)n+=r[i];return n/t},e.getMeasuredFPS=function(t){var n=e._times;return!n||n.length<2?-1:(t=Math.min(n.length-1,t||0|e._getFPS()),1e3/((n[0]-n[t])/t))},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode;if(t==e.RAF_SYNCHED||t==e.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return e._timerId=n(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,n=e._getTime(),r=n-e._lastTime;if(e._lastTime=n,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=r),e.hasEventListener("tick")){var i=new createjs.Event("tick"),o=e.maxDelta;i.delta=o&&r>o?o:r,i.paused=t,i.time=n,i.runTime=n-e._pausedTime,e.dispatchEvent(i)}for(e._tickTimes.unshift(e._getTime()-n);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(n);e._times.length>100;)e._times.pop()};var t=window,n=t.performance.now||t.performance.mozNow||t.performance.msNow||t.performance.oNow||t.performance.webkitNow;e._getTime=function(){return(n&&n.call(t.performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.readyState=e.readyState,this._video=e,this._canvas=null,this._lastTime=-1,this.readyState<2&&e.addEventListener("canplaythrough",this._videoReady.bind(this))}var t=e.prototype;t.getImage=function(){if(!(this.readyState<2)){var e=this._canvas,t=this._video;if(e||((e=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=t.videoWidth,e.height=t.videoHeight),t.readyState>=2&&t.currentTime!==this._lastTime){var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.drawImage(t,0,0,e.width,e.height),this._lastTime=t.currentTime}return e}},t._videoReady=function(){this.readyState=2},createjs.VideoBuffer=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r,i,o,a,s,u,c,l){this.Event_constructor(e,t,n),this.stageX=r,this.stageY=i,this.rawX=null==u?r:u,this.rawY=null==c?i:c,this.nativeEvent=o,this.pointerID=a,this.primary=!!s,this.relatedTarget=l}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(e){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r,i,o){this.setValues(e,t,n,r,i,o)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,n,r,i,o){return this.a=null==e?1:e,this.b=t||0,this.c=n||0,this.d=null==r?1:r,this.tx=i||0,this.ty=o||0,this},t.append=function(e,t,n,r,i,o){var a=this.a,s=this.b,u=this.c,c=this.d;return 1==e&&0==t&&0==n&&1==r||(this.a=a*e+u*t,this.b=s*e+c*t,this.c=a*n+u*r,this.d=s*n+c*r),this.tx=a*i+u*o+this.tx,this.ty=s*i+c*o+this.ty,this},t.prepend=function(e,t,n,r,i,o){var a=this.a,s=this.c,u=this.tx;return this.a=e*a+n*this.b,this.b=t*a+r*this.b,this.c=e*s+n*this.d,this.d=t*s+r*this.d,this.tx=e*u+n*this.ty+i,this.ty=t*u+r*this.ty+o,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,n,r,i,o,a,s,u,c){if(o%360)var l=o*e.DEG_TO_RAD,f=Math.cos(l),h=Math.sin(l);else f=1,h=0;return a||s?(a*=e.DEG_TO_RAD,s*=e.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),t,n),this.append(f*r,h*r,-h*i,f*i,0,0)):this.append(f*r,h*r,-h*i,f*i,t,n),(u||c)&&(this.tx-=u*this.a+c*this.c,this.ty-=u*this.b+c*this.d),this},t.prependTransform=function(t,n,r,i,o,a,s,u,c){if(o%360)var l=o*e.DEG_TO_RAD,f=Math.cos(l),h=Math.sin(l);else f=1,h=0;return(u||c)&&(this.tx-=u,this.ty-=c),a||s?(a*=e.DEG_TO_RAD,s*=e.DEG_TO_RAD,this.prepend(f*r,h*r,-h*i,f*i,0,0),this.prepend(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),t,n)):this.prepend(f*r,h*r,-h*i,f*i,t,n),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var n=Math.cos(t),r=Math.sin(t),i=this.a,o=this.b;return this.a=i*n+this.c*r,this.b=o*n+this.d*r,this.c=-i*r+this.c*n,this.d=-o*r+this.d*n,this},t.skew=function(t,n){return t*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,n){return(n=n||{}).x=e*this.a+t*this.c+this.tx,n.y=e*this.b+t*this.d+this.ty,n},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);return Math.abs(1-n/r)<1e-5?(t.rotation=r/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=r/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r,i){this.setValues(e,t,n,r,i)}var t=e.prototype;t.setValues=function(e,t,n,r,i){return this.visible=null==e||!!e,this.alpha=null==t?1:t,this.shadow=n,this.compositeOperation=r,this.matrix=i||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(e,t,n,r,i){return this.alpha*=t,this.shadow=n||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&e,i&&this.matrix.appendMatrix(i),this},t.prepend=function(e,t,n,r,i){return this.alpha*=t,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&e,i&&this.matrix.prependMatrix(i),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.offset=function(e,t){return this.x+=e,this.y+=t,this},e.polar=function(t,n,r){return(r=r||new e).x=t*Math.cos(n),r.y=t*Math.sin(n),r},e.interpolate=function(t,n,r,i){return(i=i||new e).x=n.x+r*(t.x-n.x),i.y=n.y+r*(t.y-n.y),i},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r){this.setValues(e,t,n,r)}var t=e.prototype;t.setValues=function(e,t,n,r){return this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this},t.extend=function(e,t,n,r){return r=r||0,e+(n=n||0)>this.x+this.width&&(this.width=e+n-this.x),t+r>this.y+this.height&&(this.height=t+r-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,n,r){return this.x-=t,this.y-=e,this.width+=t+r,this.height+=e+n,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,n,r){return n=n||0,r=r||0,e>=this.x&&e+n<=this.x+this.width&&t>=this.y&&t+r<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var n=t.x,r=t.y,i=n+t.width,o=r+t.height;return this.x>n&&(n=this.x),this.y>r&&(r=this.y),this.x+this.width<i&&(i=this.x+this.width),this.y+this.height<o&&(o=this.y+this.height),i<=n||o<=r?null:new e(n,r,i-n,o-r)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r,i,o,a){e.addEventListener&&(this.target=e,this.overLabel=null==n?"over":n,this.outLabel=null==t?"out":t,this.downLabel=null==r?"down":r,this.play=i,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),o&&(a&&(o.actionsEnabled=!1,o.gotoAndStop&&o.gotoAndStop(a)),e.hitArea=o))}var t=e.prototype;t._setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.setEnabled=createjs.deprecate(t._setEnabled,"ButtonHelper.setEnabled"),t._getEnabled=function(){return this._enabled},t.getEnabled=createjs.deprecate(t._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(t,{enabled:{get:t._getEnabled,set:t._setEnabled}})}catch(e){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,n=this.target,r=e.type;"mousedown"==r?(this._isPressed=!0,t=this.downLabel):"pressup"==r?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(t):n.gotoAndStop&&n.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r){this.color=e||"black",this.offsetX=t||0,this.offsetY=n||0,this.blur=r||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t._getAnimations=function(){return this._animations.slice()},t.getAnimations=createjs.deprecate(t._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(t,{animations:{get:t._getAnimations}})}catch(e){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var n=this.getFrame(e);return n?(t||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,n,r,i;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(n=e.images.length)>0)for(i=this._images=[],t=0;t<n;t++){var o=e.images[t];if("string"==typeof o){var a=o;(o=document.createElement("img")).src=a}i.push(o),o.getContext||o.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){o.onload=function(){e._handleImageLoad(t)}}(this,a),function(e,t){o.onerror=function(){e._handleImageError(t)}}(this,a))}if(null==e.frames);else if(Array.isArray(e.frames))for(this._frames=[],t=0,n=(i=e.frames).length;t<n;t++){var s=i[t];this._frames.push({image:this._images[s[4]?s[4]:0],rect:new createjs.Rectangle(s[0],s[1],s[2],s[3]),regX:s[5]||0,regY:s[6]||0})}else r=e.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._spacing=r.spacing||0,this._margin=r.margin||0,this._numFrames=r.count,0==this._loadCount&&this._calculateFrames();var u;if(this._animations=[],null!=(r=e.animations))for(u in this._data={},r){var c={name:u},l=r[u];if("number"==typeof l)i=c.frames=[l];else if(Array.isArray(l))if(1==l.length)c.frames=[l[0]];else for(c.speed=l[3],c.next=l[2],i=c.frames=[],t=l[0];t<=l[1];t++)i.push(t);else{c.speed=l.speed,c.next=l.next;var f=l.frames;i=c.frames="number"==typeof f?[f]:f.slice(0)}!0!==c.next&&void 0!==c.next||(c.next=u),(!1===c.next||i.length<2&&c.next==u)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(u),this._data[u]=c}}},t._handleImageLoad=function(e){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new createjs.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,n=this._frameWidth,r=this._frameHeight,i=this._spacing,o=this._margin;e:for(var a=0,s=this._images;a<s.length;a++)for(var u=s[a],c=u.width||u.naturalWidth,l=u.height||u.naturalHeight,f=o;f<=l-o-r;){for(var h=o;h<=c-o-n;){if(t>=e)break e;t++,this._frames.push({image:u,rect:new createjs.Rectangle(h,f,n,r),regX:this._regX,regY:this._regY}),h+=n+i}f+=r+i}this._numFrames=t}},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,n=e;e.getRGB=function(e,t,n,r){return null!=e&&null==n&&(r=t,n=255&e,t=e>>8&255,e=e>>16&255),null==r?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+r+")"},e.getHSL=function(e,t,n,r){return null==r?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+r+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(e._ctx=r.getContext("2d"),r.width=r.height=1),t._getInstructions=function(){return this._updateInstructions(),this._instructions},t.getInstructions=createjs.deprecate(t._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(t,{instructions:{get:t._getInstructions}})}catch(e){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var n=this._instructions,r=this._storeIndex,i=n.length;r<i;r++)n[r].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,n=this._instructions,r=this._storeIndex,i=n.length;r<i;r++)!1!==(t=n[r]).path&&t.exec(e)},t.moveTo=function(e,t){return this.append(new n.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new n.LineTo(e,t))},t.arcTo=function(e,t,r,i,o){return this.append(new n.ArcTo(e,t,r,i,o))},t.arc=function(e,t,r,i,o,a){return this.append(new n.Arc(e,t,r,i,o,a))},t.quadraticCurveTo=function(e,t,r,i){return this.append(new n.QuadraticCurveTo(e,t,r,i))},t.bezierCurveTo=function(e,t,r,i,o,a){return this.append(new n.BezierCurveTo(e,t,r,i,o,a))},t.rect=function(e,t,r,i){return this.append(new n.Rect(e,t,r,i))},t.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new n.Fill(e):null)},t.beginLinearGradientFill=function(e,t,r,i,o,a){return this._setFill((new n.Fill).linearGradient(e,t,r,i,o,a))},t.beginRadialGradientFill=function(e,t,r,i,o,a,s,u){return this._setFill((new n.Fill).radialGradient(e,t,r,i,o,a,s,u))},t.beginBitmapFill=function(e,t,r){return this._setFill(new n.Fill(null,r).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,r,i,o){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(e,t,r,i,o),this._stroke&&(this._stroke.ignoreScale=o),this._strokeIgnoreScale=o,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new n.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,r,i,o,a){return this._setStroke((new n.Stroke).linearGradient(e,t,r,i,o,a))},t.beginRadialGradientStroke=function(e,t,r,i,o,a,s,u){return this._setStroke((new n.Stroke).radialGradient(e,t,r,i,o,a,s,u))},t.beginBitmapStroke=function(e,t){return this._setStroke((new n.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,n,r,i){return this.drawRoundRectComplex(e,t,n,r,i,i,i,i)},t.drawRoundRectComplex=function(e,t,r,i,o,a,s,u){return this.append(new n.RoundRect(e,t,r,i,o,a,s,u))},t.drawCircle=function(e,t,r){return this.append(new n.Circle(e,t,r))},t.drawEllipse=function(e,t,r,i){return this.append(new n.Ellipse(e,t,r,i))},t.drawPolyStar=function(e,t,r,i,o,a){return this.append(new n.PolyStar(e,t,r,i,o,a))},t.drawPolygon=function(e,t){return this.append(new n.Polygon(e,t))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],i=0,o=t.length,a=[],s=0,u=0,c=e.BASE_64;i<o;){var l=t.charAt(i),f=c[l],h=f>>3,d=n[h];if(!d||3&f)throw"bad path data (@"+i+"): "+l;var p=r[h];h||(s=u=0),a.length=0,i++;for(var g=2+(f>>2&1),v=0;v<p;v++){var m=c[t.charAt(i)],y=m>>5?-1:1;m=(31&m)<<6|c[t.charAt(i+1)],3==g&&(m=m<<6|c[t.charAt(i+2)]),m=y*m/10,v%2?s=m+=s:u=m+=u,a[v]=m,i+=g}d.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.pg=t.drawPolygon,t.p=t.decodePath,t._updateInstructions=function(t){var n=this._instructions,r=this._activeInstructions,i=this._commitIndex;if(this._dirty&&r.length){n.length=i,n.push(e.beginCmd);var o=r.length,a=n.length;n.length=a+o;for(var s=0;s<o;s++)n[s+a]=r[s];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&n.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&n.push(this._strokeStyle),t&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),n.push(this._stroke)),this._dirty=!1}t&&(r.length=0,this._commitIndex=n.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(n.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(n.ArcTo=function(e,t,n,r,i){this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.radius=i}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(e,t,n,r,i,o){this.x=e,this.y=t,this.radius=n,this.startAngle=r,this.endAngle=i,this.anticlockwise=!!o}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(e,t,n,r){this.cpx=e,this.cpy=t,this.x=n,this.y=r}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(e,t,n,r,i,o){this.cp1x=e,this.cp1y=t,this.cp2x=n,this.cp2y=r,this.x=i,this.y=o}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(n.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},(t=(n.Fill=function(e,t){this.style=e,this.matrix=t}).prototype).exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,n,r,i,o,a){for(var s=this.style=e._ctx.createLinearGradient(r,i,o,a),u=0,c=t.length;u<c;u++)s.addColorStop(n[u],t[u]);return s.props={colors:t,ratios:n,x0:r,y0:i,x1:o,y1:a,type:"linear"},this},t.radialGradient=function(t,n,r,i,o,a,s,u){for(var c=this.style=e._ctx.createRadialGradient(r,i,o,a,s,u),l=0,f=t.length;l<f;l++)c.addColorStop(n[l],t[l]);return c.props={colors:t,ratios:n,x0:r,y0:i,r0:o,x1:a,y1:s,r1:u,type:"radial"},this},t.bitmap=function(t,n,r){return r&&(this.matrix=r),(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=e._ctx.createPattern(t,n||"")).props={image:t,repetition:n,type:"bitmap"}),this},t.path=!1,(t=(n.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype).exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=n.Fill.prototype.linearGradient,t.radialGradient=n.Fill.prototype.radialGradient,t.bitmap=n.Fill.prototype.bitmap,t.path=!1,(t=(n.StrokeStyle=function(e,t,n,r,i){this.width=e,this.caps=t,this.joints=n,this.miterLimit=r,this.ignoreScale=i}).prototype).exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(n.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(e,t,n,r,i,o,a,s){this.x=e,this.y=t,this.w=n,this.h=r,this.radiusTL=i,this.radiusTR=o,this.radiusBR=a,this.radiusBL=s}).prototype.exec=function(e){var t=(this.w<this.h?this.w:this.h)/2,n=0,r=0,i=0,o=0,a=this.x,s=this.y,u=this.w,c=this.h,l=this.radiusTL,f=this.radiusTR,h=this.radiusBR,d=this.radiusBL;l<0&&(l*=n=-1),l>t&&(l=t),f<0&&(f*=r=-1),f>t&&(f=t),h<0&&(h*=i=-1),h>t&&(h=t),d<0&&(d*=o=-1),d>t&&(d=t),e.moveTo(a+u-f,s),e.arcTo(a+u+f*r,s-f*r,a+u,s+f,f),e.lineTo(a+u,s+c-h),e.arcTo(a+u+h*i,s+c+h*i,a+u-h,s+c,h),e.lineTo(a+d,s+c),e.arcTo(a-d*o,s+c+d*o,a,s+c-d,d),e.lineTo(a,s+l),e.arcTo(a-l*n,s-l*n,a+l,s,l),e.closePath()},(n.Circle=function(e,t,n){this.x=e,this.y=t,this.radius=n}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}).prototype.exec=function(e){var t=this.x,n=this.y,r=this.w,i=this.h,o=.5522848,a=r/2*o,s=i/2*o,u=t+r,c=n+i,l=t+r/2,f=n+i/2;e.moveTo(t,f),e.bezierCurveTo(t,f-s,l-a,n,l,n),e.bezierCurveTo(l+a,n,u,f-s,u,f),e.bezierCurveTo(u,f+s,l+a,c,l,c),e.bezierCurveTo(l-a,c,t,f+s,t,f)},(n.PolyStar=function(e,t,n,r,i,o){this.x=e,this.y=t,this.radius=n,this.sides=r,this.pointSize=i,this.angle=o}).prototype.exec=function(e){var t=this.x,n=this.y,r=this.radius,i=(this.angle||0)/180*Math.PI,o=this.sides,a=1-(this.pointSize||0),s=Math.PI/o;e.moveTo(t+Math.cos(i)*r,n+Math.sin(i)*r);for(var u=0;u<o+1&&(i+=s,1==a||(e.lineTo(t+Math.cos(i)*r*a,n+Math.sin(i)*r*a),u!=o));u++)i+=s,e.lineTo(t+Math.cos(i)*r,n+Math.sin(i)*r);e.closePath()},(n.Polygon=function(e,t){this.points=e,null==t&&(t=!0),this.close=t}).prototype.exec=function(e){var t,n,r,i=this.points,o=this.close;n=i[0],e.moveTo(n[0],n[1]);for(var a=1;a<i.length;a++)t=i[a],1==a&&(r=[t[0],t[1]]),e.lineTo(t[0],t[1]);o&&(e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.closePath())},e.beginCmd=new n.BeginPath,createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=e._StageGL_NONE,this._glMtx=new createjs.Matrix2D}var t=createjs.extend(e,createjs.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1,e._StageGL_NONE=0,e._StageGL_SPRITE=1,e._StageGL_BITMAP=2;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._hitTestCanvas=n,e._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._getStage=function(){for(var e=this,t=createjs.Stage;e.parent;)e=e.parent;return e instanceof t?e:null},t.getStage=createjs.deprecate(t._getStage,"DisplayObject.getStage");try{Object.defineProperties(t,{stage:{get:t._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(e){this.bitmapCache&&(this.bitmapCache.cacheID=e)}},scale:{get:function(){return this.scaleX},set:function(e){this.scaleX=this.scaleY=e}}})}catch(e){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var n=this.bitmapCache;return!(!n||t)&&n.draw(e)},t.updateContext=function(t){var n=this,r=n.mask,i=n._props.matrix;r&&r.graphics&&!r.graphics.isEmpty()&&(r.getMatrix(i),t.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),r.graphics.drawAsPath(t),t.clip(),i.invert(),t.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),this.getMatrix(i);var o=i.tx,a=i.ty;e._snapToPixelEnabled&&n.snapToPixel&&(o=o+(o<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),t.transform(i.a,i.b,i.c,i.d,o,a),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)},t.cache=function(e,t,n,r,i,o){this.bitmapCache?this.bitmapCache._autoGenerated=!1:this.bitmapCache=new createjs.BitmapCache,this.bitmapCache.define(this,e,t,n,r,i,o)},t.updateCache=function(e){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(e)},t.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},t.getCacheDataURL=function(e,t){return this.bitmapCache?this.bitmapCache.getCacheDataURL(e,t):null},t.localToGlobal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,n||new createjs.Point)},t.globalToLocal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,n||new createjs.Point)},t.localToLocal=function(e,t,n,r){return r=this.localToGlobal(e,t,r),n.globalToLocal(r.x,r.y,r)},t.setTransform=function(e,t,n,r,i,o,a,s,u){return this.x=e||0,this.y=t||0,this.scaleX=null==n?1:n,this.scaleY=null==r?1:r,this.rotation=i||0,this.skewX=o||0,this.skewY=a||0,this.regX=s||0,this.regY=u||0,this},t.getMatrix=function(e){var t=this,n=e||new createjs.Matrix2D;return t.transformMatrix?n.copy(t.transformMatrix):n.identity()&&n.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,n=this.getMatrix(e);t=t.parent;)n.prependMatrix(t.getMatrix(t._props.matrix));return n},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,n=t.getMatrix(e.matrix);do{e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&n.prependMatrix(t.getMatrix(t._props.matrix))}while(t=t.parent);return e},t.hitTest=function(t,n){var r=e._hitTestContext;r.setTransform(1,0,0,1,-t,-n),this.draw(r,!(this.bitmapCache&&!(this.bitmapCache._cacheCanvas instanceof WebGLTexture)));var i=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),i},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.bitmapCache;return e&&this.cacheCanvas?e.getBounds():null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,n,r){this._bounds=null!=e?(this._bounds||new createjs.Rectangle).setValues(e,t,n,r):e},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._updateState=null,t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e._webGLRenderStyle=this._webGLRenderStyle,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var n=t.getImageData(0,0,1,1).data[3]>1}catch(t){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,n){if(!e)return e;var r=e.x,i=e.y,o=e.width,a=e.height,s=this._props.matrix;s=n?s.identity():this.getMatrix(s),(r||i)&&s.appendTransform(0,0,1,1,0,0,0,-r,-i),t&&s.prependMatrix(t);var u=o*s.a,c=o*s.b,l=a*s.c,f=a*s.d,h=s.tx,d=s.ty,p=h,g=h,v=d,m=d;return(r=u+h)<p?p=r:r>g&&(g=r),(r=u+l+h)<p?p=r:r>g&&(g=r),(r=l+h)<p?p=r:r>g&&(g=r),(i=c+d)<v?v=i:i>m&&(m=i),(i=c+f+d)<v?v=i:i>m&&(m=i),(i=f+d)<v?v=i:i>m&&(m=i),e.setValues(p,v,g-p,m-v)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,n=0,r=t.length;n<r;n++)if(this.hasEventListener(t[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(e,createjs.DisplayObject);t._getNumChildren=function(){return this.children.length},t.getNumChildren=createjs.deprecate(t._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(t,{numChildren:{get:t._getNumChildren}})}catch(e){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var n=this.children.slice(),r=0,i=n.length;r<i;r++){var o=n[r];o.isVisible()&&(e.save(),o.updateContext(e),o.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var n=0;n<t;n++)this.addChild(arguments[n]);return arguments[t-1]}var r=e.parent,i=r===this;return r&&r._removeChildAt(createjs.indexOf(r.children,e),i),e.parent=this,this.children.push(e),i||e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var n=arguments.length,r=arguments[n-1];if(r<0||r>this.children.length)return arguments[n-2];if(n>2){for(var i=0;i<n-1;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}var o=e.parent,a=o===this;return o&&o._removeChildAt(createjs.indexOf(o.children,e),a),e.parent=this,this.children.splice(t,0,e),a||e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var n=!0,r=0;r<t;r++)n=n&&this.removeChild(arguments[r]);return n}return this._removeChildAt(createjs.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var n=[],r=0;r<t;r++)n[r]=arguments[r];n.sort((function(e,t){return t-e}));var i=!0;for(r=0;r<t;r++)i=i&&this._removeChildAt(n[r]);return i}return this._removeChildAt(e)},t.removeAllChildren=function(){for(var e=this.children;e.length;)this._removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,n=0,r=t.length;n<r;n++)if(t[n].name==e)return t[n];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return createjs.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var n=this.children,r=n[e],i=n[t];r&&i&&(n[e]=i,n[t]=r)},t.swapChildren=function(e,t){for(var n,r,i=this.children,o=0,a=i.length;o<a&&(i[o]==e&&(n=o),i[o]==t&&(r=o),null==n||null==r);o++);o!=a&&(i[n]=t,i[r]=e)},t.setChildIndex=function(e,t){var n=this.children,r=n.length;if(!(e.parent!=this||t<0||t>=r)){for(var i=0;i<r&&n[i]!=e;i++);i!=r&&i!=t&&(n.splice(i,1),n.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,n){var r=[],i=this.localToGlobal(e,t);return this._getObjectsUnderPoint(i.x,i.y,r,n>0,1==n),r},t.getObjectUnderPoint=function(e,t,n){var r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,null,n>0,1==n)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var n=this._cloneProps(new e);return t&&this._cloneChildren(n),n},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var n=this.children[t];n.tickEnabled&&n._tick&&n._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,n=0,r=this.children.length;n<r;n++){var i=this.children[n].clone(!0);i.parent=e,t.push(i)}},t._removeChildAt=function(e,t){if(e<0||e>this.children.length-1)return!1;var n=this.children[e];return n&&(n.parent=null),this.children.splice(e,1),t||n.dispatchEvent("removed"),!0},t._getObjectsUnderPoint=function(t,n,r,i,o,a){if(!(a=a||0)&&!this._testMask(this,t,n))return null;var s,u=createjs.DisplayObject._hitTestContext;o=o||i&&this._hasMouseEventListener();for(var c=this.children,l=c.length-1;l>=0;l--){var f=c[l],h=f.hitArea;if(f.visible&&(h||f.isVisible())&&(!i||f.mouseEnabled)&&(h||this._testMask(f,t,n)))if(!h&&f instanceof e){var d=f._getObjectsUnderPoint(t,n,r,i,o,a+1);if(!r&&d)return i&&!this.mouseChildren?this:d}else{if(i&&!o&&!f._hasMouseEventListener())continue;var p=f.getConcatenatedDisplayProps(f._props);if(s=p.matrix,h&&(s.appendMatrix(h.getMatrix(h._props.matrix)),p.alpha=h.alpha),u.globalAlpha=p.alpha,u.setTransform(s.a,s.b,s.c,s.d,s.tx-t,s.ty-n),(h||f).draw(u),!this._testHit(u))continue;if(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!r)return i&&!this.mouseChildren?this:f;r.push(f)}}return null},t._testMask=function(e,t,n){var r=e.mask;if(!r||!r.graphics||r.graphics.isEmpty())return!0;var i=this._props.matrix,o=e.parent;i=o?o.getConcatenatedMatrix(i):i.identity(),i=r.getMatrix(r._props.matrix).prependMatrix(i);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(i.a,i.b,i.c,i.d,i.tx-t,i.ty-n),r.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(e,t){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,e,t);var r=this._props.matrix;r=t?r.identity():this.getMatrix(r),e&&r.prependMatrix(e);for(var i=this.children.length,o=null,a=0;a<i;a++){var s=this.children[a];s.visible&&(n=s._getBounds(r))&&(o?o.extend(n.x,n.y,n.width,n.height):o=n.clone())}return o},createjs.Container=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(e){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(t?n.clearRect(t.x,t.y,t.width,t.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},t.draw=function(e,t){var n=this.Container_draw(e,t);return this.canvas._invalid=!0,n},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new createjs.Event("tick");if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t,n){var r,i=this.canvas.getContext("2d"),o=this.canvas.width,a=this.canvas.height;if(e){r=i.getImageData(0,0,o,a);var s=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=e,i.fillRect(0,0,o,a)}var u=this.canvas.toDataURL(t||"image/png",n);return e&&(i.putImageData(r,0,0),i.globalCompositeOperation=s),u},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval((function(){t._testMouseOver()}),1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,n,r=this._eventListeners;if(!e&&r){for(t in r)(n=r[t]).t.removeEventListener(t,n.f,!1);this._eventListeners=null}else if(e&&!r&&this.canvas){var i=window.addEventListener?window:document,o=this;for(t in(r=this._eventListeners={}).mouseup={t:i,f:function(e){o._handleMouseUp(e)}},r.mousemove={t:i,f:function(e){o._handleMouseMove(e)}},r.dblclick={t:this.canvas,f:function(e){o._handleDoubleClick(e)}},r.mousedown={t:this.canvas,f:function(e){o._handleMouseDown(e)}},r)(n=r[t]).t.addEventListener(t,n.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),i=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,o=parseInt(i.paddingLeft)+parseInt(i.borderLeftWidth),a=parseInt(i.paddingTop)+parseInt(i.borderTopWidth),s=parseInt(i.paddingRight)+parseInt(i.borderRightWidth),u=parseInt(i.paddingBottom)+parseInt(i.borderBottomWidth);return{left:t.left+n+o,right:t.right+n-s,top:t.top+r+a,bottom:t.bottom+r-u}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,n,r,i){if((!this._prevStage||void 0!==i)&&this.canvas){var o=this._nextStage,a=this._getPointerData(e),s=a.inBounds;this._updatePointerPosition(e,t,n,r),(s||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!s&&this._dispatchMouseEvent(this,s?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),o&&o._handlePointerMove(e,t,n,r,null)}},t._updatePointerPosition=function(e,t,n,r){var i=this._getElementRect(this.canvas);n-=i.left,r-=i.top;var o=this.canvas.width,a=this.canvas.height;n/=(i.right-i.left)/o,r/=(i.bottom-i.top)/a;var s=this._getPointerData(e);(s.inBounds=n>=0&&r>=0&&n<=o-1&&r<=a-1)?(s.x=n,s.y=r):this.mouseMoveOutside&&(s.x=n<0?0:n>o-1?o-1:n,s.y=r<0?0:r>a-1?a-1:r),s.posEvtObj=t,s.rawX=n,s.rawY=r,e!==this._primaryPointerID&&-1!==e||(this.mouseX=s.x,this.mouseY=s.y,this.mouseInBounds=s.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,n,r){var i=this._nextStage,o=this._getPointerData(e);if(!this._prevStage||void 0!==r){var a=null,s=o.target;r||!s&&!i||(a=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,o,t,a),o.down=!1),a==s&&this._dispatchMouseEvent(s,"click",!0,e,o,t),this._dispatchMouseEvent(s,"pressup",!0,e,o,t),n?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):o.target=null,i&&i._handlePointerUp(e,t,n,r||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,n,r,i){this.preventSelection&&t.preventDefault(),null!=this._primaryPointerID&&-1!==e||(this._primaryPointerID=e),null!=r&&this._updatePointerPosition(e,t,n,r);var o=null,a=this._nextStage,s=this._getPointerData(e);i||(o=s.target=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,s,t,o),s.down=!0),this._dispatchMouseEvent(o,"mousedown",!0,e,s,t),a&&a._handlePointerDown(e,t,n,r,i||o&&this)},t._testMouseOver=function(e,t,n){if(!this._prevStage||void 0!==t){var r=this._nextStage;if(!this._mouseOverIntervalID)return void(r&&r._testMouseOver(e,t,n));var i=this._getPointerData(-1);if(i&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var o,a,s,u=i.posEvtObj,c=n||u&&u.target==this.canvas,l=null,f=-1,h="";!t&&(e||this.mouseInBounds&&c)&&(l=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var d=this._mouseOverTarget||[],p=d[d.length-1],g=this._mouseOverTarget=[];for(o=l;o;)g.unshift(o),!h&&o.cursor&&(h=o.cursor),o=o.parent;for(this.canvas.style.cursor=h,!t&&n&&(n.canvas.style.cursor=h),a=0,s=g.length;a<s&&g[a]==d[a];a++)f=a;for(p!=l&&this._dispatchMouseEvent(p,"mouseout",!0,-1,i,u,l),a=d.length-1;a>f;a--)this._dispatchMouseEvent(d[a],"rollout",!1,-1,i,u,l);for(a=g.length-1;a>f;a--)this._dispatchMouseEvent(g[a],"rollover",!1,-1,i,u,p);p!=l&&this._dispatchMouseEvent(l,"mouseover",!0,-1,i,u,p),r&&r._testMouseOver(e,t||l&&this,n||c&&this)}}},t._handleDoubleClick=function(e,t){var n=null,r=this._nextStage,i=this._getPointerData(-1);t||(n=this._getObjectsUnderPoint(i.x,i.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,i,e)),r&&r._handleDoubleClick(e,t||n&&this)},t._dispatchMouseEvent=function(e,t,n,r,i,o,a){if(e&&(n||e.hasEventListener(t))){var s=new createjs.MouseEvent(t,n,!1,i.x,i.y,o,r,r===this._primaryPointerID||-1===r,i.rawX,i.rawY,a);e.dispatchEvent(s)}},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,n){var r,i,o,a,s,u;if(this.Stage_constructor(t),void 0!==n){if("object"!=typeof n)throw"Invalid options object";r=n.transparent,i=n.antialias,o=n.preserveBuffer,a=n.autoPurge,s=n.directDraw,u=n.batchSize}this.vocalDebug=!1,this.isCacheControlled=!1,this._preserveBuffer=o||!1,this._antialias=i||!1,this._transparent=r||!1,this._autoPurge=void 0,this.autoPurge=a,this._directDraw=void 0===s||!!s,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._frameBuffer=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxBatchVertexCount=Math.max(Math.min(Number(u)||e.DEFAULT_MAX_BATCH_SIZE,e.DEFAULT_MAX_BATCH_SIZE),e.DEFAULT_MIN_BATCH_SIZE)*e.INDICIES_PER_CARD,this._activeShader=null,this._mainShader=null,this._attributeConfig={},this._activeConfig=null,this._bufferTextureOutput=null,this._bufferTextureConcat=null,this._bufferTextureTemp=null,this._batchTextureOutput=this,this._batchTextureConcat=null,this._batchTextureTemp=null,this._builtShaders={},this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._gpuTextureCount=8,this._gpuTextureMax=8,this._batchTextureCount=0,this._lastTextureInsert=-1,this._renderMode="",this._immediateRender=!1,this._batchVertexCount=0,this._batchID=0,this._drawID=0,this._renderPerDraw=0,this._slotBlacklist=[],this._lastTrackedCanvas=-1,this._cacheContainer=new createjs.Container,this._initializeWebGL(),void 0!==n&&(void 0!==n.clearColor&&this.setClearColor(n.clearColor),void 0!==n.premultiply&&createjs.deprecate(null,"options.premultiply")())}var t=createjs.extend(e,createjs.Stage);e.buildUVRects=function(e,t,n){if(!e||!e._frames)return null;void 0===t&&(t=-1),void 0===n&&(n=!1);for(var r=-1!==t&&n?t:0,i=-1!==t&&n?t+1:e._frames.length,o=r;o<i;o++){var a=e._frames[o];if(!(a.uvRect||a.image.width<=0||a.image.height<=0)){var s=a.rect;a.uvRect={t:1-s.y/a.image.height,l:s.x/a.image.width,b:1-(s.y+s.height)/a.image.height,r:(s.x+s.width)/a.image.width}}}return e._frames[-1!==t?t:0].uvRect||{t:0,l:0,b:1,r:1}},e.isWebGLActive=function(e){return e&&e instanceof WebGLRenderingContext&&"undefined"!=typeof WebGLRenderingContext},e.colorToObj=function(e){var t,n,r,i;if("string"==typeof e){if(0===e.indexOf("#"))4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),t=Number("0x"+e.slice(1,3))/255,n=Number("0x"+e.slice(3,5))/255,r=Number("0x"+e.slice(5,7))/255,i=e.length>7?Number("0x"+e.slice(7,9))/255:1;else if(0===e.indexOf("rgba(")){var o=e.slice(5,-1).split(",");t=Number(o[0])/255,n=Number(o[1])/255,r=Number(o[2])/255,i=Number(o[3])}}else t=((4278190080&e)>>>24)/255,n=((16711680&e)>>>16)/255,r=((65280&e)>>>8)/255,i=(255&e)/255;return{r:Math.min(Math.max(0,t),1),g:Math.min(Math.max(0,n),1),b:Math.min(Math.max(0,r),1),a:Math.min(Math.max(0,i),1)}},e.VERTEX_PROPERTY_COUNT=6,e.INDICIES_PER_CARD=6,e.DEFAULT_MAX_BATCH_SIZE=10920,e.DEFAULT_MIN_BATCH_SIZE=170,e.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),e.UV_RECT={t:1,l:0,b:0,r:1};try{e.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),e.COVER_UV=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(e){}e.REGULAR_VARYING_HEADER="#ifdef GL_FRAGMENT_PRECISION_HIGH \nprecision highp float; \n#else \nprecision mediump float; \n#endif \nvarying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;",e.REGULAR_VERTEX_HEADER=e.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;",e.REGULAR_FRAGMENT_HEADER=e.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];",e.REGULAR_VERTEX_BODY="void main(void) {gl_Position = pMatrix * vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}",e.REGULAR_FRAGMENT_BODY="void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}gl_FragColor = vec4(color.rgb * alphaValue, color.a * alphaValue);}",e.COVER_VARYING_HEADER="#ifdef GL_FRAGMENT_PRECISION_HIGH \nprecision highp float; \n#else \nprecision mediump float; \n#endif \nvarying vec2 vTextureCoord;",e.COVER_VERTEX_HEADER=e.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;",e.COVER_FRAGMENT_HEADER=e.COVER_VARYING_HEADER+"uniform sampler2D uSampler;",e.COVER_VERTEX_BODY="void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vTextureCoord = uvPosition;}",e.COVER_FRAGMENT_BODY="void main(void) {gl_FragColor = texture2D(uSampler, vTextureCoord);}",e.BLEND_FRAGMENT_SIMPLE="uniform sampler2D uMixSampler;void main(void) {vec4 src = texture2D(uMixSampler, vTextureCoord);vec4 dst = texture2D(uSampler, vTextureCoord);",e.BLEND_FRAGMENT_COMPLEX=e.BLEND_FRAGMENT_SIMPLE+"vec3 srcClr = min(src.rgb/src.a, 1.0);vec3 dstClr = min(dst.rgb/dst.a, 1.0);float totalAlpha = min(1.0 - (1.0-dst.a) * (1.0-src.a), 1.0);float srcFactor = min(max(src.a - dst.a, 0.0) / totalAlpha, 1.0);float dstFactor = min(max(dst.a - src.a, 0.0) / totalAlpha, 1.0);float mixFactor = max(max(1.0 - srcFactor, 0.0) - dstFactor, 0.0);gl_FragColor = vec4((srcFactor * srcClr +dstFactor * dstClr +mixFactor * vec3(",e.BLEND_FRAGMENT_COMPLEX_CAP=")) * totalAlpha, totalAlpha);}",e.BLEND_FRAGMENT_OVERLAY_UTIL="float overlay(float a, float b) {if(a < 0.5) { return 2.0 * a * b; }return 1.0 - 2.0 * (1.0-a) * (1.0-b);}",e.BLEND_FRAGMENT_HSL_UTIL="float getLum(vec3 c) { return 0.299*c.r + 0.589*c.g + 0.109*c.b; }float getSat(vec3 c) { return max(max(c.r, c.g), c.b) - min(min(c.r, c.g), c.b); }vec3 clipHSL(vec3 c) {float lum = getLum(c);float n = min(min(c.r, c.g), c.b);float x = max(max(c.r, c.g), c.b);if(n < 0.0){ c = lum + (((c - lum) * lum) / (lum - n)); }if(x > 1.0){ c = lum + (((c - lum) * (1.0 - lum)) / (x - lum)); }return clamp(c, 0.0, 1.0);}vec3 setLum(vec3 c, float lum) {return clipHSL(c + (lum - getLum(c)));}vec3 setSat(vec3 c, float val) {vec3 result = vec3(0.0);float minVal = min(min(c.r, c.g), c.b);float maxVal = max(max(c.r, c.g), c.b);vec3 minMask = vec3(c.r == minVal, c.g == minVal, c.b == minVal);vec3 maxMask = vec3(c.r == maxVal, c.g == maxVal, c.b == maxVal);vec3 midMask = 1.0 - min(minMask+maxMask, 1.0);float midVal = (c*midMask).r + (c*midMask).g + (c*midMask).b;if(maxVal > minVal) {result = midMask * min( ((midVal - minVal) * val) / (maxVal - minVal), 1.0);result += maxMask * val;}return result;}",e.BLEND_SOURCES={"source-over":{},"source-in":{shader:e.BLEND_FRAGMENT_SIMPLE+"gl_FragColor = vec4(src.rgb * dst.a, src.a * dst.a);}"},"source-in_cheap":{srcRGB:"DST_ALPHA",srcA:"ZERO",dstRGB:"ZERO",dstA:"SRC_ALPHA"},"source-out":{shader:e.BLEND_FRAGMENT_SIMPLE+"gl_FragColor = vec4(src.rgb * (1.0 - dst.a), src.a - dst.a);}"},"source-out_cheap":{eqA:"FUNC_SUBTRACT",srcRGB:"ONE_MINUS_DST_ALPHA",srcA:"ONE",dstRGB:"ZERO",dstA:"SRC_ALPHA"},"source-atop":{srcRGB:"DST_ALPHA",srcA:"ZERO",dstRGB:"ONE_MINUS_SRC_ALPHA",dstA:"ONE"},"destination-over":{srcRGB:"ONE_MINUS_DST_ALPHA",srcA:"ONE_MINUS_DST_ALPHA",dstRGB:"ONE",dstA:"ONE"},"destination-in":{shader:e.BLEND_FRAGMENT_SIMPLE+"gl_FragColor = vec4(dst.rgb * src.a, src.a * dst.a);}"},"destination-in_cheap":{srcRGB:"ZERO",srcA:"DST_ALPHA",dstRGB:"SRC_ALPHA",dstA:"ZERO"},"destination-out":{eqA:"FUNC_REVERSE_SUBTRACT",srcRGB:"ZERO",srcA:"DST_ALPHA",dstRGB:"ONE_MINUS_SRC_ALPHA",dstA:"ONE"},"destination-atop":{shader:e.BLEND_FRAGMENT_SIMPLE+"gl_FragColor = vec4(dst.rgb * src.a + src.rgb * (1.0 - dst.a), src.a);}"},"destination-atop_cheap":{srcRGB:"ONE_MINUS_DST_ALPHA",srcA:"ONE",dstRGB:"SRC_ALPHA",dstA:"ZERO"},copy:{shader:e.BLEND_FRAGMENT_SIMPLE+"gl_FragColor = vec4(src.rgb, src.a);}"},copy_cheap:{dstRGB:"ZERO",dstA:"ZERO"},xor:{shader:e.BLEND_FRAGMENT_SIMPLE+"float omSRC = (1.0 - src.a);float omDST = (1.0 - dst.a);gl_FragColor = vec4(src.rgb * omDST + dst.rgb * omSRC, src.a * omDST + dst.a * omSRC);}"},multiply:{shader:e.BLEND_FRAGMENT_COMPLEX+"srcClr * dstClr"+e.BLEND_FRAGMENT_COMPLEX_CAP},multiply_cheap:{srcRGB:"ONE_MINUS_DST_ALPHA",srcA:"ONE",dstRGB:"SRC_COLOR",dstA:"ONE"},screen:{srcRGB:"ONE",srcA:"ONE",dstRGB:"ONE_MINUS_SRC_COLOR",dstA:"ONE_MINUS_SRC_ALPHA"},lighter:{dstRGB:"ONE",dstA:"ONE"},lighten:{shader:e.BLEND_FRAGMENT_COMPLEX+"max(srcClr, dstClr)"+e.BLEND_FRAGMENT_COMPLEX_CAP},darken:{shader:e.BLEND_FRAGMENT_COMPLEX+"min(srcClr, dstClr)"+e.BLEND_FRAGMENT_COMPLEX_CAP},overlay:{shader:e.BLEND_FRAGMENT_OVERLAY_UTIL+e.BLEND_FRAGMENT_COMPLEX+"overlay(dstClr.r,srcClr.r), overlay(dstClr.g,srcClr.g), overlay(dstClr.b,srcClr.b)"+e.BLEND_FRAGMENT_COMPLEX_CAP},"hard-light":{shader:e.BLEND_FRAGMENT_OVERLAY_UTIL+e.BLEND_FRAGMENT_COMPLEX+"overlay(srcClr.r,dstClr.r), overlay(srcClr.g,dstClr.g), overlay(srcClr.b,dstClr.b)"+e.BLEND_FRAGMENT_COMPLEX_CAP},"soft-light":{shader:"float softcurve(float a) {if(a > 0.25) { return sqrt(a); }return ((16.0 * a - 12.0) * a + 4.0) * a;}float softmix(float a, float b) {if(b <= 0.5) { return a - (1.0 - 2.0*b) * a * (1.0 - a); }return a + (2.0 * b - 1.0) * (softcurve(a) - a);}"+e.BLEND_FRAGMENT_COMPLEX+"softmix(dstClr.r,srcClr.r), softmix(dstClr.g,srcClr.g), softmix(dstClr.b,srcClr.b)"+e.BLEND_FRAGMENT_COMPLEX_CAP},"color-dodge":{shader:e.BLEND_FRAGMENT_COMPLEX+"clamp(dstClr / (1.0 - srcClr), 0.0, 1.0)"+e.BLEND_FRAGMENT_COMPLEX_CAP},"color-burn":{shader:e.BLEND_FRAGMENT_COMPLEX+"1.0 - clamp((1.0 - smoothstep(0.0035, 0.9955, dstClr)) / smoothstep(0.0035, 0.9955, srcClr), 0.0, 1.0)"+e.BLEND_FRAGMENT_COMPLEX_CAP},difference:{shader:e.BLEND_FRAGMENT_COMPLEX+"abs(src.rgb - dstClr)"+e.BLEND_FRAGMENT_COMPLEX_CAP},exclusion:{shader:e.BLEND_FRAGMENT_COMPLEX+"dstClr + src.rgb - 2.0 * src.rgb * dstClr"+e.BLEND_FRAGMENT_COMPLEX_CAP},hue:{shader:e.BLEND_FRAGMENT_HSL_UTIL+e.BLEND_FRAGMENT_COMPLEX+"setLum(setSat(srcClr, getSat(dstClr)), getLum(dstClr))"+e.BLEND_FRAGMENT_COMPLEX_CAP},saturation:{shader:e.BLEND_FRAGMENT_HSL_UTIL+e.BLEND_FRAGMENT_COMPLEX+"setLum(setSat(dstClr, getSat(srcClr)), getLum(dstClr))"+e.BLEND_FRAGMENT_COMPLEX_CAP},color:{shader:e.BLEND_FRAGMENT_HSL_UTIL+e.BLEND_FRAGMENT_COMPLEX+"setLum(srcClr, getLum(dstClr))"+e.BLEND_FRAGMENT_COMPLEX_CAP},luminosity:{shader:e.BLEND_FRAGMENT_HSL_UTIL+e.BLEND_FRAGMENT_COMPLEX+"setLum(dstClr, getLum(srcClr))"+e.BLEND_FRAGMENT_COMPLEX_CAP}},t._get_isWebGL=function(){return!!this._webGLContext},t._set_autoPurge=function(e){-1!==(e=isNaN(e)?1200:e)&&(e=e<10?10:e),this._autoPurge=e},t._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(t,{isWebGL:{get:t._get_isWebGL},autoPurge:{get:t._get_autoPurge,set:t._set_autoPurge}})}catch(e){}t._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var e={depth:!1,stencil:!1,premultipliedAlpha:this._transparent,alpha:this._transparent,antialias:this._antialias,preserveDrawingBuffer:this._preserveBuffer},t=this._webGLContext=this._fetchWebGLContext(this.canvas,e);if(!t)return null;t.disable(t.DEPTH_TEST),t.depthMask(!1),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(0,0,0,0),t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),this._createBuffers(),this._initMaterials(),this._updateRenderMode("source-over"),this.updateViewport(this.canvas.width,this.canvas.height),this._directDraw||(this._bufferTextureOutput=this.getRenderBufferTexture(this._viewportWidth,this._viewportHeight)),this.canvas._invalid=!0}}else this._webGLContext=null;return this._webGLContext},t.update=function(e){if(this.canvas){if(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart"),this._webGLContext)this.draw(this._webGLContext,!1);else{this.autoClear&&this.clear();var t=this.canvas.getContext("2d");t.save(),this.updateContext(t),this.draw(t,!1),t.restore()}this.dispatchEvent("drawend")}},t.clear=function(){if(this.canvas){var t=this._webGLContext;if(!e.isWebGLActive(t))return void this.Stage_clear();t.bindFramebuffer(t.FRAMEBUFFER,null),this._clearFrameBuffer(this._transparent?this._clearColor.a:1)}},t.draw=function(t,n){var r=this._webGLContext;if(t!==this._webGLContext||!e.isWebGLActive(r))return this.Stage_draw(t,n);var i=this._batchTextureOutput,o=this._batchTextureConcat,a=this._batchTextureTemp;return this._renderPerDraw=0,this._batchVertexCount=0,this._drawID++,this._directDraw?(this._batchTextureOutput=this,this.autoClear&&this.clear()):(this._batchTextureOutput=this._bufferTextureOutput,this._batchTextureConcat=this._bufferTextureConcat,this._batchTextureTemp=this._bufferTextureTemp),this._updateRenderMode("source-over"),this._drawContent(this,n),this._directDraw||(this.autoClear&&this.clear(),this.batchReason="finalOutput",this._renderPerDraw&&this._drawCover(null,this._batchTextureOutput)),this._bufferTextureOutput=this._batchTextureOutput,this._bufferTextureConcat=this._batchTextureConcat,this._bufferTextureTemp=this._batchTextureTemp,this._batchTextureOutput=i,this._batchTextureConcat=o,this._batchTextureTemp=a,-1===this._autoPurge||this._drawID%(this._autoPurge/2|0)||this.purgeTextures(this._autoPurge),!0},t.cacheDraw=function(t,n){if(!e.isWebGLActive(this._webGLContext))return!1;for(var r=0;r<this._gpuTextureCount;r++)this._batchTextures[r]._frameBuffer&&(this._batchTextures[r]=this._baseTextures[r]);var i=this._batchTextureOutput,o=this._batchTextureConcat,a=this._batchTextureTemp,s=n._filterCount,u=s,c=this._viewportWidth,l=this._viewportHeight;this._updateDrawingSurface(n._drawWidth,n._drawHeight),this._batchTextureOutput=n._filterCount%2?n._bufferTextureConcat:n._bufferTextureOutput,this._batchTextureConcat=n._filterCount%2?n._bufferTextureOutput:n._bufferTextureConcat,this._batchTextureTemp=n._bufferTextureTemp;var f=this._cacheContainer;for(f.children=[t],f.transformMatrix=this._alignTargetToCache(t,n),this._updateRenderMode("source-over"),this._drawContent(f,!0),this.isCacheControlled?(s++,u++):n._cacheCanvas!==(n._filterCount%2?this._batchTextureConcat:this._batchTextureOutput)&&u++;u;){var h=n._getGLFilter(s-u--),d=this._batchTextureConcat;this._batchTextureConcat=this._batchTextureOutput,this._batchTextureOutput=this.isCacheControlled&&0===u?this:d,this.batchReason="filterPass",this._drawCover(this._batchTextureOutput._frameBuffer,this._batchTextureConcat,h)}return n._bufferTextureOutput=this._batchTextureOutput,n._bufferTextureConcat=this._batchTextureConcat,n._bufferTextureTemp=this._batchTextureTemp,this._batchTextureOutput=i,this._batchTextureConcat=o,this._batchTextureTemp=a,this._updateDrawingSurface(c,l),!0},t.releaseTexture=function(e,t){var n,r;if(e){if(e.children)for(n=0,r=e.children.length;n<r;n++)this.releaseTexture(e.children[n],t);e.cacheCanvas&&e.uncache();var i=void 0;if(void 0!==e._storeID){if(e===this._textureDictionary[e._storeID])return this._killTextureObject(e),void(e._storeID=void 0);i=e}else if(2===e._webGLRenderStyle)(i=e.image).getImage&&(i=i.getImage());else if(1===e._webGLRenderStyle){for(n=0,r=e.spriteSheet._images.length;n<r;n++)this.releaseTexture(e.spriteSheet._images[n],t);return}if(void 0===i)return void(this.vocalDebug&&console.log("No associated texture found on release"));var o=this._textureDictionary[i._storeID];if(t){var a=o._imageData,s=a.indexOf(i);s>=0&&a.splice(s,1),i._storeID=void 0,0===a.length&&this._killTextureObject(o)}else this._killTextureObject(o)}},t.purgeTextures=function(e){e>=0||(e=100);for(var t=this._textureDictionary,n=t.length,r=0;r<n;r++){var i,o=t[r];if(o&&(i=o._imageData)){for(var a=0;a<i.length;a++){var s=i[a];s._drawID+e<=this._drawID&&(s._storeID=void 0,i.splice(a,1),a--)}i.length||this._killTextureObject(o)}}},t.updateViewport=function(e,t){e=Math.abs(0|e)||1,t=Math.abs(0|t)||1,this._updateDrawingSurface(e,t),this._bufferTextureOutput!==this&&null!==this._bufferTextureOutput&&this.resizeTexture(this._bufferTextureOutput,this._viewportWidth,this._viewportHeight),null!==this._bufferTextureConcat&&this.resizeTexture(this._bufferTextureConcat,this._viewportWidth,this._viewportHeight),null!==this._bufferTextureTemp&&this.resizeTexture(this._bufferTextureTemp,this._viewportWidth,this._viewportHeight)},t.getFilterShader=function(e){e||(e=this);var t=this._webGLContext,n=this._activeShader;if(e._builtShader)n=e._builtShader,e.shaderParamSetup&&(t.useProgram(n),e.shaderParamSetup(t,this,n));else try{n=this._fetchShaderProgram(!0,e.VTX_SHADER_BODY,e.FRAG_SHADER_BODY,e.shaderParamSetup&&e.shaderParamSetup.bind(e)),e._builtShader=n,n._name=e.toString()}catch(e){console&&console.log("SHADER SWITCH FAILURE",e)}return n},t.getBaseTexture=function(e,t){var n=Math.ceil(e>0?e:1)||1,r=Math.ceil(t>0?t:1)||1,i=this._webGLContext,o=i.createTexture();return this.resizeTexture(o,n,r),this.setTextureParams(i,!1),o},t.resizeTexture=function(e,t,n){if(e.width!==t||e.height!==n){var r=this._webGLContext;r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,n,0,r.RGBA,r.UNSIGNED_BYTE,null),e.width=t,e.height=n}},t.getRenderBufferTexture=function(e,t){var n=this._webGLContext,r=this.getBaseTexture(e,t);if(!r)return null;var i=n.createFramebuffer();return i?(r.width=e,r.height=t,n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r,0),i._renderTexture=r,r._frameBuffer=i,r._storeID=this._textureDictionary.length,this._textureDictionary[r._storeID]=r,n.bindFramebuffer(n.FRAMEBUFFER,null),r):null},t.setTextureParams=function(e,t){t&&this._antialias?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},t.setClearColor=function(t){this._clearColor=e.colorToObj(t)},t.toDataURL=function(t,n,r){var i,o=this._webGLContext;this.batchReason="dataURL";var a=this._clearColor;if(this.canvas)return e.isWebGLActive(o)?(this._preserveBuffer&&void 0===t||(void 0!==t&&(this._clearColor=e.colorToObj(t)),this.clear(),this._directDraw?(console.log("No stored/useable gl render info, result may be incorrect if content was changed since render"),this.draw(o)):this._drawCover(null,this._bufferTextureOutput)),i=this.canvas.toDataURL(n||"image/png",r),this._preserveBuffer&&void 0===t||(void 0!==t&&(this._clearColor=a),this.clear(),this._directDraw?this.draw(o):this._drawCover(null,this._bufferTextureOutput)),i):this.Stage_toDataURL(t,n,r)},t.toString=function(){return"[StageGL (name="+this.name+")]"},t._updateDrawingSurface=function(e,t){this._viewportWidth=e,this._viewportHeight=t,this._webGLContext.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/e,0,0,0,0,-2/t,0,0,0,0,1,0,-1,1,0,1])},t._getSafeTexture=function(e,t){var n=this.getBaseTexture(e,t);if(!n){var r="Problem creating texture, possible cause: using too much VRAM, please try releasing texture memory";console.error&&console.error(r)||console.log(r),n=this._baseTextures[0]}return n},t._clearFrameBuffer=function(e){var t=this._webGLContext,n=this._clearColor;e>0&&(e=1),e<0&&(e=0),t.clearColor(n.r*e,n.g*e,n.b*e,e),t.clear(t.COLOR_BUFFER_BIT),t.clearColor(0,0,0,0)},t._fetchWebGLContext=function(e,t){var n;try{n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}catch(e){}if(n)n.viewportWidth=e.width,n.viewportHeight=e.height;else{var r="Could not initialize WebGL";console.error?console.error(r):console.log(r)}return n},t._fetchShaderProgram=function(t,n,r,i){var o,a,s=this._webGLContext;s.useProgram(null),t?(a=e.COVER_VERTEX_HEADER+(n||e.COVER_VERTEX_BODY),o=e.COVER_FRAGMENT_HEADER+(r||e.COVER_FRAGMENT_BODY)):(a=e.REGULAR_VERTEX_HEADER+(n||e.REGULAR_VERTEX_BODY),o=e.REGULAR_FRAGMENT_HEADER+(r||e.REGULAR_FRAGMENT_BODY));var u=this._createShader(s,s.VERTEX_SHADER,a),c=this._createShader(s,s.FRAGMENT_SHADER,o),l=s.createProgram();if(s.attachShader(l,u),s.attachShader(l,c),s.linkProgram(l),!s.getProgramParameter(l,s.LINK_STATUS))throw s.useProgram(this._activeShader),s.getProgramInfoLog(l);if(s.useProgram(l),l.positionAttribute=s.getAttribLocation(l,"vertexPosition"),s.enableVertexAttribArray(l.positionAttribute),l.uvPositionAttribute=s.getAttribLocation(l,"uvPosition"),s.enableVertexAttribArray(l.uvPositionAttribute),t)l.samplerUniform=s.getUniformLocation(l,"uSampler"),s.uniform1i(l.samplerUniform,0),i&&i(s,this,l);else{l.textureIndexAttribute=s.getAttribLocation(l,"textureIndex"),s.enableVertexAttribArray(l.textureIndexAttribute),l.alphaAttribute=s.getAttribLocation(l,"objectAlpha"),s.enableVertexAttribArray(l.alphaAttribute);for(var f=[],h=0;h<this._gpuTextureCount;h++)f[h]=h;l.samplerData=f,l.samplerUniform=s.getUniformLocation(l,"uSampler"),s.uniform1iv(l.samplerUniform,l.samplerData),l.pMatrixUniform=s.getUniformLocation(l,"pMatrix")}return l._type=t?"cover":"batch",s.useProgram(this._activeShader),l},t._createShader=function(e,t,n){var r=this._batchTextureCount;if(n=n.replace(/\{\{count}}/g,r),t===e.FRAGMENT_SHADER){for(var i="",o=1;o<r;o++)i+="} else if (indexPicker <= "+o+".5) { color = texture2D(uSampler["+o+"], vTextureCoord);";n=n.replace(/\{\{alternates}}/g,i)}var a=e.createShader(t);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw e.getShaderInfoLog(a);return a},t._createBuffers=function(){var e,t,n,r,i,o=this._webGLContext,a=this._maxBatchVertexCount;r=this._attributeConfig.default={},e=2;var s=new Float32Array(a*e);for(t=0,n=s.length;t<n;t+=e)s[t]=s[t+1]=0;i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,s,o.DYNAMIC_DRAW),r.position={array:s,buffer:i,type:o.FLOAT,spacing:e,stride:0,offset:0,offB:0,size:e},e=2;var u=new Float32Array(a*e);for(t=0,n=u.length;t<n;t+=e)u[t]=u[t+1]=0;i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,u,o.DYNAMIC_DRAW),r.uv={array:u,buffer:i,type:o.FLOAT,spacing:e,stride:0,offset:0,offB:0,size:e},e=1;var c=new Float32Array(a*e);for(t=0,n=c.length;t<n;t++)c[t]=0;i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,c,o.DYNAMIC_DRAW),r.texture={array:c,buffer:i,type:o.FLOAT,spacing:e,stride:0,offset:0,offB:0,size:e},e=1;var l=new Float32Array(a*e);for(t=0,n=l.length;t<n;t++)l[t]=1;i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,l,o.DYNAMIC_DRAW),r.alpha={array:l,buffer:i,type:o.FLOAT,spacing:e,stride:0,offset:0,offB:0,size:e},r=this._attributeConfig.micro={},a=5;var f=4*(e=6),h=new Float32Array(a*e);for(t=0,n=h.length;t<n;t+=e)h[t]=h[t+1]=0,h[t+1]=h[t+2]=0,h[t+3]=0,h[t+4]=1;i=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,h,o.DYNAMIC_DRAW),r.position={array:h,buffer:i,type:o.FLOAT,spacing:e,stride:f,offset:0,offB:0,size:2},r.uv={array:h,buffer:i,type:o.FLOAT,spacing:e,stride:f,offset:2,offB:8,size:2},r.texture={array:h,buffer:i,type:o.FLOAT,spacing:e,stride:f,offset:4,offB:16,size:1},r.alpha={array:h,buffer:i,type:o.FLOAT,spacing:e,stride:f,offset:5,offB:20,size:1},this._activeConfig=this._attributeConfig.default},t._initMaterials=function(){var e=this._webGLContext;this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[],this._gpuTextureCount=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this._gpuTextureMax=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._batchTextureCount=this._gpuTextureCount;for(var t=!1;!t;)try{this._activeShader=this._fetchShaderProgram(!1),t=!0}catch(e){if(this._batchTextureCount<=1)throw"Cannot compile shader "+e;this._batchTextureCount=this._batchTextureCount/2|0,this.vocalDebug&&console.log("Reducing possible texture count due to errors: "+this._batchTextureCount)}this._mainShader=this._activeShader,this._mainShader._name="main";var n=this.getBaseTexture();if(!n)throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances";n._storeID=-1;for(var r=0;r<this._batchTextureCount;r++)this._baseTextures[r]=this._batchTextures[r]=n},t._loadTextureImage=function(e,t){var n,r,i;if((t instanceof Image||t instanceof HTMLImageElement)&&t.src)n=t.src;else{if(!(t instanceof HTMLCanvasElement))return i="Invalid image provided as source. Please ensure source is a correct DOM element.",void(console.error&&console.error(i,t)||console.log(i,t));t._isCanvas=!0,n="canvas_"+ ++this._lastTrackedCanvas}var o=this._textureIDs[n];return void 0===o?(this._textureIDs[n]=o=this._textureDictionary.length,t._storeID=o,t._invalid=!0,r=this._getSafeTexture(),this._textureDictionary[o]=r):(t._storeID=o,r=this._textureDictionary[o]),-1!==r._storeID&&(r._storeID=o,r._imageData?r._imageData.push(t):r._imageData=[t]),this._insertTextureInBatch(e,r),r},t._updateTextureImageData=function(e,t){if(t.complete||t._isCanvas||t.naturalWidth){var n=t.width&t.width-1||t.height&t.height-1,r=this._textureDictionary[t._storeID];e.activeTexture(e.TEXTURE0+r._activeIndex),e.bindTexture(e.TEXTURE_2D,r),r.isPOT=!n,this.setTextureParams(e,r.isPOT);try{e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}catch(e){var i="\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins";console.error?(console.error(i),console.error(e)):console&&(console.log(i),console.log(e))}e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),void 0!==t._invalid&&(t._invalid=!1),r.width=t.width,r.height=t.height,this.vocalDebug&&(n&&this._antialias&&console.warn("NPOT(Non Power of Two) Texture with context.antialias true: "+t.src),(t.width>e.MAX_TEXTURE_SIZE||t.height>e.MAX_TEXTURE_SIZE)&&console&&console.error("Oversized Texture: "+t.width+"x"+t.height+" vs "+e.MAX_TEXTURE_SIZE+"max"))}},t._insertTextureInBatch=function(e,t){var n;if(this._batchTextures[t._activeIndex]!==t){var r=-1,i=(this._lastTextureInsert+1)%this._batchTextureCount,o=i;do{if(this._batchTextures[o]._batchID!==this._batchID&&!this._slotBlacklist[o]){r=o;break}o=(o+1)%this._batchTextureCount}while(o!==i);-1===r&&(this.batchReason="textureOverflow",this._renderBatch(),r=i),this._batchTextures[r]=t,t._activeIndex=r,(n=t._imageData&&t._imageData[0])&&(void 0===n._invalid&&n._isCanvas||n._invalid)&&this._updateTextureImageData(e,n),this._lastTextureInsert=r}else t._drawID!==this._drawID&&(n=t._imageData&&t._imageData[0])&&(void 0===n._invalid&&n._isCanvas||n._invalid)&&this._updateTextureImageData(e,n);t._drawID=this._drawID,t._batchID=this._batchID},t._killTextureObject=function(e){if(e){var t=this._webGLContext;if(void 0!==e._storeID&&e._storeID>=0){for(var n in this._textureDictionary[e._storeID]=void 0,this._textureIDs)this._textureIDs[n]===e._storeID&&delete this._textureIDs[n];var r=e._imageData;if(r)for(var i=r.length-1;i>=0;i--)r[i]._storeID=void 0;e._imageData=e._storeID=void 0}void 0!==e._activeIndex&&this._batchTextures[e._activeIndex]===e&&(this._batchTextures[e._activeIndex]=this._baseTextures[e._activeIndex]);try{e._frameBuffer&&t.deleteFramebuffer(e._frameBuffer),e._frameBuffer=void 0}catch(e){this.vocalDebug&&console.log(e)}try{t.deleteTexture(e)}catch(e){this.vocalDebug&&console.log(e)}}},t._setCoverMixShaderParams=function(e,t,n){e.uniform1i(e.getUniformLocation(n,"uMixSampler"),1)},t._updateRenderMode=function(t){null!=t||(t="source-over");var n=e.BLEND_SOURCES[t];if(void 0===n&&(this.vocalDebug&&console.log("Unknown compositeOperation ["+t+"], reverting to default"),n=e.BLEND_SOURCES[t="source-over"]),this._renderMode!==t){var r=this._webGLContext,i=this._builtShaders[t];if(void 0===i)try{i=this._builtShaders[t]={eqRGB:r[n.eqRGB||"FUNC_ADD"],srcRGB:r[n.srcRGB||"ONE"],dstRGB:r[n.dstRGB||"ONE_MINUS_SRC_ALPHA"],eqA:r[n.eqA||"FUNC_ADD"],srcA:r[n.srcA||"ONE"],dstA:r[n.dstA||"ONE_MINUS_SRC_ALPHA"],immediate:void 0!==n.shader,shader:n.shader||void 0===this._builtShaders["source-over"]?this._fetchShaderProgram(!0,void 0,n.shader,this._setCoverMixShaderParams):this._builtShaders["source-over"].shader},n.shader&&(i.shader._name=t)}catch(e){return this._builtShaders[t]=void 0,void(console&&console.log("SHADER SWITCH FAILURE",e))}if(i.immediate){if(this._directDraw)return void(this.vocalDebug&&console.log("Illegal compositeOperation ["+t+"] due to StageGL.directDraw = true, reverting to default"));this._activeConfig=this._attributeConfig.micro}r.bindFramebuffer(r.FRAMEBUFFER,this._batchTextureOutput._frameBuffer),this.batchReason="shaderSwap",this._renderBatch(),this._renderMode=t,this._immediateRender=i.immediate,r.blendEquationSeparate(i.eqRGB,i.eqA),r.blendFuncSeparate(i.srcRGB,i.dstRGB,i.srcA,i.dstA)}},t._drawContent=function(e,t){var n=this._webGLContext;this._activeShader=this._mainShader,n.bindFramebuffer(n.FRAMEBUFFER,this._batchTextureOutput._frameBuffer),null!==this._batchTextureOutput._frameBuffer&&n.clear(n.COLOR_BUFFER_BIT),this._appendToBatch(e,new createjs.Matrix2D,this.alpha,t),this.batchReason="contentEnd",this._renderBatch()},t._drawCover=function(e,t,n){var r=this._webGLContext;r.bindFramebuffer(r.FRAMEBUFFER,e),null!==e&&r.clear(r.COLOR_BUFFER_BIT),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t),this.setTextureParams(r),n instanceof createjs.Filter?this._activeShader=this.getFilterShader(n):(n instanceof WebGLTexture?(r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,n),this.setTextureParams(r)):void 0!==n&&this.vocalDebug&&console.log("Unknown data handed to function: ",n),this._activeShader=this._builtShaders[this._renderMode].shader),this._renderCover()},t._alignTargetToCache=function(e,t){null===t._counterMatrix?t._counterMatrix=e.getMatrix():e.getMatrix(t._counterMatrix);var n=t._counterMatrix;return n.scale(1/t.scale,1/t.scale),(n=n.invert()).translate(-t.offX/t.scale*e.scaleX,-t.offY/t.scale*e.scaleY),n},t._appendToBatch=function(t,n,r,i){var o=this._webGLContext,a=t._glMtx;a.copy(n),null!==t.transformMatrix?a.appendMatrix(t.transformMatrix):a.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY);var s=this._renderMode;t.compositeOperation&&this._updateRenderMode(t.compositeOperation);for(var u,c,l,f,h=t.children.length,d=0;d<h;d++){var p=t.children[d],g=!i&&p.cacheCanvas||!1;if(p.visible&&r>.0035){var v,m=p.alpha;if(!1===g&&(p._updateState&&p._updateState(),!this._directDraw&&!i&&null===p.cacheCanvas&&null!==p.filters&&p.filters.length))if(null===p.bitmapCache&&(v=p.getBounds(),p.bitmapCache=new createjs.BitmapCache,p.bitmapCache._autoGenerated=!0),p.bitmapCache._autoGenerated){this.batchReason="cachelessFilterInterupt",this._renderBatch(),p.alpha=1;var y=this._activeShader;v=v||p.getBounds(),p.bitmapCache.define(p,v.x,v.y,v.width,v.height,1,{useGL:this}),g=p.bitmapCache._cacheCanvas,p.alpha=m,this._activeShader=y,o.bindFramebuffer(o.FRAMEBUFFER,this._batchTextureOutput._frameBuffer)}if(!1===g&&p.children)this._appendToBatch(p,a,m*r);else{var _=this._renderMode;p.compositeOperation&&this._updateRenderMode(p.compositeOperation),this._batchVertexCount+e.INDICIES_PER_CARD>this._maxBatchVertexCount&&(this.batchReason="vertexOverflow",this._renderBatch());var b,A,w,E,x,T,S=p._glMtx;if(S.copy(a),p.transformMatrix?S.appendMatrix(p.transformMatrix):S.appendTransform(p.x,p.y,p.scaleX,p.scaleY,p.rotation,p.skewX,p.skewY,p.regX,p.regY),2===p._webGLRenderStyle||!1!==g)w=!1===g?p.image:g;else{if(1!==p._webGLRenderStyle)continue;if(null===(E=p.spriteSheet.getFrame(p.currentFrame)))continue;w=E.image}if(w){if(void 0===w._storeID)x=this._loadTextureImage(o,w);else{if(!(x=this._textureDictionary[w._storeID])){this.vocalDebug&&console.log("Image source should not be lookup a non existent texture, please report a bug.");continue}x._batchID!==this._batchID&&this._insertTextureInBatch(o,x)}if(A=x._activeIndex,w._drawID=this._drawID,2===p._webGLRenderStyle||!1!==g)!1===g&&p.sourceRect?(p._uvRect||(p._uvRect={}),T=p.sourceRect,(b=p._uvRect).t=1-T.y/w.height,b.l=T.x/w.width,b.b=1-(T.y+T.height)/w.height,b.r=(T.x+T.width)/w.width,u=0,c=0,l=T.width+u,f=T.height+c):(b=e.UV_RECT,!1===g?(u=0,c=0,l=w.width+u,f=w.height+c):(u=(T=p.bitmapCache).x+T._filterOffX/T.scale,c=T.y+T._filterOffY/T.scale,l=T._drawWidth/T.scale+u,f=T._drawHeight/T.scale+c));else if(1===p._webGLRenderStyle){var O=E.rect;(b=E.uvRect)||(b=e.buildUVRects(p.spriteSheet,p.currentFrame,!1)),u=-E.regX,c=-E.regY,l=O.width-E.regX,f=O.height-E.regY}var C=0,k=this._activeConfig,P=k.position.array,N=k.uv.array,I=k.texture.array,R=k.alpha.array;C=k.position.spacing;var L=this._batchVertexCount*C+k.position.offset;P[L]=u*S.a+c*S.c+S.tx,P[L+1]=u*S.b+c*S.d+S.ty,P[L+=C]=u*S.a+f*S.c+S.tx,P[L+1]=u*S.b+f*S.d+S.ty,P[L+=C]=l*S.a+c*S.c+S.tx,P[L+1]=l*S.b+c*S.d+S.ty,P[L+=C]=u*S.a+f*S.c+S.tx,P[L+1]=u*S.b+f*S.d+S.ty,P[L+=C]=l*S.a+c*S.c+S.tx,P[L+1]=l*S.b+c*S.d+S.ty,P[L+=C]=l*S.a+f*S.c+S.tx,P[L+1]=l*S.b+f*S.d+S.ty,C=k.uv.spacing;var D=this._batchVertexCount*C+k.uv.offset;N[D]=b.l,N[D+1]=b.t,N[D+=C]=b.l,N[D+1]=b.b,N[D+=C]=b.r,N[D+1]=b.t,N[D+=C]=b.l,N[D+1]=b.b,N[D+=C]=b.r,N[D+1]=b.t,N[D+=C]=b.r,N[D+1]=b.b,C=k.texture.spacing;var M=this._batchVertexCount*C+k.texture.offset;I[M]=A,I[M+=C]=A,I[M+=C]=A,I[M+=C]=A,I[M+=C]=A,I[M+=C]=A,C=k.alpha.spacing;var j=this._batchVertexCount*C+k.alpha.offset;R[j]=m*r,R[j+=C]=m*r,R[j+=C]=m*r,R[j+=C]=m*r,R[j+=C]=m*r,R[j+=C]=m*r,this._batchVertexCount+=e.INDICIES_PER_CARD,this._immediateRender&&(this._activeConfig=this._attributeConfig.default,this._immediateBatchRender()),this._renderMode!==_&&this._updateRenderMode(_)}}}}this._renderMode!==s&&this._updateRenderMode(s)},t._immediateBatchRender=function(){var e=this._webGLContext;null===this._batchTextureConcat?this._batchTextureConcat=this.getRenderBufferTexture(this._viewportWidth,this._viewportHeight):(this.resizeTexture(this._batchTextureConcat,this._viewportWidth,this._viewportHeight),e.bindFramebuffer(e.FRAMEBUFFER,this._batchTextureConcat._frameBuffer),e.clear(e.COLOR_BUFFER_BIT)),null===this._batchTextureTemp?(this._batchTextureTemp=this.getRenderBufferTexture(this._viewportWidth,this._viewportHeight),e.bindFramebuffer(e.FRAMEBUFFER,this._batchTextureTemp._frameBuffer)):(this.resizeTexture(this._batchTextureTemp,this._viewportWidth,this._viewportHeight),e.bindFramebuffer(e.FRAMEBUFFER,this._batchTextureTemp._frameBuffer),e.clear(e.COLOR_BUFFER_BIT));var t=this._batchTextureOutput;this._batchTextureOutput=this._batchTextureConcat,this._batchTextureConcat=t,this._activeShader=this._mainShader,this.batchReason="immediatePrep",this._renderBatch(),this.batchReason="immediateResults",this._drawCover(this._batchTextureOutput._frameBuffer,this._batchTextureConcat,this._batchTextureTemp),e.bindFramebuffer(e.FRAMEBUFFER,this._batchTextureOutput._frameBuffer)},t._renderBatch=function(){if(!(this._batchVertexCount<=0)){var e=this._webGLContext;this._renderPerDraw++,this.vocalDebug&&console.log("Batch["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var t,n=this._activeShader,r=this._activeConfig;e.useProgram(n),t=r.position,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.vertexAttribPointer(n.positionAttribute,t.size,t.type,!1,t.stride,t.offB),e.bufferSubData(e.ARRAY_BUFFER,0,t.array),t=r.texture,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.vertexAttribPointer(n.textureIndexAttribute,t.size,t.type,!1,t.stride,t.offB),e.bufferSubData(e.ARRAY_BUFFER,0,t.array),t=r.uv,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.vertexAttribPointer(n.uvPositionAttribute,t.size,t.type,!1,t.stride,t.offB),e.bufferSubData(e.ARRAY_BUFFER,0,t.array),t=r.alpha,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.vertexAttribPointer(n.alphaAttribute,t.size,t.type,!1,t.stride,t.offB),e.bufferSubData(e.ARRAY_BUFFER,0,t.array),e.uniformMatrix4fv(n.pMatrixUniform,e.FALSE,this._projectionMatrix);for(var i=0;i<this._batchTextureCount;i++)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this._batchTextures[i]);e.drawArrays(e.TRIANGLES,0,this._batchVertexCount),this._batchVertexCount=0,this._batchID++}},t._renderCover=function(){var t=this._webGLContext;this._renderPerDraw++,this.vocalDebug&&console.log("Cover["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var n,r=this._activeShader,i=this._attributeConfig.default;t.useProgram(r),n=i.position,t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.vertexAttribPointer(r.positionAttribute,n.size,n.type,!1,n.stride,n.offB),t.bufferSubData(t.ARRAY_BUFFER,0,e.COVER_VERT),n=i.uv,t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.vertexAttribPointer(r.uvPositionAttribute,n.size,n.type,!1,n.stride,n.offB),t.bufferSubData(t.ARRAY_BUFFER,0,e.COVER_UV),t.uniform1i(r.samplerUniform,0),t.drawArrays(t.TRIANGLES,0,e.INDICIES_PER_CARD),this._batchID++},createjs.StageGL=createjs.promote(e,"Stage")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.image,r=this.sourceRect;if(n.getImage&&(n=n.getImage()),!n)return!0;if(r){var i=r.x,o=r.y,a=i+r.width,s=o+r.height,u=0,c=0,l=n.width,f=n.height;i<0&&(u-=i,i=0),a>l&&(a=l),o<0&&(c-=o,o=0),s>f&&(s=f),e.drawImage(n,i,o,a-i,s-o,u,c,a-i,s-o)}else e.drawImage(n,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,n=this.sourceRect||t;return t&&(t.naturalWidth||t.getContext||t.readyState>=2)?this._rectangle.setValues(0,0,n.width,n.height):null},t.clone=function(t){var n=this.image;n&&t&&((n=n.cloneNode()).src=n.src);var r=new e(n);return this.sourceRect&&(r.sourceRect=this.sourceRect.clone()),this._cloneProps(r),r},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,null!=t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var r=n.rect;return r.width&&r.height&&e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,n=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(n)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,n=this._animation,r=this.paused,i=this._currentFrame;if(n){var o=n.speed||1,a=this.currentAnimationFrame;if(a+e*o>=(t=n.frames.length)){var s=n.next;if(this._dispatchAnimationEnd(n,i,r,s,t-1))return;if(s)return this._goto(s,e-(t-a)/o);this.paused=!0,a=n.frames.length-1}else a+=e*o;this.currentAnimationFrame=a,this._currentFrame=n.frames[0|a]}else if((i=this._currentFrame+=e)>=(t=this.spriteSheet.getNumFrames())&&t>0&&!this._dispatchAnimationEnd(n,i,r,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();i=0|this._currentFrame,this.currentFrame!=i&&(this.currentFrame=i,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,n,r,i){var o=e?e.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=o,a.next=r,this.dispatchEvent(a)}var s=this._animation!=e||this._currentFrame!=t;return s||n||!this.paused||(this.currentAnimationFrame=i,s=!0),s},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var n=this.spriteSheet.getAnimation(e);n&&(this._animation=n,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),this.graphics=e||new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this.graphics.draw(e,this),!0)},t.clone=function(t){var n=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(n))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(e,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._workingContext=n.getContext("2d"),n.width=n.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.color||"#000";return this.outline?(e.strokeStyle=n,e.lineWidth=1*this.outline):e.fillStyle=n,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,i=r*e.H_OFFSETS[this.textAlign||"left"],o=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(i,o,r,n.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e.lineJoin="miter",e.miterLimit=2.5,e},t._drawText=function(t,n,r){var i=!!t;i||((t=e._workingContext).save(),this._prepContext(t));for(var o=this.lineHeight||this.getMeasuredLineHeight(),a=0,s=0,u=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,l=u.length;c<l;c++){var f=u[c],h=null;if(null!=this.lineWidth&&(h=t.measureText(f).width)>this.lineWidth){var d=f.split(/(\s)/);f=d[0],h=t.measureText(f).width;for(var p=1,g=d.length;p<g;p+=2){var v=t.measureText(d[p]+d[p+1]).width;h+v>this.lineWidth?(i&&this._drawTextLine(t,f,s*o),r&&r.push(f),h>a&&(a=h),f=d[p+1],h=t.measureText(f).width,s++):(f+=d[p]+d[p+1],h+=v)}}i&&this._drawTextLine(t,f,s*o),r&&r.push(f),n&&null==h&&(h=t.measureText(f).width),h>a&&(a=h),s++}return n&&(n.width=a,n.height=s*o),i||t.restore(),n},t._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var n=e._workingContext;n.save();var r=this._prepContext(n).measureText(t).width;return n.restore(),r},createjs.Text=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var t=createjs.extend(e,createjs.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateState(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._updateState=function(){this._updateText()},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var n,r=t.getAnimation(e);return r||(e!=(n=e.toUpperCase())||e!=(n=e.toLowerCase())||(n=null),n&&(r=t.getAnimation(n))),r&&r.frames[0]},t._getFrame=function(e,t){var n=this._getFrameIndex(e,t);return null==n?n:t.getFrame(n)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,n=0,r=0,i=this._oldProps,o=!1,a=this.spaceWidth,s=this.lineHeight,u=this.spriteSheet,c=e._spritePool,l=this.children,f=0,h=l.length;for(var d in i)i[d]!=this[d]&&(i[d]=this[d],o=!0);if(o){var p=!!this._getFrame(" ",u);p||a||(a=this._getSpaceWidth(u)),s||(s=this._getLineHeight(u));for(var g=0,v=this.text.length;g<v;g++){var m=this.text.charAt(g);if(" "!=m||p)if("\n"!=m&&"\r"!=m){var y=this._getFrameIndex(m,u);null!=y&&(f<h?t=l[f]:(l.push(t=c.length?c.pop():new createjs.Sprite),t.parent=this,h++),t.spriteSheet=u,t.gotoAndStop(y),t.x=n,t.y=r,f++,n+=t.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(g+1)&&g++,n=0,r+=s;else n+=a}for(;h>f;)c.push(t=l.pop()),t.parent=null,h--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}},createjs.BitmapText=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t){var n,r,i,o;this.Container_constructor(),!e.inited&&e.init(),t instanceof String||arguments.length>1?(n=t,r=arguments[1],o=arguments[3],null==(i=arguments[2])&&(i=-1),t=null):t&&(n=t.mode,r=t.startPosition,i=t.loop,o=t.labels),t||(t={labels:o}),this.mode=n||e.INDEPENDENT,this.startPosition=r||0,this.loop=!0===i?-1:i||0,this.currentFrame=0,this.paused=t.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||t.frameBounds,this.framerate=null,t.useTicks=t.paused=!0,this.timeline=new createjs.Timeline(t),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}function t(){throw"MovieClipPlugin cannot be instantiated."}var n=createjs.extend(e,createjs.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(t.install(),e.inited=!0)},n._getLabels=function(){return this.timeline.getLabels()},n.getLabels=createjs.deprecate(n._getLabels,"MovieClip.getLabels"),n._getCurrentLabel=function(){return this.timeline.currentLabel},n.getCurrentLabel=createjs.deprecate(n._getCurrentLabel,"MovieClip.getCurrentLabel"),n._getDuration=function(){return this.timeline.duration},n.getDuration=createjs.deprecate(n._getDuration,"MovieClip.getDuration");try{Object.defineProperties(n,{labels:{get:n._getLabels},currentLabel:{get:n._getCurrentLabel},totalFrames:{get:n._getDuration},duration:{get:n._getDuration}})}catch(e){}n.initialize=e,n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},n.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this._updateState(),this.Container_draw(e,t),!0)},n.play=function(){this.paused=!1},n.stop=function(){this.paused=!0},n.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},n.gotoAndStop=function(e){this.paused=!0,this._goto(e)},n.advance=function(t){var n=e.INDEPENDENT;if(this.mode===n){for(var r=this,i=r.framerate;(r=r.parent)&&null===i;)r.mode===n&&(i=r._framerate);if(this._framerate=i,!(this.totalFrames<=1)){var o=null!==i&&-1!==i&&null!==t?t/(1e3/i)+this._t:1,a=0|o;for(this._t=o-a;!this.paused&&a--;)this._updateTimeline(this._rawPosition+1,!1)}}},n.clone=function(){throw"MovieClip cannot be cloned."},n.toString=function(){return"[MovieClip (name="+this.name+")]"},n._updateState=function(){-1!==this._rawPosition&&this.mode===e.INDEPENDENT||this._updateTimeline(-1)},n._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},n._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(this._t=0,this._updateTimeline(t,!0))},n._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},n._updateTimeline=function(t,n){var r=this.mode!==e.INDEPENDENT,i=this.timeline;r&&(t=this.startPosition+(this.mode===e.SINGLE_FRAME?0:this._synchOffset)),t<0&&(t=0),(this._rawPosition!==t||r)&&(this._rawPosition=t,i.loop=this.loop,i.setPosition(t,r||!this.actionsEnabled,n,this._bound_resolveState))},n._renderFirstFrame=function(){var e=this.timeline,t=e.rawPosition;e.setPosition(0,!0,!0,this._bound_resolveState),e.rawPosition=t},n._resolveState=function(){var e=this.timeline;for(var t in this.currentFrame=e.position,this._managed)this._managed[t]=1;for(var n=e.tweens,r=0,i=n.length;r<i;r++){var o=n[r],a=o.target;if(a!==this&&!o.passive){var s=o._stepPosition;a instanceof createjs.DisplayObject?this._addManagedChild(a,s):this._setState(a.state,s)}}var u=this.children;for(r=u.length-1;r>=0;r--){var c=u[r].id;1===this._managed[c]&&(this.removeChildAt(r),delete this._managed[c])}},n._setState=function(e,t){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n],i=r.t,o=r.p;for(var a in o)i[a]=o[a];this._addManagedChild(i,t)}},n._addManagedChild=function(t,n){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=n,t.mode===e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},n._getBounds=function(e,t){var n=this.DisplayObject_getBounds();return n||this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame])),n?this._transformBounds(n,e,t):this.Container__getBounds(e,t)},createjs.MovieClip=createjs.promote(e,"Container"),t.priority=100,t.ID="MovieClip",t.install=function(){createjs.Tween._installPlugin(t)},t.init=function(n,r,i){"startPosition"===r&&n.target instanceof e&&n._addPlugin(t)},t.step=function(e,t,n){},t.change=function(e,t,n,r,i,o){if("startPosition"===n)return 1===i?t.props[n]:t.prev.props[n]}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.extractFrame=function(t,n){isNaN(n)&&(n=t.getAnimation(n).frames[0]);var r=t.getFrame(n);if(!r)return null;var i=r.rect,o=e._workingCanvas;o.width=i.width,o.height=i.height,e._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);var a=document.createElement("img");return a.src=o.toDataURL("image/png"),a},e.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames"),e.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha"),e._flip=function(t,n,r,i){for(var o=t._images,a=e._workingCanvas,s=e._workingContext,u=o.length/n,c=0;c<u;c++){var l=o[c];l.__tmp=c,s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,a.width+1,a.height+1),a.width=l.width,a.height=l.height,s.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0),s.drawImage(l,0,0);var f=document.createElement("img");f.src=a.toDataURL("image/png"),f.width=l.width||l.naturalWidth,f.height=l.height||l.naturalHeight,o.push(f)}var h=t._frames,d=h.length/n;for(c=0;c<d;c++){var p=(l=h[c]).rect.clone(),g={image:f=o[l.image.__tmp+u*n],rect:p,regX:l.regX,regY:l.regY};r&&(p.x=(f.width||f.naturalWidth)-p.x-p.width,g.regX=p.width-l.regX),i&&(p.y=(f.height||f.naturalHeight)-p.y-p.height,g.regY=p.height-l.regY),h.push(g)}var v="_"+(r?"h":"")+(i?"v":""),m=t._animations,y=t._data,_=m.length/n;for(c=0;c<_;c++){var b=m[c],A={name:b+v,speed:(l=y[b]).speed,next:l.next,frames:[]};l.next&&(A.next+=v);for(var w=0,E=(h=l.frames).length;w<E;w++)A.frames.push(h[w]+d*n);y[A.name]=A,m.push(A.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(e,createjs.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,n,r,i,o){if(this._data)throw e.ERR_RUNNING;var a=n||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(r=r||1,this._frames.push({source:t,sourceRect:a,scale:r,funct:i,data:o,index:this._frames.length,height:a.height*r})-1):null},t.addAnimation=function(t,n,r,i){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:r,speed:i}},t.addMovieClip=function(t,n,r,i,o,a){if(this._data)throw e.ERR_RUNNING;var s=t.frameBounds,u=n||t.bounds||t.nominalBounds;if(!u&&t.getBounds&&(u=t.getBounds()),u||s){var c,l,f=this._frames.length,h=t.timeline.duration;for(c=0;c<h;c++){var d=s&&s[c]?s[c]:u;this.addFrame(t,d,r,this._setupMovieClipFrame,{i:c,f:i,d:o})}var p=t.timeline._labels,g=[];for(var v in p)g.push({index:p[v],label:v});if(g.length)for(g.sort((function(e,t){return e.index-t.index})),c=0,l=g.length;c<l;c++){for(var m=g[c].label,y=f+g[c].index,_=f+(c==l-1?h:g[c+1].index),b=[],A=y;A<_;A++)b.push(A);a&&!(m=a(m,t,y,_))||this.addAnimation(m,b,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var n=this;this._timerID=setTimeout((function(){n._run()}),50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var r=this._frames.slice();if(r.sort((function(e,t){return e.height<=t.height?-1:1})),r[r.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var i=0,o=0,a=0;r.length;){var s=this._fillRow(r,i,a,n,t);if(s.w>o&&(o=s.w),i+=s.h,!s.h||!r.length){var u=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");u.width=this._getSize(o,this.maxWidth),u.height=this._getSize(i,this.maxHeight),this._data.images[a]=u,s.h||(o=i=0,a++)}}},t._setupMovieClipFrame=function(e,t){var n=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=n,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var n=4;Math.pow(2,++n)<e;);return Math.min(t,Math.pow(2,n))},t._fillRow=function(t,n,r,i,o){for(var a=this.maxWidth,s=this.maxHeight-(n+=o),u=o,c=0,l=t.length-1;l>=0;l--){var f=t[l],h=this._scale*f.scale,d=f.sourceRect,p=f.source,g=Math.floor(h*d.x-o),v=Math.floor(h*d.y-o),m=Math.ceil(h*d.height+2*o),y=Math.ceil(h*d.width+2*o);if(y>a)throw e.ERR_DIMENSIONS;m>s||u+y>a||(f.img=r,f.rect=new createjs.Rectangle(u,n,y,m),c=c||m,t.splice(l,1),i[f.index]=[u,n,y,m,r,Math.round(-g+h*p.regX-o),Math.round(-v+h*p.regY-o)],u+=y)}return{w:u,h:c}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,n=!1;t>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var r=this;this._timerID=setTimeout((function(){r._run()}),50-e)}var i=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var o=new createjs.Event("progress");o.progress=i,this.dispatchEvent(o)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,r=e.sourceRect,i=this._data.images[e.img].getContext("2d");return e.funct&&e.funct(e.source,e.data),i.save(),i.beginPath(),i.rect(n.x,n.y,n.width,n.height),i.clip(),i.translate(Math.ceil(n.x-r.x*t),Math.ceil(n.y-r.y*t)),i.scale(t,t),e.source.draw(i),i.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null,this._oldStage=null,this._drawAction=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.stage;t&&t!==this._oldStage&&(this._drawAction&&t.off("drawend",this._drawAction),this._drawAction=t.on("drawend",this._handleDrawEnd,this),this._oldStage=t),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var n=t.style,r=this.getConcatenatedDisplayProps(this._props),i=r.matrix,o=r.visible?"visible":"hidden";if(o!=n.visibility&&(n.visibility=o),r.visible){var a=this._oldProps,s=a&&a.matrix,u=1e4;if(!s||!s.equals(i)){var c="matrix("+(i.a*u|0)/u+","+(i.b*u|0)/u+","+(i.c*u|0)/u+","+(i.d*u|0)/u+","+(i.tx+.5|0);n.transform=n.WebkitTransform=n.OTransform=n.msTransform=c+","+(i.ty+.5|0)+")",n.MozTransform=c+"px,"+(i.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps(!0,null)),a.matrix.copy(i)}a.alpha!=r.alpha&&(n.opacity=""+(r.alpha*u|0)/u,a.alpha=r.alpha)}}},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var t=e.prototype;e.isValidImageSource=function(e){return Boolean(e)&&(e instanceof Image||e instanceof WebGLTexture||e instanceof HTMLCanvasElement)},t.getBounds=function(e){return e},t.shaderParamSetup=function(e,t,n){},t.applyFilter=function(e,t,n,r,i,o){o=o||e;try{var a=e.getImageData(t,n,r,i)}catch(e){return!1}return!!this._applyFilter(a)&&(o.putImageData(a,t,n),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterCount=0,this._filterOffX=0,this._filterOffY=0,this._disabled=!1,this._autoGenerated=!1,this._cacheCanvas=null,this._stageGL=null,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0,this._boundRect=new createjs.Rectangle,this._counterMatrix=null,this._bufferTextureOutput=null,this._bufferTextureConcat=null,this._bufferTextureTemp=null}var t=e.prototype;t._get_disabled=function(){return this._disabled},t._set_disabled=function(e){this._disabled=!!e,this.target&&(this.target.cacheCanvas=this._disabled||this._autoGenerated?null:this._cacheCanvas)};try{Object.defineProperties(t,{disabled:{get:t._get_disabled,set:t._set_disabled}})}catch(e){}e.getFilterBounds=function(e,t){t||(t=new createjs.Rectangle);var n=e.filters,r=n&&n.length;if(!!r<=0)return t;for(var i=0;i<r;i++){var o=n[i];if(o&&o.getBounds){var a=o.getBounds();a&&(0===i?t.setValues(a.x,a.y,a.width,a.height):t.extend(a.x,a.y,a.width,a.height))}}return t},e.filterCounter=function(e,t){for(var n=1;t._multiPass;)t=t._multiPass,n++;return e+n},t.toString=function(){return"[BitmapCache]"},t.define=function(e,t,n,r,i,o,a){if(!e)throw"No symbol to cache";this._options=a,this.target=e,this.width=r>=1?r:1,this.height=i>=1?i:1,this.x=t||0,this.y=n||0,this.scale=o||1,this.update()},t.update=function(t){if(!this.target)throw"define() must be called before update()";var n=e.getFilterBounds(this.target),r=this._cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+n.width,this._drawHeight=Math.ceil(this.height*this.scale)+n.height,this._filterCount=this.target.filters&&this.target.filters.reduce(e.filterCounter,0),r&&this._drawWidth===r.width&&this._drawHeight===r.height||this._updateSurface(),this._stageGL&&(null===this._bufferTextureOutput?this._bufferTextureOutput=this._stageGL.getRenderBufferTexture(this._drawWidth,this._drawHeight):this._stageGL.resizeTexture(this._bufferTextureOutput,this._drawWidth,this._drawHeight),null===this._cacheCanvas&&(this._cacheCanvas=this._bufferTextureOutput,this.disabled=this._disabled),this._filterCount>=1&&(null===this._bufferTextureConcat?this._bufferTextureConcat=this._stageGL.getRenderBufferTexture(this._drawWidth,this._drawHeight):this._stageGL.resizeTexture(this._bufferTextureConcat,this._drawWidth,this._drawHeight))),this._filterOffX=n.x,this._filterOffY=n.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(t),this.cacheID=this.cacheID?this.cacheID+1:1},t.release=function(){if(this._stageGL)null!==this._bufferTextureOutput&&this._stageGL._killTextureObject(this._bufferTextureOutput),null!==this._bufferTextureConcat&&this._stageGL._killTextureObject(this._bufferTextureConcat),null!==this._bufferTextureTemp&&this._stageGL._killTextureObject(this._bufferTextureTemp),this._stageGL=!1;else{var e=this.target.stage;e instanceof createjs.StageGL&&e.releaseTexture(this._cacheCanvas)}this.disabled=!0,this.target=this._cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},t.getCacheDataURL=function(e,t){var n=this.target&&this._cacheCanvas;return n?(this.cacheID!==this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=n.getCacheDataURL?n.getCacheDataURL(e,t):null),this._cacheDataURL):null},t.draw=function(e){return!!this.target&&(e.drawImage(this._cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)},t.getBounds=function(){var e=this.scale;return this._boundRect.setValues(this.x,this.y,this.width/e,this.height/e)},t._getGLFilter=function(e){if(!(null===this.target.filters||e<0)){for(var t=0,n=this.target.filters[t];n&&--e>=0;)n=n._multiPass?n._multiPass:this.target.filters[++t];return n}},t._updateSurface=function(){var e;if(!this._options||!this._options.useGL)return(e=this._cacheCanvas)||(e=this._cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),this.disabled=this._disabled),e.width=this._drawWidth,void(e.height=this._drawHeight);if(!this._stageGL)if("stage"===this._options.useGL){var t=this.target.stage;if(!t||!t.isWebGL)throw"Cannot use 'stage' for cache because the object's parent stage is "+(t?"non WebGL.":"not set, please addChild to the correct stage.");this._stageGL=t}else if("new"===this._options.useGL){if(this._cacheCanvas=document.createElement("canvas"),this._stageGL=new createjs.StageGL(this._cacheCanvas,{antialias:!0,transparent:!0,autoPurge:10}),!this._stageGL._webGLContext)throw"GL Cache asked for but unavailable";this._stageGL.isCacheControlled=!0}else{if(!(this._options.useGL instanceof createjs.StageGL))throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this._stageGL=this._options.useGL}this.disabled=this._disabled;var n=this._stageGL;n.isCacheControlled&&((e=this._cacheCanvas).width=this._drawWidth,e.height=this._drawHeight,n.updateViewport(this._drawWidth,this._drawHeight))},t._drawToCache=function(e){var t=this._cacheCanvas,n=this.target,r=this._stageGL;if(r)r.cacheDraw(n,this);else{var i=t.getContext("2d");e||i.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),i.save(),i.globalCompositeOperation=e,i.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),i.translate(-this.x,-this.y),n.draw(i,!0),i.restore(),n.filters&&n.filters.length&&this._applyFilters(i)}t._invalid=!0},t._applyFilters=function(e){var t,n=this.target.filters,r=this._drawWidth,i=this._drawHeight,o=0,a=n[o];do{a.usesContext?(t&&(e.putImageData(t,0,0),t=null),a.applyFilter(e,0,0,r,i)):(t||(t=e.getImageData(0,0,r,i)),a._applyFilter(t)),a=null!==a._multiPass?a._multiPass:n[++o]}while(a);t&&e.putImageData(t,0,0)},createjs.BitmapCache=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.Filter_constructor(),this._blurX=e,this._blurXTable=[],this._lastBlurX=null,this._blurY=t,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vTextureCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}",(isNaN(n)||n<1)&&(n=1),this.setQuality(0|n)}var t=createjs.extend(e,createjs.Filter);t.getBlurX=function(){return this._blurX},t.getBlurY=function(){return this._blurY},t.setBlurX=function(e){(isNaN(e)||e<0)&&(e=0),this._blurX=e},t.setBlurY=function(e){(isNaN(e)||e<0)&&(e=0),this._blurY=e},t.getQuality=function(){return this._quality},t.setQuality=function(e){(isNaN(e)||e<0)&&(e=0),this._quality=0|e},t._getShader=function(){var e=this._lastBlurX!==this._blurX,t=this._lastBlurY!==this._blurY,n=this._lastQuality!==this._quality;return e||t||n?((e||n)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(t||n)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},t._setShader=function(e){this._compiledShader=e};try{Object.defineProperties(t,{blurX:{get:t.getBlurX,set:t.setBlurX},blurY:{get:t.getBlurY,set:t.setBlurY},quality:{get:t.getQuality,set:t.setQuality},_builtShader:{get:t._getShader,set:t._setShader}})}catch(e){console.log(e)}t._getTable=function(e){if(e<=1)return[1];for(var t=[],n=Math.ceil(2*e),r=(n+=n%2?0:1)/2|0,i=-r;i<=r;i++){var o=i/r*4.2;t.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(o,2)/4))}var a=t.reduce((function(e,t){return e+t}));return t.map((function(e,t,n){return e/a}))},t._updateShader=function(){if(void 0!==this._blurX&&void 0!==this._blurY){var e=this.FRAG_SHADER_TEMPLATE;e=(e=e.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0))).replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=e}},t.shaderParamSetup=function(e,t,n){e.uniform1fv(e.getUniformLocation(n,"xWeight"),this._blurXTable),e.uniform1fv(e.getUniformLocation(n,"yWeight"),this._blurYTable),e.uniform2f(e.getUniformLocation(n,"textureOffset"),2/(t._viewportWidth*this._quality),2/(t._viewportHeight*this._quality))},e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,n=0|this.blurY;if(t<=0&&n<=0)return e;var r=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(n*r+1,t*r+1,n*r+1,t*r+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var n=this._blurX>>1;if(isNaN(n)||n<0)return!1;var r=this._blurY>>1;if(isNaN(r)||r<0)return!1;if(0==n&&0==r)return!1;var i=this.quality;(isNaN(i)||i<1)&&(i=1),(i|=0)>3&&(i=3),i<1&&(i=1);var o=t.data,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,g=0,v=0,m=0,y=0,_=0,b=0,A=n+n+1|0,w=r+r+1|0,E=0|t.width,x=0|t.height,T=E-1|0,S=x-1|0,O=n+1|0,C=r+1|0,k={r:0,b:0,g:0,a:0},P=k;for(u=1;u<A;u++)P=P.n={r:0,b:0,g:0,a:0};P.n=k;var N={r:0,b:0,g:0,a:0},I=N;for(u=1;u<w;u++)I=I.n={r:0,b:0,g:0,a:0};I.n=N;for(var R=null,L=0|e.MUL_TABLE[n],D=0|e.SHG_TABLE[n],M=0|e.MUL_TABLE[r],j=0|e.SHG_TABLE[r];i-- >0;){h=f=0;var B=L,F=D;for(s=x;--s>-1;){for(d=O*(m=o[0|f]),p=O*(y=o[f+1|0]),g=O*(_=o[f+2|0]),v=O*(b=o[f+3|0]),P=k,u=O;--u>-1;)P.r=m,P.g=y,P.b=_,P.a=b,P=P.n;for(u=1;u<O;u++)c=f+((T<u?T:u)<<2)|0,d+=P.r=o[c],p+=P.g=o[c+1],g+=P.b=o[c+2],v+=P.a=o[c+3],P=P.n;for(R=k,a=0;a<E;a++)o[f++]=d*B>>>F,o[f++]=p*B>>>F,o[f++]=g*B>>>F,o[f++]=v*B>>>F,c=h+((c=a+n+1)<T?c:T)<<2,d-=R.r-(R.r=o[c]),p-=R.g-(R.g=o[c+1]),g-=R.b-(R.b=o[c+2]),v-=R.a-(R.a=o[c+3]),R=R.n;h+=E}for(B=M,F=j,a=0;a<E;a++){for(d=C*(m=o[f=a<<2|0])|0,p=C*(y=o[f+1|0])|0,g=C*(_=o[f+2|0])|0,v=C*(b=o[f+3|0])|0,I=N,u=0;u<C;u++)I.r=m,I.g=y,I.b=_,I.a=b,I=I.n;for(l=E,u=1;u<=r;u++)f=l+a<<2,d+=I.r=o[f],p+=I.g=o[f+1],g+=I.b=o[f+2],v+=I.a=o[f+3],I=I.n,u<S&&(l+=E);if(f=a,R=N,i>0)for(s=0;s<x;s++)o[(c=f<<2)+3]=b=v*B>>>F,b>0?(o[c]=d*B>>>F,o[c+1]=p*B>>>F,o[c+2]=g*B>>>F):o[c]=o[c+1]=o[c+2]=0,c=a+((c=s+C)<S?c:S)*E<<2,d-=R.r-(R.r=o[c]),p-=R.g-(R.g=o[c+1]),g-=R.b-(R.b=o[c+2]),v-=R.a-(R.a=o[c+3]),R=R.n,f+=E;else for(s=0;s<x;s++)o[(c=f<<2)+3]=b=v*B>>>F,b>0?(b=255/b,o[c]=(d*B>>>F)*b,o[c+1]=(p*B>>>F)*b,o[c+2]=(g*B>>>F)*b):o[c]=o[c+1]=o[c+2]=0,c=a+((c=s+C)<S?c:S)*E<<2,d-=R.r-(R.r=o[c]),p-=R.g-(R.g=o[c+1]),g-=R.b-(R.b=o[c+2]),v-=R.a-(R.a=o[c+3]),R=R.n,f+=E}}return!0},createjs.BlurFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){if(this.Filter_constructor(),!createjs.Filter.isValidImageSource(e))throw"Must provide valid image source for alpha map, see Filter.isValidImageSource";this.alphaMap=e,this._map=null,this._mapCtx=null,this._mapTexture=null,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);float newAlpha = alphaMap.r * ceil(alphaMap.a);gl_FragColor = vec4(clamp(color.rgb/color.a, 0.0, 1.0) * newAlpha, newAlpha);}",e instanceof WebGLTexture&&(this._mapTexture=e)}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,n){null===this._mapTexture&&(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),this.alphaMap!==this._mapTexture&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.alphaMap),e.uniform1i(e.getUniformLocation(n,"uAlphaSampler"),1)},t.clone=function(){return new e(this.alphaMap)},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this._prepAlphaMap())return!1;for(var t,n,r,i,o=e.data,a=e.width,s=e.height,u=this._mapCtx.getImageData(0,0,this._map.width,this._map.height),c=u.data,l=u.width,f=l/a,h=u.height/s,d=0;d<s;d++){t=d*a,r=(d*h|0)*l;for(var p=0;p<a;p++)i=4*(r+(p*f|0)),o[n=4*(t+p)]=o[n],o[n+1]=o[n+1],o[n+2]=o[n+2],o[n+3]=c[i]}return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap===this._map&&this._mapCtx)return!0;var e,t=this._map=this.alphaMap,n=t;return t instanceof HTMLCanvasElement?e=n.getContext("2d"):((n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=t.width,n.height=t.height,(e=n.getContext("2d")).drawImage(t,0,0)),this._mapCtx=e,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){if(this.Filter_constructor(),!createjs.Filter.isValidImageSource(e))throw"Must provide valid image source for alpha mask, see Filter.isValidImageSource";this.mask=e,this.usesContext=!0,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb * alphaMap.a, color.a * alphaMap.a);}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,n){this._mapTexture||(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),this.mask!==this._mapTexture&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.mask),e.uniform1i(e.getUniformLocation(n,"uAlphaSampler"),1)},t.applyFilter=function(e,t,n,r,i,o){return!this.mask||(void 0===o&&(o=e),o!==e&&o.drawImage(e.canvas,0,0,e.canvas.width,e.canvas.height,0,0,o.canvas.width,o.canvas.height),o.save(),o.globalCompositeOperation="destination-in",o.drawImage(this.mask,0,0,this.mask.width,this.mask.height,t,n,r,i),o.restore(),!0)},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r,i,o,a,s){this.Filter_constructor(),this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=r?r:1,this.redOffset=i||0,this.greenOffset=o||0,this.blueOffset=a||0,this.alphaOffset=s||0,this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);color = clamp(vec4(0.0), vec4(1.0), vec4(vec3(color.rgb / color.a), color.a));color = clamp(vec4(0.0), vec4(1.0), color * uColorMultiplier + uColorOffset);gl_FragColor = vec4(color.rgb * color.a, color.a);}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,n){e.uniform4f(e.getUniformLocation(n,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),e.uniform4f(e.getUniformLocation(n,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,n=t.length,r=0;r<n;r+=4)t[r]=t[r]*this.redMultiplier+this.redOffset,t[r+1]=t[r+1]*this.greenMultiplier+this.greenOffset,t[r+2]=t[r+2]*this.blueMultiplier+this.blueOffset,t[r+3]=t[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,r){this.setColor(e,t,n,r)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,e.createSepiaPreset=function(){return(new e).copy([.4977,.9828,.1322,0,14,.4977,.9828,.1322,0,-14,.4977,.9828,.1322,0,-47,0,0,0,1,0,0,0,0,0,1])},e.createInvertPreset=function(){return(new e).copy([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])},e.createGreyscalePreset=function(){return(new e).copy([.3333,.3334,.3333,0,0,.3333,.3334,.3333,0,0,.3333,.3334,.3333,0,0,0,0,0,1,0,0,0,0,0,1])},t.setColor=function(e,t,n,r){return this.reset().adjustColor(e,t,n,r)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,n,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(n)},t.adjustBrightness=function(e){return 0==e||isNaN(e)||(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])),this},t.adjustOffset=function(e,t,n){return isNaN(e)||isNaN(t)||isNaN(n)||(this[4]=this._cleanValue(this[4]+e,255),this[9]=this._cleanValue(this[9]+t,255),this[14]=this._cleanValue(this[14]+n,255)),this},t.adjustContrast=function(t){return 0==t||isNaN(t)||((t=this._cleanValue(t,100))<0?n=127+t/100*127:n=127*(n=0==(n=t%1)?e.DELTA_INDEX[t]:e.DELTA_INDEX[t<<0]*(1-n)+e.DELTA_INDEX[1+(t<<0)]*n)+127,this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])),this;var n},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;var t=1+((e=this._cleanValue(e,100))>0?3*e/100:e/100),n=.3086,r=.6094,i=.082;return this._multiplyMatrix([n*(1-t)+t,r*(1-t),i*(1-t),0,0,n*(1-t),r*(1-t)+t,i*(1-t),0,0,n*(1-t),r*(1-t),i*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),n=Math.sin(e),r=.213,i=.715,o=.072;return this._multiplyMatrix([r+t*(1-r)+n*-r,i+t*-i+n*-i,o+t*-o+n*(1-o),0,0,r+t*-r+.143*n,i+t*(1-i)+.14*n,o+t*-o+-.283*n,0,0,r+t*-r+-.787*n,i+t*-i+n*i,o+t*(1-o)+n*o,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=e.LENGTH||this._multiplyMatrix(t),this},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],n=0,r=e.LENGTH;n<r;n++)t[n]=this[n];return t},t.copy=function(t){for(var n=e.LENGTH,r=0;r<n;r++)this[r]=t[r];return this},t.toString=function(){var e="";return e+="    "+this[0].toFixed(4)+", "+this[1].toFixed(4)+", "+this[2].toFixed(4)+", "+this[3].toFixed(4)+", "+(0|this[4])+",\n",e+="    "+this[5].toFixed(4)+", "+this[6].toFixed(4)+", "+this[7].toFixed(4)+", "+this[8].toFixed(4)+", "+(0|this[9])+",\n",e+="    "+this[10].toFixed(4)+", "+this[11].toFixed(4)+", "+this[12].toFixed(4)+", "+this[13].toFixed(4)+", "+(0|this[14])+",\n",e+="    "+this[15].toFixed(4)+", "+this[16].toFixed(4)+", "+this[17].toFixed(4)+", "+this[18].toFixed(4)+", "+(0|this[19])+",\n","[ColorMatrix] {\n"+(e+="    "+(0|this[20])+", "+(0|this[21])+", "+(0|this[22])+", "+(0|this[23])+", "+(0|this[24])+"\n")+"}"},t._multiplyMatrix=function(e){var t,n,r,i=[];for(t=0;t<5;t++){for(n=0;n<5;n++)i[n]=this[n+5*t];for(n=0;n<5;n++){var o=0;for(r=0;r<5;r++)o+=e[n+5*r]*i[r];this[n+5*t]=o}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Filter_constructor(),this.matrix=e,this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vTextureCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3],color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3],color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3],color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3]);gl_FragColor = newColor + uColorMatrixOffset;}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(e,t,n){var r=this.matrix,i=new Float32Array([r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]]);e.uniformMatrix4fv(e.getUniformLocation(n,"uColorMatrix"),!1,i),e.uniform4f(e.getUniformLocation(n,"uColorMatrixOffset"),r[4]/255,r[9]/255,r[14]/255,r[19]/255)},t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,n,r,i,o=e.data,a=o.length,s=this.matrix,u=s[0],c=s[1],l=s[2],f=s[3],h=s[4],d=s[5],p=s[6],g=s[7],v=s[8],m=s[9],y=s[10],_=s[11],b=s[12],A=s[13],w=s[14],E=s[15],x=s[16],T=s[17],S=s[18],O=s[19],C=0;C<a;C+=4)t=o[C],n=o[C+1],r=o[C+2],i=o[C+3],o[C]=t*u+n*c+r*l+i*f+h,o[C+1]=t*d+n*p+r*g+i*v+m,o[C+2]=t*y+n*_+r*b+i*A+w,o[C+3]=t*E+n*x+r*T+i*S+O;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.MSPointerEvent&&window.navigator.msMaxTouchPoints>0||window.PointerEvent&&window.navigator.maxTouchPoints>0)},e.enable=function(t,n,r){return!(!(t&&t.canvas&&e.isSupported())||!t.__touch&&(t.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.PointerEvent||window.MSPointerEvent)&&e._IE_enable(t),0))},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.PointerEvent||window.MSPointerEvent)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",r,!1),n.addEventListener("touchmove",r,!1),n.addEventListener("touchend",r,!1),n.addEventListener("touchcancel",r,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var n=e.__touch.f;t.removeEventListener("touchstart",n,!1),t.removeEventListener("touchmove",n,!1),t.removeEventListener("touchend",n,!1),t.removeEventListener("touchcancel",n,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var n=t.changedTouches,r=t.type,i=0,o=n.length;i<o;i++){var a=n[i],s=a.identifier;a.target==e.canvas&&("touchstart"===r?this._handleStart(e,s,t,a.pageX,a.pageY):"touchmove"===r?this._handleMove(e,s,t,a.pageX,a.pageY):"touchend"!==r&&"touchcancel"!==r||this._handleEnd(e,s,t))}}},e._IE_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IE_handleEvent(t,n)};void 0===window.PointerEvent?(n.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),t.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),t.__touch.preventDefault&&(n.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.PointerEvent?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,r=t.pointerId,i=e.__touch.activeIDs;if("MSPointerDown"===n||"pointerdown"===n){if(t.srcElement!=e.canvas)return;i[r]=!0,this._handleStart(e,r,t,t.pageX,t.pageY)}else i[r]&&("MSPointerMove"===n||"pointermove"===n?this._handleMove(e,r,t,t.pageX,t.pageY):"MSPointerUp"!==n&&"MSPointerCancel"!==n&&"pointerup"!==n&&"pointercancel"!==n||(delete i[r],this._handleEnd(e,r,t)))}},e._handleStart=function(e,t,n,r,i){var o=e.__touch;if(o.multitouch||!o.count){var a=o.pointers;a[t]||(a[t]=!0,o.count++,e._handlePointerDown(t,n,r,i))}},e._handleMove=function(e,t,n,r,i){e.__touch.pointers[t]&&e._handlePointerMove(t,n,r,i)},e._handleEnd=function(e,t,n){var r=e.__touch,i=r.pointers;i[t]&&(r.count--,e._handlePointerUp(t,n,!0),delete i[t])},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.EaselJS=createjs.EaselJS||{};e.version="1.0.0",e.buildDate="Thu, 08 Jul 2021 03:24:18 GMT"}()}).bind(window)()},function(e,t){
/*!
* @license TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var n=e.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(r)for(var i in n[(t+="_")+"constructor"]=r.constructor,r)n.hasOwnProperty(i)&&"function"==typeof r[i]&&(n[t+i]=r[i]);return e},this.createjs=this.createjs||{},createjs.deprecate=function(e,t){"use strict";return function(){var n="Deprecated property or method '"+t+"'. See docs for info.";return console&&(console.warn?console.warn(n):console.log(n)),e&&e.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var r,i=(r=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return i&&this.removeEventListener(e,t,n),(i=r[e])?i.push(t):r[e]=[t],t},t.on=function(e,t,n,r,i,o){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,(function(e){t.call(n,e,i),r&&e.remove()}),o)},t.removeEventListener=function(e,t,n){var r=n?this._captureListeners:this._listeners;if(r){var i=r[e];if(i)for(var o=0,a=i.length;o<a;o++)if(i[o]==t){1==a?delete r[e]:i.splice(o,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,n){if("string"==typeof e){var r=this._listeners;if(!(t||r&&r[e]))return!0;e=new createjs.Event(e,t,n)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var i=this,o=[i];i.parent;)o.push(i=i.parent);var a,s=o.length;for(a=s-1;a>=0&&!e.propagationStopped;a--)o[a]._dispatchEvent(e,1+(0==a));for(a=1;a<s&&!e.propagationStopped;a++)o[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,r,i=t<=2?this._captureListeners:this._listeners;if(e&&i&&(r=i[e.type])&&(n=r.length)){try{e.currentTarget=this}catch(e){}try{e.eventPhase=0|t}catch(e){}e.removed=!1,r=r.slice();for(var o=0;o<n&&!e.immediatePropagationStopped;o++){var a=r[o];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}2===t&&this._dispatchEvent(e,2.1)},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e._setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.setInterval=createjs.deprecate(e._setInterval,"Ticker.setInterval"),e._getInterval=function(){return e._interval},e.getInterval=createjs.deprecate(e._getInterval,"Ticker.getInterval"),e._setFPS=function(t){e._setInterval(1e3/t)},e.setFPS=createjs.deprecate(e._setFPS,"Ticker.setFPS"),e._getFPS=function(){return 1e3/e._interval},e.getFPS=createjs.deprecate(e._getFPS,"Ticker.getFPS");try{Object.defineProperties(e,{interval:{get:e._getInterval,set:e._setInterval},framerate:{get:e._getFPS,set:e._setFPS}})}catch(t){console.log(t)}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=e._pausedTime=0,e._inited=!1},e.getMeasuredTickTime=function(t){var n=0,r=e._tickTimes;if(!r||r.length<1)return-1;t=Math.min(r.length,t||0|e._getFPS());for(var i=0;i<t;i++)n+=r[i];return n/t},e.getMeasuredFPS=function(t){var n=e._times;return!n||n.length<2?-1:(t=Math.min(n.length-1,t||0|e._getFPS()),1e3/((n[0]-n[t])/t))},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode;if(t==e.RAF_SYNCHED||t==e.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return e._timerId=n(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,n=e._getTime(),r=n-e._lastTime;if(e._lastTime=n,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=r),e.hasEventListener("tick")){var i=new createjs.Event("tick"),o=e.maxDelta;i.delta=o&&r>o?o:r,i.paused=t,i.time=n,i.runTime=n-e._pausedTime,e.dispatchEvent(i)}for(e._tickTimes.unshift(e._getTime()-n);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(n);e._times.length>100;)e._times.pop()};var t=window,n=t.performance.now||t.performance.mozNow||t.performance.msNow||t.performance.oNow||t.performance.webkitNow;e._getTime=function(){return(n&&n.call(t.performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,this._status=-1,this._lastTick=0,e&&(this.useTicks=!!e.useTicks,this.ignoreGlobalPause=!!e.ignoreGlobalPause,this.loop=!0===e.loop?-1:e.loop||0,this.reversed=!!e.reversed,this.bounce=!!e.bounce,this.timeScale=e.timeScale||1,e.onChange&&this.addEventListener("change",e.onChange),e.onComplete&&this.addEventListener("complete",e.onComplete))}var t=createjs.extend(e,createjs.EventDispatcher);t._setPaused=function(e){return createjs.Tween._register(this,e),this},t.setPaused=createjs.deprecate(t._setPaused,"AbstractTween.setPaused"),t._getPaused=function(){return this._paused},t.getPaused=createjs.deprecate(t._getPaused,"AbstactTween.getPaused"),t._getCurrentLabel=function(e){var t=this.getLabels();null==e&&(e=this.position);for(var n=0,r=t.length;n<r&&!(e<t[n].position);n++);return 0===n?null:t[n-1].label},t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(t,{paused:{set:t._setPaused,get:t._getPaused},currentLabel:{get:t._getCurrentLabel}})}catch(t){}t.advance=function(e,t){this.setPosition(this.rawPosition+e*this.timeScale,t)},t.setPosition=function(e,t,n,r){var i=this.duration,o=this.loop,a=this.rawPosition,s=0,u=0,c=!1;if(e<0&&(e=0),0===i){if(c=!0,-1!==a)return c}else{if(u=e-(s=e/i|0)*i,(c=-1!==o&&e>=o*i+i)&&(e=(u=i)*(s=o)+i),e===a)return c;!this.reversed!=!(this.bounce&&s%2)&&(u=i-u)}this.position=u,this.rawPosition=e,this._updatePosition(n,c),c&&(this.paused=!0),r&&r(this),t||this._runActions(a,e,n,!n&&-1===a),this.dispatchEvent("change"),c&&this.dispatchEvent("complete")},t.calculatePosition=function(e){var t=this.duration,n=this.loop,r=0,i=0;return 0===t?0:(-1!==n&&e>=n*t+t?(i=t,r=n):e<0?i=0:i=e-(r=e/t|0)*t,!this.reversed!=!(this.bounce&&r%2)?t-i:i)},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var n in t)e.push({label:n,position:t[n]});e.sort((function(e,t){return e.position-t.position}))}return e},t.setLabels=function(e){this._labels=e,this._labelList=null},t.addLabel=function(e,t){this._labels||(this._labels={}),this._labels[e]=t;var n=this._labelList;if(n){for(var r=0,i=n.length;r<i&&!(t<n[r].position);r++);n.splice(r,0,{label:e,position:t})}},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels&&this._labels[e]),t},t.toString=function(){return"[AbstractTween]"},t.clone=function(){throw"AbstractTween can not be cloned."},t._init=function(e){e&&e.paused||(this.paused=!1),e&&null!=e.position&&this.setPosition(e.position)},t._updatePosition=function(e,t){},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t,!1,!0)},t._runActions=function(e,t,n,r){if(this._actionHead||this.tweens){var i,o,a,s,u=this.duration,c=this.reversed,l=this.bounce,f=this.loop;if(0===u?(i=o=a=s=0,c=l=!1):(a=e-(i=e/u|0)*u,s=t-(o=t/u|0)*u),-1!==f&&(o>f&&(s=u,o=f),i>f&&(a=u,i=f)),n)return this._runActionsRange(s,s,n,r);if(i!==o||a!==s||n||r){-1===i&&(i=a=0);var h=e<=t,d=i;do{var p=d===i?a:h?0:u,g=d===o?s:h?u:0;if(!c!=!(l&&d%2)&&(p=u-p,g=u-g),l&&d!==i&&p===g);else if(this._runActionsRange(p,g,n,r||d!==i&&!l))return!0;r=!1}while(h&&++d<=o||!h&&--d>=o)}}},t._runActionsRange=function(e,t,n,r){},createjs.AbstractTween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(n,r){this.AbstractTween_constructor(r),this.pluginData=null,this.target=n,this.passive=!1,this._stepHead=new t(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,r&&(this.pluginData=r.pluginData,r.override&&e.removeTweens(n)),this.pluginData||(this.pluginData={}),this._init(r)}function t(e,t,n,r,i,o){this.next=null,this.prev=e,this.t=t,this.d=n,this.props=r,this.ease=i,this.passive=o,this.index=e?e.index+1:0}function n(e,t,n,r,i){this.next=null,this.prev=e,this.t=t,this.d=0,this.scope=n,this.funct=r,this.params=i}var r=createjs.extend(e,createjs.AbstractTween);e.IGNORE={},e._tweens=[],e._plugins=null,e._tweenHead=null,e._tweenTail=null,e._inTick=0,e.get=function(t,n){return new e(t,n)},e.tick=function(t,n){for(var r=e._tweenHead,i=e._inTick=Date.now();r;){var o=r._next,a=r._status;r._lastTick=i,1===a?r._status=0:-1===a?e._delist(r):n&&!r.ignoreGlobalPause||r._paused||r.advance(r.useTicks?1:t),r=o}e._inTick=0},e.handleEvent=function(e){"tick"===e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var n=e._tweenHead;n;){var r=n._next;n.target===t&&e._register(n,!0),n=r}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweenHead;t;){var n=t._next;t._paused=!0,t.target&&(t.target.tweenjs_count=0),t._next=t._prev=null,t=n}e._tweenHead=e._tweenTail=null},e.hasActiveTweens=function(t){return t?!!t.tweenjs_count:!!e._tweenHead},e._installPlugin=function(t){for(var n=t.priority=t.priority||0,r=e._plugins=e._plugins||[],i=0,o=r.length;i<o&&!(n<r[i].priority);i++);r.splice(i,0,t)},e._register=function(t,n){var r=t.target;if(!n&&t._paused){r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1);var i=e._tweenTail;i?(e._tweenTail=i._next=t,t._prev=i):e._tweenHead=e._tweenTail=t,t._status=e._inTick?1:0,!e._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",e),e._inited=!0)}else n&&!t._paused&&(r&&r.tweenjs_count--,e._inTick&&t._lastTick!==e._inTick||e._delist(t),t._status=-1);t._paused=n},e._delist=function(t){var n=t._next,r=t._prev;n?n._prev=r:e._tweenTail=r,r?r._next=n:e._tweenHead=n,t._next=t._prev=null},r.wait=function(e,t){return e>0&&this._addStep(+e,this._stepTail.props,null,t),this},r.to=function(e,t,n){(null==t||t<0)&&(t=0);var r=this._addStep(+t,null,n);return this._appendProps(e,r),this},r.label=function(e){return this.addLabel(e,this.duration),this},r.call=function(e,t,n){return this._addAction(n||this.target,e,t||[this])},r.set=function(e,t){return this._addAction(t||this.target,this._set,[e])},r.play=function(e){return this._addAction(e||this,this._set,[{paused:!1}])},r.pause=function(e){return this._addAction(e||this,this._set,[{paused:!0}])},r.w=r.wait,r.t=r.to,r.c=r.call,r.s=r.set,r.toString=function(){return"[Tween]"},r.clone=function(){throw"Tween can not be cloned."},r._addPlugin=function(e){var t=this._pluginIds||(this._pluginIds={}),n=e.ID;if(n&&!t[n]){t[n]=!0;for(var r=this._plugins||(this._plugins=[]),i=e.priority||0,o=0,a=r.length;o<a;o++)if(i<r[o].priority)return void r.splice(o,0,e);r.push(e)}},r._updatePosition=function(e,t){var n=this._stepHead.next,r=this.position,i=this.duration;if(this.target&&n){for(var o=n.next;o&&o.t<=r;)o=(n=n.next).next;var a=t?0===i?1:r/i:(r-n.t)/n.d;this._updateTargetProps(n,a,t)}this._stepPosition=n?r-n.t:0},r._updateTargetProps=function(t,n,r){if(!(this.passive=!!t.passive)){var i,o,a,s,u=t.prev.props,c=t.props;(s=t.ease)&&(n=s(n,0,1,1));var l=this._plugins;e:for(var f in u){if(i=(o=u[f])!==(a=c[f])&&"number"==typeof o?o+(a-o)*n:n>=1?a:o,l)for(var h=0,d=l.length;h<d;h++){var p=l[h].change(this,t,f,i,n,r);if(p===e.IGNORE)continue e;void 0!==p&&(i=p)}this.target[f]=i}}},r._runActionsRange=function(e,t,n,r){var i=e>t,o=i?this._actionTail:this._actionHead,a=t,s=e;i&&(a=e,s=t);for(var u=this.position;o;){var c=o.t;if((c===t||c>s&&c<a||r&&c===e)&&(o.funct.apply(o.scope,o.params),u!==this.position))return!0;o=i?o.prev:o.next}},r._appendProps=function(t,n,r){var i,o,a,s,u,c=this._stepHead.props,l=this.target,f=e._plugins,h=n.prev,d=h.props,p=n.props||(n.props=this._cloneProps(d)),g={};for(i in t)if(t.hasOwnProperty(i)&&(g[i]=p[i]=t[i],void 0===c[i])){if(s=void 0,f)for(o=f.length-1;o>=0;o--)if(void 0!==(a=f[o].init(this,i,s))&&(s=a),s===e.IGNORE){delete p[i],delete g[i];break}s!==e.IGNORE&&(void 0===s&&(s=l[i]),d[i]=void 0===s?null:s)}for(i in g){a=t[i];for(var v,m=h;(v=m)&&(m=v.prev);)if(m.props!==v.props){if(void 0!==m.props[i])break;m.props[i]=d[i]}}if(!1!==r&&(f=this._plugins))for(o=f.length-1;o>=0;o--)f[o].step(this,n,g);(u=this._injected)&&(this._injected=null,this._appendProps(u,n,!1)),this.step=n},r._injectProp=function(e,t){(this._injected||(this._injected={}))[e]=t},r._addStep=function(e,n,r,i){var o=new t(this._stepTail,this.duration,e,n,r,i||!1);return this.duration+=e,this._stepTail=this._stepTail.next=o},r._addAction=function(e,t,r){var i=new n(this._actionTail,this.duration,e,t,r);return this._actionTail?this._actionTail.next=i:this._actionHead=i,this._actionTail=i,this},r._set=function(e){for(var t in e)this[t]=e[t]},r._cloneProps=function(e){var t={};for(var n in e)t[n]=e[n];return t},createjs.Tween=createjs.promote(e,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){var t,n;e instanceof Array||null==e&&arguments.length>1?(t=e,n=arguments[1],e=arguments[2]):e&&(t=e.tweens,n=e.labels),this.AbstractTween_constructor(e),this.tweens=[],t&&this.addTween.apply(this,t),this.setLabels(n),this._init(e)}var t=createjs.extend(e,createjs.AbstractTween);t.addTween=function(e){e._parent&&e._parent.removeTween(e);var t=arguments.length;if(t>1){for(var n=0;n<t;n++)this.addTween(arguments[n]);return arguments[t-1]}if(0===t)return null;this.tweens.push(e),e._parent=this,e.paused=!0;var r=e.duration;return e.loop>0&&(r*=e.loop+1),r>this.duration&&(this.duration=r),this.rawPosition>=0&&e.setPosition(this.rawPosition),e},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var n=!0,r=0;r<t;r++)n=n&&this.removeTween(arguments[r]);return n}if(0===t)return!0;var i=this.tweens;for(r=i.length;r--;)if(i[r]===e)return i.splice(r,1),e._parent=null,e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.updateDuration=function(){this.duration=0;for(var e=0,t=this.tweens.length;e<t;e++){var n=this.tweens[e],r=n.duration;n.loop>0&&(r*=n.loop+1),r>this.duration&&(this.duration=r)}},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._updatePosition=function(e,t){for(var n=this.position,r=0,i=this.tweens.length;r<i;r++)this.tweens[r].setPosition(n,!0,e)},t._runActionsRange=function(e,t,n,r){for(var i=this.position,o=0,a=this.tweens.length;o<a;o++)if(this.tweens[o]._runActions(e,t,n,r),i!==this.position)return!0},createjs.Timeline=createjs.promote(e,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return e<-1?e=-1:e>1&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return-e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t)}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return e*Math.pow(2,-10*r)*Math.sin((r-i)*n/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var n=2*Math.PI;return function(r){var i=t/n*Math.asin(1/e);return(r*=2)<1?e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t)*-.5:e*Math.pow(2,-10*(r-=1))*Math.sin((r-i)*n/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}var t=e;t.priority=0,t.ID="MotionGuide",t.install=function(){return createjs.Tween._installPlugin(e),createjs.Tween.IGNORE},t.init=function(e,n,r){"guide"==n&&e._addPlugin(t)},t.step=function(e,n,r){for(var i in r)if("guide"===i){var o=n.props.guide,a=t._solveGuideData(r.guide,o);o.valid=!a;var s=o.endData;if(e._injectProp("x",s.x),e._injectProp("y",s.y),a||!o.orient)break;var u=void 0===n.prev.props.rotation?e.target.rotation||0:n.prev.props.rotation;if(o.startOffsetRot=u-o.startData.rotation,"fixed"==o.orient)o.endAbsRot=s.rotation+o.startOffsetRot,o.deltaRotation=0;else{var c=void 0===r.rotation?e.target.rotation||0:r.rotation,l=c-o.endData.rotation-o.startOffsetRot,f=l%360;switch(o.endAbsRot=c,o.orient){case"auto":o.deltaRotation=l;break;case"cw":o.deltaRotation=(f+360)%360+360*Math.abs(l/360|0);break;case"ccw":o.deltaRotation=(f-360)%360+-360*Math.abs(l/360|0)}}e._injectProp("rotation",o.endAbsRot)}},t.change=function(e,n,r,i,o,a){var s=n.props.guide;if(s&&n.props!==n.prev.props&&s!==n.prev.props.guide)return"guide"===r&&!s.valid||"x"==r||"y"==r||"rotation"===r&&s.orient?createjs.Tween.IGNORE:void t._ratioToPositionData(o,s,e.target)},t.debug=function(e,n,r){e=e.guide||e;var i=t._findPathProblems(e);if(i&&console.error("MotionGuidePlugin Error found: \n"+i),!n)return i;var o=e.path,a=o.length;for(n.save(),n.lineCap="round",n.lineJoin="miter",n.beginPath(),n.moveTo(o[0],o[1]),l=2;l<a;l+=4)n.quadraticCurveTo(o[l],o[l+1],o[l+2],o[l+3]);n.strokeStyle="black",n.lineWidth=4.5,n.stroke(),n.strokeStyle="white",n.lineWidth=3,n.stroke(),n.closePath();var s=r.length;if(r&&s){var u={},c={};t._solveGuideData(e,u);for(var l=0;l<s;l++)u.orient="fixed",t._ratioToPositionData(r[l],u,c),n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(c.x+9*Math.cos(.0174533*c.rotation),c.y+9*Math.sin(.0174533*c.rotation)),n.strokeStyle="black",n.lineWidth=4.5,n.stroke(),n.strokeStyle="red",n.lineWidth=3,n.stroke(),n.closePath()}return n.restore(),i},t._solveGuideData=function(e,n){var r;if(r=t.debug(e))return r;var i=n.path=e.path;n.orient=e.orient,n.subLines=[],n.totalLength=0,n.startOffsetRot=0,n.deltaRotation=0,n.startData={ratio:0},n.endData={ratio:1},n.animSpan=1;var o,a,s,u,c,l,f,h,d,p=i.length,g={};for(o=i[0],a=i[1],f=2;f<p;f+=4){s=i[f],u=i[f+1],c=i[f+2],l=i[f+3];var v={weightings:[],estLength:0,portion:0},m=o,y=a;for(h=1;h<=10;h++){t._getParamsForCurve(o,a,s,u,c,l,h/10,!1,g);var _=g.x-m,b=g.y-y;d=Math.sqrt(_*_+b*b),v.weightings.push(d),v.estLength+=d,m=g.x,y=g.y}for(n.totalLength+=v.estLength,h=0;h<10;h++)d=v.estLength,v.weightings[h]=v.weightings[h]/d;n.subLines.push(v),o=c,a=l}d=n.totalLength;var A=n.subLines.length;for(f=0;f<A;f++)n.subLines[f].portion=n.subLines[f].estLength/d;var w=isNaN(e.start)?0:e.start,E=isNaN(e.end)?1:e.end;t._ratioToPositionData(w,n,n.startData),t._ratioToPositionData(E,n,n.endData),n.startData.ratio=w,n.endData.ratio=E,n.animSpan=n.endData.ratio-n.startData.ratio},t._ratioToPositionData=function(e,n,r){var i,o,a,s,u,c=n.subLines,l=0,f=e*n.animSpan+n.startData.ratio;for(o=c.length,i=0;i<o;i++){if(l+(s=c[i].portion)>=f){u=i;break}l+=s}void 0===u&&(u=o-1,l-=s);var h=c[u].weightings,d=s;for(o=h.length,i=0;i<o&&!(l+(s=h[i]*d)>=f);i++)l+=s;u=4*u+2,a=i/10+(f-l)/s*.1;var p=n.path;return t._getParamsForCurve(p[u-2],p[u-1],p[u],p[u+1],p[u+2],p[u+3],a,n.orient,r),n.orient&&(e>=.99999&&e<=1.00001&&void 0!==n.endAbsRot?r.rotation=n.endAbsRot:r.rotation+=n.startOffsetRot+e*n.deltaRotation),r},t._getParamsForCurve=function(e,t,n,r,i,o,a,s,u){var c=1-a;u.x=c*c*e+2*c*a*n+a*a*i,u.y=c*c*t+2*c*a*r+a*a*o,s&&(u.rotation=57.2957795*Math.atan2((r-t)*c+(o-r)*a,(n-e)*c+(i-n)*a))},t._findPathProblems=function(e){var t=e.path,n=t&&t.length||0;if(n<6||(n-2)%4){var r="\tCannot parse 'path' array due to invalid number of entries in path. ";return r+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",(r+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n")+"Only [ "+n+" ] values found. Expected: "+Math.max(4*Math.ceil((n-2)/4)+2,6)}for(var i=0;i<n;i++)if(isNaN(t[i]))return"All data in path array must be numeric";var o=e.start;if(isNaN(o)&&void 0!==o)return"'start' out of bounds. Expected 0 to 1, got: "+o;var a=e.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;var s=e.orient;return s&&"fixed"!=s&&"auto"!=s&&"cw"!=s&&"ccw"!=s?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+s:void 0},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this._tweens=[],this.paused=e,this.timeScale=t,this.__onComplete=this._onComplete.bind(this)}var t=e,n=e.prototype;n._setPaused=function(e){var t=this._tweens;this._paused=e=!!e;for(var n=t.length-1;n>=0;n--)t[n].paused=e},n._getPaused=function(){return this._paused},n._setTimeScale=function(e){var t=this._tweens;this._timeScale=e=e||null;for(var n=t.length-1;n>=0;n--)t[n].timeScale=e},n._getTimeScale=function(){return this._timeScale};try{Object.defineProperties(n,{paused:{set:n._setPaused,get:n._getPaused},timeScale:{set:n._setTimeScale,get:n._getTimeScale}})}catch(t){}n.get=function(e,t){return this.add(createjs.Tween.get(e,t))},n.add=function(e){var t=arguments.length,n=this._tweens,r=0;for(t=arguments.length;r<t;r++)(e=arguments[r]).paused=this._paused,null!==this._timeScale&&(e.timeScale=this._timeScale),n.push(e),e.addEventListener&&e.addEventListener("complete",this.__onComplete);return arguments[t-1]},n.remove=function(e){for(var t=arguments.length,n=this._tweens,r=0;r<t;r++){e=arguments[r];for(var i=n.length-1;i>=0;i--)n[i]===e&&(n.splice(i,1),e.removeEventListener&&e.removeEventListener("complete",this.__onComplete))}},n.reset=function(t){for(var n=this._tweens,r=n.length-1;r>=0;r--){var i=n[r];i instanceof e&&(i.reset(),t)||(n.splice(r,1),i.paused=!0,i.removeEventListener&&i.removeEventListener("complete",this.__onComplete))}return this},n._onComplete=function(e){this.remove(e.target)},createjs.TweenGroup=t}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="1.0.0",e.buildDate="Fri, 09 Jul 2021 14:06:44 GMT"}()},function(e,t,n){var r;window,e.exports=(r=n(15),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var r={Audio:/(wav|mp3|ogg|aac|m4a)$/,Image:/(jpeg|jpg|gif|png)$/,Font:/(ttf|otf|woff|woff2|eot)$/,Json:/(json)$/,Video:/(mp4)$/,Animation:/(js)$/};e.exports.types={audio:"Audio",video:"Video",image:"Image",json:"Json",font:"Font",animation:"Animation"},e.exports.getAssetType=function(e){var t=Object.keys(r).filter((function(t){return!!e.match(r[t])}));return t<1?"unknown":t[0]}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.profiler=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(3)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s={SCRIPT:"load",VIDEO:"loadeddata"},u=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.map={}}return r(t,[{key:"start",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=i.default.isEmpty(n)?{}:n.join().split(",");if(!window.OriginalXMLHttpRequest){var u=function t(n){var r,s=n.lengthComputable?n.total:n.loaded,u=n.target,c=o.default.getAssetType(u.responseURL);r=c,(i.default.isEmpty(a)||-1!==i.default.indexOf(a,r))&&s&&(e._registerAsset(u,c,s),u.removeEventListener("loadend",t))};window.OriginalXMLHttpRequest=window.XMLHttpRequest,window.XMLHttpRequest=function(){var e=new window.OriginalXMLHttpRequest;return e.addEventListener("loadend",u),e.startTime=(new Date).getTime(),e}}document.addEventListener("DOMNodeInserted",(function(e){var t=this,n=e.target||e.srcElement;i.default.includes(Object.keys(s),n.nodeName)&&n.addEventListener(s[n.nodeName],function e(n){var r=new window.XMLHttpRequest,i=n.currentTarget.attributes.src.nodeValue;r.open("GET",i,!0),r.setRequestHeader("Cache-Control","no-cache"),r.send(),t.removeEventListener(s[t.nodeName],e)}.bind(n))}))}},{key:"stop",value:function(){window.OriginalXMLHttpRequest&&(window.XMLHttpRequest=window.OriginalXMLHttpRequest,window.OriginalXMLHttpRequest=null),this.reset()}},{key:"reset",value:function(){this.map={}}},{key:"report",value:function(){return this.map}},{key:"total",value:function(){return i.default.isEmpty(this.map)?0:i.default.values(i.default.map(this.map,(function(e){return e.totalSize}))).reduce((function(e,t){return e+t}))}},{key:"print",value:function(){console.log("Total assets loaded: "+this.total()),i.default.isUndefined(console.table)||console.table(this.map,["numAssets","totalSize"])}},{key:"_registerAsset",value:function(t,n,r){var o=t.responseURL;if(!this.map[n]||!i.default.find(this.map[n].items,{url:o})){var a=(new Date).getTime(),s=parseInt(r,10);if(this.map[n]||(this.map[n]={numAssets:0,totalSize:0,items:[]}),this.map[n].numAssets++,this.map[n].totalSize+=s,this.map[n].items.push({url:o,size:s,loadTime:a-t.startTime}),"function"==typeof e.it){var u=new Event("AssetRegistered");u.srcElement=this,u.xhr=t,document.dispatchEvent(u)}}}}]),t}();t.profiler=new u}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=n(0))&&r.__esModule?r:{default:r};t.default={CAAssetProfiler:i.profiler,types:o.default.types}}]))},function(e,t,n){"use strict";var r=n(2),i=r(n(4)),o=r(n(5)),a=n(347),s=n(352),u=n(353),c=n(355),l=function(){function e(t,n){(0,i.default)(this,e),this._grammar=t,this._exprStr=n,this._ast=null}return(0,o.default)(e,[{key:"compile",value:function(){var e=new s(this._grammar),t=new u(this._grammar),n=e.tokenize(this._exprStr);return t.addTokens(n),this._ast=t.complete(),this}},{key:"eval",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._eval(e,Promise)}},{key:"evalSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._eval(e,c);if(t.error)throw t.error;return t.value}},{key:"_eval",value:function(e,t){var n=this;return t.resolve().then((function(){var r=n._getAst();return new a(n._grammar,e,void 0,t).eval(r)}))}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e}();e.exports=l},function(e,t,n){"use strict";var r=n(2),i=r(n(4)),o=r(n(5)),a=n(348),s=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Promise;(0,i.default)(this,e),this._grammar=t,this._context=n||{},this._relContext=r||this._context,this.Promise=o}return(0,o.default)(e,[{key:"eval",value:function(e){var t=this;return this.Promise.resolve().then((function(){return a[e.type].call(t,e)}))}},{key:"evalArray",value:function(e){var t=this;return this.Promise.all(e.map((function(e){return t.eval(e)})))}},{key:"evalMap",value:function(e){var t=this,n=Object.keys(e),r={},i=n.map((function(n){return t.eval(e[n])}));return this.Promise.all(i).then((function(e){return e.forEach((function(e,t){r[n[t]]=e})),r}))}},{key:"_filterRelative",value:function(t,n){var r=this,i=[];return Array.isArray(t)||(t=void 0===t?[]:[t]),t.forEach((function(t){var o=new e(r._grammar,r._context,t,r.Promise);i.push(o.eval(n))})),this.Promise.all(i).then((function(e){var n=[];return e.forEach((function(e,r){e&&n.push(t[r])})),n}))}},{key:"_filterStatic",value:function(e,t){return this.eval(t).then((function(t){return"boolean"==typeof t?t?e:void 0:e[t]}))}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=n(2)(n(39)),i={functions:"Jexl Function",transforms:"Transform"};t.ArrayLiteral=function(e){return this.evalArray(e.value)},t.BinaryExpression=function(e){var t=this,n=this._grammar.elements[e.operator];if(n.evalOnDemand){var r=function(e){return{eval:function(){return t.eval(e)}}};return n.evalOnDemand(r(e.left),r(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then((function(e){return n.eval(e[0],e[1])}))},t.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then((function(n){return n?e.consequent?t.eval(e.consequent):n:t.eval(e.alternate)}))},t.FilterExpression=function(e){var t=this;return this.eval(e.subject).then((function(n){return e.relative?t._filterRelative(n,e.expr):t._filterStatic(n,e.expr)}))},t.Identifier=function(e){return e.from?this.eval(e.from).then((function(t){if(null!=t)return Array.isArray(t)&&(t=t[0]),t[e.value]})):e.relative?this._relContext[e.value]:this._context[e.value]},t.Literal=function(e){return e.value},t.ObjectLiteral=function(e){return this.evalMap(e.value)},t.FunctionCall=function(e){var t=i[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var n=this._grammar[e.pool][e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then((function(e){return n.apply(void 0,(0,r.default)(e))}))},t.UnaryExpression=function(e){var t=this;return this.eval(e.right).then((function(n){return t._grammar.elements[e.operator].eval(n)}))}},function(e,t,n){var r=n(202);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(2),i=r(n(4)),o=r(n(5)),a=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,s=/^[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Z--0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,u=/\\\\/,c=/^\s*$/,l=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],f=["[a-zA-Z--_---\\$][a-zA-Z0-9--_---\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],h=["binaryOp","unaryOp","openParen","openBracket","question","colon"],d=function(){function e(t){(0,i.default)(this,e),this._grammar=t}return(0,o.default)(e,[{key:"getElements",value:function(e){var t=this._getSplitRegex();return e.split(t).filter((function(e){return e}))}},{key:"getTokens",value:function(e){for(var t=[],n=!1,r=0;r<e.length;r++)this._isWhitespace(e[r])?t.length&&(t[t.length-1].raw+=e[r]):"-"===e[r]&&this._isNegative(t)?n=!0:(n&&(e[r]="-"+e[r],n=!1),t.push(this._createToken(e[r])));return n&&t.push(this._createToken("-")),t}},{key:"tokenize",value:function(e){var t=this.getElements(e);return this.getTokens(t)}},{key:"_createToken",value:function(e){var t={type:"literal",value:e,raw:e};if('"'===e[0]||"'"===e[0])t.value=this._unquote(e);else if(e.match(a))t.value=parseFloat(e);else if("true"===e||"false"===e)t.value="true"===e;else if(this._grammar.elements[e])t.type=this._grammar.elements[e].type;else{if(!e.match(s))throw new Error("Invalid expression token: ".concat(e));t.type="identifier"}return t}},{key:"_escapeRegExp",value:function(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(s)&&(e="\\b"+e+"\\b"),e}},{key:"_getSplitRegex",value:function(){var e=this;if(!this._splitRegex){var t=Object.keys(this._grammar.elements).sort((function(e,t){return t.length-e.length})).map((function(t){return e._escapeRegExp(t)}),this);this._splitRegex=new RegExp("("+[l.join("|"),t.join("|"),f.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(e){return!e.length||h.some((function(t){return t===e[e.length-1].type}))}},{key:"_isWhitespace",value:function(e){return!!e.match(c)}},{key:"_unquote",value:function(e){var t=e[0],n=new RegExp("\\\\"+t,"g");return e.substr(1,e.length-2).replace(n,t).replace(u,"\\")}}]),e}();e.exports=d},function(e,t,n){"use strict";var r=n(2),i=r(n(4)),o=r(n(5)),a=n(204),s=n(354).states,u=function(){function e(t,n,r){(0,i.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=n||"",this._relative=!1,this._stopMap=r||{}}return(0,o.default)(e,[{key:"addToken",value:function(e){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");var t=s[this._state],n=this._exprStr;if(this._exprStr+=e.raw,t.subHandler){this._subParser||this._startSubExpression(n);var r=this._subParser.addToken(e);if(r){if(this._endSubExpression(),this._parentStop)return r;this._state=r}}else{if(!t.tokenTypes[e.type]){if(this._stopMap[e.type])return this._stopMap[e.type];throw new Error("Token ".concat(e.raw," (").concat(e.type,") unexpected in expression: ").concat(this._exprStr))}var i=t.tokenTypes[e.type],o=a[e.type];i.handler&&(o=i.handler),o&&o.call(this,e),i.toState&&(this._state=i.toState)}return!1}},{key:"addTokens",value:function(e){e.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!s[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){s[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(e){this._cursor?(this._cursor.right=e,this._setParent(e,this._cursor)):this._tree=e,this._cursor=e}},{key:"_placeBeforeCursor",value:function(e){this._cursor=this._cursor._parent,this._placeAtCursor(e)}},{key:"_setParent",value:function(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}},{key:"_startSubExpression",value:function(t){var n=s[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,t,n)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(204);t.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:r.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:r.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:r.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:r.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:r.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:r.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:r.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:r.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:r.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:r.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:r.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:r.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:r.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:r.ternaryEnd,completable:!0}}},function(e,t,n){"use strict";var r=n(2),i=r(n(4)),o=r(n(5)),a=function(){function e(t){(0,i.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,o.default)(e,[{key:"catch",value:function(e){if(this.error)try{this._resolve(e(this.error))}catch(e){this._reject(e)}return this}},{key:"then",value:function(e,t){if(!this.error)try{this._resolve(e(this.value))}catch(e){this._reject(e)}return t&&this.catch(t),this}},{key:"_reject",value:function(e){this.value=void 0,this.error=e}},{key:"_resolve",value:function(t){t instanceof e?t.error?this._reject(t.error):this._resolve(t.value):(this.value=t,this.error=void 0)}}]),e}();a.all=function(e){return new a((function(t){t(e.map((function(e){for(;e instanceof a;){if(e.error)throw Error(e.error);e=e.value}return e})))}))},a.resolve=function(e){return new a((function(t){return t(e)}))},a.reject=function(e){return new a((function(t,n){return n(e)}))},e.exports=a},function(e,t,n){"use strict";t.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(e,t){return e+t}},"-":{type:"binaryOp",precedence:30,eval:function(e,t){return e-t}},"*":{type:"binaryOp",precedence:40,eval:function(e,t){return e*t}},"/":{type:"binaryOp",precedence:40,eval:function(e,t){return e/t}},"//":{type:"binaryOp",precedence:40,eval:function(e,t){return Math.floor(e/t)}},"%":{type:"binaryOp",precedence:50,eval:function(e,t){return e%t}},"^":{type:"binaryOp",precedence:50,eval:function(e,t){return Math.pow(e,t)}},"==":{type:"binaryOp",precedence:20,eval:function(e,t){return e==t}},"!=":{type:"binaryOp",precedence:20,eval:function(e,t){return e!=t}},">":{type:"binaryOp",precedence:20,eval:function(e,t){return e>t}},">=":{type:"binaryOp",precedence:20,eval:function(e,t){return e>=t}},"<":{type:"binaryOp",precedence:20,eval:function(e,t){return e<t}},"<=":{type:"binaryOp",precedence:20,eval:function(e,t){return e<=t}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e?t.eval():e}))}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e||t.eval()}))}},in:{type:"binaryOp",precedence:20,eval:function(e,t){return"string"==typeof t?-1!==t.indexOf(e):!!Array.isArray(t)&&t.some((function(t){return t===e}))}},"!":{type:"unaryOp",precedence:1/0,eval:function(e){return!e}}},functions:{},transforms:{}}}},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(57)&&n(91)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e,n(57))}).call(this,n(63)(e))},function(e,t,n){var r;!function(i,o,a){var s,u=a.pow(256,6),c=a.pow(2,52),l=2*c;function f(e,t,n){var r=[],f=p(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,g(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(256):(e=new Uint8Array(256),(i.crypto||i.msCrypto).getRandomValues(e)),g(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,g(o)]}}():e,3),r),v=new h(r),m=function(){for(var e=v.g(6),t=u,n=0;e<c;)e=256*(e+n),t*=256,n=v.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return m.int32=function(){return 0|v.g(4)},m.quick=function(){return v.g(4)/4294967296},m.double=m,p(g(v.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&d(r,v),e.state=function(){return d(v,{})}),n?(a.random=e,t):e})(m,f,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=255&i+1],n=256*n+a[255&(a[i]=a[o=255&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(256)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(p(a.random(),o),e.exports){e.exports=f;try{s=n(364)}catch(e){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},function(e,t){},function(e,t,n){var r;r={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var n="string"==typeof e.initial?{state:e.initial}:e.initial,i=e.terminal||e.final,o=t||e.target||{},a=e.events||[],s=e.callbacks||{},u={},c={},l=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[r.WILDCARD];u[e.name]=u[e.name]||{};for(var n=0;n<t.length;n++)c[t[n]]=c[t[n]]||[],c[t[n]].push(e.name),u[e.name][t[n]]=e.to||t[n];e.to&&(c[e.to]=c[e.to]||[])};n&&(n.event=n.event||"startup",l({name:n.event,from:"none",to:n.state}));for(var f=0;f<a.length;f++)l(a[f]);for(var h in u)u.hasOwnProperty(h)&&(o[h]=r.buildEvent(h,u[h]));for(var h in s)s.hasOwnProperty(h)&&(o[h]=s[h]);return o.current="none",o.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&void 0!==u[e]&&(u[e].hasOwnProperty(this.current)||u[e].hasOwnProperty(r.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return(c[this.current]||[]).concat(c[r.WILDCARD]||[])},o.isFinished=function(){return this.is(i)},o.error=e.error||function(e,t,n,r,i,o,a){throw a||o},o.states=function(){return Object.keys(c).sort()},n&&!n.defer&&o[n.event](),o},doCallback:function(e,t,n,i,o,a){if(t)try{return t.apply(e,[n,i,o].concat(a))}catch(t){return e.error(n,i,o,a,r.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",t)}},beforeAnyEvent:function(e,t,n,i,o){return r.doCallback(e,e.onbeforeevent,t,n,i,o)},afterAnyEvent:function(e,t,n,i,o){return r.doCallback(e,e.onafterevent||e.onevent,t,n,i,o)},leaveAnyState:function(e,t,n,i,o){return r.doCallback(e,e.onleavestate,t,n,i,o)},enterAnyState:function(e,t,n,i,o){return r.doCallback(e,e.onenterstate||e.onstate,t,n,i,o)},changeState:function(e,t,n,i,o){return r.doCallback(e,e.onchangestate,t,n,i,o)},beforeThisEvent:function(e,t,n,i,o){return r.doCallback(e,e["onbefore"+t],t,n,i,o)},afterThisEvent:function(e,t,n,i,o){return r.doCallback(e,e["onafter"+t]||e["on"+t],t,n,i,o)},leaveThisState:function(e,t,n,i,o){return r.doCallback(e,e["onleave"+n],t,n,i,o)},enterThisState:function(e,t,n,i,o){return r.doCallback(e,e["onenter"+i]||e["on"+i],t,n,i,o)},beforeEvent:function(e,t,n,i,o){if(!1===r.beforeThisEvent(e,t,n,i,o)||!1===r.beforeAnyEvent(e,t,n,i,o))return!1},afterEvent:function(e,t,n,i,o){r.afterThisEvent(e,t,n,i,o),r.afterAnyEvent(e,t,n,i,o)},leaveState:function(e,t,n,i,o){var a=r.leaveThisState(e,t,n,i,o),s=r.leaveAnyState(e,t,n,i,o);return!1!==a&&!1!==s&&(r.ASYNC===a||r.ASYNC===s?r.ASYNC:void 0)},enterState:function(e,t,n,i,o){r.enterThisState(e,t,n,i,o),r.enterAnyState(e,t,n,i,o)},buildEvent:function(e,t){return function(){var n=this.current,i=t[n]||(t[r.WILDCARD]!=r.WILDCARD?t[r.WILDCARD]:n)||n,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,n,i,o,r.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,n,i,o,r.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===r.beforeEvent(this,e,n,i,o))return r.Result.CANCELLED;if(n===i)return r.afterEvent(this,e,n,i,o),r.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=i,r.enterState(a,e,n,i,o),r.changeState(a,e,n,i,o),r.afterEvent(a,e,n,i,o),r.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,r.afterEvent(a,e,n,i,o)};var s=r.leaveState(this,e,n,i,o);return!1===s?(this.transition=null,r.Result.CANCELLED):r.ASYNC===s?r.Result.PENDING:this.transition?this.transition():void 0}}},e.exports&&(t=e.exports=r),t.StateMachine=r},function(e,t,n){var r;r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullAPI=t.api=void 0;var r=n(15),i=n(20),o=n(36),a=n(39),s=n(56),u=n(57),c=n(21),l=n(38),f=n(35),h=n(37),d=n(16);t.api={BOX_COLLIDER:r.BOX_COLLIDER_TYPE,CIRCLE_COLLIDER:r.CIRCLE_COLLIDER_TYPE,ALPHA_COLLIDER:r.ALPHA_COLLIDER_TYPE,ColliderFactory:s.ColliderFactory,collided:u.collided,createBoxCollider:s.ColliderFactory.box,createCircleCollider:s.ColliderFactory.circle,createAlphaCollider:s.ColliderFactory.alpha},t.fullAPI={BOX_COLLIDER:r.BOX_COLLIDER_TYPE,CIRCLE_COLLIDER:r.CIRCLE_COLLIDER_TYPE,ALPHA_COLLIDER:r.ALPHA_COLLIDER_TYPE,BoundingBox:i.BoundingBox,BoundingCircle:o.BoundingCircle,Collider:a.Collider,BoxCollider:a.BoxCollider,CircleCollider:a.CircleCollider,AlphaCollider:a.AlphaCollider,ColliderFactory:s.ColliderFactory,collided:u.collided,collidedBox:c.collidedBox,collidedCircle:l.collidedCircle,collidedCircleRect:h.collidedCircleRect,collidedAlpha:f.collidedAlpha,intersection:d.intersection,intersects:d.intersects,pointInsideCircle:d.pointInsideCircle,createBoxCollider:s.ColliderFactory.box,createCircleCollider:s.ColliderFactory.circle,createAlphaCollider:s.ColliderFactory.alpha}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(13)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(12),i=n(47),o=n(32),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(75),i=n(22);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(2),i=n(1),o=n(45),a=n(8),s="prototype",u=function(e,t,n){var c,l,f,h=e&u.F,d=e&u.G,p=e&u.S,g=e&u.P,v=e&u.B,m=e&u.W,y=d?i:i[t]||(i[t]={}),_=y[s],b=d?r:p?r[t]:(r[t]||{})[s];for(c in d&&(n=t),n)(l=!h&&b&&void 0!==b[c])&&c in y||(f=l?b[c]:n[c],y[c]=d&&"function"!=typeof b[c]?n[c]:v&&l?o(f,r):m&&b[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&_&&!_[c]&&a(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(5),i=n(18);e.exports=n(3)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(30)("wks"),i=n(19),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(40));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ALPHA_COLLIDER_TYPE=t.CIRCLE_COLLIDER_TYPE=t.BOX_COLLIDER_TYPE=t.ColliderType=void 0;var i=r(n(41)),o=r(n(10)),a=r(n(11)),s=t.ColliderType=function(){function e(t){(0,o.default)(this,e),this._symbol=(0,i.default)(t),this._id=t}return(0,a.default)(e,[{key:"toString",value:function(){return"ColliderType["+this._id+"]"}},{key:"symbol",get:function(){return this._symbol}}]),e}();t.BOX_COLLIDER_TYPE=new s("Collision2D.BoxCollider"),t.CIRCLE_COLLIDER_TYPE=new s("Collision2D.CircleCollider"),t.ALPHA_COLLIDER_TYPE=new s("Collision2D.AlphaCollider")},function(e,t,n){"use strict";function r(e,t){var n=Math.max(e.left,t.left),r=Math.min(e.right,t.right);if(r>n){var o=Math.max(e.top,t.top),a=Math.min(e.bottom,t.bottom);if(a>o)return new i.BoundingBox(n,o,r-n,a-o)}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.intersection=r,t.intersects=function(e,t){return null!==r(e,t)},t.pointInsideCircle=function(e,t,n,r){var i=n.x-e,o=n.y-t,a=i*i+o*o;return Math.abs(a)<r*r};var i=n(20)},function(e,t,n){var r=n(53),i=n(23);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBox=void 0;var i=r(n(10)),o=r(n(11));t.BoundingBox=function(){function e(t,n,r,o){(0,i.default)(this,e),this.x=t,this.y=n,this.width=r,this.height=o}return(0,o.default)(e,[{key:"left",get:function(){return this.x}},{key:"top",get:function(){return this.y}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}}]),e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collidedBox=function(e,t){return!(e.bottom<t.top||e.top>t.bottom||e.left>t.right||e.right<t.left)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t,n){var r=n(12),i=n(81),o=n(23),a=n(29)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n(46)("iframe"),r=o.length;for(t.style.display="none",n(74).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(5).f,i=n(4),o=n(9)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(30)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(2),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(2),i=n(1),o=n(25),a=n(34),s=n(5).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(9)},function(e,t,n){"use strict";function r(e,t){return{x:e%t|0,y:e/t|0}}function i(e,t,n,r,i){return v[e.type](e,t,n,r,i)}function o(e,t){return(0,h.intersection)(e.circle,t)}function a(e,t){return(0,h.intersection)(e,t.circle)}function s(e,t){return m[e.type+"vs"+t.type](e,t)}function u(e,t){var n=s(e,t);if(!n)return!1;var o=n.x-e.x,a=n.y-e.y,u=n.width,c=n.height,l=n.x-t.x,f=n.y-t.y,h=n.width,d=n.height;e.alphaTestBounds={x:o,y:a,width:u,height:c},t.alphaTestBounds={x:l,y:f,width:h,height:d};var p=i(e,o,a,u,c),g=i(t,l,f,h,d);e.overlapImageData=p,t.overlapImageData=g;var v=function(e,t,n){for(var i=e.length,o=0;o<i;o+=4){var a=o+3;if(e[a]>=.3&&t[a]>=.3)return r(a,n)}return!1}(p.data,g.data,n.width);return v||(delete e.overlapImageData,delete t.overlapImageData,!1)}Object.defineProperty(t,"__esModule",{value:!0});var c,l,f=function(e){return e&&e.__esModule?e:{default:e}}(n(42));t.collidedAlpha=function(e,t){if(!e||!t)return!1;e.collisionPoint=null,t.collisionPoint=null;var n=u(e,t);return!!n&&(e.collisionPoint=n,t.collisionPoint=n,n)};var h=n(16),d=n(15),p=document.createElement("canvas");p.width=window.innerWidth,p.height=window.innerHeight;var g=p.getContext("2d"),v=(c={},(0,f.default)(c,""+d.BOX_COLLIDER_TYPE,(function(e,t,n,r,i){return g.clearRect(0,0,p.width,p.height),g.save(),g.fillStyle="red",g.fillRect(0,0,e.box.width,e.box.height),g.restore(),g.getImageData(t,n,r,i)})),(0,f.default)(c,""+d.CIRCLE_COLLIDER_TYPE,(function(e,t,n,r,i){return g.clearRect(0,0,p.width,p.height),g.save(),g.fillStyle="red",g.beginPath(),g.arc(e.circle.radius,e.circle.radius,e.circle.radius,0,2*Math.PI),g.fill(),g.restore(),g.getImageData(t,n,r,i)})),(0,f.default)(c,""+d.ALPHA_COLLIDER_TYPE,(function(e,t,n,r,i){var o=e.displayObject;return g.clearRect(0,0,p.width,p.height),g.save(),g.globalAlpha=o.alpha,g.scale(e.scaleX,e.scaleY),o.draw(g),g.restore(),g.getImageData(t,n,r,i)})),c),m=(l={},(0,f.default)(l,d.ALPHA_COLLIDER_TYPE+"vs"+d.ALPHA_COLLIDER_TYPE,h.intersection),(0,f.default)(l,d.ALPHA_COLLIDER_TYPE+"vs"+d.CIRCLE_COLLIDER_TYPE,a),(0,f.default)(l,d.ALPHA_COLLIDER_TYPE+"vs"+d.BOX_COLLIDER_TYPE,h.intersection),(0,f.default)(l,d.CIRCLE_COLLIDER_TYPE+"vs"+d.CIRCLE_COLLIDER_TYPE,(function(e,t){return(0,h.intersection)(e.circle,t.circle)})),(0,f.default)(l,d.CIRCLE_COLLIDER_TYPE+"vs"+d.BOX_COLLIDER_TYPE,o),(0,f.default)(l,d.CIRCLE_COLLIDER_TYPE+"vs"+d.ALPHA_COLLIDER_TYPE,o),(0,f.default)(l,d.BOX_COLLIDER_TYPE+"vs"+d.BOX_COLLIDER_TYPE,h.intersection),(0,f.default)(l,d.BOX_COLLIDER_TYPE+"vs"+d.CIRCLE_COLLIDER_TYPE,a),(0,f.default)(l,d.BOX_COLLIDER_TYPE+"vs"+d.ALPHA_COLLIDER_TYPE,h.intersection),l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingCircle=void 0;var i=r(n(10)),o=r(n(11));t.BoundingCircle=function(){function e(t,n,r){(0,i.default)(this,e),this.x=t,this.y=n,this.radius=r}return(0,o.default)(e,[{key:"left",get:function(){return this.x-this.radius}},{key:"top",get:function(){return this.y-this.radius}},{key:"right",get:function(){return this.x+this.radius}},{key:"bottom",get:function(){return this.y+this.radius}}]),e}()},function(e,t,n){"use strict";function r(e,t){var n=a.UNKNOWN,r=e.circle;r.y<t.top?(n=a.TOP_CENTER,r.x<t.left?n=a.TOP_LEFT:r.x>t.right&&(n=a.TOP_RIGHT)):r.y>t.bottom?(n=a.BOTTOM_CENTER,r.x<t.left?n=a.BOTTOM_LEFT:r.x>t.right&&(n=a.BOTTOM_RIGHT)):(n=a.RIGHT_CENTER,e.right<t.left&&(n=a.LEFT_CENTER)),e.region=n;var s={left:r.left,top:r.top,right:r.right,bottom:r.bottom};if(e.circlesRect=s,[a.TOP_CENTER,a.BOTTOM_CENTER,a.LEFT_CENTER,a.RIGHT_CENTER].find((function(e){return n===e}))&&(0,o.collidedBox)(s,t))return!0;var u=0,c=0;return n===a.TOP_LEFT?(u=t.left,c=t.top):n===a.TOP_RIGHT?(u=t.right,c=t.top):n===a.BOTTOM_LEFT?(u=t.left,c=t.bottom):n===a.BOTTOM_RIGHT&&(u=t.right,c=t.bottom),!!(0,i.pointInsideCircle)(u,c,r,e.radius)}Object.defineProperty(t,"__esModule",{value:!0}),t.collidedCircleRect=r,t.collidedRectCircle=function(e,t){return r(t,e)};var i=n(16),o=n(21),a={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",LEFT_CENTER:"left center",RIGHT_CENTER:"right center",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right",UNKNOWN:"unknown"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collidedCircle=function(e,t){return(0,r.pointInsideCircle)(t.circle.x,t.circle.y,e.circle,e.radius+t.radius)};var r=n(16)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){m=!0}function o(){m=!1}function a(){return.5*Math.max(this._width,this._height)|0}function s(){return.5*Math.sqrt(this._width*this._width+this._height*this._height)|0}function u(e,t){(function(e){var t=(navigator&&navigator.userAgent||"").toLowerCase().match(/(?:msie |trident.+?; rv:)(\d+)/);return null!==t&&t[1]===e})("10")&&_.call(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaCollider=t.CircleCollider=t.BoxCollider=t.Collider=t.colliderUtil=void 0;var c=r(n(59)),l=r(n(63)),f=r(n(62)),h=r(n(10)),d=r(n(11));t.useInscribedBoundingCircle=i,t.useCircumscribedBoundingCircle=o;var p=n(20),g=n(36),v=n(15),m=!0,y=null,_=(t.colliderUtil={useInscribedBoundingCircle:i,useCircumscribedBoundingCircle:o,isBox:function(e){return e.type===v.BOX_COLLIDER_TYPE},isCircle:function(e){return e.type===v.CIRCLE_COLLIDER_TYPE},isAlpha:function(e){return e.type===v.ALPHA_COLLIDER_TYPE}},t.Collider=function(){function e(t){(0,h.default)(this,e),this._type=null,this._displayObject=t,this._displayObject.__c2dCollider=this,this._boundingBox=new p.BoundingBox,this._boundingCircle=new g.BoundingCircle,y=m?a.bind(this):s.bind(this),this.update()}return(0,d.default)(e,[{key:"update",value:function(){this._bounds=this._displayObject.getBounds(),this._matrix=this._displayObject.getConcatenatedMatrix(),this._scaleTransformX=this._matrix.a,this._scaleTransformY=this._matrix.d,this._x=this._matrix.tx,this._y=this._matrix.ty,this._width=this._scaleTransformX*this._bounds.width,this._height=this._scaleTransformY*this._bounds.height,this._radius=y(),this._boundingBox.x=this._x,this._boundingBox.y=this._y,this._boundingBox.width=this._width,this._boundingBox.height=this._height,this._boundingCircle.x=this._x+.5*this._width,this._boundingCircle.y=this._y+.5*this._height,this._boundingCircle.radius=this._radius}},{key:"displayObject",get:function(){return this._displayObject}},{key:"displayObjectBounds",get:function(){return this._bounds}},{key:"displayObjectTransform",get:function(){return this._matrix}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"left",get:function(){return this._x}},{key:"top",get:function(){return this._y}},{key:"right",get:function(){return this._x+this._width}},{key:"bottom",get:function(){return this._y+this._height}},{key:"radius",get:function(){return this._radius}},{key:"scaleX",get:function(){return this._scaleTransformX}},{key:"scaleY",get:function(){return this._scaleTransformY}},{key:"box",get:function(){return this._boundingBox}},{key:"circle",get:function(){return this._boundingCircle}},{key:"type",get:function(){return this._type}}]),e}());t.BoxCollider=function(e){function t(e){(0,h.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return u(n,e),n._type=v.BOX_COLLIDER_TYPE,n}return(0,f.default)(t,e),t}(_),t.CircleCollider=function(e){function t(e){(0,h.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return u(n,e),n._type=v.CIRCLE_COLLIDER_TYPE,n}return(0,f.default)(t,e),t}(_),t.AlphaCollider=function(e){function t(e){(0,h.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return u(n,e),n._type=v.ALPHA_COLLIDER_TYPE,n}return(0,f.default)(t,e),t}(_)},function(e,t,n){e.exports={default:n(65),__esModule:!0}},function(e,t,n){e.exports={default:n(68),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(40));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(61)),o=r(n(41)),a="function"==typeof o.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===a(i.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(70);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(14),i=n(2).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(3)&&!n(13)((function(){return 7!=Object.defineProperty(n(46)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(25),i=n(7),o=n(54),a=n(8),s=n(4),u=n(24),c=n(77),l=n(28),f=n(52),h=n(9)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",g="values",v=function(){return this};e.exports=function(e,t,n,m,y,_,b){c(n,t,m);var A,w,E,x=function(e){if(!d&&e in C)return C[e];switch(e){case p:case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",S=y==g,O=!1,C=e.prototype,k=C[h]||C["@@iterator"]||y&&C[y],P=k||x(y),N=y?S?x("entries"):P:void 0,I="Array"==t&&C.entries||k;if(I&&(E=f(I.call(new e)))!==Object.prototype&&(l(E,T,!0),r||s(E,h)||a(E,h,v)),S&&k&&k.name!==g&&(O=!0,P=function(){return k.call(this)}),r&&!b||!d&&!O&&C[h]||a(C,h,P),u[t]=P,u[T]=v,y)if(A={values:S?P:x(g),keys:_?P:x(p),entries:N},b)for(w in A)w in C||o(C,w,A[w]);else i(i.P+i.F*(d||O),t,A);return A}},function(e,t,n){var r=n(27),i=n(18),o=n(6),a=n(32),s=n(4),u=n(47),c=Object.getOwnPropertyDescriptor;t.f=n(3)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(53),i=n(23).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(4),i=n(55),o=n(29)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(4),i=n(6),o=n(72)(!1),a=n(29)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){e.exports=n(8)},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColliderFactory=void 0;var i=r(n(10)),o=r(n(11)),a=n(39);t.ColliderFactory=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"box",value:function(e){var t=e.displayObject,n=e.width,r=e.height;return n&&window.console.warn("[deprecated parameter width] Collision2D.BoxCollider no longer supports a user-specified width parameter."),r&&window.console.warn("[deprecated parameter height] Collision2D.BoxCollider no longer supports a user-specified height parameter."),new a.BoxCollider(t)}},{key:"circle",value:function(e){var t=e.displayObject;return e.radius&&window.console.warn("[deprecated parameter radius] Collision2D.CircleCollider no longer supports a user-specified radius parameter."),new a.CircleCollider(t)}},{key:"alpha",value:function(e){var t=e.displayObject;return new a.AlphaCollider(t)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){return e&&e.__esModule?e:{default:e}}(n(42));t.collided=function(e,t){if(e===t)return!1;var n=l[e.type+"vs"+t.type];return n?n(e,t):(0,o.collidedBox)(e,t)};var o=n(21),a=n(38),s=n(35),u=n(37),c=n(15),l=(r={},(0,i.default)(r,c.ALPHA_COLLIDER_TYPE+"vs"+c.ALPHA_COLLIDER_TYPE,s.collidedAlpha),(0,i.default)(r,c.ALPHA_COLLIDER_TYPE+"vs"+c.CIRCLE_COLLIDER_TYPE,s.collidedAlpha),(0,i.default)(r,c.ALPHA_COLLIDER_TYPE+"vs"+c.BOX_COLLIDER_TYPE,s.collidedAlpha),(0,i.default)(r,c.CIRCLE_COLLIDER_TYPE+"vs"+c.CIRCLE_COLLIDER_TYPE,a.collidedCircle),(0,i.default)(r,c.CIRCLE_COLLIDER_TYPE+"vs"+c.BOX_COLLIDER_TYPE,u.collidedCircleRect),(0,i.default)(r,c.CIRCLE_COLLIDER_TYPE+"vs"+c.ALPHA_COLLIDER_TYPE,s.collidedAlpha),(0,i.default)(r,c.BOX_COLLIDER_TYPE+"vs"+c.BOX_COLLIDER_TYPE,o.collidedBox),(0,i.default)(r,c.BOX_COLLIDER_TYPE+"vs"+c.CIRCLE_COLLIDER_TYPE,u.collidedRectCircle),(0,i.default)(r,c.BOX_COLLIDER_TYPE+"vs"+c.ALPHA_COLLIDER_TYPE,s.collidedAlpha),r)},function(e,t,n){e.exports={default:n(64),__esModule:!0}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t,n){e.exports={default:n(69),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(60)),o=r(n(58)),a=r(n(43));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(43));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){n(89);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(90);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(91),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){n(92),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){n(95),n(93),n(96),n(97),e.exports=n(1).Symbol},function(e,t,n){n(94),n(98),e.exports=n(34).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(6),i=n(87),o=n(86);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(17),i=n(51),o=n(27);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){e.exports=n(2).document&&document.documentElement},function(e,t,n){var r=n(44);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(44);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(26),i=n(18),o=n(28),a={};n(8)(a,n(9)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(17),i=n(6);e.exports=function(e,t){for(var n,o=i(e),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===t)return n}},function(e,t,n){var r=n(19)("meta"),i=n(14),o=n(4),a=n(5).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(13)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(5),i=n(12),o=n(17);e.exports=n(3)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(6),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(7),i=n(1),o=n(13);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(14),i=n(12),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(45)(Function.call,n(49).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(31),i=n(22);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(31),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(31),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(71),i=n(78),o=n(24),a=n(6);e.exports=n(48)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(7);r(r.S,"Object",{create:n(26)})},function(e,t,n){var r=n(7);r(r.S+r.F*!n(3),"Object",{defineProperty:n(5).f})},function(e,t,n){var r=n(55),i=n(52);n(83)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(84).set})},function(e,t){},function(e,t,n){"use strict";var r=n(85)(!0);n(48)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(3),a=n(7),s=n(54),u=n(80).KEY,c=n(13),l=n(30),f=n(28),h=n(19),d=n(9),p=n(34),g=n(33),v=n(79),m=n(73),y=n(76),_=n(12),b=n(6),A=n(32),w=n(18),E=n(26),x=n(82),T=n(49),S=n(5),O=n(17),C=T.f,k=S.f,P=x.f,N=r.Symbol,I=r.JSON,R=I&&I.stringify,L="prototype",D=d("_hidden"),M=d("toPrimitive"),j={}.propertyIsEnumerable,B=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),H=Object[L],G="function"==typeof N,Q=r.QObject,z=!Q||!Q[L]||!Q[L].findChild,V=o&&c((function(){return 7!=E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=C(H,t);r&&delete H[t],k(e,t,n),r&&e!==H&&k(H,t,r)}:k,W=function(e){var t=F[e]=E(N[L]);return t._k=e,t},q=G&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},X=function(e,t,n){return e===H&&X(U,t,n),_(e),t=A(t,!0),_(n),i(F,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=E(n,{enumerable:w(0,!1)})):(i(e,D)||k(e,D,w(1,{})),e[D][t]=!0),V(e,t,n)):k(e,t,n)},Y=function(e,t){_(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},K=function(e){var t=j.call(this,e=A(e,!0));return!(this===H&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,D)&&this[D][e])||t)},$=function(e,t){if(e=b(e),t=A(t,!0),e!==H||!i(F,t)||i(U,t)){var n=C(e,t);return!n||!i(F,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=P(b(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==D||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===H,r=P(n?U:b(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(H,t)||o.push(F[t]);return o};G||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),V(this,e,w(1,n))};return o&&z&&V(H,e,{configurable:!0,set:t}),W(e)})[L],"toString",(function(){return this._k})),T.f=$,S.f=X,n(50).f=x.f=J,n(27).f=K,n(51).f=Z,o&&!n(25)&&s(H,"propertyIsEnumerable",K,!0),p.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!G,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(ee=O(d.store),te=0;ee.length>te;)g(ee[te++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=N(e)},keyFor:function(e){if(q(e))return v(B,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!G,"Object",{create:function(e,t){return void 0===t?E(e):Y(E(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),I&&a(a.S+a.F*(!G||c((function(){var e=N();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,R.apply(I,r)}}}),N[L][M]||n(8)(N[L],M,N[L].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(33)("asyncIterator")},function(e,t,n){n(33)("observable")},function(e,t,n){n(88);for(var r=n(2),i=n(8),o=n(24),a=n(9)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}}])},e.exports=r()},function(e,t,n){var r;!function(){"use strict";var i=function e(t){var n,r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:n})}function s(e,t){a(e,t,(function(){throw new g("The "+t+" method cannot be invoked on an Immutable data structure.")}))}function u(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")))}function c(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}"object"!=typeof(n=t)||Array.isArray(n)||null===n||void 0!==t.use_static&&(i.use_static=Boolean(t.use_static));var f=["setPrototypeOf"],h=f.concat(["push","pop","sort","splice","shift","unshift","reverse"]),d=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),p=f.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function g(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function v(e,t){for(var n in a(e,"__immutable_invariants_hold",!0),t)t.hasOwnProperty(n)&&s(e,t[n]);return Object.freeze(e),e}function m(e,t){var n=e[t];a(e,t,(function(){return z(n.apply(e,arguments))}))}function y(e,t,n){var r=n&&n.deep;if(e in this&&(r&&this[e]!==t&&l(t)&&l(this[e])&&(t=z.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var i=T.call(this);return i[e]=z(t),A(i)}g.prototype=new Error,g.prototype.constructor=Error;var _=z([]);function b(e,t,n){var r=e[0];if(1===e.length)return y.call(this,r,t,n);var i,o=e.slice(1),a=this[r];if("object"==typeof a&&null!==a)i=z.setIn(a,o,t);else{var s=o[0];i=""!==s&&isFinite(s)?b.call(_,o,t):D.call(L,o,t)}if(r in this&&a===i)return this;var u=T.call(this);return u[r]=i,A(u)}function A(e){for(var t in d){if(d.hasOwnProperty(t))m(e,d[t])}i.use_static||(a(e,"flatMap",E),a(e,"asObject",S),a(e,"asMutable",T),a(e,"set",y),a(e,"setIn",b),a(e,"update",j),a(e,"updateIn",F),a(e,"getIn",U));for(var n=0,r=e.length;n<r;n++)e[n]=z(e[n]);return v(e,h)}function w(){return new Date(this.getTime())}function E(e){if(0===arguments.length)return this;var t,n=[],r=this.length;for(t=0;t<r;t++){var i=e(this[t],t,this);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return A(n)}function x(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,n){"number"==typeof e&&(n[t]=e.toString())})),e=function(e,n){return-1!==t.indexOf(n)}}var n=o(this);for(var r in this)this.hasOwnProperty(r)&&!1===e(this[r],r)&&(n[r]=this[r]);return Q(n)}function T(e){var t,n,r=[];if(e&&e.deep)for(t=0,n=this.length;t<n;t++)r.push(O(this[t]));else for(t=0,n=this.length;t<n;t++)r.push(this[t]);return r}function S(e){"function"!=typeof e&&(e=function(e){return e});var t,n={},r=this.length;for(t=0;t<r;t++){var i=e(this[t],t,this),o=i[0],a=i[1];n[o]=a}return Q(n)}function O(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")||e instanceof Date?e:z.asMutable(e,{deep:!0})}function C(e,t){for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(t[n]=e[n]);return t}function k(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var n,r,i=Array.isArray(e),a=t&&t.deep,s=t&&t.mode||"merge",u=t&&t.merger;function f(e,r,i){var s,f=z(r[i]),h=u&&u(e[i],f,t),d=e[i];void 0===n&&void 0===h&&e.hasOwnProperty(i)&&c(f,d)||(c(d,s=void 0!==h?h:a&&l(d)&&l(f)?z.merge(d,f,t):f)&&e.hasOwnProperty(i)||(void 0===n&&(n=C(e,o(e))),n[i]=s))}function h(e,t){for(var r in e)t.hasOwnProperty(r)||(void 0===n&&(n=C(e,o(e))),delete n[r])}if(i)for(var d=0,p=e.length;d<p;d++){var g=e[d];for(r in g)g.hasOwnProperty(r)&&f(void 0!==n?n:this,g,r)}else{for(r in e)Object.getOwnPropertyDescriptor(e,r)&&f(this,e,r);"replace"===s&&h(this,e)}return void 0===n?this:Q(n)}function P(e,t){var n=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return z.merge(this,e,{deep:n,mode:"replace"})}var N,I,R,L=z({});function D(e,t,n){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=e[0];if(1===e.length)return M.call(this,r,t,n);var i,a=e.slice(1),s=this[r];if(i=this.hasOwnProperty(r)&&"object"==typeof s&&null!==s?z.setIn(s,a,t):D.call(L,a,t),this.hasOwnProperty(r)&&s===i)return this;var u=C(this,o(this));return u[r]=i,Q(u)}function M(e,t,n){var r=n&&n.deep;if(this.hasOwnProperty(e)&&(r&&this[e]!==t&&l(t)&&l(this[e])&&(t=z.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var i=C(this,o(this));return i[e]=z(t),Q(i)}function j(e,t){var n=Array.prototype.slice.call(arguments,2),r=this[e];return z.set(this,e,t.apply(r,[r].concat(n)))}function B(e,t){for(var n=0,r=t.length;null!=e&&n<r;n++)e=e[t[n]];return n&&n==r?e:void 0}function F(e,t){var n=Array.prototype.slice.call(arguments,2),r=B(this,e);return z.setIn(this,e,t.apply(r,[r].concat(n)))}function U(e,t){var n=B(this,e);return void 0===n?t:n}function H(e){var t,n=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(n[t]=O(this[t]));else for(t in this)this.hasOwnProperty(t)&&(n[t]=this[t]);return n}function G(){return{}}function Q(e){return i.use_static||(a(e,"merge",k),a(e,"replace",P),a(e,"without",x),a(e,"asMutable",H),a(e,"set",M),a(e,"setIn",D),a(e,"update",j),a(e,"updateIn",F),a(e,"getIn",U)),v(e,f)}function z(e,t,n){if(u(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===r)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(z);if(Array.isArray(e))return A(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),i.use_static||a(o,"asMutable",w),v(o,p);var o,s=t&&t.prototype,c=(s&&s!==Object.prototype?function(){return Object.create(s)}:G)();if(null==n&&(n=64),n<=0)throw new g("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var l in n-=1,e)Object.getOwnPropertyDescriptor(e,l)&&(c[l]=z(e[l],void 0,n));return Q(c)}function V(e){return function(){var t=[].slice.call(arguments),n=t.shift();return e.apply(n,t)}}function W(e,t){return function(){var n=[].slice.call(arguments),r=n.shift();return Array.isArray(r)?t.apply(r,n):e.apply(r,n)}}return z.from=z,z.isImmutable=u,z.ImmutableError=g,z.merge=V(k),z.replace=V(P),z.without=V(x),z.asMutable=(N=H,I=T,R=w,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?I.apply(t,e):t instanceof Date?R.apply(t,e):N.apply(t,e)}),z.set=W(M,y),z.setIn=W(D,b),z.update=V(j),z.updateIn=V(F),z.getIn=V(U),z.flatMap=V(E),z.asObject=V(S),i.use_static||(z.static=e({use_static:!0})),Object.freeze(z),z}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(module,exports,__webpack_require__){(function(module){if(function(e,t){var n,r={init:function(){return this},work_handler:function(e){var t=Array.prototype.slice.call(e.data,1),n=e.data[0],r=tree[n].apply(tree,t);postMessage([n,r])},setup:function(t){var n=e.URL||e.webkitURL,i="var tree = {"+this.parse(t).join(",")+"};",o=new Blob([i+'self.addEventListener("message", '+this.work_handler.toString()+", false);"],{type:"text/javascript"}),a=new Worker(n.createObjectURL(o));return a.onmessage=function(e){var t=Array.prototype.slice.call(e.data,1),n=e.data[0];r.observer.emit("x10:"+n,t)},a},call_handler:function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1];n.unshift(e),r.observer.on("x10:"+e,(function(e){i(e.detail[0])})),t.postMessage(n)}},compile:function(e){var t,n=this.setup("function"==typeof e?{func:e}:e),r={};if("function"==typeof e)return r.func=this.call_handler("func",n),r.func;for(t in e)r[t]=this.call_handler(t,n);return r},parse:function(e,t){var n,r,i,o=[];for(n in e)if(null!==(i=e[n]))if(void 0!==i){switch(i.constructor){case Date:r="new Date("+i.valueOf()+")";break;case Object:r="{"+this.parse(i).join(",")+"}";break;case Array:r="["+this.parse(i,!0).join(",")+"]";break;case String:r='"'+i.replace(/"/g,'\\"')+'"';break;case RegExp:case Function:r=i.toString();break;default:r=i}t?o.push(r):o.push(n+":"+r)}else o.push(n+":undefined");else o.push(n+":null");return o},observer:(n={},{on:function(e,t){n[e]||(n[e]=[]),n[e].unshift(t)},off:function(e,t){if(n[e]){var r=n[e].indexOf(t);n[e].splice(r,1)}},emit:function(e,t){if(n[e])for(var r={type:e,detail:t,isCanceled:!1,cancelBubble:function(){this.isCanceled=!0}},i=n[e].length;i--;){if(r.isCanceled)return;n[e][i](r)}}})};module.exports=r.init()}(this),function(e,t,n){"use strict";var r={is_ie:/(msie|trident)/i.test(navigator.userAgent),is_safari:/safari/i.test(navigator.userAgent),env:"production",xml_decl:'<?xml version="1.0" encoding="utf-8"?>',namespace:'xmlns:d="defiant-namespace"',tabsize:4,render:function(e,t){var n,r,i,o,a=new XSLTProcessor,s=document.createElement("span"),u={match:"/"};switch(typeof e){case"object":this.extend(u,e),u.data||(u.data=t);break;case"string":u.template=e,u.data=t;break;default:throw"error"}if(u.data=JSON.toXML(u.data),n='//xsl:template[@name="'+u.template+'"]',this.xsl_template||this.gatherTemplates(),u.sorter&&(o=this.node.selectSingleNode(this.xsl_template,n+"//xsl:for-each//xsl:sort"))&&(u.sorter.order&&o.setAttribute("order",u.sorter.order),u.sorter.select&&o.setAttribute("select",u.sorter.select),o.setAttribute("data-type",u.sorter.type||"text")),(i=this.node.selectSingleNode(this.xsl_template,n)).setAttribute("match",u.match),a.importStylesheet(this.xsl_template),s.appendChild(a.transformToFragment(u.data,document)),i.removeAttribute("match"),this.is_safari)for(var c=0,l=(r=s.getElementsByTagName("script")).length;c<l;c++)r[c].defer=!0;return s.innerHTML},gatherTemplates:function(){for(var e=document.getElementsByTagName("script"),t="",n=0,r=e.length;n<r;n++)"defiant/xsl-template"===e[n].type&&(t+=e[n].innerHTML);this.xsl_template=this.xmlFromString('<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xlink="http://www.w3.org/1999/xlink" '+this.namespace+">"+t.replace(/defiant:(\w+)/g,"$1")+"</xsl:stylesheet>")},getSnapshot:function(e,t){return JSON.toXML(e,t||!0)},xmlFromString:function(t){var n;return null===(t=t.replace(/>\s{1,}</g,"><")).trim().match(/<\?xml/)&&(t=this.xml_decl+t),"ActiveXObject"in e?((n=new ActiveXObject("Msxml2.DOMDocument")).loadXML(t),n.setProperty("SelectionNamespaces",this.namespace),-1===t.indexOf("xsl:stylesheet")&&n.setProperty("SelectionLanguage","XPath")):n=(new DOMParser).parseFromString(t,"text/xml"),n},extend:function(e,t){for(var n in t)e[n]&&"object"==typeof t[n]?this.extend(e[n],t[n]):e[n]=t[n];return e},node:{}};e.Defiant=t.exports=r}("undefined"!=typeof window?window:{},module),void 0===XSLTProcessor){var XSLTProcessor=function(){};XSLTProcessor.prototype={importStylesheet:function(e){this.xsldoc=e},transformToFragment:function(e,t){var n=e.transformNode(this.xsldoc),r=document.createElement("span");return r.innerHTML=n,r}}}else if("function"!=typeof XSLTProcessor&&!XSLTProcessor)throw"XSLTProcessor transformNode not implemented";String.prototype.fill||(String.prototype.fill=function(e,t){var n=this;for(t=t||" ";n.length<e;n+=t);return n}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")}),String.prototype.xTransform||(String.prototype.xTransform=function(){var e=this;return-1===this.indexOf("translate(")&&(e=this.replace(/contains\(([^,]+),([^\\)]+)\)/g,(function(e,t,n){var r="abcdefghijklmnopqrstuvwxyz";return"contains(translate("+t+', "'+r.toUpperCase()+'", "'+r+'"),'+n.toLowerCase()+")"}))),e.toString()}),"undefined"==typeof JSON&&(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(e){if(e instanceof Object){var t="";if(e.constructor===Array){for(var n=0;n<e.length;t+=this.stringify(e[n])+",",n++);return"["+t.substr(0,t.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(var r in e)t+='"'+r.replace(/"/g,"\\$&")+'":'+this.stringify(e[r])+",";return"{"+t.substr(0,t.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),JSON.toXML||(JSON.toXML=function(e,t){"use strict";var n,r,i={map:[],rx_validate_name:/^(?!xml)[a-z_][\w\d.:]*$/i,rx_node:/<(.+?)( .*?)>/,rx_constructor:/<(.+?)( d:contr=".*?")>/,rx_namespace:/ xmlns\:d="defiant\-namespace"/,rx_data:/(<.+?>)(.*?)(<\/d:data>)/i,rx_function:/function (\w+)/i,namespace:'xmlns:d="defiant-namespace"',to_xml_str:function(e){return{str:this.hash_to_xml(null,e),map:this.map}},hash_to_xml:function(e,t,n){var r,i,o,a,s,u,c,l,f,h=t.constructor===Array,d=this,p=[],g=[],v=function(t,r){if(null!=(i=r[t])&&"NaN"!==i.toString()||(i=null),a="@"===t.slice(0,1),(s=n?e:t)==+s&&r.constructor!==Object&&(s="d:item"),null===i?(u=null,c=!1):(u=i.constructor,c=u.toString().match(d.rx_function)[1]),a)g.push(s.slice(1)+'="'+d.escape_xml(i)+'"'),"String"!==c&&g.push("d:"+s.slice(1)+'="'+c+'"');else if(null===i)p.push(d.scalar_to_xml(s,i));else switch(u){case Function:throw"JSON data should not contain functions. Please check your structure.";case Object:p.push(d.hash_to_xml(s,i));break;case Array:if(t===s){if(o=i.constructor===Array)for(l=i.length;l--;)null!==i[l]&&i[l]&&i[l].constructor!==Array||(o=!0),o||i[l].constructor!==Object||(o=!0);p.push(d.scalar_to_xml(s,i,o));break}case String:if("string"==typeof i&&(i=i.toString().replace(/\&/g,"&amp;").replace(/\r|\n/g,"&#13;")),"#text"===s){d.map.push(r),g.push('d:mi="'+d.map.length+'"'),g.push('d:constr="'+c+'"'),p.push(d.escape_xml(i));break}case Number:case Boolean:if("#text"===s&&"String"!==c){d.map.push(r),g.push('d:mi="'+d.map.length+'"'),g.push('d:constr="'+c+'"'),p.push(d.escape_xml(i));break}p.push(d.scalar_to_xml(s,i))}};if(t.constructor===Array)for(l=0,f=t.length;l<f;l++)v(l.toString(),t);else for(r in t)v(r,t);return e||(e="d:data",g.push(this.namespace),h&&g.push('d:constr="Array"')),null===e.match(this.rx_validate_name)&&(g.push('d:name="'+e+'"'),e="d:name"),n?p.join(""):(this.map.push(t),g.push('d:mi="'+this.map.length+'"'),"<"+e+(g.length?" "+g.join(" "):"")+(p.length?">"+p.join("")+"</"+e+">":"/>"))},scalar_to_xml:function(e,t,n){var r,i,o,a="";if(null===e.match(this.rx_validate_name)&&(a+=' d:name="'+e+'"',e="d:name",n=!1),null!==t&&"NaN"!==t.toString()||(t=null),null===t)return"<"+e+' d:constr="null"/>';if(1===t.length&&t.constructor===Array&&!t[0])return"<"+e+' d:constr="null" d:type="ArrayItem"/>';if(1===t.length&&t[0].constructor===Object){var s=(r=this.hash_to_xml(!1,t[0])).match(this.rx_node),u=r.match(this.rx_constructor);return"<"+e+(s=null!==s?s[2].replace(this.rx_namespace,"").replace(/>/,"").replace(/"\/$/,'"'):"")+" "+(u=null!==u?u[2]:"")+' d:type="ArrayItem">'+(r=null!==(r=r.match(this.rx_data))?r[2]:"")+"</"+e+">"}return 0===t.length&&t.constructor===Array?"<"+e+' d:constr="Array"/>':n?this.hash_to_xml(e,t,!0):(o=(i=t.constructor).toString().match(this.rx_function)[1],r=i===Array?this.hash_to_xml("d:item",t,!0):this.escape_xml(t),a+=' d:constr="'+o+'"',this.map.push(t),a+=' d:mi="'+this.map.length+'"',"#text"===e?this.escape_xml(t):"<"+e+a+">"+r+"</"+e+">")},escape_xml:function(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&nbsp;/g,"&#160;")}};switch(typeof t){case"function":return void x10.compile(i).to_xml_str(e,(function(n){t({doc:Defiant.xmlFromString(n.str),src:e,map:n.map})}));case"boolean":return n=i.to_xml_str.call(i,e),{doc:Defiant.xmlFromString(n.str),src:e,map:n.map};default:return n=i.to_xml_str.call(i,e),r=Defiant.xmlFromString(n.str),this.search.map=n.map,r}}),JSON.search||(JSON.search=function(e,t,n){"use strict";var r,i,o=e.doc&&e.doc.nodeType,a=o?e.doc:JSON.toXML(e),s=o?e.map:this.search.map,u=o?e.src:e,c=Defiant.node[n?"selectSingleNode":"selectNodes"](a,t.xTransform()),l=[];for(n&&(c=[c]),i=c.length;i--;)switch(c[i].nodeType){case 2:case 3:l.unshift(c[i].nodeValue);break;default:r=+c[i].getAttribute("d:mi"),l.unshift(s[r-1])}return"development"===Defiant.env&&(this.trace=JSON.mtrace(u,l,c)),l}),JSON.mtrace||(JSON.mtrace=function(e,t,n){"use strict";for(var r,i,o,a,s,u=window,c=JSON.stringify,l=c(e,null,"\t").replace(/\t/g,""),f=[],h=0,d=n.length,p=!!d&&n[h].ownerDocument.documentElement,g=(this.search.map,0);h<d;h++){switch(n[h].nodeType){case 2:i=n[h].ownerElement?n[h].ownerElement.getAttribute("d:"+n[h].nodeName):"String",r='"@'+n[h].nodeName+'": '+u[i](t[h]),o=l.indexOf(r),s=0;break;case 3:r=u[i=n[h].parentNode.getAttribute("d:constr")](t[h]),r='"'+n[h].parentNode.nodeName+'": '+("Number"===r?r:'"'+r+'"'),o=l.indexOf(r),s=0;break;default:if(n[h]===p)continue;"String"===n[h].getAttribute("d:constr")||"Number"===n[h].getAttribute("d:constr")?(r=u[i=n[h].getAttribute("d:constr")](t[h]),o=l.indexOf(r,g),r='"'+n[h].nodeName+'": '+("Number"===i?r:'"'+r+'"'),s=0,g=o+1):(r=c(t[h],null,"\t").replace(/\t/g,""),o=l.indexOf(r),s=r.match(/\n/g).length)}a=l.substring(0,o).match(/\n/g).length+1,f.push([a,s])}return f}),Defiant.node.selectNodes=function(e,t){if(e.evaluate){for(var n=e.createNSResolver(e.documentElement),r=e.evaluate(t,e,n,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=[],o=0,a=r.snapshotLength;o<a;o++)i.push(r.snapshotItem(o));return i}return e.selectNodes(t)},Defiant.node.selectSingleNode=function(e,t){if(e.evaluate){var n=this.selectNodes(e,t);return n.length>0?n[0]:null}return e.selectSingleNode(t)},Defiant.node.prettyPrint=function(e){var t,n=Defiant,r=n.tabsize,i=n.xml_decl.toLowerCase();t=n.is_ie?e.xml:(new XMLSerializer).serializeToString(e),"development"!==n.env&&(t=t.replace(/ \w+\:d=".*?"| d\:\w+=".*?"/g,""));for(var o,a,s=t.trim().replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").split("\n"),u=-1,c=0,l=s.length;c<l;c++)0===c&&s[c].toLowerCase()===i||(o=null!==s[c].match(/<[A-Za-z_\:]+.*?>/g),a=null!==s[c].match(/<\/[\w\:]+>/g),null!==s[c].match(/<.*?\/>/g)&&(o=a=!0),o&&u++,s[c]=String().fill(u,"\t")+s[c],o&&a&&u--,!o&&a&&u--);return s.join("\n").replace(/\t/g,String().fill(r," "))},Defiant.node.toJSON=function(e,t){"use strict";var n=function(e){var t,r,i,o,a,s,u,c,l,f,h={},d=window;switch(e.nodeType){case 1:for("Array"===(a=e.getAttribute("d:constr"))?h=[]:"String"===a&&""===e.textContent&&(h=""),c=0,l=(t=e.attributes).length;c<l;c++)null===(f=t.item(c)).nodeName.match(/\:d|d\:/g)&&(s=(a=e.getAttribute("d:"+f.nodeName))&&"undefined"!==a?"null"===f.nodeValue?null:d[a]("false"===f.nodeValue?"":f.nodeValue):f.nodeValue,h["@"+f.nodeName]=s);break;case 3:h=s=(r=e.parentNode.getAttribute("d:type"))?d[r]("false"===e.nodeValue?"":e.nodeValue):e.nodeValue}if(e.hasChildNodes())for(c=0,l=e.childNodes.length;c<l;c++)if(o=(i=e.childNodes.item(c)).nodeName,t=e.attributes,"d:name"===o&&(o=i.getAttribute("d:name")),"#text"===o)"undefined"===(a=e.getAttribute("d:constr"))&&(a=void 0),u=i.textContent||i.text,s="Boolean"===a&&"false"===u?"":u,a||t.length?a&&1===l?h=d[a](s):e.hasChildNodes()&&t.length<3?h=a?d[a](s):s:h[o]=a?d[a](s):s:h=s;else{if("null"===i.getAttribute("d:constr")){h[o]&&h[o].push?h[o].push(null):"ArrayItem"===i.getAttribute("d:type")?h[o]=[h[o]]:h[o]=null;continue}if(h[o]){h[o].push?h[o].push(n(i)):h[o]=[h[o],n(i)];continue}switch(a=i.getAttribute("d:constr")){case"null":h.push?h.push(null):h[o]=null;break;case"Array":i.parentNode.firstChild===i&&"Array"===a&&"d:item"!==o?"d:item"===o||"Array"===a?(s=n(i),h[o]=s.length?[s]:s):h[o]=n(i):h.push?h.push(n(i)):h[o]=n(i);break;case"String":case"Number":case"Boolean":u=i.textContent||i.text,s="Boolean"===a&&"false"===u?"":u,h.push?h.push(d[a](s)):h[o]=n(i);break;default:h.push?h.push(n(i)):h[o]=n(i)}}return 1===e.nodeType&&"ArrayItem"===e.getAttribute("d:type")&&(h=[h]),h},r=9===e.nodeType?e.documentElement:e,i=n(r),o=i[r.nodeName];return r===r.ownerDocument.documentElement&&o&&o.constructor===Array&&(i=o),t&&"true"===t.toString()&&(t="\t"),t?JSON.stringify(i,null,t):i},"undefined"!=typeof jQuery&&function(e){"use strict";jQuery.fn.defiant=function(e,t){return this.html(Defiant.render(e,t)),this}}()}).call(this,__webpack_require__(63)(module))},function(e,t,n){var r;
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */!function(i){var o,a,s,u,c,l,f,h,d,p,g,v,m,y,_,b,A,w,E,x="sizzle"+1*new Date,T=i.document,S=0,O=0,C=he(),k=he(),P=he(),N=he(),I=function(e,t){return e===t&&(g=!0),0},R={}.hasOwnProperty,L=[],D=L.pop,M=L.push,j=L.push,B=L.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",G="(?:\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Q="\\["+H+"*("+G+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+H+"*\\]",z=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",V=new RegExp(H+"+","g"),W=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),q=new RegExp("^"+H+"*,"+H+"*"),X=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),Y=new RegExp(H+"|>"),K=new RegExp(z),$=new RegExp("^"+G+"$"),J={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ie=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\([^\\r\\n\\f])","g"),ae=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ue=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ce=function(){v()},le=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{j.apply(L=B.call(T.childNodes),T.childNodes),L[T.childNodes.length].nodeType}catch(e){j={apply:L.length?function(e,t){M.apply(e,B.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function fe(e,t,n,r){var i,o,s,u,c,f,d,p=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&(v(t),t=t||m,_)){if(11!==g&&(c=re.exec(e)))if(i=c[1]){if(9===g){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&E(t,s)&&s.id===i)return n.push(s),n}else{if(c[2])return j.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&a.getElementsByClassName&&t.getElementsByClassName)return j.apply(n,t.getElementsByClassName(i)),n}if(a.qsa&&!N[e+" "]&&(!b||!b.test(e))&&(1!==g||"object"!==t.nodeName.toLowerCase())){if(d=e,p=t,1===g&&(Y.test(e)||X.test(e))){for((p=ie.test(e)&&Ae(t.parentNode)||t)===t&&a.scope||((u=t.getAttribute("id"))?u=u.replace(se,ue):t.setAttribute("id",u=x)),o=(f=l(e)).length;o--;)f[o]=(u?"#"+u:":scope")+" "+Ee(f[o]);d=f.join(",")}try{return j.apply(n,p.querySelectorAll(d)),n}catch(t){N(e,!0)}finally{u===x&&t.removeAttribute("id")}}}return h(e.replace(W,"$1"),t,n,r)}function he(){var e=[];return function t(n,r){return e.push(n+" ")>s.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function de(e){return e[x]=!0,e}function pe(e){var t=m.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ge(e,t){for(var n=e.split("|"),r=n.length;r--;)s.attrHandle[n[r]]=t}function ve(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function me(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ye(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function _e(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&le(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function be(e){return de((function(t){return t=+t,de((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function Ae(e){return e&&void 0!==e.getElementsByTagName&&e}for(o in a=fe.support={},c=fe.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},v=fe.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:T;return r!=m&&9===r.nodeType&&r.documentElement?(y=(m=r).documentElement,_=!c(m),T!=m&&(n=m.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ce,!1):n.attachEvent&&n.attachEvent("onunload",ce)),a.scope=pe((function(e){return y.appendChild(e).appendChild(m.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),a.attributes=pe((function(e){return e.className="i",!e.getAttribute("className")})),a.getElementsByTagName=pe((function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length})),a.getElementsByClassName=ne.test(m.getElementsByClassName),a.getById=pe((function(e){return y.appendChild(e).id=x,!m.getElementsByName||!m.getElementsByName(x).length})),a.getById?(s.filter.ID=function(e){var t=e.replace(oe,ae);return function(e){return e.getAttribute("id")===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}}):(s.filter.ID=function(e){var t=e.replace(oe,ae);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),s.find.TAG=a.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):a.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},s.find.CLASS=a.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&_)return t.getElementsByClassName(e)},A=[],b=[],(a.qsa=ne.test(m.querySelectorAll))&&(pe((function(e){var t;y.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+H+"*(?:value|"+U+")"),e.querySelectorAll("[id~="+x+"-]").length||b.push("~="),(t=m.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||b.push("\\["+H+"*name"+H+"*="+H+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||b.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||b.push(".#.+[+~]"),e.querySelectorAll("\\\f"),b.push("[\\r\\n\\f]")})),pe((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=m.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+H+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&b.push(":enabled",":disabled"),y.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")}))),(a.matchesSelector=ne.test(w=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.oMatchesSelector||y.msMatchesSelector))&&pe((function(e){a.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),A.push("!=",z)})),b=b.length&&new RegExp(b.join("|")),A=A.length&&new RegExp(A.join("|")),t=ne.test(y.compareDocumentPosition),E=t||ne.test(y.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return g=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!a.sortDetached&&t.compareDocumentPosition(e)===n?e==m||e.ownerDocument==T&&E(T,e)?-1:t==m||t.ownerDocument==T&&E(T,t)?1:p?F(p,e)-F(p,t):0:4&n?-1:1)}:function(e,t){if(e===t)return g=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==m?-1:t==m?1:i?-1:o?1:p?F(p,e)-F(p,t):0;if(i===o)return ve(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ve(a[r],s[r]):a[r]==T?-1:s[r]==T?1:0},m):m},fe.matches=function(e,t){return fe(e,null,null,t)},fe.matchesSelector=function(e,t){if(v(e),a.matchesSelector&&_&&!N[t+" "]&&(!A||!A.test(t))&&(!b||!b.test(t)))try{var n=w.call(e,t);if(n||a.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return fe(t,m,null,[e]).length>0},fe.contains=function(e,t){return(e.ownerDocument||e)!=m&&v(e),E(e,t)},fe.attr=function(e,t){(e.ownerDocument||e)!=m&&v(e);var n=s.attrHandle[t.toLowerCase()],r=n&&R.call(s.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:a.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},fe.escape=function(e){return(e+"").replace(se,ue)},fe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},fe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(g=!a.detectDuplicates,p=!a.sortStable&&e.slice(0),e.sort(I),g){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return p=null,e},u=fe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=u(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=u(t);return n},(s=fe.selectors={cacheLength:50,createPseudo:de,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||fe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&fe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=l(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=fe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,_=!1;if(v){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(_=(d=(c=(l=(f=(h=v)[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],h=d&&v.childNodes[d];h=++d&&h&&h[g]||(_=d=0)||p.pop();)if(1===h.nodeType&&++_&&h===t){l[e]=[S,d,_];break}}else if(y&&(_=d=(c=(l=(f=(h=t)[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===_)for(;(h=++d&&h&&h[g]||(_=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++_||(y&&((l=(f=h[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[S,_]),h!==t)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||fe.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?de((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=F(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:de((function(e){var t=[],n=[],r=f(e.replace(W,"$1"));return r[x]?de((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:de((function(e){return function(t){return fe(e,t).length>0}})),contains:de((function(e){return e=e.replace(oe,ae),function(t){return(t.textContent||u(t)).indexOf(e)>-1}})),lang:de((function(e){return $.test(e||"")||fe.error("unsupported lang: "+e),e=e.replace(oe,ae).toLowerCase(),function(t){var n;do{if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===y},focus:function(e){return e===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:_e(!1),disabled:_e(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:be((function(){return[0]})),last:be((function(e,t){return[t-1]})),eq:be((function(e,t,n){return[n<0?n+t:n]})),even:be((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:be((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:be((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:be((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[o]=me(o);for(o in{submit:!0,reset:!0})s.pseudos[o]=ye(o);function we(){}function Ee(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xe(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=O++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,h=[S,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[x]||(t[x]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===S&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=e(t,n,u))return!0}return!1}}function Te(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Oe(e,t,n,r,i,o){return r&&!r[x]&&(r=Oe(r)),i&&!i[x]&&(i=Oe(i,o)),de((function(o,a,s,u){var c,l,f,h=[],d=[],p=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)fe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:Se(g,h,e,s,u),m=n?i||(o?e:p||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(c=Se(m,d),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[d[l]]=!(v[d[l]]=f));if(o){if(i||e){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(v[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?F(o,f):h[l])>-1&&(o[c]=!(a[c]=f))}}else m=Se(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):j.apply(a,m)}))}function Ce(e){for(var t,n,r,i=e.length,o=s.relative[e[0].type],a=o||s.relative[" "],u=o?1:0,c=xe((function(e){return e===t}),a,!0),l=xe((function(e){return F(t,e)>-1}),a,!0),f=[function(e,n,r){var i=!o&&(r||n!==d)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];u<i;u++)if(n=s.relative[e[u].type])f=[xe(Te(f),n)];else{if((n=s.filter[e[u].type].apply(null,e[u].matches))[x]){for(r=++u;r<i&&!s.relative[e[r].type];r++);return Oe(u>1&&Te(f),u>1&&Ee(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(W,"$1"),n,u<r&&Ce(e.slice(u,r)),r<i&&Ce(e=e.slice(r)),r<i&&Ee(e))}f.push(n)}return Te(f)}we.prototype=s.filters=s.pseudos,s.setFilters=new we,l=fe.tokenize=function(e,t){var n,r,i,o,a,u,c,l=k[e+" "];if(l)return t?0:l.slice(0);for(a=e,u=[],c=s.preFilter;a;){for(o in n&&!(r=q.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(i=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),a=a.slice(n.length)),s.filter)!(r=J[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?fe.error(e):k(e,u).slice(0)},f=fe.compile=function(e,t){var n,r=[],i=[],o=P[e+" "];if(!o){for(t||(t=l(e)),n=t.length;n--;)(o=Ce(t[n]))[x]?r.push(o):i.push(o);(o=P(e,function(e,t){var n=t.length>0,r=e.length>0,i=function(i,o,a,u,c){var l,f,h,p=0,g="0",y=i&&[],b=[],A=d,w=i||r&&s.find.TAG("*",c),E=S+=null==A?1:Math.random()||.1,x=w.length;for(c&&(d=o==m||o||c);g!==x&&null!=(l=w[g]);g++){if(r&&l){for(f=0,o||l.ownerDocument==m||(v(l),a=!_);h=e[f++];)if(h(l,o||m,a)){u.push(l);break}c&&(S=E)}n&&((l=!h&&l)&&p--,i&&y.push(l))}if(p+=g,n&&g!==p){for(f=0;h=t[f++];)h(y,b,o,a);if(i){if(p>0)for(;g--;)y[g]||b[g]||(b[g]=D.call(u));b=Se(b)}j.apply(u,b),c&&!i&&b.length>0&&p+t.length>1&&fe.uniqueSort(u)}return c&&(S=E,d=A),y};return n?de(i):i}(i,r))).selector=e}return o},h=fe.select=function(e,t,n,r){var i,o,a,u,c,h="function"==typeof e&&e,d=!r&&l(e=h.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&_&&s.relative[o[1].type]){if(!(t=(s.find.ID(a.matches[0].replace(oe,ae),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=J.needsContext.test(e)?0:o.length;i--&&(a=o[i],!s.relative[u=a.type]);)if((c=s.find[u])&&(r=c(a.matches[0].replace(oe,ae),ie.test(o[0].type)&&Ae(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Ee(o)))return j.apply(n,r),n;break}}return(h||f(e,d))(r,t,!_,n,!t||ie.test(e)&&Ae(t.parentNode)||t),n},a.sortStable=x.split("").sort(I).join("")===x,a.detectDuplicates=!!g,v(),a.sortDetached=pe((function(e){return 1&e.compareDocumentPosition(m.createElement("fieldset"))})),pe((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ge("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),a.attributes&&pe((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ge("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),pe((function(e){return null==e.getAttribute("disabled")}))||ge(U,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}));var ke=i.Sizzle;fe.noConflict=function(){return i.Sizzle===fe&&(i.Sizzle=ke),fe},void 0===(r=function(){return fe}.call(t,n,t,e))||(e.exports=r)}(window)},function(e,t,n){(function(n){var r,i=e.exports&&void 0!==n?n:this||window;
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(i._gsQueue||(i._gsQueue=[])).push((function(){"use strict";var e,t,n,r,o,a,s,u,c,l,f,h,d,p;i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,n){var r=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},i=function(e,t,n){var r,i,o=e.cycle;for(r in o)i=o[r],e[r]="function"==typeof i?i(n,t[n]):i[n%i.length];delete e.cycle},o=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=o.prototype.render},a=n._internals,s=a.isSelector,u=a.isArray,c=o.prototype=n.to({},.1,{}),l=[];o.version="1.20.4",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},c.updateTo=function(e,t){var r,i=this.ratio,o=this.vars.immediateRender||e.immediateRender;for(r in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[r]=e[r];if(this._initted||o)if(t)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-i),c=this._firstPT;c;)s=c.s+c.c,c.c*=u,c.s=s-c.c,c=c._next;return this},c.render=function(e,t,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,o,s,u,c,l,f,h,d,p=this._dirty?this.totalDuration():this._totalDuration,g=this._time,v=this._totalTime,m=this._cycle,y=this._duration,_=this._rawPrevTime;if(e>=p-1e-7&&e>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(_<0||e<=0&&e>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==e&&(r=!0,_>1e-10&&(o="onReverseComplete")),this._rawPrevTime=h=!t||e||_===e?e:1e-10)):e<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===y&&_>0)&&(o="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||r)&&(_>=0&&(r=!0),this._rawPrevTime=h=!t||e||_===e?e:1e-10)),this._initted||(r=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(u=y+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&v<=e&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(d=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==d||this._initted?this._yoyoEase=d=!0===d?this._ease:d instanceof Ease?d:Ease.map[d]:(d=this.vars.ease,this._yoyoEase=d=d?d instanceof Ease?d:"function"==typeof d?new Ease(d,this.vars.easeParams):Ease.map[d]||n.defaultEase:n.defaultEase)),this.ratio=d?1-d.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!d?(c=this._time/y,(1===(l=this._easeType)||3===l&&c>=.5)&&(c=1-c),3===l&&(c*=2),1===(f=this._easePower)?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===l?this.ratio=1-c:2===l?this.ratio=c:this._time/y<.5?this.ratio=c/2:this.ratio=1-c/2):d||(this.ratio=this._ease.getRatio(this._time/y))),g!==this._time||r||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=v,this._rawPrevTime=_,this._cycle=m,a.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||i||d?i&&this._ease._calcEnd&&!d&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&e>=0&&(this._active=!0),0===v&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==y||t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(e<0&&this._startAt&&this._startTime&&this._startAt.render(e,!0,r),t||(this._totalTime!==v||o)&&this._callback("onUpdate")),this._cycle!==m&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!r||(e<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===y&&1e-10===this._rawPrevTime&&1e-10!==h&&(this._rawPrevTime=0)))}else v!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},o.to=function(e,t,n){return new o(e,t,n)},o.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(e,t,n)},o.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new o(e,t,r)},o.staggerTo=o.allTo=function(e,t,a,c,f,h,d){c=c||0;var p,g,v,m,y=0,_=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),f.apply(d||a.callbackScope||this,h||l)},A=a.cycle,w=a.startAt&&a.startAt.cycle;for(u(e)||("string"==typeof e&&(e=n.selector(e)||e),s(e)&&(e=r(e))),e=e||[],c<0&&((e=r(e)).reverse(),c*=-1),p=e.length-1,v=0;v<=p;v++){for(m in g={},a)g[m]=a[m];if(A&&(i(g,e,v),null!=g.duration&&(t=g.duration,delete g.duration)),w){for(m in w=g.startAt={},a.startAt)w[m]=a.startAt[m];i(g.startAt,e,v)}g.delay=y+(g.delay||0),v===p&&f&&(g.onComplete=b),_[v]=new o(e[v],t,g),y+=c}return _},o.staggerFrom=o.allFrom=function(e,t,n,r,i,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(e,t,n,r,i,a,s)},o.staggerFromTo=o.allFromTo=function(e,t,n,r,i,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,o.staggerTo(e,t,r,i,a,s,u)},o.delayedCall=function(e,t,n,r,i){return new o(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(e,t){return new o(e,0,t)},o.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var f=function(e,t){for(var r=[],i=0,o=e._first;o;)o instanceof n?r[i++]=o:(t&&(r[i++]=o),i=(r=r.concat(f(o,t))).length),o=o._next;return r},h=o.getAllTweens=function(t){return f(e._rootTimeline,t).concat(f(e._rootFramesTimeline,t))};o.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var o,a,s,u=h(0!=i),c=u.length,l=n&&r&&i;for(s=0;s<c;s++)a=u[s],(l||a instanceof t||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&(e?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(e,t){if(null!=e){var i,c,l,f,h,d=a.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),s(e)&&(e=r(e)),u(e))for(f=e.length;--f>-1;)o.killChildTweensOf(e[f],t);else{for(l in i=[],d)for(c=d[l].target.parentNode;c;)c===e&&(i=i.concat(d[l].tweens)),c=c.parentNode;for(h=i.length,f=0;f<h;f++)t&&i[f].totalTime(i[f].totalDuration()),i[f]._enabled(!1,!1)}}};var d=function(e,n,r,i){n=!1!==n,r=!1!==r;for(var o,a,s=h(i=!1!==i),u=n&&r&&i,c=s.length;--c>-1;)a=s[c],(u||a instanceof t||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&a.paused(e)};return o.pauseAll=function(e,t,n){d(!0,e,t,n)},o.resumeAll=function(e,t,n){d(!1,e,t,n)},o.globalTimeScale=function(t){var r=e._rootTimeline,i=n.ticker.time;return arguments.length?(t=t||1e-10,r._startTime=i-(i-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},c.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},c.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},o}),!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)n=i[r],u(n)&&-1!==n.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(n));u(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},o=n._internals,a=r._internals={},s=o.isSelector,u=o.isArray,c=o.lazyTweens,l=o.lazyRender,f=i._gsDefine.globals,h=function(e){var t,n={};for(t in e)n[t]=e[t];return n},d=function(e,t,n){var r,i,o=e.cycle;for(r in o)i=o[r],e[r]="function"==typeof i?i(n,t[n]):i[n%i.length];delete e.cycle},p=a.pauseCallback=function(){},g=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},v=r.prototype=new t;return r.version="1.20.4",v.constructor=r,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(e,t,r,i){var o=r.repeat&&f.TweenMax||n;return t?this.add(new o(e,t,r),i):this.set(e,r,i)},v.from=function(e,t,r,i){return this.add((r.repeat&&f.TweenMax||n).from(e,t,r),i)},v.fromTo=function(e,t,r,i,o){var a=i.repeat&&f.TweenMax||n;return t?this.add(a.fromTo(e,t,r,i),o):this.set(e,i,o)},v.staggerTo=function(e,t,i,o,a,u,c,l){var f,p,v=new r({onComplete:u,onCompleteParams:c,callbackScope:l,smoothChildTiming:this.smoothChildTiming}),m=i.cycle;for("string"==typeof e&&(e=n.selector(e)||e),s(e=e||[])&&(e=g(e)),(o=o||0)<0&&((e=g(e)).reverse(),o*=-1),p=0;p<e.length;p++)(f=h(i)).startAt&&(f.startAt=h(f.startAt),f.startAt.cycle&&d(f.startAt,e,p)),m&&(d(f,e,p),null!=f.duration&&(t=f.duration,delete f.duration)),v.to(e[p],t,f,p*o);return this.add(v,a)},v.staggerFrom=function(e,t,n,r,i,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,o,a,s)},v.staggerFromTo=function(e,t,n,r,i,o,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,i,o,a,s,u)},v.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},v.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var i,o,a,s,u=new r(e),c=u._timeline;for(null==t&&(t=!0),c._remove(u,!0),u._startTime=0,u._rawPrevTime=u._time=u._totalTime=c._time,a=c._first;a;)s=a._next,t&&a instanceof n&&a.target===a.vars.onComplete||((o=a._startTime-a._delay)<0&&(i=1),u.add(a,o)),a=s;return c.add(u,0),i&&u.totalDuration(),u},v.add=function(i,o,a,s){var c,l,f,h,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof e)){if(i instanceof Array||i&&i.push&&u(i)){for(a=a||"normal",s=s||0,c=o,l=i.length,f=0;f<l;f++)u(h=i[f])&&(h=new r({tweens:h})),this.add(h,c),"string"!=typeof h&&"function"!=typeof h&&("sequence"===a?c=h._startTime+h.totalDuration()/h._timeScale:"start"===a&&(h._startTime-=h.delay())),c+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(t.prototype.add.call(this,i,o),i._time&&i.render((this.rawTime()-i._startTime)*i._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=(d=this).rawTime()>i._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},v.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&u(t)){for(var r=t.length;--r>-1;)this.remove(t[r]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},v._remove=function(e,n){return t.prototype._remove.call(this,e,n),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},v.insert=v.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},v.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},v.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},v.addPause=function(e,t,r,i){var o=n.delayedCall(0,p,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=t,o.data="isPause",this._hasPause=!0,this.add(o,e)},v.removeLabel=function(e){return delete this._labels[e],this},v.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},v._parseTimeOrLabel=function(t,n,r,i){var o,a;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&u(i)))for(a=i.length;--a>-1;)i[a]instanceof e&&i[a].timeline===this&&this.remove(i[a]);if(o="number"!=typeof t||n?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-o:0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=o);else{if(-1===(a=t.indexOf("=")))return null==this._labels[t]?r?this._labels[t]=o+n:n:this._labels[t]+n;n=parseInt(t.charAt(a-1)+"1",10)*Number(t.substr(a+1)),t=a>1?this._parseTimeOrLabel(t.substr(0,a-1),0,r):o}return Number(t)+n},v.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(e,t){return this.play(e,t)},v.gotoAndStop=function(e,t){return this.pause(e,t)},v.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,i,o,a,s,u,f,h=this._time,d=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,g=this._timeScale,v=this._paused;if(h!==this._time&&(e+=this._time-h),e>=d-1e-7&&e>=0)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(i=!0,a="onComplete",s=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==e&&this._first&&(s=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=d+1e-4;else if(e<1e-7)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||e<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",i=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(s=i=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(s=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,0===e&&i)for(r=this._first;r&&0===r._startTime;)r._duration||(i=!1),r=r._next;e=0,this._initted||(s=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=h)for(r=this._first;r&&r._startTime<=e&&!u;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(u=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!u;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(u=r),r=r._prev;u&&(this._time=e=u._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==h&&this._first||n||s||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&e>0&&(this._active=!0),0===h&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(f=this._time)>=h)for(r=this._first;r&&(o=r._next,f===this._time&&(!this._paused||v));)(r._active||r._startTime<=f&&!r._paused&&!r._gc)&&(u===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,f===this._time&&(!this._paused||v));){if(r._active||r._startTime<=h&&!r._paused&&!r._gc){if(u===r){for(u=r._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(e-u._startTime)*u._timeScale:(e-u._startTime)*u._timeScale,t,n),u=u._prev;u=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=o}this._onUpdate&&(t||(c.length&&l(),this._callback("onUpdate"))),a&&(this._gc||p!==this._startTime&&g===this._timeScale||(0===this._time||d>=this.totalDuration())&&(i&&(c.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},v.getChildren=function(e,t,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n?!1!==t&&(o[s++]=a):(!1!==r&&(o[s++]=a),!1!==e&&(s=(o=o.concat(a.getChildren(!0,t,r))).length))),a=a._next;return o},v.getTweensOf=function(e,t){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=(r=n.getTweensOf(e)).length;--i>-1;)(r[i].timeline===this||t&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},v.recent=function(){return this._recent},v._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},v.shiftChildren=function(e,t,n){n=n||0;for(var r,i=this._first,o=this._labels;i;)i._startTime>=n&&(i._startTime+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return this._uncache(!0)},v._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(e,t)&&(i=!0);return i},v.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},v._enabled=function(e,n){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},v.totalTime=function(t,n,r){this._forcingPlayhead=!0;var i=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},v.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,i=this._last,o=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(i,i._startTime-i._delay),this._calculatingDuration=0):o=i._startTime,i._startTime<0&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale,this._time-=i._startTime,this._totalTime-=i._startTime,this._rawPrevTime-=i._startTime),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),(n=i._startTime+i._totalDuration/i._timeScale)>r&&(r=n),i=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},v.paused=function(t){if(!t)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},v.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},r}),!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},o=t._internals,a=o.lazyTweens,s=o.lazyRender,u=i._gsDefine.globals,c=new n(null,null,1,0),l=r.prototype=new e;return l.constructor=r,l.kill()._gc=!1,r.version="1.20.4",l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},l.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},l.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},l.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},l.tweenTo=function(e,n){n=n||{};var r,i,o,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=n.repeat&&u.TweenMax||t;for(i in n)a[i]=n[i];return a.time=this._parseTimeOrLabel(e),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||r!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||o,n.onStartParams||[])},o},l.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(t,n);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},l.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var r,i,o,u,c,l,f,h,d=this._time,p=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,v=this._totalTime,m=this._startTime,y=this._timeScale,_=this._rawPrevTime,b=this._paused,A=this._cycle;if(d!==this._time&&(e+=this._time-d),e>=p-1e-7&&e>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(i=!0,u="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||_<0||1e-10===_)&&_!==e&&this._first&&(c=!0,_>1e-10&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=g,e=g+1e-4);else if(e<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==d||0===g&&1e-10!==_&&(_>0||e<0&&_>=0)&&!this._locked)&&(u="onReverseComplete",i=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=i=!0,u="onReverseComplete"):_>=0&&this._first&&(c=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=g||!t||e||this._rawPrevTime===e?e:1e-10,0===e&&i)for(r=this._first;r&&0===r._startTime;)r._duration||(i=!1),r=r._next;e=0,this._initted||(c=!0)}else if(0===g&&_<0&&(c=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(l=g+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&v<=e&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,e=g+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=d||this._repeat&&A!==this._cycle)for(r=this._first;r&&r._startTime<=e&&!f;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(f=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!f;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(f=r),r=r._prev;f&&f._startTime<g&&(this._time=e=f._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==A&&!this._locked){var w=this._yoyo&&0!=(1&A),E=w===(this._yoyo&&0!=(1&this._cycle)),x=this._totalTime,T=this._cycle,S=this._rawPrevTime,O=this._time;if(this._totalTime=A*g,this._cycle<A?w=!w:this._totalTime+=g,this._time=d,this._rawPrevTime=0===g?_-1e-4:_,this._cycle=A,this._locked=!0,d=w?0:g,this.render(d,t,0===g),t||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),d!==this._time)return;if(E&&(this._cycle=A,this._locked=!0,d=w?g+1e-4:-1e-4,this.render(d,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=O,this._totalTime=x,this._cycle=T,this._rawPrevTime=S}if(this._time!==d&&this._first||n||c||f){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&e>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(h=this._time)>=d)for(r=this._first;r&&(o=r._next,h===this._time&&(!this._paused||b));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(f===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,h===this._time&&(!this._paused||b));){if(r._active||r._startTime<=d&&!r._paused&&!r._gc){if(f===r){for(f=r._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(e-f._startTime)*f._timeScale:(e-f._startTime)*f._timeScale,t,n),f=f._prev;f=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)}r=o}this._onUpdate&&(t||(a.length&&s(),this._callback("onUpdate"))),u&&(this._locked||this._gc||m!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(i&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this._callback(u)))}else v!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},l.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,i,o=[],a=this.getChildren(e,t,n),s=0,u=a.length;for(r=0;r<u;r++)(i=a[r]).isActive()&&(o[s++]=i);return o},l.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;t<r;t++)if(n[t].time>e)return n[t].name;return null},l.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},l.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort((function(e,t){return e.time-t.time})),t},l.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},l.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},l.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},l.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},l.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},l.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},l.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},l.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r}),!0),e=180/Math.PI,t=[],n=[],r=[],o={},a=i._gsDefine.globals,s=function(e,t,n,r){n===r&&(n=r-(r-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},u=function(e,t,n,r){var i={a:e},o={},a={},s={c:r},u=(e+t)/2,c=(t+n)/2,l=(n+r)/2,f=(u+c)/2,h=(c+l)/2,d=(h-f)/8;return i.b=u+(e-u)/4,o.b=f+d,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(f+h)/2,a.b=h-d,s.b=l+(r-l)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},c=function(e,i,o,a,s){var c,l,f,h,d,p,g,v,m,y,_,b,A,w=e.length-1,E=0,x=e[0].a;for(c=0;c<w;c++)l=(d=e[E]).a,f=d.d,h=e[E+1].d,s?(_=t[c],A=((b=n[c])+_)*i*.25/(a?.5:r[c]||.5),v=f-((p=f-(f-l)*(a?.5*i:0!==_?A/_:0))+(((g=f+(h-f)*(a?.5*i:0!==b?A/b:0))-p)*(3*_/(_+b)+.5)/4||0))):v=f-((p=f-(f-l)*i*.5)+(g=f+(h-f)*i*.5))/2,p+=v,g+=v,d.c=m=p,d.b=0!==c?x:x=d.a+.6*(d.c-d.a),d.da=f-l,d.ca=m-l,d.ba=x-l,o?(y=u(l,x,m,f),e.splice(E,1,y[0],y[1],y[2],y[3]),E+=4):E++,x=g;(d=e[E]).b=x,d.c=x+.4*(d.d-x),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=x-d.a,o&&(y=u(d.a,x,d.c,d.d),e.splice(E,1,y[0],y[1],y[2],y[3]))},l=function(e,r,i,o){var a,u,c,l,f,h,d=[];if(o)for(u=(e=[o].concat(e)).length;--u>-1;)"string"==typeof(h=e[u][r])&&"="===h.charAt(1)&&(e[u][r]=o[r]+Number(h.charAt(0)+h.substr(2)));if((a=e.length-2)<0)return d[0]=new s(e[0][r],0,0,e[0][r]),d;for(u=0;u<a;u++)c=e[u][r],l=e[u+1][r],d[u]=new s(c,0,0,l),i&&(f=e[u+2][r],t[u]=(t[u]||0)+(l-c)*(l-c),n[u]=(n[u]||0)+(f-l)*(f-l));return d[u]=new s(e[u][r],0,0,e[u+1][r]),d},f=function(e,i,a,s,u,f){var h,d,p,g,v,m,y,_,b={},A=[],w=f||e[0];for(d in u="string"==typeof u?","+u+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==i&&(i=1),e[0])A.push(d);if(e.length>1){for(_=e[e.length-1],y=!0,h=A.length;--h>-1;)if(d=A[h],Math.abs(w[d]-_[d])>.05){y=!1;break}y&&(e=e.concat(),f&&e.unshift(f),e.push(e[1]),f=e[e.length-3])}for(t.length=n.length=r.length=0,h=A.length;--h>-1;)d=A[h],o[d]=-1!==u.indexOf(","+d+","),b[d]=l(e,d,o[d],f);for(h=t.length;--h>-1;)t[h]=Math.sqrt(t[h]),n[h]=Math.sqrt(n[h]);if(!s){for(h=A.length;--h>-1;)if(o[d])for(m=(p=b[A[h]]).length-1,g=0;g<m;g++)v=p[g+1].da/n[g]+p[g].da/t[g]||0,r[g]=(r[g]||0)+v*v;for(h=r.length;--h>-1;)r[h]=Math.sqrt(r[h])}for(h=A.length,g=a?4:1;--h>-1;)p=b[d=A[h]],c(p,i,a,s,o[d]),y&&(p.splice(0,g),p.splice(p.length-g,g));return b},h=function(e,t,n){for(var r,i,o,a,s,u,c,l,f,h,d,p=1/n,g=e.length;--g>-1;)for(o=(h=e[g]).a,a=h.d-o,s=h.c-o,u=h.b-o,r=i=0,l=1;l<=n;l++)r=i-(i=((c=p*l)*c*a+3*(f=1-c)*(c*s+f*u))*c),t[d=g*n+l-1]=(t[d]||0)+r*r},d=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,i,o,a,u,c=t.values||[],l={},d=c[0],p=t.autoRotate||n.vars.orientToBezier;for(r in this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",!0===p?0:Number(p)||0]]:null,d)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),i=this._func[r]="function"==typeof e[r],l[r]=i?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),u||l[r]!==c[0][r]&&(u=l);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?f(c,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,u):function(e,t,n){var r,i,o,a,u,c,l,f,h,d,p,g={},v="cubic"===(t=t||"soft")?3:2,m="soft"===t,y=[];if(m&&n&&(e=[n].concat(e)),null==e||e.length<v+1)throw"invalid Bezier data";for(h in e[0])y.push(h);for(c=y.length;--c>-1;){for(g[h=y[c]]=u=[],d=0,f=e.length,l=0;l<f;l++)r=null==n?e[l][h]:"string"==typeof(p=e[l][h])&&"="===p.charAt(1)?n[h]+Number(p.charAt(0)+p.substr(2)):Number(p),m&&l>1&&l<f-1&&(u[d++]=(r+u[d-2])/2),u[d++]=r;for(f=d-v+1,d=0,l=0;l<f;l+=v)r=u[l],i=u[l+1],o=u[l+2],a=2===v?0:u[l+3],u[d++]=p=3===v?new s(r,i,o,a):new s(r,(2*i+r)/3,(2*i+o)/3,o);u.length=d}return g}(c,t.type,l),this._segCount=this._beziers[r].length,this._timeRes){var g=function(e,t){var n,r,i,o,a=[],s=[],u=0,c=0,l=(t=t>>0||6)-1,f=[],d=[];for(n in e)h(e[n],a,t);for(i=a.length,r=0;r<i;r++)u+=Math.sqrt(a[r]),d[o=r%t]=u,o===l&&(c+=u,f[o=r/t>>0]=d,s[o]=c,u=0,d=[]);return{length:c,lengths:s,segments:f}}(this._beziers,this._timeRes);this._length=g.length,this._lengths=g.lengths,this._segments=g.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),o=p.length;--o>-1;){for(a=0;a<3;a++)r=p[o][a],this._func[r]="function"==typeof e[r]&&e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)];r=p[o][2],this._initialRotations[o]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,r,i,o,a,s,u,c,l,f,h=this._segCount,d=this._func,p=this._target,g=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,f=this._curSeg,t*=this._length,i=this._li,t>this._l2&&i<h-1){for(c=h-1;i<c&&(this._l2=l[++i])<=t;);this._l1=l[i-1],this._li=i,this._curSeg=f=this._segments[i],this._s2=f[this._s1=this._si=0]}else if(t<this._l1&&i>0){for(;i>0&&(this._l1=l[--i])>=t;);0===i&&t<this._l1?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=f=this._segments[i],this._s1=f[(this._si=f.length-1)-1]||0,this._s2=f[this._si]}if(n=i,t-=this._l1,i=this._si,t>this._s2&&i<f.length-1){for(c=f.length-1;i<c&&(this._s2=f[++i])<=t;);this._s1=f[i-1],this._si=i}else if(t<this._s1&&i>0){for(;i>0&&(this._s1=f[--i])>=t;);0===i&&t<this._s1?this._s1=0:i++,this._s2=f[i],this._si=i}s=(i+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(n=t<0?0:t>=1?h-1:h*t>>0)*(1/h))*h;for(r=1-s,i=this._props.length;--i>-1;)o=this._props[i],u=(s*s*(a=this._beziers[o][n]).da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u;if(this._autoRotate){var v,m,y,_,b,A,w,E=this._autoRotate;for(i=E.length;--i>-1;)o=E[i][2],A=E[i][3]||0,w=!0===E[i][4]?1:e,a=this._beziers[E[i][0]],v=this._beziers[E[i][1]],a&&v&&(a=a[n],v=v[n],m=a.a+(a.b-a.a)*s,m+=((_=a.b+(a.c-a.b)*s)-m)*s,_+=(a.c+(a.d-a.c)*s-_)*s,y=v.a+(v.b-v.a)*s,y+=((b=v.b+(v.c-v.b)*s)-y)*s,b+=(v.c+(v.d-v.c)*s-b)*s,u=g?Math.atan2(b-y,_-m)*w+A:this._initialRotations[i],this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u)}}}),p=d.prototype,d.bezierThrough=f,d.cubicToQuadratic=u,d._autoCSS=!0,d.quadraticToCubic=function(e,t,n){return new s(e,(2*t+e)/3,(2*t+n)/3,n)},d._cssRegister=function(){var e=a.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,r=t._setPluginRatio,i=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,o,a,s,u){t instanceof Array&&(t={values:t}),u=new d;var c,l,f,h=t.values,p=h.length-1,g=[],v={};if(p<0)return s;for(c=0;c<=p;c++)f=n(e,h[c],a,s,u,p!==c),g[c]=f.end;for(l in t)v[l]=t[l];return v.values=g,(s=new i(e,"bezier",0,0,f.pt,2)).data=f,s.plugin=u,s.setRatio=r,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(c=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=f.end.left?[["left","top","rotation",c,!1]]:null!=f.end.x&&[["x","y","rotation",c,!1]]),v.autoRotate&&(a._transform||a._enableTransforms(!1),f.autoRotate=a._target._gsTransform,f.proxy.rotation=f.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(f.proxy,v,a._tween),s}})}},p._mod=function(e){for(var t,n=this._overwriteProps,r=n.length;--r>-1;)(t=e[n[r]])&&"function"==typeof t&&(this._mod[n[r]]=t)},p._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)e[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,e)},i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(e,t){var n,r,o,a,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=i._gsDefine.globals,c={},l=s.prototype=new e("css");l.constructor=s,s.version="1.20.4",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,l="px",s.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var f,h,d,p,g,v,m,y,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,A=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,O=/^(rgb|hsl)/,C=/([A-Z])/g,k=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,N=function(e,t){return t.toUpperCase()},I=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,M=/[\s,\(]/i,j=Math.PI/180,B=180/Math.PI,F={},U={style:{}},H=i.document||{createElement:function(){return U}},G=function(e,t){return H.createElementNS?H.createElementNS(t||"http://www.w3.org/1999/xhtml",e):H.createElement(e)},Q=G("div"),z=G("img"),V=s._internals={_specialProps:c},W=(i.navigator||{}).userAgent||"",q=function(){var e=W.indexOf("Android"),t=G("a");return d=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===e||parseFloat(W.substr(e+8,2))>3),g=d&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,p=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return x.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){i.console&&console.log(e)},K="",$="",J=function(e,t){var n,r,i=(t=t||Q).style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?(K="-"+($=3===r?"ms":n[r]).toLowerCase()+"-",$+e):null},Z=H.defaultView?H.defaultView.getComputedStyle:function(){},ee=s.getStyle=function(e,t,n,r,i){var o;return q||"opacity"!==t?(!r&&e.style[t]?o=e.style[t]:(n=n||Z(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(C,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):X(e)},te=V.convertToPixels=function(e,n,r,i,o){if("px"===i||!i&&"lineHeight"!==n)return r;if("auto"===i||!r)return 0;var a,u,c,l=I.test(n),f=e,h=Q.style,d=r<0,p=1===r;if(d&&(r=-r),p&&(r*=100),"lineHeight"!==n||i)if("%"===i&&-1!==n.indexOf("border"))a=r/100*(l?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==i&&f.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)h[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(f=e.parentNode||H.body,-1!==ee(f,"display").indexOf("flex")&&(h.position="absolute"),u=f._gsCache,c=t.ticker.frame,u&&l&&u.time===c)return u.width*r/100;h[l?"width":"height"]=r+i}f.appendChild(Q),a=parseFloat(Q[l?"offsetWidth":"offsetHeight"]),f.removeChild(Q),l&&"%"===i&&!1!==s.cacheWidths&&((u=f._gsCache=f._gsCache||{}).time=c,u.width=a/r*100),0!==a||o||(a=te(e,n,r,i,!0))}else u=Z(e).lineHeight,e.style.lineHeight=r,a=parseFloat(Z(e).lineHeight),e.style.lineHeight=u;return p&&(a/=100),d?-a:a},ne=V.calculateOffset=function(e,t,n){if("absolute"!==ee(e,"position",n))return 0;var r="left"===t?"Left":"Top",i=ee(e,"margin"+r,n);return e["offset"+r]-(te(e,t,parseFloat(i),i.replace(E,""))||0)},re=function(e,t){var n,r,i,o={};if(t=t||Z(e,null))if(n=t.length)for(;--n>-1;)-1!==(i=t[n]).indexOf("-transform")&&Le!==i||(o[i.replace(k,N)]=t.getPropertyValue(i));else for(n in t)-1!==n.indexOf("Transform")&&Re!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(k,N)]=t[n]);return q||(o.opacity=X(e)),r=qe(e,t,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Me&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},ie=function(e,t,n,r,i){var o,a,s,u={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||i&&i[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(w,"")?o:0:ne(e,a),void 0!==c[a]&&(s=new _e(c,a,c[a],s))));if(r)for(a in r)"className"!==a&&(u[a]=r[a]);return{difs:u,firstMPT:s}},oe={width:["Left","Right"],height:["Top","Bottom"]},ae=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Z(e))[t]||0;if(e.getCTM&&ze(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=oe[t],o=i.length;for(n=n||Z(e,null);--o>-1;)r-=parseFloat(ee(e,"padding"+i[o],n,!0))||0,r-=parseFloat(ee(e,"border"+i[o]+"Width",n,!0))||0;return r},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),i=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":r[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(ue(r[n]));return e.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),e=i+" "+o+(r.length>2?" "+r[2]:""),t&&(t.oxp=-1!==i.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===i.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(i.replace(w,"")),t.oy=parseFloat(o.replace(w,"")),t.v=e),t||e},ce=function(e,t){return"function"==typeof e&&(e=e(y,m)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},le=function(e,t){return"function"==typeof e&&(e=e(y,m)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},fe=function(e,t,n,r){var i,o,a,s;return"function"==typeof e&&(e=e(y,m)),null==e?a=t:"number"==typeof e?a=e:(360,i=e.split("_"),o=((s="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(i[0].substr(2)):parseFloat(i[0]))*(-1===e.indexOf("rad")?1:B)-(s?0:t),i.length&&(r&&(r[n]=t+o),-1!==e.indexOf("short")&&(o%=360)!==o%180&&(o=o<0?o+360:o-360),-1!==e.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==e.indexOf("ccw")&&o>0&&(o=(o-3599999999640)%360-360*(o/360|0))),a=t+o),a<1e-6&&a>-1e-6&&(a=0),a},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},pe=s.parseColor=function(e,t){var n,r,i,o,a,s,u,c,l,f,h;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),he[e])n=he[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=h=e.match(_),t){if(-1!==e.indexOf("="))return e.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(u=Number(n[2])/100)-(i=u<=.5?u*(s+1):u+s-u*s),n.length>3&&(n[3]=Number(n[3])),n[0]=de(a+1/3,r,i),n[1]=de(a,r,i),n[2]=de(a-1/3,r,i);else n=e.match(_)||he.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=he.black;return t&&!h&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,u=((c=Math.max(r,i,o))+(l=Math.min(r,i,o)))/2,c===l?a=s=0:(f=c-l,s=u>.5?f/(2-c-l):f/(c+l),a=c===r?(i-o)/f+(i<o?6:0):c===i?(o-r)/f+2:(r-i)/f+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},ge=function(e,t){var n,r,i,o=e.match(ve)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)r=o[n],a+=(i=e.substr(a,e.indexOf(r,a)-a)).length+r.length,3===(r=pe(r,t)).length&&r.push(1),s+=i+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(a)},ve="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in he)ve+="|"+l+"\\b";ve=new RegExp(ve+")","gi"),s.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];ve.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=ge(e[0],t),e[1]=ge(e[1],t)),ve.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=s.colorStringFilter);var me=function(e,t,n,r){if(null==e)return function(e){return e};var i,o=t?(e.match(ve)||[""])[0]:"",a=e.split(o).join("").match(A)||[],s=e.substr(0,e.indexOf(a[0])),u=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",l=a.length,f=l>0?a[0].replace(_,""):"";return l?i=t?function(e){var t,h,d,p;if("number"==typeof e)e+=f;else if(r&&D.test(e)){for(p=e.replace(D,"|").split("|"),d=0;d<p.length;d++)p[d]=i(p[d]);return p.join(",")}if(t=(e.match(ve)||[o])[0],d=(h=e.split(t).join("").match(A)||[]).length,l>d--)for(;++d<l;)h[d]=n?h[(d-1)/2|0]:a[d];return s+h.join(c)+c+t+u+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,o,h;if("number"==typeof e)e+=f;else if(r&&D.test(e)){for(o=e.replace(D,"|").split("|"),h=0;h<o.length;h++)o[h]=i(o[h]);return o.join(",")}if(h=(t=e.match(A)||[]).length,l>h--)for(;++h<l;)t[h]=n?t[(h-1)/2|0]:a[h];return s+t.join(c)+u}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,r,i,o,a,s){var u,c=(n+"").split(" ");for(s={},u=0;u<4;u++)s[e[u]]=c[u]=c[u]||c[(u-1)/2>>0];return i.parse(t,s,o,a)}},_e=(V._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,o,a=this.data,s=a.proxy,u=a.firstMPT;u;)t=s[u.v],u.r?t=Math.round(t):t<1e-6&&t>-1e-6&&(t=0),u.t[u.p]=t,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(u=a.firstMPT,o=1===e?"e":"b";u;){if((n=u.t).type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;u=u._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),be=(V._parseToProxy=function(e,t,n,r,i,o){var a,s,u,c,l,f=r,h={},d={},p=n._transform,g=F;for(n._transform=null,F=t,r=l=n.parse(e,t,r,i),F=g,o&&(n._transform=p,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(r.type<=1&&(d[s=r.p]=r.s+r.c,h[s]=r.s,o||(c=new _e(r,"s",s,c,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)u="xn"+a,d[s=r.p+"_"+u]=r.data[u],h[s]=r[u],o||(c=new _e(r,u,s,c,r.rxp[u]));r=r._next}return{proxy:h,end:d,firstMPT:c,pt:l}},V.CSSPropTween=function(e,t,r,i,o,s,u,c,l,f,h){this.t=e,this.p=t,this.s=r,this.c=i,this.n=u||t,e instanceof be||a.push(this.n),this.r=c,this.type=s||0,l&&(this.pr=l,n=!0),this.b=void 0===f?r:f,this.e=void 0===h?r+i:h,o&&(this._next=o,o._prev=this)}),Ae=function(e,t,n,r,i,o){var a=new be(e,t,n,r-n,i,-1,o);return a.b=n,a.e=a.xs0=r,a},we=s.parseComplex=function(e,t,n,r,i,o,a,u,c,l){n=n||o||"","function"==typeof r&&(r=r(y,m)),a=new be(e,t,0,0,a,l?2:1,null,!1,u,n,r),r+="",i&&ve.test(r+n)&&(r=[n,r],s.colorStringFilter(r),n=r[0],r=r[1]);var h,d,p,g,v,A,w,E,x,T,S,O,C,k=n.split(", ").join(",").split(" "),P=r.split(", ").join(",").split(" "),N=k.length,I=!1!==f;for(-1===r.indexOf(",")&&-1===n.indexOf(",")||(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(k=k.join(" ").replace(D,", ").split(" "),P=P.join(" ").replace(D,", ").split(" ")):(k=k.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),N=k.length),N!==P.length&&(N=(k=(o||"").split(" ")).length),a.plugin=c,a.setRatio=l,ve.lastIndex=0,h=0;h<N;h++)if(g=k[h],v=P[h],(E=parseFloat(g))||0===E)a.appendXtra("",E,ce(v,E),v.replace(b,""),I&&-1!==v.indexOf("px"),!0);else if(i&&ve.test(g))O=")"+((O=v.indexOf(")")+1)?v.substr(O):""),C=-1!==v.indexOf("hsl")&&q,T=v,g=pe(g,C),v=pe(v,C),(x=g.length+v.length>6)&&!q&&0===v[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(P[h]).join("transparent")):(q||(x=!1),C?a.appendXtra(T.substr(0,T.indexOf("hsl"))+(x?"hsla(":"hsl("),g[0],ce(v[0],g[0]),",",!1,!0).appendXtra("",g[1],ce(v[1],g[1]),"%,",!1).appendXtra("",g[2],ce(v[2],g[2]),x?"%,":"%"+O,!1):a.appendXtra(T.substr(0,T.indexOf("rgb"))+(x?"rgba(":"rgb("),g[0],v[0]-g[0],",",!0,!0).appendXtra("",g[1],v[1]-g[1],",",!0).appendXtra("",g[2],v[2]-g[2],x?",":O,!0),x&&(g=g.length<4?1:g[3],a.appendXtra("",g,(v.length<4?1:v[3])-g,O,!1))),ve.lastIndex=0;else if(A=g.match(_)){if(!(w=v.match(b))||w.length!==A.length)return a;for(p=0,d=0;d<A.length;d++)S=A[d],T=g.indexOf(S,p),a.appendXtra(g.substr(p,T-p),Number(S),ce(w[d],S),"",I&&"px"===g.substr(T+S.length,2),0===d),p=T+S.length;a["xs"+a.l]+=g.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+v:v;if(-1!==r.indexOf("=")&&a.data){for(O=a.xs0+a.data.s,h=1;h<a.l;h++)O+=a["xs"+h]+a.data["xn"+h];a.e=O+a["xs"+h]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Ee=9;for((l=be.prototype).l=l.pr=0;--Ee>0;)l["xn"+Ee]=0,l["xs"+Ee]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,n,r,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=i,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=i,a)):(a["xs"+s]+=t+(r||""),a)};var xe=function(e,t){t=t||{},this.p=t.prefix&&J(e)||e,c[e]=c[this.p]=this,this.format=t.formatter||me(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Te=V._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,i=e.split(","),o=t.defaultValue;for(n=n||[o],r=0;r<i.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||o,new xe(i[r],t)},Se=V._registerPluginProp=function(e){if(!c[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Te(e,{parser:function(e,n,r,i,o,a,s){var l=u.com.greensock.plugins[t];return l?(l._cssRegister(),c[r].parse(e,n,r,i,o,a,s)):(Y("Error: "+t+" js file not loaded."),o)}})}};(l=xe.prototype).parseComplex=function(e,t,n,r,i,o){var a,s,u,c,l,f,h=this.keyword;if(this.multi&&(D.test(n)||D.test(t)?(s=t.replace(D,"|").split("|"),u=n.replace(D,"|").split("|")):h&&(s=[t],u=[n])),u){for(c=u.length>s.length?u.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,h&&(l=t.indexOf(h))!==(f=n.indexOf(h))&&(-1===f?s[a]=s[a].split(h).join(""):-1===l&&(s[a]+=" "+h));t=s.join(", "),n=u.join(", ")}return we(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,o)},l.parse=function(e,t,n,r,i,a,s){return this.parseComplex(e.style,this.format(ee(e,this.p,o,!1,this.dflt)),this.format(t),i,a)},s.registerSpecialProp=function(e,t,n){Te(e,{parser:function(e,r,i,o,a,s,u){var c=new be(e,i,0,0,a,2,i,!1,n);return c.plugin=s,c.setRatio=t(e,r,o._tween,i),c},priority:n})},s.useSVGTransformAttr=!0;var Oe,Ce,ke,Pe,Ne,Ie="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Re=J("transform"),Le=K+"transform",De=J("transformOrigin"),Me=null!==J("perspective"),je=V.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(!1===s.defaultForce3D||!Me)&&(s.defaultForce3D||"auto")},Be=i.SVGElement,Fe=function(e,t,n){var r,i=H.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return t.appendChild(i),i},Ue=H.documentElement||{},He=(Ne=v||/Android/i.test(W)&&!i.chrome,H.createElementNS&&!Ne&&(Ce=Fe("svg",Ue),Pe=(ke=Fe("rect",Ce,{width:100,height:50,x:100})).getBoundingClientRect().width,ke.style[De]="50% 50%",ke.style[Re]="scaleX(0.5)",Ne=Pe===ke.getBoundingClientRect().width&&!(p&&Me),Ue.removeChild(Ce)),Ne),Ge=function(e,t,n,r,i,o){var a,u,c,l,f,h,d,p,g,v,m,y,_,b,A=e._gsTransform,w=We(e,!0);A&&(_=A.xOrigin,b=A.yOrigin),(!r||(a=r.split(" ")).length<2)&&(0===(d=e.getBBox()).x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(t=ue(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*d.width:parseFloat(t[0]))+d.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*d.height:parseFloat(t[1]))+d.y]),n.xOrigin=l=parseFloat(a[0]),n.yOrigin=f=parseFloat(a[1]),r&&w!==Ve&&(h=w[0],d=w[1],p=w[2],g=w[3],v=w[4],m=w[5],(y=h*g-d*p)&&(u=l*(g/y)+f*(-p/y)+(p*m-g*v)/y,c=l*(-d/y)+f*(h/y)-(h*m-d*v)/y,l=n.xOrigin=a[0]=u,f=n.yOrigin=a[1]=c)),A&&(o&&(n.xOffset=A.xOffset,n.yOffset=A.yOffset,A=n),i||!1!==i&&!1!==s.defaultSmoothOrigin?(u=l-_,c=f-b,A.xOffset+=u*w[0]+c*w[2]-u,A.yOffset+=u*w[1]+c*w[3]-c):A.xOffset=A.yOffset=0),o||e.setAttribute("data-svg-origin",a.join(" "))},Qe=function(e){var t,n=G("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(Ue.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Qe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return i?r.insertBefore(this,i):r.appendChild(this),Ue.removeChild(n),this.style.cssText=o,t},ze=function(e){return!(!Be||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return Qe.call(e,!0)}}(e))},Ve=[1,0,0,1,0,0],We=function(e,t){var n,r,i,o,a,s,u=e._gsTransform||new je,c=e.style;if(Re?r=ee(e,Le,null,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match(R))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Re||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(o=c.display,c.display="block"),e.parentNode||(a=1,Ue.appendChild(e)),n=!(r=ee(e,Le,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?c.display=o:s&&$e(c,"display"),a&&Ue.removeChild(e)),(u.svg||e.getCTM&&ze(e))&&(n&&-1!==(c[Re]+"").indexOf("matrix")&&(r=c[Re],n=0),i=e.getAttribute("transform"),n&&i&&(r="matrix("+(i=e.transform.baseVal.consolidate().matrix).a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")",n=0)),n)return Ve;for(i=(r||"").match(_)||[],Ee=i.length;--Ee>-1;)o=Number(i[Ee]),i[Ee]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},qe=V.getTransform=function(e,n,r,i){if(e._gsTransform&&r&&!i)return e._gsTransform;var o,a,u,c,l,f,h=r&&e._gsTransform||new je,d=h.scaleX<0,p=1e5,g=Me&&(parseFloat(ee(e,De,n,!1,"0 0 0").split(" ")[2])||h.zOrigin)||0,v=parseFloat(s.defaultTransformPerspective)||0;if(h.svg=!(!e.getCTM||!ze(e)),h.svg&&(Ge(e,ee(e,De,n,!1,"50% 50%")+"",h,e.getAttribute("data-svg-origin")),Oe=s.useSVGTransformAttr||He),(o=We(e))!==Ve){if(16===o.length){var m,y,_,b,A,w=o[0],E=o[1],x=o[2],T=o[3],S=o[4],O=o[5],C=o[6],k=o[7],P=o[8],N=o[9],I=o[10],R=o[12],L=o[13],D=o[14],M=o[11],j=Math.atan2(C,I);h.zOrigin&&(R=P*(D=-h.zOrigin)-o[12],L=N*D-o[13],D=I*D+h.zOrigin-o[14]),h.rotationX=j*B,j&&(m=S*(b=Math.cos(-j))+P*(A=Math.sin(-j)),y=O*b+N*A,_=C*b+I*A,P=S*-A+P*b,N=O*-A+N*b,I=C*-A+I*b,M=k*-A+M*b,S=m,O=y,C=_),j=Math.atan2(-x,I),h.rotationY=j*B,j&&(y=E*(b=Math.cos(-j))-N*(A=Math.sin(-j)),_=x*b-I*A,N=E*A+N*b,I=x*A+I*b,M=T*A+M*b,w=m=w*b-P*A,E=y,x=_),j=Math.atan2(E,w),h.rotation=j*B,j&&(m=w*(b=Math.cos(j))+E*(A=Math.sin(j)),y=S*b+O*A,_=P*b+N*A,E=E*b-w*A,O=O*b-S*A,N=N*b-P*A,w=m,S=y,P=_),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),j=Math.atan2(S,O),h.scaleX=(Math.sqrt(w*w+E*E+x*x)*p+.5|0)/p,h.scaleY=(Math.sqrt(O*O+C*C)*p+.5|0)/p,h.scaleZ=(Math.sqrt(P*P+N*N+I*I)*p+.5|0)/p,w/=h.scaleX,S/=h.scaleY,E/=h.scaleX,O/=h.scaleY,Math.abs(j)>2e-5?(h.skewX=j*B,S=0,"simple"!==h.skewType&&(h.scaleY*=1/Math.cos(j))):h.skewX=0,h.perspective=M?1/(M<0?-M:M):0,h.x=R,h.y=L,h.z=D,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*w-h.yOrigin*S),h.y-=h.yOrigin-(h.yOrigin*E-h.xOrigin*O))}else if(!Me||i||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var F=o.length>=6,U=F?o[0]:1,H=o[1]||0,G=o[2]||0,Q=F?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,u=Math.sqrt(U*U+H*H),c=Math.sqrt(Q*Q+G*G),l=U||H?Math.atan2(H,U)*B:h.rotation||0,f=G||Q?Math.atan2(G,Q)*B+l:h.skewX||0,h.scaleX=u,h.scaleY=c,h.rotation=l,h.skewX=f,Me&&(h.rotationX=h.rotationY=h.z=0,h.perspective=v,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*U+h.yOrigin*G),h.y-=h.yOrigin-(h.xOrigin*H+h.yOrigin*Q))}for(a in Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(d?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180)),h.zOrigin=g,h)h[a]<2e-5&&h[a]>-2e-5&&(h[a]=0)}return r&&(e._gsTransform=h,h.svg&&(Oe&&e.style[Re]?t.delayedCall(.001,(function(){$e(e.style,Re)})):!Oe&&e.getAttribute("transform")&&t.delayedCall(.001,(function(){e.removeAttribute("transform")})))),h},Xe=function(e){var t,n,r=this.data,i=-r.rotation*j,o=i+r.skewX*j,a=1e5,s=(Math.cos(i)*r.scaleX*a|0)/a,u=(Math.sin(i)*r.scaleX*a|0)/a,c=(Math.sin(o)*-r.scaleY*a|0)/a,l=(Math.cos(o)*r.scaleY*a|0)/a,f=this.t.style,h=this.t.currentStyle;if(h){n=u,u=-c,c=-n,t=h.filter,f.filter="";var d,p,g=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==h.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+c+", M22="+l,b=r.x+g*r.xPercent/100,A=r.y+m*r.yPercent/100;if(null!=r.ox&&(b+=(d=(r.oxp?g*r.ox*.01:r.ox)-g/2)-(d*s+(p=(r.oyp?m*r.oy*.01:r.oy)-m/2)*u),A+=p-(d*c+p*l)),_+=y?", Dx="+((d=g/2)-(d*s+(p=m/2)*u)+b)+", Dy="+(p-(d*c+p*l)+A)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?f.filter=t.replace(L,_):f.filter=_+" "+t,0!==e&&1!==e||1===s&&0===u&&0===c&&1===l&&(y&&-1===_.indexOf("Dx=0, Dy=0")||x.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&f.removeAttribute("filter")),!y){var w,T,S,O=v<8?1:-1;for(d=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(u<0?-u:u)*m))/2+b),r.ieOffsetY=Math.round((m-((l<0?-l:l)*m+(c<0?-c:c)*g))/2+A),Ee=0;Ee<4;Ee++)S=(n=-1!==(w=h[T=ae[Ee]]).indexOf("px")?parseFloat(w):te(this.t,T,parseFloat(w),w.replace(E,""))||0)!==r[T]?Ee<2?-r.ieOffsetX:-r.ieOffsetY:Ee<2?d-r.ieOffsetX:p-r.ieOffsetY,f[T]=(r[T]=Math.round(n-S*(0===Ee||2===Ee?1:O)))+"px"}}},Ye=V.set3DTransformRatio=V.setTransformRatio=function(e){var t,n,r,i,o,a,s,u,c,l,f,h,d,g,v,m,y,_,b,A,w,E=this.data,x=this.t.style,T=E.rotation,S=E.rotationX,O=E.rotationY,C=E.scaleX,k=E.scaleY,P=E.scaleZ,N=E.x,I=E.y,R=E.z,L=E.svg,D=E.perspective,M=E.force3D,B=E.skewY,F=E.skewX;if(B&&(F+=B,T+=B),!((1!==e&&0!==e||"auto"!==M||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&M||R||D||O||S||1!==P)||Oe&&L||!Me)T||F||L?(T*=j,A=F*j,w=1e5,n=Math.cos(T)*C,o=Math.sin(T)*C,r=Math.sin(T-A)*-k,a=Math.cos(T-A)*k,A&&"simple"===E.skewType&&(t=Math.tan(A-B*j),r*=t=Math.sqrt(1+t*t),a*=t,B&&(t=Math.tan(B*j),n*=t=Math.sqrt(1+t*t),o*=t)),L&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset,Oe&&(E.xPercent||E.yPercent)&&(v=this.t.getBBox(),N+=.01*E.xPercent*v.width,I+=.01*E.yPercent*v.height),N<(v=1e-6)&&N>-v&&(N=0),I<v&&I>-v&&(I=0)),b=(n*w|0)/w+","+(o*w|0)/w+","+(r*w|0)/w+","+(a*w|0)/w+","+N+","+I+")",L&&Oe?this.t.setAttribute("transform","matrix("+b):x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+b):x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+k+","+N+","+I+")";else{if(p&&(C<(v=1e-4)&&C>-v&&(C=P=2e-5),k<v&&k>-v&&(k=P=2e-5),!D||E.z||E.rotationX||E.rotationY||(D=0)),T||F)T*=j,m=n=Math.cos(T),y=o=Math.sin(T),F&&(T-=F*j,m=Math.cos(T),y=Math.sin(T),"simple"===E.skewType&&(t=Math.tan((F-B)*j),m*=t=Math.sqrt(1+t*t),y*=t,E.skewY&&(t=Math.tan(B*j),n*=t=Math.sqrt(1+t*t),o*=t))),r=-y,a=m;else{if(!(O||S||1!==P||D||L))return void(x[Re]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+I+"px,"+R+"px)"+(1!==C||1!==k?" scale("+C+","+k+")":""));n=a=1,r=o=0}l=1,i=s=u=c=f=h=0,d=D?-1/D:0,g=E.zOrigin,v=1e-6,",","0",(T=O*j)&&(m=Math.cos(T),u=-(y=Math.sin(T)),f=d*-y,i=n*y,s=o*y,l=m,d*=m,n*=m,o*=m),(T=S*j)&&(t=r*(m=Math.cos(T))+i*(y=Math.sin(T)),_=a*m+s*y,c=l*y,h=d*y,i=r*-y+i*m,s=a*-y+s*m,l*=m,d*=m,r=t,a=_),1!==P&&(i*=P,s*=P,l*=P,d*=P),1!==k&&(r*=k,a*=k,c*=k,h*=k),1!==C&&(n*=C,o*=C,u*=C,f*=C),(g||L)&&(g&&(N+=i*-g,I+=s*-g,R+=l*-g+g),L&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*r)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset),N<v&&N>-v&&(N="0"),I<v&&I>-v&&(I="0"),R<v&&R>-v&&(R=0)),b=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<v&&n>-v?"0":n)+","+(o<v&&o>-v?"0":o)+","+(u<v&&u>-v?"0":u),b+=","+(f<v&&f>-v?"0":f)+","+(r<v&&r>-v?"0":r)+","+(a<v&&a>-v?"0":a),S||O||1!==P?(b+=","+(c<v&&c>-v?"0":c)+","+(h<v&&h>-v?"0":h)+","+(i<v&&i>-v?"0":i),b+=","+(s<v&&s>-v?"0":s)+","+(l<v&&l>-v?"0":l)+","+(d<v&&d>-v?"0":d)+","):b+=",0,0,0,0,1,0,",b+=N+","+I+","+R+","+(D?1+-R/D:1)+")",x[Re]=b}};(l=je.prototype).x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,Te("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,i,a,u){if(r._lastParsedTransform===u)return i;r._lastParsedTransform=u;var c,l=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(c=u[n],u[n]=t),l&&(u.scale=l(y,e));var f,h,d,p,g,v,_,b,A,w=e._gsTransform,E=e.style,x=Ie.length,T=u,S={},O=qe(e,o,!0,T.parseTransform),C=T.transform&&("function"==typeof T.transform?T.transform(y,m):T.transform);if(O.skewType=T.skewType||O.skewType||s.defaultSkewType,r._transform=O,C&&"string"==typeof C&&Re)(h=Q.style)[Re]=C,h.display="block",h.position="absolute",H.body.appendChild(Q),f=qe(Q,null,!1),"simple"===O.skewType&&(f.scaleY*=Math.cos(f.skewX*j)),O.svg&&(v=O.xOrigin,_=O.yOrigin,f.x-=O.xOffset,f.y-=O.yOffset,(T.transformOrigin||T.svgOrigin)&&(C={},Ge(e,ue(T.transformOrigin),C,T.svgOrigin,T.smoothOrigin,!0),v=C.xOrigin,_=C.yOrigin,f.x-=C.xOffset-O.xOffset,f.y-=C.yOffset-O.yOffset),(v||_)&&(b=We(Q,!0),f.x-=v-(v*b[0]+_*b[2]),f.y-=_-(v*b[1]+_*b[3]))),H.body.removeChild(Q),f.perspective||(f.perspective=O.perspective),null!=T.xPercent&&(f.xPercent=le(T.xPercent,O.xPercent)),null!=T.yPercent&&(f.yPercent=le(T.yPercent,O.yPercent));else if("object"==typeof T){if(f={scaleX:le(null!=T.scaleX?T.scaleX:T.scale,O.scaleX),scaleY:le(null!=T.scaleY?T.scaleY:T.scale,O.scaleY),scaleZ:le(T.scaleZ,O.scaleZ),x:le(T.x,O.x),y:le(T.y,O.y),z:le(T.z,O.z),xPercent:le(T.xPercent,O.xPercent),yPercent:le(T.yPercent,O.yPercent),perspective:le(T.transformPerspective,O.perspective)},null!=(g=T.directionalRotation))if("object"==typeof g)for(h in g)T[h]=g[h];else T.rotation=g;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(f.x=0,f.xPercent=le(T.x,O.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(f.y=0,f.yPercent=le(T.y,O.yPercent)),f.rotation=fe("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:O.rotation,O.rotation,"rotation",S),Me&&(f.rotationX=fe("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",S),f.rotationY=fe("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",S)),f.skewX=fe(T.skewX,O.skewX),f.skewY=fe(T.skewY,O.skewY)}for(Me&&null!=T.force3D&&(O.force3D=T.force3D,p=!0),(d=O.force3D||O.z||O.rotationX||O.rotationY||f.z||f.rotationX||f.rotationY||f.perspective)||null==T.scale||(f.scaleZ=1);--x>-1;)((C=f[A=Ie[x]]-O[A])>1e-6||C<-1e-6||null!=T[A]||null!=F[A])&&(p=!0,i=new be(O,A,O[A],C,i),A in S&&(i.e=S[A]),i.xs0=0,i.plugin=a,r._overwriteProps.push(i.n));return C=T.transformOrigin,O.svg&&(C||T.svgOrigin)&&(v=O.xOffset,_=O.yOffset,Ge(e,ue(C),f,T.svgOrigin,T.smoothOrigin),i=Ae(O,"xOrigin",(w?O:f).xOrigin,f.xOrigin,i,"transformOrigin"),i=Ae(O,"yOrigin",(w?O:f).yOrigin,f.yOrigin,i,"transformOrigin"),v===O.xOffset&&_===O.yOffset||(i=Ae(O,"xOffset",w?v:O.xOffset,O.xOffset,i,"transformOrigin"),i=Ae(O,"yOffset",w?_:O.yOffset,O.yOffset,i,"transformOrigin")),C="0px 0px"),(C||Me&&d&&O.zOrigin)&&(Re?(p=!0,A=De,C=(C||ee(e,A,o,!1,"50% 50%"))+"",(i=new be(E,A,0,0,i,-1,"transformOrigin")).b=E[A],i.plugin=a,Me?(h=O.zOrigin,C=C.split(" "),O.zOrigin=(C.length>2&&(0===h||"0px"!==C[2])?parseFloat(C[2]):h)||0,i.xs0=i.e=C[0]+" "+(C[1]||"50%")+" 0px",(i=new be(O,"zOrigin",0,0,i,-1,i.n)).b=h,i.xs0=i.e=O.zOrigin):i.xs0=i.e=C):ue(C+"",O)),p&&(r._transformType=O.svg&&Oe||!d&&3!==this._transformType?2:3),c&&(u[n]=c),l&&(u.scale=l),i},prefix:!0}),Te("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Te("borderRadius",{defaultValue:"0px",parser:function(e,t,n,i,a,s){t=this.format(t);var u,c,l,f,h,d,p,g,v,m,y,_,b,A,w,E,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),u=t.split(" "),c=0;c<x.length;c++)this.p.indexOf("border")&&(x[c]=J(x[c])),-1!==(h=f=ee(e,x[c],o,!1,"0px")).indexOf(" ")&&(f=h.split(" "),h=f[0],f=f[1]),d=l=u[c],p=parseFloat(h),_=h.substr((p+"").length),(b="="===d.charAt(1))?(g=parseInt(d.charAt(0)+"1",10),d=d.substr(2),g*=parseFloat(d),y=d.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(d),y=d.substr((g+"").length)),""===y&&(y=r[n]||_),y!==_&&(A=te(e,"borderLeft",p,_),w=te(e,"borderTop",p,_),"%"===y?(h=A/v*100+"%",f=w/m*100+"%"):"em"===y?(h=A/(E=te(e,"borderLeft",1,"em"))+"em",f=w/E+"em"):(h=A+"px",f=w+"px"),b&&(d=parseFloat(h)+g+y,l=parseFloat(f)+g+y)),a=we(T,x[c],h+" "+f,d+" "+l,!1,"0px",a);return a},prefix:!0,formatter:me("0px 0px 0px 0px",!1,!0)}),Te("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,r,i,a){return we(e.style,n,this.format(ee(e,n,o,!1,"0px 0px")),this.format(t),!1,"0px",i)},prefix:!0,formatter:me("0px 0px",!1,!0)}),Te("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,i,a){var s,u,c,l,f,h,d="background-position",p=o||Z(e,null),g=this.format((p?v?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&(h=ee(e,"backgroundImage").replace(P,""))&&"none"!==h){for(s=g.split(" "),u=m.split(" "),z.setAttribute("src",h),c=2;--c>-1;)(l=-1!==(g=s[c]).indexOf("%"))!==(-1!==u[c].indexOf("%"))&&(f=0===c?e.offsetWidth-z.width:e.offsetHeight-z.height,s[c]=l?parseFloat(g)/100*f+"px":parseFloat(g)/f*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,m,i,a)},formatter:ue}),Te("backgroundSize",{defaultValue:"0 0",formatter:function(e){return ue(-1===(e+="").indexOf(" ")?e+" "+e:e)}}),Te("perspective",{defaultValue:"0px",prefix:!0}),Te("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Te("transformStyle",{prefix:!0}),Te("backfaceVisibility",{prefix:!0}),Te("userSelect",{prefix:!0}),Te("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Te("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Te("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,i,a){var s,u,c;return v<9?(u=e.currentStyle,c=v<8?" ":",",s="rect("+u.clipTop+c+u.clipRight+c+u.clipBottom+c+u.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(ee(e,this.p,o,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,i,a)}}),Te("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Te("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),Te("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,i,a){var s=ee(e,"borderTopWidth",o,!1,"0px"),u=this.format(t).split(" "),c=u[0].replace(E,"");return"px"!==c&&(s=parseFloat(s)/te(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",o,!1,"solid")+" "+ee(e,"borderTopColor",o,!1,"#000")),u.join(" "),i,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ve)||["#000"])[0]}}),Te("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Te("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,i,-1,n,!1,0,a[s],t)}});var Ke=function(e){var t,n=this.t,r=n.filter||ee(this.data,"filter")||"",i=this.s+this.c*e|0;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!ee(this.data,"filter")):(n.filter=r.replace(S,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(x,"opacity="+i))};Te("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,i,a){var s=parseFloat(ee(e,"opacity",o,!1,"1")),u=e.style,c="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===ee(e,"visibility",o)&&0!==t&&(s=0),q?i=new be(u,"opacity",s,t-s,i):((i=new be(u,"opacity",100*s,100*(t-s),i)).xn1=c?1:0,u.zoom=1,i.type=2,i.b="alpha(opacity="+i.s+")",i.e="alpha(opacity="+(i.s+i.c)+")",i.data=e,i.plugin=a,i.setRatio=Ke),c&&((i=new be(u,"visibility",0,0,i,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(i.n),r._overwriteProps.push(n)),i}});var $e=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(C,"-$1").toLowerCase())):e.removeAttribute(t))},Je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:$e(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Te("className",{parser:function(e,t,r,i,a,s,u){var c,l,f,h,d,p=e.getAttribute("class")||"",g=e.style.cssText;if((a=i._classNamePT=new be(e,r,0,0,a,2)).setRatio=Je,a.pr=-11,n=!0,a.b=p,l=re(e,o),f=e._gsClassPT){for(h={},d=f.data;d;)h[d.p]=1,d=d._next;f.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:p.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=ie(e,l,re(e),u,h),e.setAttribute("class",p),a.data=c.firstMPT,e.style.cssText=g,a=a.xfirst=i.parse(e,c.difs,a,s)}});var Ze=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,i,o,a=this.t.style,s=c.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(r=(t=this.e.split(" ").join("").split(",")).length;--r>-1;)n=t[r],c[n]&&(c[n].parse===s?i=!0:n="transformOrigin"===n?De:c[n].p),$e(a,n);i&&($e(a,Re),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Te("clearProps",{parser:function(e,t,r,i,o){return(o=new be(e,r,0,0,o,2)).setRatio=Ze,o.e=t,o.pr=-10,o.data=i._tween,n=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),Ee=l.length;Ee--;)Se(l[Ee]);(l=s.prototype)._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(e,t,i,u){if(!e.nodeType)return!1;this._target=m=e,this._tween=i,this._vars=t,y=u,f=t.autoRound,n=!1,r=t.suffixMap||s.suffixMap,o=Z(e,""),a=this._overwriteProps;var l,p,v,_,b,A,w,E,x,S=e.style;if(h&&""===S.zIndex&&("auto"!==(l=ee(e,"zIndex",o))&&""!==l||this._addLazySet(S,"zIndex",0)),"string"==typeof t&&(_=S.cssText,l=re(e,o),S.cssText=_+";"+t,l=ie(e,l,re(e)).difs,!q&&T.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,S.cssText=_),t.className?this._firstPT=p=c.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=p=this.parse(e,t,null),this._transformType){for(x=3===this._transformType,Re?d&&(h=!0,""===S.zIndex&&("auto"!==(w=ee(e,"zIndex",o))&&""!==w||this._addLazySet(S,"zIndex",0)),g&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):S.zoom=1,v=p;v&&v._next;)v=v._next;E=new be(e,"transform",0,0,null,2),this._linkCSSP(E,null,v),E.setRatio=Re?Ye:Xe,E.data=this._transform||qe(e,o,!0),E.tween=i,E.pr=-1,a.pop()}if(n){for(;p;){for(A=p._next,v=_;v&&v.pr>p.pr;)v=v._next;(p._prev=v?v._prev:b)?p._prev._next=p:_=p,(p._next=v)?v._prev=p:b=p,p=A}this._firstPT=_}return!0},l.parse=function(e,t,n,i){var a,s,u,l,h,d,p,g,v,_,b=e.style;for(a in t){if("function"==typeof(d=t[a])&&(d=d(y,m)),s=c[a])n=s.parse(e,d,a,this,n,i,t);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(a)+"",d+"",a,!1,a);continue}h=ee(e,a,o)+"",v="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||v&&O.test(d)?(v||(d=((d=pe(d)).length>3?"rgba(":"rgb(")+d.join(",")+")"),n=we(b,a,h,d,!0,"transparent",n,0,i)):v&&M.test(d)?n=we(b,a,h,d,!0,null,n,0,i):(p=(u=parseFloat(h))||0===u?h.substr((u+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(u=se(e,a,o),p="px"):"left"===a||"top"===a?(u=ne(e,a,o),p="px"):(u="opacity"!==a?0:1,p="")),(_=v&&"="===d.charAt(1))?(l=parseInt(d.charAt(0)+"1",10),d=d.substr(2),l*=parseFloat(d),g=d.replace(E,"")):(l=parseFloat(d),g=v?d.replace(E,""):""),""===g&&(g=a in r?r[a]:p),d=l||0===l?(_?l+u:l)+g:t[a],p!==g&&(""===g&&"lineHeight"!==a||(l||0===l)&&u&&(u=te(e,a,u,p),"%"===g?(u/=te(e,a,100,"%")/100,!0!==t.strictUnits&&(h=u+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?u/=te(e,a,1,g):"px"!==g&&(l=te(e,a,l,g),g="px"),_&&(l||0===l)&&(d=l+u+g))),_&&(l+=u),!u&&0!==u||!l&&0!==l?void 0!==b[a]&&(d||d+""!="NaN"&&null!=d)?(n=new be(b,a,l||u||0,0,n,-1,a,!1,0,h,d)).xs0="none"!==d||"display"!==a&&-1===a.indexOf("Style")?d:h:Y("invalid "+a+" tween value: "+t[a]):(n=new be(b,a,u,l-u,n,0,a,!1!==f&&("px"===g||"zIndex"===a),0,h,d)).xs0=g)}i&&n&&!n.plugin&&(n.plugin=i)}return n},l.setRatio=function(e){var t,n,r,i=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;i;){if(t=i.c*e+i.s,i.r?t=Math.round(t):t<1e-6&&t>-1e-6&&(t=0),i.type)if(1===i.type)if(2===(r=i.l))i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(t=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+t+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=t+i.xs0;else i.t[i.p]=i.e;else i.setRatio(e);i=i._next}},l._enableTransforms=function(e){this._transform=this._transform||qe(this._target,o,!0),this._transformType=this._transform.svg&&Oe||!e&&3!==this._transformType?2:3};var et=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(e,t,n){var r=this._firstPT=new be(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=et,r.data=this},l._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},l._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},l._kill=function(t){var n,r,i,o=t;if(t.autoAlpha||t.alpha){for(r in o={},t)o[r]=t[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(n=this._classNamePT)&&((i=n.xfirst)&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(t),r=n.plugin),n=n._next;return e.prototype._kill.call(this,o)};var tt=function(e,t,n){var r,i,o,a;if(e.slice)for(i=e.length;--i>-1;)tt(e[i],t,n);else for(i=(r=e.childNodes).length;--i>-1;)a=(o=r[i]).type,o.style&&(t.push(re(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||tt(o,t,n)};return s.cascadeTo=function(e,n,r){var i,o,a,s,u=t.to(e,n,r),c=[u],l=[],f=[],h=[],d=t._internals.reservedProps;for(e=u._targets||u.target,tt(e,l,h),u.render(n,!0,!0),tt(e,f),u.render(0,!0,!0),u._enabled(!0),i=h.length;--i>-1;)if((o=ie(h[i],l[i],f[i])).firstMPT){for(a in o=o.difs,r)d[a]&&(o[a]=r[a]);for(a in s={},o)s[a]=l[i][a];c.push(t.fromTo(h[i],n,s,o))}return c},e.activate([s]),s}),!0),function(){var e=i._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=Math.round),e=e._next},n=e.prototype;n._onInitAllProps=function(){for(var e,n,r,i=this._tween,o=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),a=o.length,s={},u=i._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(e=o[a],n=i._firstPT;n;)r=n._next,n.pg?n.t._mod(s):n.n===e&&(2===n.f&&n.t?t(n.t._firstPT):(this._add(n.t,e,n.s,n.c),r&&(r._prev=n._prev),n._prev?n._prev._next=r:i._firstPT===n&&(i._firstPT=r),n._next=n._prev=null,i._propLookup[e]=u)),n=r;return!1},n._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,Math.round),this._overwriteProps.push(t)}}(),i._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,r){var i,o;if("function"!=typeof e.setAttribute)return!1;for(i in t)"function"==typeof(o=t[i])&&(o=o(r,e)),this._addTween(e,"setAttribute",e.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}}),i._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,n,r){"object"!=typeof t&&(t={rotation:t}),this.finals={};var i,o,a,s,u,c,l=!0===t.useRadians?2*Math.PI:360;for(i in t)"useRadians"!==i&&("function"==typeof(s=t[i])&&(s=s(r,e)),o=(c=(s+"").split("_"))[0],a=parseFloat("function"!=typeof e[i]?e[i]:e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]()),u=(s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-a,c.length&&(-1!==(o=c.join("_")).indexOf("short")&&(u%=l)!==u%(l/2)&&(u=u<0?u+l:u-l),-1!==o.indexOf("_cw")&&u<0?u=(u+9999999999*l)%l-(u/l|0)*l:-1!==o.indexOf("ccw")&&u>0&&(u=(u-9999999999*l)%l-(u/l|0)*l)),(u>1e-6||u<-1e-6)&&(this._addTween(e,i,a,a+u,i),this._overwriteProps.push(i)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],(function(e){var t,n,r,o,a=i.GreenSockGlobals||i,s=a.com.greensock,u=2*Math.PI,c=Math.PI/2,l=s._class,f=function(t,n){var r=l("easing."+t,(function(){}),!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},h=e.register||function(){},d=function(e,t,n,r,i){var o=l("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return h(o,e),o},p=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},g=function(t,n){var r=l("easing."+t,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},v=d("Back",g("BackOut",(function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1})),g("BackIn",(function(e){return e*e*((this._p1+1)*e-this._p1)})),g("BackInOut",(function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}))),m=l("easing.SlowMo",(function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n}),!0),y=m.prototype=new e;return y.constructor=m,y.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),y.config=m.config=function(e,t,n){return new m(e,t,n)},(y=(t=l("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0)).prototype=new e).constructor=t,y.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},y.config=t.config=function(e,n){return new t(e,n)},(y=(n=l("easing.ExpoScaleEase",(function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n}),!0)).prototype=new e).constructor=n,y.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},y.config=n.config=function(e,t,r){return new n(e,t,r)},(y=(r=l("easing.RoughEase",(function(t){for(var n,r,i,o,a,s,u=(t=t||{}).taper||"none",c=[],l=0,f=0|(t.points||20),h=f,d=!1!==t.randomize,g=!0===t.clamp,v=t.template instanceof e?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;--h>-1;)n=d?Math.random():1/f*h,r=v?v.getRatio(n):n,i="none"===u?m:"out"===u?(o=1-n)*o*m:"in"===u?n*n*m:n<.5?(o=2*n)*o*.5*m:(o=2*(1-n))*o*.5*m,d?r+=Math.random()*i-.5*i:h%2?r+=.5*i:r-=.5*i,g&&(r>1?r=1:r<0&&(r=0)),c[l++]={x:n,y:r};for(c.sort((function(e,t){return e.x-t.x})),s=new p(1,1,null),h=f;--h>-1;)a=c[h],s=new p(a.x,a.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)}),!0)).prototype=new e).constructor=r,y.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},y.config=function(e){return new r(e)},r.ease=new r,d("Bounce",f("BounceOut",(function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375})),f("BounceIn",(function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)})),f("BounceInOut",(function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}))),d("Circ",f("CircOut",(function(e){return Math.sqrt(1-(e-=1)*e)})),f("CircIn",(function(e){return-(Math.sqrt(1-e*e)-1)})),f("CircInOut",(function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}))),d("Elastic",(o=function(t,n,r){var i=l("easing."+t,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(e<1?e:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2}),!0),o=i.prototype=new e;return o.constructor=i,o.getRatio=n,o.config=function(e,t){return new i(e,t)},i})("ElasticOut",(function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1}),.3),o("ElasticIn",(function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)}),.3),o("ElasticInOut",(function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1}),.45)),d("Expo",f("ExpoOut",(function(e){return 1-Math.pow(2,-10*e)})),f("ExpoIn",(function(e){return Math.pow(2,10*(e-1))-.001})),f("ExpoInOut",(function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}))),d("Sine",f("SineOut",(function(e){return Math.sin(e*c)})),f("SineIn",(function(e){return 1-Math.cos(e*c)})),f("SineInOut",(function(e){return-.5*(Math.cos(Math.PI*e)-1)}))),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),h(a.SlowMo,"SlowMo","ease,"),h(r,"RoughEase","ease,"),h(t,"SteppedEase","ease,"),v}),!0)})),i._gsDefine&&i._gsQueue.pop()(),function(n,i){"use strict";var o={},a=n.document,s=n.GreenSockGlobals=n.GreenSockGlobals||n;if(!s.TweenLite){var u,c,l,f,h,d,p,g=function(e){var t,n=e.split("."),r=s;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},v=g("com.greensock"),m=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},y=function(){},_=(d=Object.prototype.toString,p=d.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&d.call(e)===p)}),b={},A=function(n,i,a,u){this.sc=b[n]?b[n].sc:[],b[n]=this,this.gsClass=null,this.func=a;var c=[];this.check=function(l){for(var f,h,d,p,v=i.length,m=v;--v>-1;)(f=b[i[v]]||new A(i[v],[])).gsClass?(c[v]=f.gsClass,m--):l&&f.sc.push(this);if(0===m&&a){if(d=(h=("com.greensock."+n).split(".")).pop(),p=g(h.join("."))[d]=this.gsClass=a.apply(a,c),u)if(s[d]=o[d]=p,e.exports)if("TweenMax"===n)for(v in e.exports=o.TweenMax=p,o)p[v]=o[v];else o.TweenMax&&(o.TweenMax[d]=p);else void 0===(r=function(){return p}.apply(t,[]))||(e.exports=r);for(v=0;v<this.sc.length;v++)this.sc[v].check()}},this.check(!0)},w=n._gsDefine=function(e,t,n,r){return new A(e,t,n,r)},E=v._class=function(e,t,n){return t=t||function(){},w(e,[],(function(){return t}),n),t};w.globals=s;var x=[0,0,1,1],T=E("easing.Ease",(function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?x.concat(t):x}),!0),S=T.map={},O=T.register=function(e,t,n,r){for(var i,o,a,s,u=t.split(","),c=u.length,l=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=u[c],i=r?E("easing."+o,null,!0):v.easing[o]||{},a=l.length;--a>-1;)s=l[a],S[o+"."+s]=S[s+o]=i[s]=e.getRatio?e:e[s]||new e};for((l=T.prototype)._calcEnd=!1,l.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},c=(u=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--c>-1;)l=u[c]+",Power"+c,O(new T(null,null,1,c),l,"easeOut",!0),O(new T(null,null,2,c),l,"easeIn"+(0===c?",easeNone":"")),O(new T(null,null,3,c),l,"easeInOut");S.linear=v.easing.Linear.easeIn,S.swing=v.easing.Quad.easeInOut;var C=E("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(l=C.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,a,s=this._listeners[e],u=0;for(this!==f||h||f.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:t,s:n,up:r,pr:i})},l.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},l.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for((t=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--t>-1;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var k=n.requestAnimationFrame,P=n.cancelAnimationFrame,N=Date.now||function(){return(new Date).getTime()},I=N();for(c=(u=["ms","moz","webkit","o"]).length;--c>-1&&!k;)k=n[u[c]+"RequestAnimationFrame"],P=n[u[c]+"CancelAnimationFrame"]||n[u[c]+"CancelRequestAnimationFrame"];E("Ticker",(function(e,t){var n,r,i,o,s,u=this,c=N(),l=!(!1===t||!k)&&"auto",d=500,p=33,g=function(e){var t,a,l=N()-I;l>d&&(c+=l-p),I+=l,u.time=(I-c)/1e3,t=u.time-s,(!n||t>0||!0===e)&&(u.frame++,s+=t+(t>=o?.004:o-t),a=!0),!0!==e&&(i=r(g)),a&&u.dispatchEvent("tick")};C.call(u),u.time=u.frame=0,u.tick=function(){g(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return d<1/1e-10;d=e||1/1e-10,p=Math.min(t,d,0)},u.sleep=function(){null!=i&&(l&&P?P(i):clearTimeout(i),r=y,i=null,u===f&&(h=!1))},u.wake=function(e){null!==i?u.sleep():e?c+=-I+(I=N()):u.frame>10&&(I=N()-d+5),r=0===n?y:l&&k?k:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===f&&(h=!0),g(2)},u.fps=function(e){if(!arguments.length)return n;o=1/((n=e)||60),s=this.time+o,u.wake()},u.useRAF=function(e){if(!arguments.length)return l;u.sleep(),l=e,u.fps(n)},u.fps(e),setTimeout((function(){"auto"===l&&u.frame<5&&"hidden"!==(a||{}).visibilityState&&u.useRAF(!1)}),1500)})),(l=v.Ticker.prototype=new v.events.EventDispatcher).constructor=v.Ticker;var R=E("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,J){h||f.wake();var n=this.vars.useFrames?$:J;n.add(this,n._time),this.vars.paused&&this.paused(!0)}}));f=R.ticker=new v.Ticker,(l=R.prototype)._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var L=function(){h&&N()-I>2e3&&("hidden"!==(a||{}).visibilityState||!f.lagSmoothing())&&f.wake();var e=setTimeout(L,2e3);e.unref&&e.unref()};L(),l.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},l.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},l.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},l.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},l.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},l.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},l.render=function(e,t,n){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(e,t){return h||f.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(e,t){return this._enabled(!1,!1)},l.kill=function(e,t){return this._kill(e,t),this},l._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},l._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},l._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},l.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=_(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},l.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},l.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},l.totalTime=function(e,t,n){if(h||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(B.length&&ee(),this.render(e,t,!1),B.length&&ee())}return this},l.progress=l.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},l.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},l.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},l.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(h||e||f.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var D=E("core.SimpleTimeline",(function(e){R.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(l=D.prototype=new R).constructor=D,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},l._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},l.rawTime=function(){return h||f.wake(),this._totalTime};var M=E("TweenLite",(function(e,t,r){if(R.call(this,t,r),this.render=M.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:M.selector(e)||e;var i,o,a,s=e.jquery||e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?K[M.defaultOverwrite]:"number"==typeof u?u>>0:K[u],(s||e instanceof Array||e.push&&_(e))&&"number"!=typeof e[0])for(this._targets=a=m(e),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==n&&o[0]&&(o[0]===n||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(m(o))):(this._siblings[i]=te(o,this,!1),1===u&&this._siblings[i].length>1&&re(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=M.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=te(e,this,!1),1===u&&this._siblings.length>1&&re(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))}),!0),j=function(e){return e&&e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType)};(l=M.prototype=new R).constructor=M,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,M.version="1.20.4",M.defaultEase=l._ease=new T(null,null,1,1),M.defaultOverwrite="auto",M.ticker=f,M.autoSleep=120,M.lagSmoothing=function(e,t){f.lagSmoothing(e,t)},M.selector=n.$||n.jQuery||function(e){var t=n.$||n.jQuery;return t?(M.selector=t,t(e)):void 0===a?e:a.querySelectorAll?a.querySelectorAll(e):a.getElementById("#"===e.charAt(0)?e.substr(1):e)};var B=[],F={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=/[\+-]=-?[\.\d]/,G=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},Q=function(e,t,n,r){var i,o,a,s,u,c,l,f=[],h=0,d="",p=0;for(f.start=e,f.end=t,e=f[0]=e+"",t=f[1]=t+"",n&&(n(f),e=f[0],t=f[1]),f.length=0,i=e.match(U)||[],o=t.match(U)||[],r&&(r._next=null,r.blob=1,f._firstPT=f._applyPT=r),u=o.length,s=0;s<u;s++)l=o[s],d+=(c=t.substr(h,t.indexOf(l,h)-h))||!s?c:",",h+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),l===i[s]||i.length<=s?d+=l:(d&&(f.push(d),d=""),a=parseFloat(i[s]),f.push(a),f._firstPT={_next:f._firstPT,t:f,p:f.length-1,s:a,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-a)||0,f:0,m:p&&p<4?Math.round:0}),h+=l.length;return(d+=t.substr(h))&&f.push(d),f.setRatio=G,H.test(t)&&(f.end=null),f},z=function(e,t,n,r,i,o,a,s,u){"function"==typeof r&&(r=r(u||0,e));var c=typeof e[t],l="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:l?a?e[l](a):e[l]():e[t],h="string"==typeof r&&"="===r.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if(("number"!=typeof f||"number"!=typeof r&&!h)&&(a||isNaN(f)||!h&&isNaN(r)||"boolean"==typeof f||"boolean"==typeof r?(d.fp=a,d={t:Q(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):r,s||M.defaultStringFilter,d),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(r)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},V=M._internals={isArray:_,isSelector:j,lazyTweens:B,blobDif:Q},W=M._plugins={},q=V.tweenLookup={},X=0,Y=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=R._rootFramesTimeline=new D,J=R._rootTimeline=new D,Z=30,ee=V.lazyRender=function(){var e,t=B.length;for(F={};--t>-1;)(e=B[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);B.length=0};J._startTime=f.time,$._startTime=f.frame,J._active=$._active=!0,setTimeout(ee,1),R._updateRoot=M.render=function(){var e,t,n;if(B.length&&ee(),J.render((f.time-J._startTime)*J._timeScale,!1,!1),$.render((f.frame-$._startTime)*$._timeScale,!1,!1),B.length&&ee(),f.frame>=Z){for(n in Z=f.frame+(parseInt(M.autoSleep,10)||120),q){for(e=(t=q[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete q[n]}if((!(n=J._first)||n._paused)&&M.autoSleep&&!$._first&&1===f._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||f.sleep()}}},f.addEventListener("tick",R._updateRoot);var te=function(e,t,n){var r,i,o=e._gsTweenID;if(q[o||(e._gsTweenID=o="t"+X++)]||(q[o]={target:e,tweens:[]}),t&&((r=q[o].tweens)[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return q[o].tweens},ne=function(e,t,n,r){var i,o,a=e.vars.onOverwrite;return a&&(i=a(e,t,n,r)),(a=M.onOverwrite)&&(o=a(e,t,n,r)),!1!==i&&!1!==o},re=function(e,t,n,r,i){var o,a,s,u;if(1===r||r>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var c,l=t._startTime+1e-10,f=[],h=0,d=0===t._duration;for(o=i.length;--o>-1;)(s=i[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ie(t,0,d),0===ie(s,c,d)&&(f[h++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((d||!s._initted)&&l-s._startTime<=2e-10||(f[h++]=s)));for(o=h;--o>-1;)if(s=f[o],2===r&&s._kill(n,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!ne(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ie=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>t?o-t:n&&o===t||!e._initted&&o-t<2e-10?1e-10:(o+=e.totalDuration()/e._timeScale/i)>t+1e-10?0:o-t-1e-10};l._init=function(){var e,t,n,r,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,c=!!a.immediateRender,l=a.ease;if(a.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[r]=a.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=M.to(this.target,0,i),c)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(c=!1),n={},a)Y[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==a.lazy,n.immediateRender=c,this._startAt=M.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof T?l:"function"==typeof l?new T(l,a.easeParams):S[l]||M.defaultEase:M.defaultEase,a.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&M._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},l._initProps=function(e,t,r,i,o){var a,s,u,c,l,f;if(null==e)return!1;for(a in F[e._gsTweenID]&&ee(),this.vars.css||e.style&&e!==n&&e.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)Y[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(f=this.vars[a],Y[a])f&&(f instanceof Array||f.push&&_(f))&&-1!==f.join("").indexOf("{self}")&&(this.vars[a]=f=this._swapSelfInParams(f,this));else if(W[a]&&(c=new W[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=l={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)t[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(u=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else t[a]=z.call(this,e,a,"get",f,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,e)?this._initProps(e,t,r,i,o):this._overwrite>1&&this._firstPT&&r.length>1&&re(e,this,t,this._overwrite,r)?(this._kill(t,e),this._initProps(e,t,r,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),u)},l.render=function(e,t,n){var r,i,o,a,s=this._time,u=this._duration,c=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||1e-10===c&&"isPause"!==this.data)&&c!==e&&(n=!0,c>1e-10&&(i="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:1e-10);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&c>0)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(1e-10!==c||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var l=e/u,f=this._easeType,h=this._easePower;(1===f||3===f&&l>=.5)&&(l=1-l),3===f&&(l*=2),1===h?l*=l:2===h?l*=l*l:3===h?l*=l*l*l:4===h&&(l*=l*l*l*l),this.ratio=1===f?1-l:2===f?l:e/u<.5?l/2:1-l/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,B.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===u&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},l._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:M.selector(t)||t;var r,i,o,a,s,u,c,l,f,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((_(t)||j(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,l=e!==i&&"all"!==i&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(M.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(f||(f=[]),f.push(o));if((f||!e)&&!ne(this,n,t,f))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(c)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),l&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},l.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},l._enabled=function(e,t){if(h||f.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=te(r[n],this,!0);else this._siblings=te(this.target,this,!0)}return R.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(e?"_onEnable":"_onDisable",this)},M.to=function(e,t,n){return new M(e,t,n)},M.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new M(e,t,n)},M.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new M(e,t,r)},M.delayedCall=function(e,t,n,r,i){return new M(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},M.set=function(e,t){return new M(e,0,t)},M.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"!=typeof e?e:M.selector(e)||e,(_(e)||j(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(M.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=te(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},M.killTweensOf=M.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=M.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var oe=E("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=oe.prototype}),!0);if(l=oe.prototype,oe.version="1.19.0",oe.API=2,l._firstPT=null,l._addTween=z,l.setRatio=G,l._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},l._mod=l._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},M._onPluginEvent=function(e,t){var n,r,i,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},oe.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===oe.API&&(W[(new e[t])._propName]=e[t]);return!0},w.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=E("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",(function(){oe.call(this,n,r),this._overwriteProps=i||[]}),!0===e.global),s=a.prototype=new oe(n);for(t in s.constructor=a,a.API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,oe.activate([a]),a},u=n._gsQueue){for(c=0;c<u.length;c++)u[c]();for(l in b)b[l].func||n.console.log("GSAP encountered missing dependency: "+l)}h=!1}}(e.exports&&void 0!==n?n:this||window)}).call(this,n(48))},function(e,t,n){(function(r){var i,o,a,s=e.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 1.9.0
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(s._gsQueue||(s._gsQueue=[])).push((function(){"use strict";var e=(s.document||{}).documentElement,t=s,n=function(n,r){var i="x"===r?"Width":"Height",o="scroll"+i,a="client"+i,s=document.body;return n===t||n===e||n===s?Math.max(e[o],s[o])-(t["inner"+i]||e[a]||s[a]):n[o]-n["offset"+i]},r=function(n,r){var i="scroll"+("x"===r?"Left":"Top");return n===t&&(null!=n.pageXOffset?i="page"+r.toUpperCase()+"Offset":n=null!=e[i]?e:document.body),function(){return n[i]}},i=function(n,i){var o,a=(o=n,"string"==typeof o&&(o=TweenLite.selector(o)),o.length&&o!==t&&o[0]&&o[0].style&&!o.nodeType&&(o=o[0]),o===t||o.nodeType&&o.style?o:null).getBoundingClientRect(),s=!i||i===t||i===document.body,u=(s?e:i).getBoundingClientRect(),c={x:a.left-u.left,y:a.top-u.top};return!s&&i&&(c.x+=r(i,"x")(),c.y+=r(i,"y")()),c},o=function(e,t,r){var o=typeof e;return isNaN(e)?"number"===o||"string"===o&&"="===e.charAt(1)?e:"max"===e?n(t,r):Math.min(n(t,r),i(e,t)[r]):parseFloat(e)},a=s._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.0",init:function(e,n,i){return this._wdw=e===t,this._target=e,this._tween=i,"object"!=typeof n?"string"==typeof(n={y:n}).y&&"max"!==n.y&&"="!==n.y.charAt(1)&&(n.x=n.y):n.nodeType&&(n={y:n,x:n}),this.vars=n,this._autoKill=!1!==n.autoKill,this.getX=r(e,"x"),this.getY=r(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=n.x?(this._addTween(this,"x",this.x,o(n.x,e,"x")-(n.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=n.y?(this._addTween(this,"y",this.y,o(n.y,e,"y")-(n.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var r=this._wdw||!this.skipX?this.getX():this.xPrev,i=this._wdw||!this.skipY?this.getY():this.yPrev,o=i-this.yPrev,s=r-this.xPrev,u=a.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(s>u||s<-u)&&r<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o>u||o<-u)&&i<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?t.scrollTo(this.skipX?r:this.x,this.skipY?i:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),u=a.prototype;a.max=n,a.getOffset=i,a.buildGetter=r,a.autoKillThreshold=7,u._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)}})),s._gsDefine&&s._gsQueue.pop()(),function(r){"use strict";var u=function(){return(s.GreenSockGlobals||s).ScrollToPlugin};e.exports?(n(73),e.exports=u()):(o=[n(73)],void 0===(a="function"==typeof(i=u)?i.apply(t,o):i)||(e.exports=a))}()}).call(this,n(48))},function(e,t,n){(function(r){var i,o,a,s=e.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 0.2.2
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(s._gsQueue||(s._gsQueue=[])).push((function(){"use strict";var e,t,n=/(\d|\.)+/g,r=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],i={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},o=function(e){return""===e||null==e||"none"===e?i.transparent:i[e]?i[e]:"number"==typeof e?[e>>16,e>>8&255,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]):e.match(n)||i.transparent},a=function(t,n,i){if(!e&&!(e=s.ColorFilter||s.createjs.ColorFilter))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var a,u,c,l,f,h=t.filters||[],d=h.length;--d>-1;)if(h[d]instanceof e){u=h[d];break}if(u||(u=new e,h.push(u),t.filters=h),c=u.clone(),null!=n.tint)a=o(n.tint),l=null!=n.tintAmount?Number(n.tintAmount):1,c.redOffset=Number(a[0])*l,c.greenOffset=Number(a[1])*l,c.blueOffset=Number(a[2])*l,c.redMultiplier=c.greenMultiplier=c.blueMultiplier=1-l;else for(f in n)"exposure"!==f&&"brightness"!==f&&(c[f]=Number(n[f]));for(null!=n.exposure?(c.redOffset=c.greenOffset=c.blueOffset=255*(Number(n.exposure)-1),c.redMultiplier=c.greenMultiplier=c.blueMultiplier=1):null!=n.brightness&&(l=Number(n.brightness)-1,c.redOffset=c.greenOffset=c.blueOffset=l>0?255*l:0,c.redMultiplier=c.greenMultiplier=c.blueMultiplier=1-Math.abs(l)),d=8;--d>-1;)u[f=r[d]]!==c[f]&&i._addTween(u,f,u[f],c[f],"easel_colorFilter");if(i._overwriteProps.push("easel_colorFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t},u=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],c=.212671,l=.71516,f=.072169,h=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var n,r,i=[],o=0,a=0;for(n=0;n<4;n++){for(r=0;r<5;r++)a=4===r?e[o+4]:0,i[o+r]=e[o]*t[r]+e[o+1]*t[r+5]+e[o+2]*t[r+10]+e[o+3]*t[r+15]+a;o+=5}return i},d=function(e,n,r){if(!t&&!(t=s.ColorMatrixFilter||s.createjs.ColorMatrixFilter))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var i,a,d,p,g,v=e.filters||[],m=v.length;--m>-1;)if(v[m]instanceof t){d=v[m];break}for(d||(d=new t(u.slice()),v.push(d),e.filters=v),a=d.matrix,i=u.slice(),null!=n.colorize&&(i=function(e,t,n){isNaN(n)&&(n=1);var r=o(t),i=r[0]/255,a=r[1]/255,s=r[2]/255,u=1-n;return h([u+n*i*c,n*i*l,n*i*f,0,0,n*a*c,u+n*a*l,n*a*f,0,0,n*s*c,n*s*l,u+n*s*f,0,0,0,0,0,1,0],e)}(i,n.colorize,Number(n.colorizeAmount))),null!=n.contrast&&(p=i,g=Number(n.contrast),i=isNaN(g)?p:h([g+=.01,0,0,0,128*(1-g),0,g,0,0,128*(1-g),0,0,g,0,128*(1-g),0,0,0,1,0],p)),null!=n.hue&&(i=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return h([c+n*(1-c)+r*-c,l+n*-l+r*-l,f+n*-f+r*(1-f),0,0,c+n*-c+.143*r,l+n*(1-l)+.14*r,f+n*-f+-.283*r,0,0,c+n*-c+r*-(1-c),l+n*-l+r*l,f+n*(1-f)+r*f,0,0,0,0,0,1,0,0,0,0,0,1],e)}(i,Number(n.hue))),null!=n.saturation&&(i=function(e,t){if(isNaN(t))return e;var n=1-t,r=n*c,i=n*l,o=n*f;return h([r+t,i,o,0,0,r,i+t,o,0,0,r,i,o+t,0,0,0,0,0,1,0],e)}(i,Number(n.saturation))),m=i.length;--m>-1;)i[m]!==a[m]&&r._addTween(a,m,a[m],i[m],"easel_colorMatrixFilter");if(r._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;r._matrix=a};s._gsDefine.plugin({propName:"easel",priority:-1,version:"0.2.2",API:2,init:function(e,t,n,r){var i,o,s,u,c,l,f;for(i in this._target=e,t)if("function"==typeof(c=t[i])&&(c=c(r,e)),"colorFilter"===i||"tint"===i||"tintAmount"===i||"exposure"===i||"brightness"===i)s||(a(e,t.colorFilter||t,this),s=!0);else if("saturation"===i||"contrast"===i||"hue"===i||"colorize"===i||"colorizeAmount"===i)u||(d(e,t.colorMatrixFilter||t,this),u=!0);else if("frame"===i){if(this._firstPT=o={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,m:Math.round},"string"==typeof c&&"="!==c.charAt(1)&&(l=e.labels))for(f=0;f<l.length;f++)l[f].label===c&&(c=l[f].position);o.c="number"==typeof c?c-o.s:parseFloat((c+"").split("=").join("")),o._next&&(o._next._prev=o)}else null!=e[i]&&(this._firstPT=o={_next:this._firstPT,t:e,p:i,f:"function"==typeof e[i],n:i,pr:0,type:0},o.s=o.f?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),o.c="number"==typeof c?c-o.s:"string"==typeof c?parseFloat(c.split("=").join("")):0,o._next&&(o._next._prev=o));return!0},set:function(e){for(var t,n=this._firstPT;n;)t=n.c*e+n.s,n.m?t=n.m(t,n.t):t<1e-6&&t>-1e-6&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next;this._target.cacheID&&this._target.updateCache()}})})),s._gsDefine&&s._gsQueue.pop()(),function(r){"use strict";var u=function(){return(s.GreenSockGlobals||s).EaselPlugin};e.exports?(n(73),e.exports=u()):(o=[n(73)],void 0===(a="function"==typeof(i=u)?i.apply(t,o):i)||(e.exports=a))}()}).call(this,n(48))},function(e,t,n){(function(r){var i,o,a,s=e.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 0.16.2
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Requires TweenLite and CSSPlugin version 1.17.0 or later (TweenMax contains both TweenLite and CSSPlugin). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://greensock.com/club/).
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */(s._gsQueue||(s._gsQueue=[])).push((function(){"use strict";s._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],(function(e,t,n){var r,i,o,a,u,c,l,f,h={css:{},data:"_draggable"},d={css:{},data:"_draggable"},p={css:{},data:"_draggable"},g={css:{}},v=s._gsDefine.globals,m={},y={style:{}},_=s.document||{createElement:function(){return y}},b=_.documentElement||{},A=function(e){return _.createElementNS?_.createElementNS("http://www.w3.org/1999/xhtml",e):_.createElement(e)},w=A("div"),E=[],x=function(){return!1},T=180/Math.PI,S=999999999999999,O=Date.now||function(){return(new Date).getTime()},C=!(_.addEventListener||!_.all),k=_.createElement("div"),P=[],N={},I=0,R=/^(?:a|input|textarea|button|select)$/i,L=0,D=s.navigator&&-1!==s.navigator.userAgent.toLowerCase().indexOf("android"),M=0,j={},B={},F=function(e,t){var n,r={};if(t)for(n in e)r[n]=e[n]*t;else for(n in e)r[n]=e[n];return r},U=function(){for(var e=P.length;--e>-1;)P[e]()},H=function(e){for(var n=P.length;--n>-1;)P[n]===e&&P.splice(n,1);t.to(G,0,{overwrite:"all",delay:15,onComplete:G,data:"_draggable"})},G=function(){P.length||t.ticker.removeEventListener("tick",U)},Q=function(){return null!=window.pageYOffset?window.pageYOffset:null!=_.scrollTop?_.scrollTop:b.scrollTop||_.body.scrollTop||0},z=function(){return null!=window.pageXOffset?window.pageXOffset:null!=_.scrollLeft?_.scrollLeft:b.scrollLeft||_.body.scrollLeft||0},V=function(e,t){ke(e,"scroll",t),q(e.parentNode)||V(e.parentNode,t)},W=function(e,t){Pe(e,"scroll",t),q(e.parentNode)||W(e.parentNode,t)},q=function(e){return!(e&&e!==b&&e!==_&&e!==_.body&&e!==window&&e.nodeType&&e.parentNode)},X=function(e,t){var n="x"===t?"Width":"Height",r="scroll"+n,i="client"+n,o=_.body;return Math.max(0,q(e)?Math.max(b[r],o[r])-(window["inner"+n]||b[i]||o[i]):e[r]-e[i])},Y=function(e){var t=q(e),n=X(e,"x"),r=X(e,"y");t?e=B:Y(e.parentNode),e._gsMaxScrollX=n,e._gsMaxScrollY=r,e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0},K=function(e,t){return e=e||window.event,m.pageX=e.clientX+_.body.scrollLeft+b.scrollLeft,m.pageY=e.clientY+_.body.scrollTop+b.scrollTop,t&&(e.returnValue=!1),m},$=function(e){return e?("string"==typeof e&&(e=t.selector(e)),e.length&&e!==window&&e[0]&&e[0].style&&!e.nodeType&&(e=e[0]),e===window||e.nodeType&&e.style?e:null):e},J=function(e,t){var n,r,i,o=e.style;if(void 0===o[t]){for(i=["O","Moz","ms","Ms","Webkit"],r=5,n=t.charAt(0).toUpperCase()+t.substr(1);--r>-1&&void 0===o[i[r]+n];);if(r<0)return"";t=(3===r?"ms":i[r])+n}return t},Z=function(e,t,n){var r=e.style;r&&(void 0===r[t]&&(t=J(e,t)),null==n?r.removeProperty?r.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):r.removeAttribute(t):void 0!==r[t]&&(r[t]=n))},ee=_.defaultView?_.defaultView.getComputedStyle:x,te=/(?:Left|Right|Width)/i,ne=/(?:\d|\-|\+|=|#|\.)*/g,re=function(e,t,n,r,i){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,a=te.test(t),s=e,u=w.style,c=n<0;return c&&(n=-n),"%"===r&&-1!==t.indexOf("border")?o=n/100*(a?e.clientWidth:e.clientHeight):(u.cssText="border:0 solid red;position:"+ie(e,"position",!0)+";line-height:0;","%"!==r&&s.appendChild?u[a?"borderLeftWidth":"borderTopWidth"]=n+r:(s=e.parentNode||_.body,u[a?"width":"height"]=n+r),s.appendChild(w),o=parseFloat(w[a?"offsetWidth":"offsetHeight"]),s.removeChild(w),0!==o||i||(o=re(e,t,n,r,!0))),c?-o:o},ie=function(e,t,n){var r,i=(e._gsTransform||{})[t];return i||0===i?i:(e.style[t]?i=e.style[t]:(r=ee(e))?i=(i=r.getPropertyValue(t.replace(/([A-Z])/g,"-$1").toLowerCase()))||r.length?i:r[t]:e.currentStyle&&(i=e.currentStyle[t]),"auto"!==i||"top"!==t&&"left"!==t||(i=function(e,t){if("absolute"!==ie(e,"position",!0))return 0;var n="left"===t?"Left":"Top",r=ie(e,"margin"+n,!0);return e["offset"+n]-(re(e,t,parseFloat(r),(r+"").replace(ne,""))||0)}(e,t)),n?i:parseFloat(i)||0)},oe=function(e,t,n){var r=e.vars,i=r[n],o=e._listeners[t];"function"==typeof i&&i.apply(r[n+"Scope"]||r.callbackScope||e,r[n+"Params"]||[e.pointerEvent]),o&&e.dispatchEvent(t)},ae=function(e,t){var n,r,i,o=$(e);return o?Te(o,t):void 0!==e.left?(i=be(t),{left:e.left-i.x,top:e.top-i.y,width:e.width,height:e.height}):{left:r=e.min||e.minX||e.minRotation||0,top:n=e.min||e.minY||0,width:(e.max||e.maxX||e.maxRotation||0)-r,height:(e.max||e.maxY||0)-n}},se=function(){if(!_.createElementNS)return o=0,void(a=!1);var e,t,n,r,i=A("div"),s=_.createElementNS("http://www.w3.org/2000/svg","svg"),f=A("div"),h=i.style,d=_.body||b,p="flex"===ie(d,"display",!0);_.body&&le&&(h.position="absolute",d.appendChild(f),f.appendChild(i),r=i.offsetParent,f.style[le]="rotate(1deg)",l=i.offsetParent===r,f.style.position="absolute",h.height="10px",r=i.offsetTop,f.style.border="5px solid red",c=r!==i.offsetTop,d.removeChild(f)),h=s.style,s.setAttributeNS(null,"width","400px"),s.setAttributeNS(null,"height","400px"),s.setAttributeNS(null,"viewBox","0 0 400 400"),h.display="block",h.boxSizing="border-box",h.border="0px solid red",h.transform="none",i.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",d.appendChild(i),i.appendChild(s),t=(n=s.createSVGPoint().matrixTransform(s.getScreenCTM())).y,i.scrollTop=100,n.x=n.y=0,n=n.matrixTransform(s.getScreenCTM()),u=t-n.y<100.1?0:t-n.y-150,i.removeChild(s),d.removeChild(i),d.appendChild(s),p&&(d.style.display="block"),t=(e=s.getScreenCTM()).e,h.border="50px solid red",e=s.getScreenCTM(),0===t&&0===e.e&&0===e.f&&1===e.a?(o=1,a=!0):(o=t!==e.e?1:0,a=1!==e.a),p&&(d.style.display="flex"),d.removeChild(s)},ue=""!==J(w,"perspective"),ce=J(w,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),le=J(w,"transform"),fe=le.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),he={},de={},pe=s.SVGElement,ge=function(e){return!!(pe&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},ve=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,me=[],ye=[],_e=function(e){if(!e.getBoundingClientRect||!e.parentNode||!le)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:b};if(!1!==Be.cacheSVGData&&e._dCache&&e._dCache.lastUpdate===t.ticker.frame)return e._dCache;var n,r,i,s,c,l,f,h,d,p,g,v,m=e,y=Ae(e);if(y.lastUpdate=t.ticker.frame,e.getBBox&&!y.isSVGRoot){for(m=e.parentNode,n=e.getBBox();m&&"svg"!==(m.nodeName+"").toLowerCase();)m=m.parentNode;return s=_e(m),y.offsetTop=n.y*s.scaleY,y.offsetLeft=n.x*s.scaleX,y.scaleX=s.scaleX,y.scaleY=s.scaleY,y.offsetParent=m||b,y}for((i=y.offsetParent)===_.body&&(i=b),ye.length=me.length=0;m&&("matrix(1, 0, 0, 1, 0, 0)"!==(c=ie(m,le,!0))&&"none"!==c&&"translate3d(0px, 0px, 0px)"!==c&&(ye.push(m),me.push(m.style[le]),m.style[le]="none"),m!==i);)m=m.parentNode;for(r=i.getBoundingClientRect(),c=e.getScreenCTM(),f=(h=e.createSVGPoint()).matrixTransform(c),h.x=h.y=10,h=h.matrixTransform(c),y.scaleX=(h.x-f.x)/10,y.scaleY=(h.y-f.y)/10,void 0===o&&se(),y.borderBox&&!a&&e.getAttribute("width")&&(s=ee(e)||{},d=parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth)||0,p=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)||0,g=parseFloat(s.width)||0,v=parseFloat(s.height)||0,y.scaleX*=(g-d)/g,y.scaleY*=(v-p)/v),u?(n=e.getBoundingClientRect(),y.offsetLeft=n.left-r.left,y.offsetTop=n.top-r.top):(y.offsetLeft=f.x-r.left,y.offsetTop=f.y-r.top),y.offsetParent=i,l=ye.length;--l>-1;)ye[l].style[le]=me[l];return y},be=function(e,n){if(n=n||{},!e||e===b||!e.parentNode||e===window)return{x:0,y:0};var r=ee(e),i=ce&&r?r.getPropertyValue(ce):"50% 50%",o=i.split(" "),a=-1!==i.indexOf("left")?"0%":-1!==i.indexOf("right")?"100%":o[0],s=-1!==i.indexOf("top")?"0%":-1!==i.indexOf("bottom")?"100%":o[1];return"center"!==s&&null!=s||(s="50%"),("center"===a||isNaN(parseFloat(a)))&&(a="50%"),e.getBBox&&ge(e)?(e._gsTransform||(t.set(e,{x:"+=0",overwrite:!1}),void 0===e._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),i=e.getBBox(),n.x=e._gsTransform.xOrigin-i.x,n.y=e._gsTransform.yOrigin-i.y):(e.getBBox&&-1!==(a+s).indexOf("%")&&(e={offsetWidth:(e=e.getBBox()).width,offsetHeight:e.height}),n.x=-1!==a.indexOf("%")?e.offsetWidth*parseFloat(a)/100:parseFloat(a),n.y=-1!==s.indexOf("%")?e.offsetHeight*parseFloat(s)/100:parseFloat(s)),n},Ae=function(e){if(!1!==Be.cacheSVGData&&e._dCache&&e._dCache.lastUpdate===t.ticker.frame)return e._dCache;var n,r=e._dCache=e._dCache||{},i=ee(e),o=e.getBBox&&ge(e),a="svg"===(e.nodeName+"").toLowerCase();if(r.isSVG=o,r.isSVGRoot=a,r.borderBox="border-box"===i.boxSizing,r.computedStyle=i,a)(n=e.parentNode||b).insertBefore(w,e),r.offsetParent=w.offsetParent||b,n.removeChild(w);else if(o){for(n=e.parentNode;n&&"svg"!==(n.nodeName+"").toLowerCase();)n=n.parentNode;r.offsetParent=n}else r.offsetParent=e.offsetParent;return r},we=function(e,t,n,r,i){if(e===window||!e||!e.style||!e.parentNode)return[1,0,0,1,0,0];var a,s,u,f,h,d,p,g,v,m,y,A,w,E,x=e._dCache||Ae(e),T=e.parentNode,S=T._dCache||Ae(T),O=x.computedStyle,C=x.isSVG?S.offsetParent:T.offsetParent;return a=x.isSVG&&-1!==(e.style[le]+"").indexOf("matrix")?e.style[le]:O?O.getPropertyValue(fe):e.currentStyle?e.currentStyle[le]:"1,0,0,1,0,0",e.getBBox&&-1!==(e.getAttribute("transform")+"").indexOf("matrix")&&(a=e.getAttribute("transform")),(a=(a+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0]).length>6&&(a=[a[0],a[1],a[4],a[5],a[12],a[13]]),r?a[4]=a[5]=0:x.isSVG&&(h=e._gsTransform)&&(h.xOrigin||h.yOrigin)&&(a[0]=parseFloat(a[0]),a[1]=parseFloat(a[1]),a[2]=parseFloat(a[2]),a[3]=parseFloat(a[3]),a[4]=parseFloat(a[4])-(h.xOrigin-(h.xOrigin*a[0]+h.yOrigin*a[2])),a[5]=parseFloat(a[5])-(h.yOrigin-(h.xOrigin*a[1]+h.yOrigin*a[3]))),t&&(void 0===o&&se(),u=x.isSVG||x.isSVGRoot?_e(e):e,x.isSVG?(f=e.getBBox(),m=S.isSVGRoot?{x:0,y:0}:T.getBBox(),u={offsetLeft:f.x-m.x,offsetTop:f.y-m.y,offsetParent:x.offsetParent}):x.isSVGRoot?(y=parseInt(O.borderTopWidth,10)||0,A=parseInt(O.borderLeftWidth,10)||0,w=(a[0]-o)*A+a[2]*y,E=a[1]*A+(a[3]-o)*y,d=t.x,p=t.y,g=d-(d*a[0]+p*a[2]),v=p-(d*a[1]+p*a[3]),a[4]=parseFloat(a[4])+g,a[5]=parseFloat(a[5])+v,t.x-=g,t.y-=v,d=u.scaleX,p=u.scaleY,i||(t.x*=d,t.y*=p),a[0]*=d,a[1]*=p,a[2]*=d,a[3]*=p,ve||(t.x+=w,t.y+=E),C===_.body&&u.offsetParent===b&&(C=b)):!c&&e.offsetParent&&(t.x+=parseInt(ie(e.offsetParent,"borderLeftWidth"),10)||0,t.y+=parseInt(ie(e.offsetParent,"borderTopWidth"),10)||0),s=T===b||T===_.body,a[4]=Number(a[4])+t.x+(u.offsetLeft||0)-n.x-(s?0:T.scrollLeft||0),a[5]=Number(a[5])+t.y+(u.offsetTop||0)-n.y-(s?0:T.scrollTop||0),T&&"fixed"===ie(e,"position",O)&&(a[4]+=z(),a[5]+=Q()),!T||T===b||C!==u.offsetParent||S.isSVG||l&&"100100"!==we(T).join("")||(u=S.isSVGRoot?_e(T):T,a[4]-=u.offsetLeft||0,a[5]-=u.offsetTop||0,c||!S.offsetParent||x.isSVG||x.isSVGRoot||(a[4]-=parseInt(ie(S.offsetParent,"borderLeftWidth"),10)||0,a[5]-=parseInt(ie(S.offsetParent,"borderTopWidth"),10)||0))),a},Ee=function(e,t){if(!e||e===window||!e.parentNode)return[1,0,0,1,0,0];for(var n,r,i,o,a,s,u,c,l=be(e,he),f=be(e.parentNode,de),h=we(e,l,f,!1,!t);(e=e.parentNode)&&e.parentNode&&e!==b;)l=f,f=be(e.parentNode,l===he?de:he),u=we(e,l,f),n=h[0],r=h[1],i=h[2],o=h[3],a=h[4],s=h[5],h[0]=n*u[0]+r*u[2],h[1]=n*u[1]+r*u[3],h[2]=i*u[0]+o*u[2],h[3]=i*u[1]+o*u[3],h[4]=a*u[0]+s*u[2]+u[4],h[5]=a*u[1]+s*u[3]+u[5];return t&&(n=h[0],r=h[1],i=h[2],o=h[3],a=h[4],s=h[5],c=n*o-r*i,h[0]=o/c,h[1]=-r/c,h[2]=-i/c,h[3]=n/c,h[4]=(i*s-o*a)/c,h[5]=-(n*s-r*a)/c),h},xe=function(e,t,n){var r=e.x*t[0]+e.y*t[2]+t[4],i=e.x*t[1]+e.y*t[3]+t[5];return e.x=r*n[0]+i*n[2]+n[4],e.y=r*n[1]+i*n[3]+n[5],e},Te=function(e,t,n){if(!(e=$(e)))return null;t=$(t);var r,i,o,a,s,u,c,l,f,h,d,p,g,v,m,y,A,w,E,x,T,S,O=e.getBBox&&ge(e);if(e===window)a=Q(),o=(i=z())+(b.clientWidth||e.innerWidth||_.body.clientWidth||0),s=a+((e.innerHeight||0)-20<b.clientHeight?b.clientHeight:e.innerHeight||_.body.clientHeight||0);else{if(void 0===t||t===window)return e.getBoundingClientRect();i=-(r=be(e)).x,a=-r.y,O?(g=(p=e.getBBox()).width,v=p.height):"svg"!==(e.nodeName+"").toLowerCase()&&e.offsetWidth?(g=e.offsetWidth,v=e.offsetHeight):(T=ee(e),g=parseFloat(T.width),v=parseFloat(T.height)),o=i+g,s=a+v,"svg"!==e.nodeName.toLowerCase()||C||(S=(m=_e(e)).computedStyle||{},w=(e.getAttribute("viewBox")||"0 0").split(" "),E=parseFloat(w[0]),x=parseFloat(w[1]),y=parseFloat(S.borderLeftWidth)||0,A=parseFloat(S.borderTopWidth)||0,o-=g-(g-y)/m.scaleX-E,s-=v-(v-A)/m.scaleY-x,i-=y/m.scaleX-E,a-=A/m.scaleY-x,T&&(o+=(parseFloat(S.borderRightWidth)+y)/m.scaleX,s+=(A+parseFloat(S.borderBottomWidth))/m.scaleY))}return e===t?{left:i,top:a,width:o-i,height:s-a}:(u=Ee(e),c=Ee(t,!0),l=xe({x:i,y:a},u,c),f=xe({x:o,y:a},u,c),h=xe({x:o,y:s},u,c),d=xe({x:i,y:s},u,c),i=Math.min(l.x,f.x,h.x,d.x),a=Math.min(l.y,f.y,h.y,d.y),j.x=j.y=0,n&&be(t,j),{left:i+j.x,top:a+j.y,width:Math.max(l.x,f.x,h.x,d.x)-i,height:Math.max(l.y,f.y,h.y,d.y)-a})},Se=function(e){return!!(e&&e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},Oe="ontouchstart"in b&&"orientation"in window,Ce=function(e){for(var t=e.split(","),n=(void 0!==w.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==w.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":e).split(","),r={},i=4;--i>-1;)r[t[i]]=n[i],r[n[i]]=t[i];return r}("touchstart,touchmove,touchend,touchcancel"),ke=function(e,t,n,r){e.addEventListener?(e.addEventListener(Ce[t],n,r),t!==Ce[t]&&e.addEventListener(t,n,r)):e.attachEvent&&e.attachEvent("on"+t,n)},Pe=function(e,t,n){e.removeEventListener?(e.removeEventListener(Ce[t],n),t!==Ce[t]&&e.removeEventListener(t,n)):e.detachEvent&&e.detachEvent("on"+t,n)},Ne=function(e){r=e.touches&&L<e.touches.length,Pe(e.target,"touchend",Ne)},Ie=function(e){r=e.touches&&L<e.touches.length,ke(e.target,"touchend",Ne)},Re=function(e,t,n,r,i,o){var a,s,u,c={};if(t)if(1!==i&&t instanceof Array){if(c.end=a=[],u=t.length,"object"==typeof t[0])for(s=0;s<u;s++)a[s]=F(t[s],i);else for(s=0;s<u;s++)a[s]=t[s]*i;n+=1.1,r-=1.1}else c.end="function"==typeof t?function(n){var r,o,a=t.call(e,n);if(1!==i)if("object"==typeof a){for(o in r={},a)r[o]=a[o]*i;a=r}else a*=i;return a}:t;return(n||0===n)&&(c.max=n),(r||0===r)&&(c.min=r),o&&(c.velocity=0),c},Le=function(e){var t;return!(!e||!e.getAttribute||"BODY"===e.nodeName)&&(!("true"!==(t=e.getAttribute("data-clickable"))&&("false"===t||!e.onclick&&!R.test(e.nodeName+"")&&"true"!==e.getAttribute("contentEditable")))||Le(e.parentNode))},De=function(e,t){for(var n,r=e.length;--r>-1;)(n=e[r]).ondragstart=n.onselectstart=t?null:x,Z(n,"userSelect",t?"text":"none")},Me=function(){var e,t=_.createElement("div"),n=_.createElement("div"),r=n.style,i=_.body||w;return r.display="inline-block",r.position="relative",t.style.cssText=n.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",t.appendChild(n),i.appendChild(t),f=n.offsetHeight+18>t.scrollHeight,r.width="100%",le||(r.paddingRight="500px",e=t.scrollLeft=t.scrollWidth-t.clientWidth,r.left="-90px",e=e!==t.scrollLeft),i.removeChild(t),e}(),je=function(e,n){e=$(e),n=n||{};var r,i,o,a,s,u,c=_.createElement("div"),l=c.style,h=e.firstChild,d=0,p=0,g=e.scrollTop,v=e.scrollLeft,m=e.scrollWidth,y=e.scrollHeight,b=0,A=0,w=0;ue&&!1!==n.force3D?(s="translate3d(",u="px,0px)"):le&&(s="translate(",u="px)"),this.scrollTop=function(e,t){if(!arguments.length)return-this.top();this.top(-e,t)},this.scrollLeft=function(e,t){if(!arguments.length)return-this.left();this.left(-e,t)},this.left=function(r,i){if(!arguments.length)return-(e.scrollLeft+p);var o=e.scrollLeft-v,a=p;if((o>2||o<-2)&&!i)return v=e.scrollLeft,t.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-v),void(n.onKill&&n.onKill());(r=-r)<0?(p=r-.5|0,r=0):r>A?(p=r-A|0,r=A):p=0,(p||a)&&(s?this._suspendTransforms||(l[le]=s+-p+"px,"+-d+u):l.left=-p+"px",Me&&p+b>=0&&(l.paddingRight=p+b+"px")),e.scrollLeft=0|r,v=e.scrollLeft},this.top=function(r,i){if(!arguments.length)return-(e.scrollTop+d);var o=e.scrollTop-g,a=d;if((o>2||o<-2)&&!i)return g=e.scrollTop,t.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-g),void(n.onKill&&n.onKill());(r=-r)<0?(d=r-.5|0,r=0):r>w?(d=r-w|0,r=w):d=0,(d||a)&&(s?this._suspendTransforms||(l[le]=s+-p+"px,"+-d+u):l.top=-d+"px"),e.scrollTop=0|r,g=e.scrollTop},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return A},this.disable=function(){for(h=c.firstChild;h;)a=h.nextSibling,e.appendChild(h),h=a;e===c.parentNode&&e.removeChild(c)},this.enable=function(){if((h=e.firstChild)!==c){for(;h;)a=h.nextSibling,c.appendChild(h),h=a;e.appendChild(c),this.calibrate()}},this.calibrate=function(t){var n,a,s=e.clientWidth===r;g=e.scrollTop,v=e.scrollLeft,s&&e.clientHeight===i&&c.offsetHeight===o&&m===e.scrollWidth&&y===e.scrollHeight&&!t||((d||p)&&(n=this.left(),a=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),s&&!t||(l.display="block",l.width="auto",l.paddingRight="0px",(b=Math.max(0,e.scrollWidth-e.clientWidth))&&(b+=ie(e,"paddingLeft")+(f?ie(e,"paddingRight"):0))),l.display="inline-block",l.position="relative",l.overflow="visible",l.verticalAlign="top",l.width="100%",l.paddingRight=b+"px",f&&(l.paddingBottom=ie(e,"paddingBottom",!0)),C&&(l.zoom="1"),r=e.clientWidth,i=e.clientHeight,m=e.scrollWidth,y=e.scrollHeight,A=e.scrollWidth-r,w=e.scrollHeight-i,o=c.offsetHeight,l.display="block",(n||a)&&(this.left(n),this.top(a)))},this.content=c,this.element=e,this._suspendTransforms=!1,this.enable()},Be=function(o,a){e.call(this,o),o=$(o),i||(i=v.com.greensock.plugins.ThrowPropsPlugin),this.vars=a=F(a||{}),this.target=o,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(a.dragResistance)||0,this.edgeResistance=isNaN(a.edgeResistance)?1:parseFloat(a.edgeResistance)||0,this.lockAxis=a.lockAxis,this.autoScroll=a.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!a.allowEventDefault;var s,u,c,l,f,m,y,A,w,x,R,G,Q,z,X,J,ee,te,ne,re,se,ue,ce,le,fe,he,de,pe,ve,me,ye,_e,Ae=(a.type||(C?"top,left":"x,y")).toLowerCase(),we=-1!==Ae.indexOf("x")||-1!==Ae.indexOf("y"),xe=-1!==Ae.indexOf("rotation"),Te=xe?"rotation":we?"x":"left",Se=we?"y":"top",Ne=-1!==Ae.indexOf("x")||-1!==Ae.indexOf("left")||"scroll"===Ae,Me=-1!==Ae.indexOf("y")||-1!==Ae.indexOf("top")||"scroll"===Ae,Fe=a.minimumMovement||2,Ue=this,Ge=function(e){if("string"==typeof e&&(e=t.selector(e)),!e||e.nodeType)return[e];var n,r=[],i=e.length;for(n=0;n!==i;r.push(e[n++]));return r}(a.trigger||a.handle||o),Qe={},ze=0,Ve=!1,We=a.autoScrollMarginTop||40,qe=a.autoScrollMarginRight||40,Xe=a.autoScrollMarginBottom||40,Ye=a.autoScrollMarginLeft||40,Ke=a.clickableTest||Le,$e=0,Je=function(e){if(!(Ue.isPressed&&e.which<2))return e.preventDefault(),e.stopPropagation(),!1;Ue.endDrag()},Ze=function(e){if(Ue.autoScroll&&Ue.isDragging&&(Ve||te)){var t,n,r,i,a,s,c,l,f=o,h=15*Ue.autoScroll;for(Ve=!1,B.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=b.scrollTop?b.scrollTop:_.body.scrollTop,B.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=b.scrollLeft?b.scrollLeft:_.body.scrollLeft,i=Ue.pointerX-B.scrollLeft,a=Ue.pointerY-B.scrollTop;f&&!n;)t=(n=q(f.parentNode))?B:f.parentNode,r=n?{bottom:Math.max(b.clientHeight,window.innerHeight||0),right:Math.max(b.clientWidth,window.innerWidth||0),left:0,top:0}:t.getBoundingClientRect(),s=c=0,Me&&((l=t._gsMaxScrollY-t.scrollTop)<0?c=l:a>r.bottom-Xe&&l?(Ve=!0,c=Math.min(l,h*(1-Math.max(0,r.bottom-a)/Xe)|0)):a<r.top+We&&t.scrollTop&&(Ve=!0,c=-Math.min(t.scrollTop,h*(1-Math.max(0,a-r.top)/We)|0)),c&&(t.scrollTop+=c)),Ne&&((l=t._gsMaxScrollX-t.scrollLeft)<0?s=l:i>r.right-qe&&l?(Ve=!0,s=Math.min(l,h*(1-Math.max(0,r.right-i)/qe)|0)):i<r.left+Ye&&t.scrollLeft&&(Ve=!0,s=-Math.min(t.scrollLeft,h*(1-Math.max(0,i-r.left)/Ye)|0)),s&&(t.scrollLeft+=s)),n&&(s||c)&&(window.scrollTo(t.scrollLeft,t.scrollTop),dt(Ue.pointerX+s,Ue.pointerY+c)),f=t}if(te){var d=Ue.x,p=Ue.y,g=1e-6;d<g&&d>-g&&(d=0),p<g&&p>-g&&(p=0),xe?(Ue.deltaX=d-de.data.rotation,de.data.rotation=Ue.rotation=d,de.setRatio(1)):u?(Me&&(Ue.deltaY=p-u.top(),u.top(p)),Ne&&(Ue.deltaX=d-u.left(),u.left(d))):we?(Me&&(Ue.deltaY=p-de.data.y,de.data.y=p),Ne&&(Ue.deltaX=d-de.data.x,de.data.x=d),de.setRatio(1)):(Me&&(Ue.deltaY=p-parseFloat(o.style.top||0),o.style.top=p+"px"),Ne&&(Ue.deltaY=d-parseFloat(o.style.left||0),o.style.left=d+"px")),!A||e||me||(me=!0,oe(Ue,"drag","onDrag"),me=!1)}te=!1},et=function(e,n){var r,i=Ue.x,a=Ue.y;o._gsTransform||!we&&!xe||t.set(o,{x:"+=0",overwrite:!1,data:"_draggable"}),we?(Ue.y=o._gsTransform.y,Ue.x=o._gsTransform.x):xe?Ue.x=Ue.rotation=o._gsTransform.rotation:u?(Ue.y=u.top(),Ue.x=u.left()):(Ue.y=parseInt(o.style.top,10)||0,Ue.x=parseInt(o.style.left,10)||0),(re||se||ue)&&!n&&(Ue.isDragging||Ue.isThrowing)&&(ue&&(j.x=Ue.x,j.y=Ue.y,(r=ue(j)).x!==Ue.x&&(Ue.x=r.x,te=!0),r.y!==Ue.y&&(Ue.y=r.y,te=!0)),re&&(r=re(Ue.x))!==Ue.x&&(Ue.x=r,xe&&(Ue.rotation=r),te=!0),se&&((r=se(Ue.y))!==Ue.y&&(Ue.y=r),te=!0)),te&&Ze(!0),e||(Ue.deltaX=Ue.x-i,Ue.deltaY=Ue.y-a,oe(Ue,"throwupdate","onThrowUpdate"))},tt=function(){var e,t,n,r;y=!1,u?(u.calibrate(),Ue.minX=x=-u.maxScrollLeft(),Ue.minY=G=-u.maxScrollTop(),Ue.maxX=w=Ue.maxY=R=0,y=!0):a.bounds&&(e=ae(a.bounds,o.parentNode),xe?(Ue.minX=x=e.left,Ue.maxX=w=e.left+e.width,Ue.minY=G=Ue.maxY=R=0):void 0!==a.bounds.maxX||void 0!==a.bounds.maxY?(e=a.bounds,Ue.minX=x=e.minX,Ue.minY=G=e.minY,Ue.maxX=w=e.maxX,Ue.maxY=R=e.maxY):(t=ae(o,o.parentNode),Ue.minX=x=ie(o,Te)+e.left-t.left,Ue.minY=G=ie(o,Se)+e.top-t.top,Ue.maxX=w=x+(e.width-t.width),Ue.maxY=R=G+(e.height-t.height)),x>w&&(Ue.minX=w,Ue.maxX=w=x,x=Ue.minX),G>R&&(Ue.minY=R,Ue.maxY=R=G,G=Ue.minY),xe&&(Ue.minRotation=x,Ue.maxRotation=w),y=!0),a.liveSnap&&(r=(n=!0===a.liveSnap?a.snap||{}:a.liveSnap)instanceof Array||"function"==typeof n,xe?(re=ct(r?n:n.rotation,x,w,1),se=null):n.points?ue=lt(r?n:n.points,x,w,G,R,n.radius,u?-1:1):(Ne&&(re=ct(r?n:n.x||n.left||n.scrollLeft,x,w,u?-1:1)),Me&&(se=ct(r?n:n.y||n.top||n.scrollTop,G,R,u?-1:1))))},nt=function(){Ue.isThrowing=!1,oe(Ue,"throwcomplete","onThrowComplete")},rt=function(){Ue.isThrowing=!1},it=function(e,t){var n,r,s,c;e&&i?(!0===e&&(r=(n=a.snap||a.liveSnap||{})instanceof Array||"function"==typeof n,e={resistance:(a.throwResistance||a.resistance||1e3)/(xe?10:1)},xe?e.rotation=Re(Ue,r?n:n.rotation,w,x,1,t):(Ne&&(e[Te]=Re(Ue,r?n:n.points||n.x||n.left||n.scrollLeft,w,x,u?-1:1,t||"x"===Ue.lockedAxis)),Me&&(e[Se]=Re(Ue,r?n:n.points||n.y||n.top||n.scrollTop,R,G,u?-1:1,t||"y"===Ue.lockedAxis)),(n.points||n instanceof Array&&"object"==typeof n[0])&&(e.linkedProps=Te+","+Se,e.radius=n.radius))),Ue.isThrowing=!0,c=isNaN(a.overshootTolerance)?1===a.edgeResistance?0:1-Ue.edgeResistance+.2:a.overshootTolerance,Ue.tween=s=i.to(u||o,{throwProps:e,data:"_draggable",ease:a.ease||v.Power3.easeOut,onComplete:nt,onOverwrite:rt,onUpdate:a.fastMode?oe:et,onUpdateParams:a.fastMode?[Ue,"onthrowupdate","onThrowUpdate"]:n&&n.radius?[!1,!0]:E},isNaN(a.maxDuration)?2:a.maxDuration,isNaN(a.minDuration)?0===c||"object"==typeof e&&e.resistance>1e3?0:.5:a.minDuration,c),a.fastMode||(u&&(u._suspendTransforms=!0),s.render(s.duration(),!0,!0),et(!0,!0),Ue.endX=Ue.x,Ue.endY=Ue.y,xe&&(Ue.endRotation=Ue.x),s.play(0),et(!0,!0),u&&(u._suspendTransforms=!1))):y&&Ue.applyBounds()},ot=function(e){var t,n,r,i,a,s,u,f,h,d=fe||[1,0,0,1,0,0];fe=Ee(o.parentNode,!0),e&&Ue.isPressed&&d.join(",")!==fe.join(",")&&(t=d[0],n=d[1],r=d[2],i=d[3],a=d[4],s=d[5],h=c*(-n/(u=t*i-n*r))+l*(t/u)+-(t*s-n*a)/u,l=(f=c*(i/u)+l*(-r/u)+(r*s-i*a)/u)*fe[1]+h*fe[3]+fe[5],c=f*fe[0]+h*fe[2]+fe[4]),fe[1]||fe[2]||1!=fe[0]||1!=fe[3]||0!=fe[4]||0!=fe[5]||(fe=null)},at=function(){var e=1-Ue.edgeResistance;ot(!1),fe&&(c=Ue.pointerX*fe[0]+Ue.pointerY*fe[2]+fe[4],l=Ue.pointerX*fe[1]+Ue.pointerY*fe[3]+fe[5]),te&&(dt(Ue.pointerX,Ue.pointerY),Ze(!0)),u?(tt(),m=u.top(),f=u.left()):(st()?(et(!0,!0),tt()):Ue.applyBounds(),xe?(ee=Ue.rotationOrigin=function(e,t,n,r,i){e=$(e);var o=Ee(e,!1),a=t.x,s=t.y;return n&&(be(e,t),a-=t.x,s-=t.y),(r=!0===r?t:r||{}).x=a*o[0]+s*o[2]+o[4],r.y=a*o[1]+s*o[3]+o[5],r}(o,{x:0,y:0}),et(!0,!0),f=Ue.x,m=Ue.y=Math.atan2(ee.y-Ue.pointerY,Ue.pointerX-ee.x)*T):(o.parentNode&&o.parentNode.scrollTop||0,o.parentNode&&o.parentNode.scrollLeft||0,m=ie(o,Se),f=ie(o,Te))),y&&e&&(f>w?f=w+(f-w)/e:f<x&&(f=x-(x-f)/e),xe||(m>R?m=R+(m-R)/e:m<G&&(m=G-(G-m)/e))),Ue.startX=f,Ue.startY=m},st=function(){return Ue.tween&&Ue.tween.isActive()},ut=function(){!k.parentNode||st()||Ue.isDragging||k.parentNode.removeChild(k)},ct=function(e,t,n,r){return"function"==typeof e?function(i){var o=Ue.isPressed?1-Ue.edgeResistance:1;return e.call(Ue,i>n?n+(i-n)*o:i<t?t+(i-t)*o:i)*r}:e instanceof Array?function(r){for(var i,o,a=e.length,s=0,u=S;--a>-1;)(o=(i=e[a])-r)<0&&(o=-o),o<u&&i>=t&&i<=n&&(s=a,u=o);return e[s]}:isNaN(e)?function(e){return e}:function(){return e*r}},lt=function(e,t,n,r,i,o,a){return o=o&&o<S?o*o:S,"function"==typeof e?function(s){var u,c,l,f=Ue.isPressed?1-Ue.edgeResistance:1,h=s.x,d=s.y;return s.x=h=h>n?n+(h-n)*f:h<t?t+(h-t)*f:h,s.y=d=d>i?i+(d-i)*f:d<r?r+(d-r)*f:d,(u=e.call(Ue,s))!==s&&(s.x=u.x,s.y=u.y),1!==a&&(s.x*=a,s.y*=a),o<S&&(c=s.x-h)*c+(l=s.y-d)*l>o&&(s.x=h,s.y=d),s}:e instanceof Array?function(t){for(var n,r,i,a,s=e.length,u=0,c=S;--s>-1;)(a=(n=(i=e[s]).x-t.x)*n+(r=i.y-t.y)*r)<c&&(u=s,c=a);return c<=o?e[u]:t}:function(e){return e}},ft=function(e,n){var r;if(s&&!Ue.isPressed&&e&&("mousedown"!==e.type&&"pointerdown"!==e.type||n||!(O()-$e<30)||!Ce[Ue.pointerEvent.type])){if(he=st(),Ue.pointerEvent=e,Ce[e.type]?(le=-1!==e.type.indexOf("touch")?e.currentTarget||e.target:_,ke(le,"touchend",pt),ke(le,"touchmove",ht),ke(le,"touchcancel",pt),ke(_,"touchstart",Ie)):(le=null,ke(_,"mousemove",ht)),ve=null,ke(_,"mouseup",pt),e&&e.target&&ke(e.target,"mouseup",pt),ce=Ke.call(Ue,e.target)&&!a.dragClickables&&!n)return ke(e.target,"change",pt),oe(Ue,"press","onPress"),void De(Ge,!0);if(pe=!(!le||Ne===Me||!1===Ue.vars.allowNativeTouchScrolling)&&(Ne?"y":"x"),C?e=K(e,!0):pe||Ue.allowEventDefault||(e.preventDefault(),e.preventManipulation&&e.preventManipulation()),e.changedTouches?(e=X=e.changedTouches[0],J=e.identifier):e.pointerId?J=e.pointerId:X=J=null,L++,function(e){P.push(e),1===P.length&&t.ticker.addEventListener("tick",U,this,!1,1)}(Ze),l=Ue.pointerY=e.pageY,c=Ue.pointerX=e.pageX,(pe||Ue.autoScroll)&&Y(o.parentNode),!o.parentNode||!Ue.autoScroll||u||xe||!o.parentNode._gsMaxScrollX||k.parentNode||o.getBBox||(k.style.width=o.parentNode.scrollWidth+"px",o.parentNode.appendChild(k)),at(),Ue.tween&&Ue.tween.kill(),Ue.isThrowing=!1,t.killTweensOf(u||o,!0,Qe),u&&t.killTweensOf(o,!0,{scrollTo:1}),Ue.tween=Ue.lockedAxis=null,(a.zIndexBoost||!xe&&!u&&!1!==a.zIndexBoost)&&(o.style.zIndex=Be.zIndex++),Ue.isPressed=!0,A=!(!a.onDrag&&!Ue._listeners.drag),!xe)for(r=Ge.length;--r>-1;)Z(Ge[r],"cursor",a.cursor||"move");oe(Ue,"press","onPress")}},ht=function(e){var t,n,i,o,a,u,f=e;if(s&&!r&&Ue.isPressed&&e){if(Ue.pointerEvent=e,t=e.changedTouches){if((e=t[0])!==X&&e.identifier!==J){for(o=t.length;--o>-1&&(e=t[o]).identifier!==J;);if(o<0)return}}else if(e.pointerId&&J&&e.pointerId!==J)return;if(C)e=K(e,!0);else{if(le&&pe&&!ve&&(n=e.pageX,i=e.pageY,fe&&(o=n*fe[0]+i*fe[2]+fe[4],i=n*fe[1]+i*fe[3]+fe[5],n=o),((a=Math.abs(n-c))!==(u=Math.abs(i-l))&&(a>Fe||u>Fe)||D&&pe===ve)&&(ve=a>u&&Ne?"x":"y",!1!==Ue.vars.lockAxisOnTouchScroll&&(Ue.lockedAxis="x"===ve?"y":"x","function"==typeof Ue.vars.onLockAxis&&Ue.vars.onLockAxis.call(Ue,f)),D&&pe===ve)))return void pt(f);Ue.allowEventDefault||pe&&(!ve||pe===ve)||!1===f.cancelable||(f.preventDefault(),f.preventManipulation&&f.preventManipulation())}Ue.autoScroll&&(Ve=!0),dt(e.pageX,e.pageY)}},dt=function(e,t){var n,r,i,o,a,s,u=1-Ue.dragResistance,h=1-Ue.edgeResistance;Ue.pointerX=e,Ue.pointerY=t,xe?(o=Math.atan2(ee.y-t,e-ee.x)*T,(a=Ue.y-o)>180?(m-=360,Ue.y=o):a<-180&&(m+=360,Ue.y=o),Ue.x!==f||Math.abs(m-o)>Fe?(Ue.y=o,i=f+(m-o)*u):i=f):(fe&&(s=e*fe[0]+t*fe[2]+fe[4],t=e*fe[1]+t*fe[3]+fe[5],e=s),(r=t-l)<Fe&&r>-Fe&&(r=0),(n=e-c)<Fe&&n>-Fe&&(n=0),(Ue.lockAxis||Ue.lockedAxis)&&(n||r)&&((s=Ue.lockedAxis)||(Ue.lockedAxis=s=Ne&&Math.abs(n)>Math.abs(r)?"y":Me?"x":null,s&&"function"==typeof Ue.vars.onLockAxis&&Ue.vars.onLockAxis.call(Ue,Ue.pointerEvent)),"y"===s?r=0:"x"===s&&(n=0)),i=f+n*u,o=m+r*u),(re||se||ue)&&(Ue.x!==i||Ue.y!==o&&!xe)?(ue&&(j.x=i,j.y=o,i=(s=ue(j)).x,o=s.y),re&&(i=re(i)),se&&(o=se(o))):y&&(i>w?i=w+(i-w)*h:i<x&&(i=x+(i-x)*h),xe||(o>R?o=R+(o-R)*h:o<G&&(o=G+(o-G)*h))),xe||fe||(i=Math.round(i),o=Math.round(o)),(Ue.x!==i||Ue.y!==o&&!xe)&&(xe?(Ue.endRotation=Ue.x=Ue.endX=i,te=!0):(Me&&(Ue.y=Ue.endY=o,te=!0),Ne&&(Ue.x=Ue.endX=i,te=!0)),!Ue.isDragging&&Ue.isPressed&&(Ue.isDragging=!0,oe(Ue,"dragstart","onDragStart")))},pt=function(e,n){if(s&&Ue.isPressed&&(!e||null==J||n||!(e.pointerId&&e.pointerId!==J||e.changedTouches&&!function(e,t){for(var n=e.length;--n>-1;)if(e[n].identifier===t)return!0;return!1}(e.changedTouches,J)))){Ue.isPressed=!1;var r,i,u,c,l,f=e,h=Ue.isDragging,d=t.delayedCall(.001,ut);if(le?(Pe(le,"touchend",pt),Pe(le,"touchmove",ht),Pe(le,"touchcancel",pt),Pe(_,"touchstart",Ie)):Pe(_,"mousemove",ht),Pe(_,"mouseup",pt),e&&e.target&&Pe(e.target,"mouseup",pt),te=!1,ce)return e&&(Pe(e.target,"change",pt),Ue.pointerEvent=f),De(Ge,!1),oe(Ue,"release","onRelease"),oe(Ue,"click","onClick"),void(ce=!1);if(H(Ze),!xe)for(i=Ge.length;--i>-1;)Z(Ge[i],"cursor",a.cursor||"move");if(h&&(ze=M=O(),Ue.isDragging=!1),L--,e){if(C&&(e=K(e,!1)),(r=e.changedTouches)&&(e=r[0])!==X&&e.identifier!==J){for(i=r.length;--i>-1&&(e=r[i]).identifier!==J;);if(i<0)return}Ue.pointerEvent=f,Ue.pointerX=e.pageX,Ue.pointerY=e.pageY}return f&&!h?(he&&(a.snap||a.bounds)&&it(a.throwProps),oe(Ue,"release","onRelease"),D&&"touchmove"===f.type||-1!==f.type.indexOf("cancel")||(oe(Ue,"click","onClick"),O()-$e<300&&oe(Ue,"doubleclick","onDoubleClick"),c=f.target||f.srcElement||o,$e=O(),l=function(){$e!==ye&&Ue.enabled()&&!Ue.isPressed&&(c.click?c.click():_.createEvent&&((u=_.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,Ue.pointerEvent.screenX,Ue.pointerEvent.screenY,Ue.pointerX,Ue.pointerY,!1,!1,!1,!1,0,null),c.dispatchEvent(u)))},D||f.defaultPrevented||t.delayedCall(1e-5,l))):(it(a.throwProps),C||Ue.allowEventDefault||!f||!a.dragClickables&&Ke.call(Ue,f.target)||!h||pe&&(!ve||pe!==ve)||!1===f.cancelable||(f.preventDefault(),f.preventManipulation&&f.preventManipulation()),oe(Ue,"release","onRelease")),st()&&d.duration(Ue.tween.duration()),h&&oe(Ue,"dragend","onDragEnd"),!0}},gt=function(e){if(e&&Ue.isDragging&&!u){var t=e.target||e.srcElement||o.parentNode,n=t.scrollLeft-t._gsScrollX,r=t.scrollTop-t._gsScrollY;(n||r)&&(fe?(c-=n*fe[0]+r*fe[2],l-=r*fe[3]+n*fe[1]):(c-=n,l-=r),t._gsScrollX+=n,t._gsScrollY+=r,dt(Ue.pointerX,Ue.pointerY))}},vt=function(e){var t=O(),n=t-$e<40,r=t-ze<40,i=n&&ye===$e,o=!!e.preventDefault,a=Ue.pointerEvent&&Ue.pointerEvent.defaultPrevented,s=n&&_e===$e,u=e.isTrusted||null==e.isTrusted&&n&&i;if(o&&(i||r&&!1!==Ue.vars.suppressClickOnDrag)&&e.stopImmediatePropagation(),n&&(!Ue.pointerEvent||!Ue.pointerEvent.defaultPrevented)&&(!i||u!==s))return u&&i&&(_e=$e),void(ye=$e);(Ue.isPressed||r||n)&&(o?u&&e.detail&&n&&!a||(e.preventDefault(),e.preventManipulation&&e.preventManipulation()):e.returnValue=!1)},mt=function(e){return fe?{x:e.x*fe[0]+e.y*fe[2]+fe[4],y:e.x*fe[1]+e.y*fe[3]+fe[5]}:{x:e.x,y:e.y}};(ne=Be.get(this.target))&&ne.kill(),this.startDrag=function(e,t){var n,r,i,a;ft(e||Ue.pointerEvent,!0),t&&!Ue.hitTest(e||Ue.pointerEvent)&&(n=He(e||Ue.pointerEvent),r=He(o),i=mt({x:n.left+n.width/2,y:n.top+n.height/2}),a=mt({x:r.left+r.width/2,y:r.top+r.height/2}),c-=i.x-a.x,l-=i.y-a.y),Ue.isDragging||(Ue.isDragging=!0,oe(Ue,"dragstart","onDragStart"))},this.drag=ht,this.endDrag=function(e){pt(e||Ue.pointerEvent,!0)},this.timeSinceDrag=function(){return Ue.isDragging?0:(O()-ze)/1e3},this.timeSinceClick=function(){return(O()-$e)/1e3},this.hitTest=function(e,t){return Be.hitTest(Ue.target,e,t)},this.getDirection=function(e,t){var n,r,o,a,s,u,c="velocity"===e&&i?e:"object"!=typeof e||xe?"start":"element";return"element"===c&&(s=He(Ue.target),u=He(e)),n="start"===c?Ue.x-f:"velocity"===c?i.getVelocity(this.target,Te):s.left+s.width/2-(u.left+u.width/2),xe?n<0?"counter-clockwise":"clockwise":(t=t||2,r="start"===c?Ue.y-m:"velocity"===c?i.getVelocity(this.target,Se):s.top+s.height/2-(u.top+u.height/2),a=(o=Math.abs(n/r))<1/t?"":n<0?"left":"right",o<t&&(""!==a&&(a+="-"),a+=r<0?"up":"down"),a)},this.applyBounds=function(e){var t,n,r,i,s,u;if(e&&a.bounds!==e)return a.bounds=e,Ue.update(!0);if(et(!0),tt(),y){if(t=Ue.x,n=Ue.y,t>w?t=w:t<x&&(t=x),n>R?n=R:n<G&&(n=G),(Ue.x!==t||Ue.y!==n)&&(r=!0,Ue.x=Ue.endX=t,xe?Ue.endRotation=t:Ue.y=Ue.endY=n,te=!0,Ze(!0),Ue.autoScroll&&!Ue.isDragging))for(Y(o.parentNode),i=o,B.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=b.scrollTop?b.scrollTop:_.body.scrollTop,B.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=b.scrollLeft?b.scrollLeft:_.body.scrollLeft;i&&!u;)s=(u=q(i.parentNode))?B:i.parentNode,Me&&s.scrollTop>s._gsMaxScrollY&&(s.scrollTop=s._gsMaxScrollY),Ne&&s.scrollLeft>s._gsMaxScrollX&&(s.scrollLeft=s._gsMaxScrollX),i=s;Ue.isThrowing&&(r||Ue.endX>w||Ue.endX<x||Ue.endY>R||Ue.endY<G)&&it(a.throwProps,r)}return Ue},this.update=function(e,t,n){var r=Ue.x,i=Ue.y;return ot(!t),e?Ue.applyBounds():(te&&n&&Ze(!0),et(!0)),t&&(dt(Ue.pointerX,Ue.pointerY),te&&Ze(!0)),Ue.isPressed&&!t&&(Ne&&Math.abs(r-Ue.x)>.01||Me&&Math.abs(i-Ue.y)>.01&&!xe)&&at(),Ue.autoScroll&&(Y(o.parentNode),Ve=Ue.isDragging,Ze(!0)),Ue.autoScroll&&(W(o,gt),V(o,gt)),Ue},this.enable=function(e){var r,c,l;if("soft"!==e){for(c=Ge.length;--c>-1;)l=Ge[c],ke(l,"mousedown",ft),ke(l,"touchstart",ft),ke(l,"click",vt,!0),xe||Z(l,"cursor",a.cursor||"move"),Z(l,"touchCallout","none"),Z(l,"touchAction",Ne===Me?"none":Ne?"pan-y":"pan-x"),ge(l)&&Z(l.ownerSVGElement||l,"touchAction",Ne===Me?"none":Ne?"pan-y":"pan-x"),this.vars.allowContextMenu||ke(l,"contextmenu",Je);De(Ge,!1)}return V(o,gt),s=!0,i&&"soft"!==e&&i.track(u||o,we?"x,y":xe?"rotation":"top,left"),u&&u.enable(),o._gsDragID=r="d"+I++,N[r]=this,u&&(u.element._gsDragID=r),t.set(o,{x:"+=0",overwrite:!1,data:"_draggable"}),de={t:o,data:C?z:o._gsTransform,tween:{},setRatio:C?function(){t.set(o,Q)}:n._internals.setTransformRatio||n._internals.set3DTransformRatio},at(),Ue.update(!0),Ue},this.disable=function(e){var t,n,r=Ue.isDragging;if(!xe)for(t=Ge.length;--t>-1;)Z(Ge[t],"cursor",null);if("soft"!==e){for(t=Ge.length;--t>-1;)n=Ge[t],Z(n,"touchCallout",null),Z(n,"touchAction",null),Pe(n,"mousedown",ft),Pe(n,"touchstart",ft),Pe(n,"click",vt),Pe(n,"contextmenu",Je);De(Ge,!0),le&&(Pe(le,"touchcancel",pt),Pe(le,"touchend",pt),Pe(le,"touchmove",ht)),Pe(_,"mouseup",pt),Pe(_,"mousemove",ht)}return W(o,gt),s=!1,i&&"soft"!==e&&i.untrack(u||o,we?"x,y":xe?"rotation":"top,left"),u&&u.disable(),H(Ze),Ue.isDragging=Ue.isPressed=ce=!1,r&&oe(Ue,"dragend","onDragEnd"),Ue},this.enabled=function(e,t){return arguments.length?e?Ue.enable(t):Ue.disable(t):s},this.kill=function(){return Ue.isThrowing=!1,t.killTweensOf(u||o,!0,Qe),Ue.disable(),delete N[o._gsDragID],Ue},-1!==Ae.indexOf("scroll")&&(u=this.scrollProxy=new je(o,function(e,t){var n;for(n in t)void 0===e[n]&&(e[n]=t[n]);return e}({onKill:function(){Ue.isPressed&&pt(null)}},a)),o.style.overflowY=Me&&!Oe?"auto":"hidden",o.style.overflowX=Ne&&!Oe?"auto":"hidden",o=u.content),!1!==a.force3D&&t.set(o,{force3D:!0}),xe?Qe.rotation=1:(Ne&&(Qe[Te]=1),Me&&(Qe[Se]=1)),xe?(z=(Q=g).css,Q.overwrite=!1):we&&(z=(Q=Ne&&Me?h:Ne?d:p).css,Q.overwrite=!1),this.enable()},Fe=Be.prototype=new e;Fe.constructor=Be,Fe.pointerX=Fe.pointerY=Fe.startX=Fe.startY=Fe.deltaX=Fe.deltaY=0,Fe.isDragging=Fe.isPressed=!1,Be.version="0.16.1",Be.zIndex=1e3,ke(_,"touchcancel",(function(){})),ke(_,"contextmenu",(function(e){var t;for(t in N)N[t].isPressed&&N[t].endDrag()})),Be.create=function(e,n){"string"==typeof e&&(e=t.selector(e));for(var r=e&&0!==e.length?Se(e)?function(e){var t,n,r,i=[],o=e.length;for(t=0;t<o;t++)if(n=e[t],Se(n))for(r=n.length,r=0;r<n.length;r++)i.push(n[r]);else n&&0!==n.length&&i.push(n);return i}(e):[e]:[],i=r.length;--i>-1;)r[i]=new Be(r[i],n);return r},Be.get=function(e){return N[($(e)||{})._gsDragID]},Be.timeSinceDrag=function(){return(O()-M)/1e3};var Ue={},He=function(e,t){if(e===window)return Ue.left=Ue.top=0,Ue.width=Ue.right=b.clientWidth||e.innerWidth||_.body.clientWidth||0,Ue.height=Ue.bottom=(e.innerHeight||0)-20<b.clientHeight?b.clientHeight:e.innerHeight||_.body.clientHeight||0,Ue;var n=e.pageX!==t?{left:e.pageX-z(),top:e.pageY-Q(),right:e.pageX-z()+1,bottom:e.pageY-Q()+1}:e.nodeType||e.left===t||e.top===t?C?function(e){var t,n,r=0,i=0;for(t=(e=$(e)).offsetWidth,n=e.offsetHeight;e;)r+=e.offsetTop,i+=e.offsetLeft,e=e.offsetParent;return{top:r,left:i,width:t,height:n}}(e):$(e).getBoundingClientRect():e;return n.right===t&&n.width!==t?(n.right=n.left+n.width,n.bottom=n.top+n.height):n.width===t&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n};return Be.hitTest=function(e,t,n){if(e===t)return!1;var r,i,o,a=He(e),s=He(t),u=s.left>a.right||s.right<a.left||s.top>a.bottom||s.bottom<a.top;return u||!n?!u:(o=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,(r={left:Math.max(a.left,s.left),top:Math.max(a.top,s.top)}).width=Math.min(a.right,s.right)-r.left,r.height=Math.min(a.bottom,s.bottom)-r.top,!(r.width<0||r.height<0)&&(o?(n*=.01,(i=r.width*r.height)>=a.width*a.height*n||i>=s.width*s.height*n):r.width>n&&r.height>n))},k.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Be}),!0)})),s._gsDefine&&s._gsQueue.pop()(),function(r){"use strict";var u=function(){return(s.GreenSockGlobals||s).Draggable};e.exports?(n(73),n(205),e.exports=u()):(o=[n(73),n(205)],void 0===(a="function"==typeof(i=u)?i.apply(t,o):i)||(e.exports=a))}()}).call(this,n(48))},function(e,t){var n,r,i=window.createjs||{};n=o||(o={}),r=function(){function e(){}return e.set=function(e){null!=e.stage&&(null!=n.Accessibility.timeout&&clearTimeout(n.Accessibility.timeout),null==e.accessibilityId&&(n.Accessibility.data.push(e),e.accessibilityId=n.Accessibility.data.length-1),n.Accessibility.timeout=setTimeout(n.Accessibility.update,300))},e.update=function(){n.Accessibility.timeout=null;var e=n.Accessibility.data.slice(0);e.sort((function(e,t){return e.accessibilityPriority-t.accessibilityPriority}));for(var t=e.length,r="",i=e[0].stage.canvas,o=0;t>o;o++)null!=e[o].stage&&(i!=e[o].stage.canvas&&(i.innerHTML=r,r="",i=e[o].stage.canvas),r+=null==e[o].accessibilityText?"<p>"+e[o].text+"</p>":e[o].accessibilityText);i.innerHTML=r},e.clear=function(){n.Accessibility.data=[]},e.data=[],e.timeout=null,e}(),n.Accessibility=r;var o,a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};!function(e){var t=function(t){function n(n){if(void 0===n&&(n=null),t.call(this),this.text="",this.lineHeight=null,this.width=100,this.height=20,this.align=e.Align.TOP_LEFT,this.characterCase=e.Case.NORMAL,this.size=12,this.font="belinda",this.tracking=0,this.ligatures=!1,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.loaderId=null,this.style=null,this.debug=!1,this.original=null,this.words=[],this.lines=[],this.missingGlyphs=null,this.renderCycle=!0,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,n&&(this.original=n,this.set(n)),null==this.style)e.FontLoader.load(this,[this.font]);else{for(var r=[this.font],i=this.style.length,o=0;i>o;++o)null!=this.style[o]&&null!=this.style[o].font&&r.push(this.style[o].font);e.FontLoader.load(this,r)}}return a(n,t),n.prototype.render=function(){this.getStage().update()},n.prototype.complete=function(){},n.prototype.fontLoaded=function(e){this.layout()},n.prototype.layout=function(){if(e.Accessibility.set(this),this.text=this.text.replace(/([\n][ \t]+)/g,"\n"),this.words=[],this.lines=[],this.missingGlyphs=null,this.removeAllChildren(),this.block=new i.Container,this.addChild(this.block),1==this.debug){var t=e.FontLoader.getFont(this.font),n=new i.Shape;n.graphics.beginStroke("#FF0000"),n.graphics.setStrokeStyle(1.2),n.graphics.drawRect(0,0,this.width,this.height),this.addChild(n),(n=new i.Shape).graphics.beginFill("#000"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=0,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#F00"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t["cap-height"]/t.units*this.size,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#0F0"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t.ascent/t.units*this.size,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#00F"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t.descent/t.units*this.size,this.block.addChild(n)}return""===this.text||void 0===this.text?(this.render(),void this.complete()):!1===this.characterLayout()?void this.removeAllChildren():!1===this.renderCycle?(this.removeAllChildren(),void this.complete()):(this.wordLayout(),this.lineLayout(),this.render(),void this.complete())},n.prototype.characterLayout=function(){var t,n=this.text.length,r={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},i=r,o=0,a=0,s=new e.Word;this.words.push(s);for(var u=0;n>u;u++)if(null!==this.style&&void 0!==this.style[u]&&(void 0===(i=this.style[u]).size&&(i.size=r.size),void 0===i.font&&(i.font=r.font),void 0===i.tracking&&(i.tracking=r.tracking),void 0===i.characterCase&&(i.characterCase=r.characterCase),void 0===i.fillColor&&(i.fillColor=r.fillColor),void 0===i.strokeColor&&(i.strokeColor=r.strokeColor),void 0===i.strokeWidth&&(i.strokeWidth=r.strokeWidth)),"\n"!=this.text.charAt(u)){if(!1===e.FontLoader.isLoaded(i.font))return e.FontLoader.load(this,[i.font]),!1;if(t=new e.Character(this.text.charAt(u),i,u),this.original.character&&(this.original.character.added&&t.on("added",this.original.character.added),this.original.character.click&&t.on("click",this.original.character.click),this.original.character.dblclick&&t.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&t.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&t.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&t.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&t.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&t.on("pressup",this.original.character.pressup),this.original.character.removed&&t.on("removed",this.original.character.removed),this.original.character.rollout&&t.on("rollout",this.original.character.rollout),this.original.character.rollover&&t.on("rollover",this.original.character.rollover),this.original.character.tick&&t.on("tick",this.original.character.tick)),t.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:u,character:this.text.charAt(u),font:i.font})),t.measuredHeight>a&&(a=t.measuredHeight),0==i.tracking&&1==this.ligatures){var c=this.text.substr(u,4);t._font.ligatures[c.charAt(0)]&&t._font.ligatures[c.charAt(0)][c.charAt(1)]&&(t._font.ligatures[c.charAt(0)][c.charAt(1)][c.charAt(2)]?t._font.ligatures[c.charAt(0)][c.charAt(1)][c.charAt(2)][c.charAt(3)]?(t.setGlyph(t._font.ligatures[c.charAt(0)][c.charAt(1)][c.charAt(2)][c.charAt(3)].glyph),u+=3):(t.setGlyph(t._font.ligatures[c.charAt(0)][c.charAt(1)][c.charAt(2)].glyph),u+=2):(t.setGlyph(t._font.ligatures[c.charAt(0)][c.charAt(1)].glyph),u+=1))}t.x=o,s.addChild(t)," "!=this.text.charAt(u)?("-"==this.text.charAt(u)&&(s.hasHyphen=!0),o=t.x+t._glyph.offset*t.size+t.characterCaseOffset+t.trackingOffset()+t._glyph.getKerning(this.text.charCodeAt(u+1),t.size)):(s.hasSpace=!0,s.spaceOffset=t._glyph.offset*t.size,o=t.x+t._glyph.offset*t.size+t.characterCaseOffset+t.trackingOffset()+t._glyph.getKerning(this.text.charCodeAt(u+1),t.size),s.measuredWidth=o,s.measuredHeight=a,o=0,a=0,s=new e.Word,this.words.push(s))}else n-1>u&&(s.measuredWidth=o,s.measuredHeight=a,0==s.measuredHeight&&(s.measuredHeight=i.size),s.hasNewLine=!0,s=new e.Word,this.words.push(s),a=0,o=0);return 0==s.children.length&&(this.words.pop(),o=(s=this.words[this.words.length-1]).measuredWidth,a=s.measuredHeight),s.measuredWidth=o,s.measuredHeight=a,!0},n.prototype.wordLayout=function(){var t,n,r=this.words.length,i=new e.Line;this.lines.push(i),i.y=0,this.block.addChild(i);for(var o,a=0,s=0,u=!0,c=0;r>c;c++)if((t=this.words[c]).x=a,this.original.word&&(this.original.word.added&&t.on("added",this.original.word.added),this.original.word.click&&t.on("click",this.original.word.click),this.original.word.dblclick&&t.on("dblclick",this.original.word.dblclick),this.original.word.mousedown&&t.on("mousedown",this.original.word.mousedown),this.original.word.mouseout&&t.on("mouseout",this.original.word.mouseout),this.original.word.mouseover&&t.on("mouseover",this.original.word.mouseover),this.original.word.pressmove&&t.on("pressmove",this.original.word.pressmove),this.original.word.pressup&&t.on("pressup",this.original.word.pressup),this.original.word.removed&&t.on("removed",this.original.word.removed),this.original.word.rollout&&t.on("rollout",this.original.word.rollout),this.original.word.rollover&&t.on("rollover",this.original.word.rollover),this.original.word.tick&&t.on("tick",this.original.word.tick)),u?s=t.measuredHeight:null!=this.lineHeight?s=this.lineHeight:t.measuredHeight>s&&(s=t.measuredHeight),a+t.measuredWidth>this.width&&1==t.hasNewLine&&i.children.length>0){n=null!=this.lineHeight?i.y+this.lineHeight:i.y+s,i.measuredWidth=a,null!=(o=this.words[c-1])&&o.hasSpace&&(i.measuredWidth-=o.spaceOffset),i.measuredHeight=0==u&&null!=this.lineHeight?this.lineHeight:s,u=!1,i=new e.Line,this.lines.push(i),i.y=n,a=0,t.x=0,this.block.addChild(i);var l=this.words[c];i.addChild(l),i.measuredHeight=null!=this.lineHeight?this.lineHeight:l.measuredHeight,i.measuredWidth=l.measuredWidth,i=new e.Line,this.lines.push(i),i.y=null!=this.lineHeight?n+this.lineHeight:n+s,this.block.addChild(i),r-1>c&&(s=0)}else{if(a+t.measuredWidth>this.width&&c>0&&i.children.length>0)n=null!=this.lineHeight?i.y+this.lineHeight:i.y+s,i.measuredWidth=a,null!=(o=this.words[c-1])&&o.hasSpace&&(i.measuredWidth-=o.spaceOffset),i.measuredHeight=0==u&&null!=this.lineHeight?this.lineHeight:s,u=!1,i=new e.Line,this.lines.push(i),i.y=n,r-1>c&&(s=0),a=0,t.x=a,this.block.addChild(i);else if(1==t.hasNewLine){n=null!=this.lineHeight?i.y+this.lineHeight:i.y+s,i.measuredWidth=a+t.measuredWidth,i.measuredHeight=0==u&&null!=this.lineHeight?this.lineHeight:s,i.addChild(this.words[c]),u=!1,i=new e.Line,this.lines.push(i),i.y=n,r-1>c&&(s=0),a=0,this.block.addChild(i);continue}a+=t.measuredWidth,i.addChild(this.words[c])}0==i.children.length&&(this.lines.pop(),i=this.lines[this.lines.length-1]),i.measuredWidth=a,i.measuredHeight=s},n.prototype.lineLayout=function(){for(var t,n=0,r=e.Align,i=e.FontLoader.getFont(this.font),o=(this.size,i.ascent,i.units,this.size,i["cap-height"],i.units,this.size,i["x-height"],i.units,this.size,i.descent,i.units,this.lines.length),a=0;o>a;a++)t=this.lines[a],this.original.line&&(this.original.line.added&&t.on("added",this.original.line.added),this.original.line.click&&t.on("click",this.original.line.click),this.original.line.dblclick&&t.on("dblclick",this.original.line.dblclick),this.original.line.mousedown&&t.on("mousedown",this.original.line.mousedown),this.original.line.mouseout&&t.on("mouseout",this.original.line.mouseout),this.original.line.mouseover&&t.on("mouseover",this.original.line.mouseover),this.original.line.pressmove&&t.on("pressmove",this.original.line.pressmove),this.original.line.pressup&&t.on("pressup",this.original.line.pressup),this.original.line.removed&&t.on("removed",this.original.line.removed),this.original.line.rollout&&t.on("rollout",this.original.line.rollout),this.original.line.rollover&&t.on("rollover",this.original.line.rollover),this.original.line.tick&&t.on("tick",this.original.line.tick)),null!=t.lastWord()&&t.lastWord().lastCharacter()&&(t.measuredWidth-=t.lastWord().lastCharacter().trackingOffset()),n+=t.measuredHeight,this.align===r.TOP_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.TOP_RIGHT?t.x=this.width-t.measuredWidth:this.align===r.MIDDLE_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.MIDDLE_RIGHT?t.x=this.width-t.measuredWidth:this.align===r.BOTTOM_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.BOTTOM_RIGHT&&(t.x=this.width-t.measuredWidth);this.align===r.TOP_LEFT||this.align===r.TOP_CENTER||this.align===r.TOP_RIGHT?this.block.y=this.lines[0].measuredHeight*i.ascent/i.units+this.lines[0].measuredHeight*i.top/i.units:this.align===r.MIDDLE_LEFT||this.align===r.MIDDLE_CENTER||this.align===r.MIDDLE_RIGHT?this.block.y=this.lines[0].measuredHeight+(this.height-n)/2+this.lines[0].measuredHeight*i.middle/i.units:(this.align===r.BOTTOM_LEFT||this.align===r.BOTTOM_CENTER||this.align===r.BOTTOM_RIGHT)&&(this.block.y=this.height-this.lines[this.lines.length-1].y+this.lines[0].measuredHeight*i.bottom/i.units),this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick))},n}(i.Container);e.Text=t}(o||(o={})),function(e){var t=function(t){function n(n,r,o,a){if(void 0===o&&(o=null),void 0===a&&(a=null),t.call(this),this.character="",this.characterCode=null,this.font=null,this.tracking=null,this.characterCase=null,this.characterCaseOffset=0,this.index=null,this.size=null,this.fillColor=null,this.strokeColor=null,this.strokeWidth=null,this.measuredWidth=null,this.measuredHeight=null,this.hPosition=null,this.missing=!1,this.set(r),this.index=o,this.characterCase==e.Case.NORMAL)this.character=n;else if(this.characterCase==e.Case.UPPER)this.character=n.toUpperCase();else if(this.characterCase==e.Case.LOWER)this.character=n.toLowerCase();else if(this.characterCase==e.Case.SMALL_CAPS){this.character=n.toUpperCase();var s=!(n===this.character)}else this.character=n;this.characterCode=this.character.charCodeAt(0),this._font=e.FontLoader.getFont(this.font),this._font.glyphs[this.characterCode]?this._glyph=this._font.glyphs[this.characterCode]:this._font.glyphs[String.fromCharCode(this.characterCode).toLowerCase().charCodeAt(0)]?this._glyph=this._font.glyphs[String.fromCharCode(this.characterCode).toLowerCase().charCodeAt(0)]:this._font.glyphs[String.fromCharCode(this.characterCode).toUpperCase().charCodeAt(0)]&&(this._glyph=this._font.glyphs[String.fromCharCode(this.characterCode).toUpperCase().charCodeAt(0)]),void 0===this._glyph&&(console.log("MISSING GLYPH:"+this.character),this._glyph=this._font.glyphs[42],this.missing=!0),this.graphics=this._glyph.graphic(),this.characterCase===e.Case.SMALL_CAPS&&s?(this.scaleX=this.size/this._font.units*.8,this.characterCaseOffset=-.2*this._glyph.offset*this.size):this.scaleX=this.size/this._font.units,this.scaleY=-this.scaleX,this.measuredHeight=(this._font.ascent-this._font.descent)*this.scaleX,this.measuredWidth=this.scaleX*this._glyph.offset*this._font.units;var u=new i.Shape;u.graphics.beginFill("#000").drawRect(0,this._font.descent,this._glyph.offset*this._font.units,this._font.ascent-this._font.descent),this.hitArea=u}return a(n,t),n.prototype.setGlyph=function(e){this._glyph=e,this.graphics=this._glyph.graphic()},n.prototype.trackingOffset=function(){return this.size*(2.5/this._font.units+1/900+this.tracking/990)},n.prototype.draw=function(e){return this._glyph._fill.style=this.fillColor,this._glyph._fill.matrix=null,this._glyph._stroke.style=this.strokeColor,this._glyph._strokeStyle.width=this.strokeWidth,this._glyph.draw(e)},n.prototype.getWidth=function(){return this.size*this._glyph.offset},n}(i.Shape);e.Character=t}(o||(o={})),function(e){var t=function(){function e(){this.glyphs={},this.kerning={},this.top=0,this.middle=0,this.bottom=0,this.units=1e3,this.ligatures={},this.loaded=!1,this.targets=[]}return e.prototype.cloneGlyph=function(e,t){null==this.glyphs[e]&&null!=this.glyphs[t]&&(this.glyphs[e]=this.glyphs[t],this.kerning[e]=this.kerning[t])},e}();e.Font=t}(o||(o={})),function(e){var t=function(){function e(){this.path="",this.kerning={},this._graphic=null}return e.prototype.graphic=function(){return null==this._graphic&&(this._graphic=new i.Graphics,this._stroke=new i.Graphics.Stroke(null,!0),this._strokeStyle=new i.Graphics.StrokeStyle(0),this._fill=new i.Graphics.Fill(null),this._graphic.decodeSVGPath(this.path),this._graphic.append(this._fill),this._graphic.append(this._strokeStyle),this._graphic.append(this._stroke)),this._graphic},e.prototype.draw=function(e){return this._graphic.draw(e),!0},e.prototype.getKerning=function(e,t){var n=-this.kerning[e]*t;return isNaN(n)||isNaN(e)||isNaN(t)?0:null!=this.kerning[e]?n:0},e}();e.Glyph=t}(o||(o={})),function(e){var t=function(){function t(){}return t.isLoaded=function(t){return!!e.FontLoader.fonts.hasOwnProperty(t)&&e.FontLoader.fonts[t].loaded},t.getFont=function(t){return e.FontLoader.fonts.hasOwnProperty(t)?e.FontLoader.fonts[t]:null},t.load=function(t,n){var r;null==t.loaderId?(r={},t.loaderId=e.FontLoader.loaders.push(r)-1,r._id=t.loaderId,r._target=t):r=e.FontLoader.loaders[t.loaderId];for(var i=n.length,o=0;i>o;++o)r[n[o]]=!1;for(var a in r)"_"!=a.charAt(0)&&e.FontLoader.loadFont(a,r)},t.check=function(t){var n=e.FontLoader.loaders[t];for(var r in n)if("_"!=r.charAt(0)&&(n[r]=e.FontLoader.isLoaded(r),0==n[r]))return;window.setTimeout((function(){n._target.fontLoaded()}),1)},t.loadFont=function(t,n){if(e.FontLoader.fonts,e.FontLoader.fonts.hasOwnProperty(t))!0===e.FontLoader.fonts[t].loaded?e.FontLoader.check(n._id):e.FontLoader.fonts[t].targets.push(n._id);else{var r=e.FontLoader.fonts[t]=new e.Font;r.targets.push(n._id);var i=new XMLHttpRequest;if(localStorage&&e.FontLoader.cache){var o=JSON.parse(localStorage.getItem("txt_font_"+t.split(" ").join("_")));null!=o&&o.version===e.FontLoader.version&&(i.cacheResponseText=o.font,i.cacheFont=!0)}i.onload=function(){localStorage&&e.FontLoader.cache&&null==this.cacheFont&&localStorage.setItem("txt_font_"+t.split(" ").join("_"),JSON.stringify({font:this.responseText,version:e.FontLoader.version}));var n=this.responseText.split("\n");this.cacheResponseText&&(n=this.cacheResponseText.split("\n"));for(var i,o,a=n.length,s=0;a>s;){switch((i=n[s].split("|"))[0]){case"0":r[i[1]]="id"==i[1]||"panose"==i[1]||"family"==i[1]||"font-style"==i[1]||"font-stretch"==i[1]?i[2]:parseInt(i[2]);break;case"1":(o=new e.Glyph).offset=parseInt(i[2])/r.units,o.path=i[3],r.glyphs[i[1]]=o;break;case"2":null==r.kerning[i[1]]&&(r.kerning[i[1]]={}),null==r.glyphs[i[1]]&&((o=new e.Glyph).offset=r.default/r.units,o.path="",r.glyphs[i[1]]=o),r.glyphs[i[1]].kerning[i[2]]=parseInt(i[3])/r.units,r.kerning[i[1]][i[2]]=parseInt(i[3])/r.units;break;case"3":i.shift();for(var u=i.length,c=0;u>c;c++)for(var l=i[c].split(""),f=l.length,h=r.ligatures,d=0;f>d;d++)null==h[l[d]]&&(h[l[d]]={}),d==f-1&&(h[l[d]].glyph=r.glyphs[i[c]]),h=h[l[d]]}s++}r.cloneGlyph(183,8226),r.cloneGlyph(8729,8226),r.cloneGlyph(12539,8226),r.cloneGlyph(9702,8226),r.cloneGlyph(9679,8226),r.cloneGlyph(9675,8226),null==r.top&&(r.top=0),null==r.middle&&(r.middle=0),null==r.bottom&&(r.bottom=0);var p=r.targets.length;r.loaded=!0;for(var g=0;p>g;++g)e.FontLoader.check(r.targets[g]);r.targets=[]},1==i.cacheFont?i.onload():(i.open("get",e.FontLoader.path+t.split(" ").join("_")+".txt",!0),i.send())}},t.path="/font/",t.cache=!1,t.version=0,t.fonts={},t.loaders=[],t}();e.FontLoader=t}(o||(o={})),i.Graphics.prototype.decodeSVGPath=function(e){return o.Graphics.init(this,e),this},function(e){var t=function(){function e(){}return e.init=function(t,n){for(var r=e.parsePathData(n),o=i.Graphics,a=0;a<r.length;a++){var s=r[a].command,u=r[a].points;switch(s){case"L":t.append(new o.LineTo(u[0],u[1]));break;case"M":t.append(new o.MoveTo(u[0],u[1]));break;case"C":t.append(new o.BezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]));break;case"Q":t.append(new o.QuadraticCurveTo(u[0],u[1],u[2],u[3]));break;case"A":t.append(new o.SVGArc(u[0],u[1],u[2],u[3],u[4],u[5],u[6]));break;case"Z":t.append(new o.ClosePath),t.append(new o.MoveTo(u[0],u[1]))}}},e.parsePathData=function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i=t.split("|"),o=[],a=0,s=0,u=i.length,c=null;for(r=1;u>r;r++){var l=i[r],f=l.charAt(0),h=(l=(l=(l=(l=l.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");h.length>0&&""===h[0]&&h.shift();for(var d=h.length,p=0;d>p;p++)h[p]=parseFloat(h[p]);for(("z"===f||"Z"===f)&&(h=[!0]);h.length>0&&!isNaN(h[0]);){var g,v,m,y=null,_=[],b=a,A=s;switch(f){case"l":a+=h.shift(),s+=h.shift(),y="L",_.push(a,s);break;case"L":a=h.shift(),s=h.shift(),_.push(a,s);break;case"m":a+=h.shift(),s+=h.shift(),null==c&&(c=[a,s]),y="M",_.push(a,s),f="l";break;case"M":a=h.shift(),s=h.shift(),y="M",null==c&&(c=[a,s]),_.push(a,s),f="L";break;case"h":a+=h.shift(),y="L",_.push(a,s);break;case"H":a=h.shift(),y="L",_.push(a,s);break;case"v":s+=h.shift(),y="L",_.push(a,s);break;case"V":s=h.shift(),y="L",_.push(a,s);break;case"C":_.push(h.shift(),h.shift(),h.shift(),h.shift()),a=h.shift(),s=h.shift(),_.push(a,s);break;case"c":_.push(a+h.shift(),s+h.shift(),a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),y="C",_.push(a,s);break;case"S":v=a,m=s,"C"===(g=o[o.length-1]).command&&(v=a+(a-g.points[2]),m=s+(s-g.points[3])),_.push(v,m,h.shift(),h.shift()),a=h.shift(),s=h.shift(),y="C",_.push(a,s);break;case"s":v=a,m=s,"C"===(g=o[o.length-1]).command&&(v=a+(a-g.points[2]),m=s+(s-g.points[3])),_.push(v,m,a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),y="C",_.push(a,s);break;case"Q":_.push(h.shift(),h.shift()),a=h.shift(),s=h.shift(),_.push(a,s);break;case"q":_.push(a+h.shift(),s+h.shift()),a+=h.shift(),s+=h.shift(),y="Q",_.push(a,s);break;case"T":v=a,m=s,"Q"===(g=o[o.length-1]).command&&(v=a+(a-g.points[0]),m=s+(s-g.points[1])),a=h.shift(),s=h.shift(),y="Q",_.push(v,m,a,s);break;case"t":v=a,m=s,"Q"===(g=o[o.length-1]).command&&(v=a+(a-g.points[0]),m=s+(s-g.points[1])),a+=h.shift(),s+=h.shift(),y="Q",_.push(v,m,a,s);break;case"A":y="A",_=[[a,s],h.shift(),h.shift(),h.shift(),h.shift(),h.shift(),[a=h.shift(),s=h.shift()]];break;case"a":y="A",_=[[a,s],h.shift(),h.shift(),h.shift(),h.shift(),h.shift(),[a+=h.shift(),s+=h.shift()]];break;case"z":y="Z",c?(a=c[0],s=c[1],c=null):(a=0,s=0),h.shift(),_=[a,s];break;case"Z":y="Z",c?(a=c[0],s=c[1],c=null):(a=0,s=0),h.shift(),_=[a,s]}o.push({command:y||f,points:_,start:{x:b,y:A}})}}return o},e}();e.Graphics=t}(o||(o={})),function(e){!function(e){var t=function(){function e(e,t,n,r,i,o,a){if(this.rx=t,this.ry=n,this.x2=a,0!=t&&0!=n){r=r*(Math.PI/180);t=Math.abs(t),n=Math.abs(n);var s=this.rotClockwise(this.midPoint(e,a),r),u=this.pointMul(s,s),c=Math.pow(t,2),l=Math.pow(n,2),f=Math.sqrt(u[0]/c+u[1]/l);f>1&&(t*=f,n*=f,c=Math.pow(t,2),l=Math.pow(n,2));var h=c*l-c*u[1]-l*u[0];h>-1e-6&&1e-6>h&&(h=0);var d=c*u[1]+l*u[0];d>-1e-6&&1e-6>d&&(d=0);var p=Math.sqrt(h/d);i==o&&(p*=-1);var g=this.scale(p,[t*s[1]/n,-n*s[0]/t]),v=this.sum(this.rotCounterClockwise(g,r),this.meanVec(e,a)),m=[(s[0]-g[0])/t,(s[1]-g[1])/n],y=[(-1*s[0]-g[0])/t,(-1*s[1]-g[1])/n],_=this.angle([1,0],m),b=this.angle(m,y);isNaN(b)&&(b=Math.PI);var A=_,w=_+b;this.cx=v[0],this.cy=v[1],this.phi=r,this.rx=t,this.ry=n,this.start=A,this.end=w,this.fS=!o}}return e.prototype.mag=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},e.prototype.meanVec=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},e.prototype.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},e.prototype.ratio=function(e,t){return this.dot(e,t)/(this.mag(e)*this.mag(t))},e.prototype.rotClockwise=function(e,t){var n=Math.cos(t),r=Math.sin(t);return[n*e[0]+r*e[1],-1*r*e[0]+n*e[1]]},e.prototype.pointMul=function(e,t){return[e[0]*t[0],e[1]*t[1]]},e.prototype.scale=function(e,t){return[e*t[0],e*t[1]]},e.prototype.sum=function(e,t){return[e[0]+t[0],e[1]+t[1]]},e.prototype.angle=function(e,t){var n=1;return e[0]*t[1]-e[1]*t[0]<0&&(n=-1),n*Math.acos(this.ratio(e,t))},e.prototype.rotCounterClockwise=function(e,t){var n=Math.cos(t),r=Math.sin(t);return[n*e[0]-r*e[1],r*e[0]+n*e[1]]},e.prototype.midPoint=function(e,t){return[(e[0]-t[0])/2,(e[1]-t[1])/2]},e.prototype.exec=function(e){return 0==this.rx||0==this.ry?void e.lineTo(this.x2[0],this.x2[1]):(e.translate(this.cx,this.cy),e.rotate(this.phi),e.scale(this.rx,this.ry),e.arc(0,0,1,this.start,this.end,this.fS),e.scale(1/this.rx,1/this.ry),e.rotate(-this.phi),void e.translate(-this.cx,-this.cy))},e}();e.SVGArc=t}(e.Graphics||(e.Graphics={}))}(i||(i={})),function(e){var t=function(){function e(){}return e.NORMAL=0,e.UPPER=1,e.LOWER=2,e.SMALL_CAPS=3,e}();e.Case=t}(o||(o={})),function(e){var t=function(){function e(){}return e.TOP_LEFT=0,e.TOP_CENTER=1,e.TOP_RIGHT=2,e.MIDDLE_LEFT=3,e.MIDDLE_CENTER=4,e.MIDDLE_RIGHT=5,e.BOTTOM_LEFT=6,e.BOTTOM_CENTER=7,e.BOTTOM_RIGHT=8,e.TL=0,e.TC=1,e.TR=2,e.ML=3,e.MC=4,e.MR=5,e.BL=6,e.BC=7,e.BR=8,e}();e.Align=t}(o||(o={})),function(e){var t=function(t){function n(n){if(void 0===n&&(n=null),t.call(this),this.text="",this.lineHeight=null,this.width=100,this.height=20,this.align=e.Align.TOP_LEFT,this.characterCase=e.Case.NORMAL,this.size=12,this.minSize=null,this.maxTracking=null,this.font="belinda",this.tracking=0,this.ligatures=!1,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.singleLine=!1,this.autoExpand=!1,this.autoReduce=!1,this.overset=!1,this.oversetIndex=null,this.loaderId=null,this.style=null,this.debug=!1,this.original=null,this.lines=[],this.missingGlyphs=null,this.renderCycle=!0,this.measured=!1,this.oversetPotential=!1,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,n&&(this.original=n,this.set(n),this.original.tracking=this.tracking),null==this.style)e.FontLoader.load(this,[this.font]);else{for(var r=[this.font],i=this.style.length,o=0;i>o;++o)null!=this.style[o]&&null!=this.style[o].font&&r.push(this.style[o].font);e.FontLoader.load(this,r)}}return a(n,t),n.prototype.complete=function(){},n.prototype.fontLoaded=function(){this.layout()},n.prototype.render=function(){this.getStage().update()},n.prototype.layout=function(){if(e.Accessibility.set(this),this.overset=!1,this.measured=!1,this.oversetPotential=!1,this.original.size&&(this.size=this.original.size),this.original.tracking&&(this.tracking=this.original.tracking),this.text=this.text.replace(/([\n][ \t]+)/g,"\n"),!0===this.singleLine&&(this.text=this.text.split("\n").join(""),this.text=this.text.split("\r").join("")),this.lines=[],this.missingGlyphs=null,this.removeAllChildren(),""===this.text||void 0===this.text)return this.render(),void this.complete();if(this.block=new i.Container,this.addChild(this.block),1==this.debug){var t=e.FontLoader.getFont(this.font),n=new i.Shape;n.graphics.beginStroke("#FF0000"),n.graphics.setStrokeStyle(1.2),n.graphics.drawRect(0,0,this.width,this.height),this.addChild(n),(n=new i.Shape).graphics.beginFill("#000"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=0,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#F00"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t["cap-height"]/t.units*this.size,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#0F0"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t.ascent/t.units*this.size,this.block.addChild(n),(n=new i.Shape).graphics.beginFill("#00F"),n.graphics.drawRect(0,0,this.width,.2),n.x=0,n.y=-t.descent/t.units*this.size,this.block.addChild(n)}return!0!==this.singleLine||!0!==this.autoExpand&&!0!==this.autoReduce||this.measure(),!1===this.renderCycle?(this.removeAllChildren(),void this.complete()):!1===this.characterLayout()?void this.removeAllChildren():(this.lineLayout(),this.render(),void this.complete())},n.prototype.measure=function(){this.measured=!0;for(var t,n,r=(this.original.size,this.text.length),i=(this.getWidth(),{size:this.original.size,font:this.original.font,tracking:this.original.tracking,characterCase:this.original.characterCase}),o=null,a=[],s=i.size,u=0;r>u;u++)o=this.text.charCodeAt(u),t=i,void 0!==this.original.style&&void 0!==this.original.style[u]&&(void 0===(t=this.original.style[u]).size&&(t.size=i.size),void 0===t.font&&(t.font=i.font),void 0===t.tracking&&(t.tracking=i.tracking)),t.size>s&&(s=t.size),n=e.FontLoader.fonts[t.font],a.push({char:this.text[u],size:t.size,charCode:o,font:t.font,offset:n.glyphs[o].offset,units:n.units,tracking:this.trackingOffset(t.tracking,t.size,n.units),kerning:n.glyphs[o].getKerning(this.getCharCodeAt(u+1),1)});var c=t.size,l=(t.font,n.glyphs[32].offset);n.units;a[a.length-1].tracking=0,r=a.length;var f=0,h=0,d=null;for(u=0;r>u;u++)f=f+(d=a[u]).offset+d.kerning,h+=(d.offset+d.kerning)*d.size,(d.offset+d.kerning+d.tracking)*d.size;if(h>this.width){if(!0===this.autoReduce)return this.tracking=0,this.size=this.original.size*this.width/(h+l*c),null!=this.minSize&&this.size<this.minSize&&(this.size=this.minSize,this.oversetPotential=!0),!0}else{var p=this.offsetTracking((this.width-h)/r,d.size,d.units);if(0>p&&(p=0),p>this.original.tracking&&this.autoExpand)return this.tracking=null!=this.maxTracking&&p>this.maxTracking?this.maxTracking:p,this.size=this.original.size,!0;if(p<this.original.tracking&&this.autoReduce)return this.tracking=null!=this.maxTracking&&p>this.maxTracking?this.maxTracking:p,this.size=this.original.size,!0}return!0},n.prototype.trackingOffset=function(e,t,n){return t*(2.5/n+1/900+e/990)},n.prototype.offsetTracking=function(e,t,n){return Math.floor(990*(e-2.5/n-1/900)/t)},n.prototype.getWidth=function(){return this.width},n.prototype.characterLayout=function(){var t,n=this.text.length,r={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},i=r,o=0,a=0,s=0,u=!0,c=new e.Line;this.lines.push(c),this.block.addChild(c);for(var l=0;n>l;l++)if(null!==this.style&&void 0!==this.style[l]&&(void 0===(i=this.style[l]).size&&(i.size=r.size),void 0===i.font&&(i.font=r.font),void 0===i.tracking&&(i.tracking=r.tracking),void 0===i.characterCase&&(i.characterCase=r.characterCase),void 0===i.fillColor&&(i.fillColor=r.fillColor),void 0===i.strokeColor&&(i.strokeColor=r.strokeColor),void 0===i.strokeWidth&&(i.strokeWidth=r.strokeWidth)),"\n"!=this.text.charAt(l)&&"\r"!=this.text.charAt(l)){if(!1===e.FontLoader.isLoaded(i.font))return e.FontLoader.load(this,[i.font]),!1;if(t=new e.Character(this.text.charAt(l),i,l),this.original.character&&(this.original.character.added&&t.on("added",this.original.character.added),this.original.character.click&&t.on("click",this.original.character.click),this.original.character.dblclick&&t.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&t.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&t.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&t.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&t.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&t.on("pressup",this.original.character.pressup),this.original.character.removed&&t.on("removed",this.original.character.removed),this.original.character.rollout&&t.on("rollout",this.original.character.rollout),this.original.character.rollover&&t.on("rollover",this.original.character.rollover),this.original.character.tick&&t.on("tick",this.original.character.tick)),t.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:l,character:this.text.charAt(l),font:i.font})),!0===u?a<t.size&&(a=t.size):null!=this.lineHeight&&this.lineHeight>0?a<this.lineHeight&&(a=this.lineHeight):t.measuredHeight>a&&(a=t.measuredHeight),0==i.tracking&&1==this.ligatures){var f=this.text.substr(l,4);t._font.ligatures[f.charAt(0)]&&t._font.ligatures[f.charAt(0)][f.charAt(1)]&&(t._font.ligatures[f.charAt(0)][f.charAt(1)][f.charAt(2)]?t._font.ligatures[f.charAt(0)][f.charAt(1)][f.charAt(2)][f.charAt(3)]?(t.setGlyph(t._font.ligatures[f.charAt(0)][f.charAt(1)][f.charAt(2)][f.charAt(3)].glyph),l+=3):(t.setGlyph(t._font.ligatures[f.charAt(0)][f.charAt(1)][f.charAt(2)].glyph),l+=2):(t.setGlyph(t._font.ligatures[f.charAt(0)][f.charAt(1)].glyph),l+=1))}if(1==this.overset)break;if(!1===this.singleLine&&o+t.measuredWidth>this.width){var h=c.children[c.children.length-1];c.measuredWidth=32==h.characterCode?o-h.measuredWidth-h.trackingOffset()-h._glyph.getKerning(this.getCharCodeAt(l),h.size):o-h.trackingOffset()-h._glyph.getKerning(this.getCharCodeAt(l),h.size),!0===u?(c.measuredHeight=a,c.y=0,s=0):(c.measuredHeight=a,s+=a,c.y=s),u=!1,(c=new e.Line).addChild(t),o=32==t.characterCode?0:t.x+t._glyph.offset*t.size+t.characterCaseOffset+t.trackingOffset(),this.lines.push(c),this.block.addChild(c),a=0}else 1==this.measured&&!0===this.singleLine&&o+t.measuredWidth>this.width&&1==this.oversetPotential||0==this.measured&&!0===this.singleLine&&o+t.measuredWidth>this.width?(this.oversetIndex=l,this.overset=!0):(t.x=o,c.addChild(t),o=t.x+t._glyph.offset*t.size+t.characterCaseOffset+t.trackingOffset()+t._glyph.getKerning(this.getCharCodeAt(l+1),t.size))}else n-1>l&&(!0===u?(a=i.size,c.measuredHeight=i.size,c.measuredWidth=o,s=0,c.y=0):null!=this.lineHeight?(a=this.lineHeight,c.measuredHeight=a,c.measuredWidth=o,s+=a,c.y=s):(a=t.measuredHeight,c.measuredHeight=a,c.measuredWidth=o,s+=a,c.y=s),u=!1,(c=new e.Line).measuredHeight=i.size,c.measuredWidth=0,this.lines.push(c),this.block.addChild(c),a=0,o=0),"\r"==this.text.charAt(l)&&"\n"==this.text.charAt(l+1)&&l++;return 0==c.children.length&&(this.lines.pop(),o=(c=this.lines[this.lines.length-1]).measuredWidth,a=c.measuredHeight),!0===u?(c.measuredWidth=o,c.measuredHeight=a,c.y=0):(c.measuredWidth=o,c.measuredHeight=a,0==a&&(a=this.lineHeight?this.lineHeight:i.size),c.y=s+a),!0},n.prototype.getCharCodeAt=function(t){return this.characterCase==e.Case.NORMAL?this.text.charAt(t).charCodeAt(0):this.characterCase==e.Case.UPPER?this.text.charAt(t).toUpperCase().charCodeAt(0):this.characterCase==e.Case.LOWER?this.text.charAt(t).toLowerCase().charCodeAt(0):this.characterCase==e.Case.SMALL_CAPS?this.text.charAt(t).toUpperCase().charCodeAt(0):this.text.charAt(t).charCodeAt(0)},n.prototype.lineLayout=function(){for(var t,n=0,r=e.Align,i=e.FontLoader.getFont(this.font),o=(this.size,i.ascent,i.units,this.size,i["cap-height"],i.units,this.size,i["x-height"],i.units,this.size,i.descent,i.units,this.lines.length),a=0;o>a;a++)(t=this.lines[a]).lastCharacter()&&(t.measuredWidth-=t.lastCharacter().trackingOffset()),this.original.line&&(this.original.line.added&&t.on("added",this.original.line.added),this.original.line.click&&t.on("click",this.original.line.click),this.original.line.dblclick&&t.on("dblclick",this.original.line.dblclick),this.original.line.mousedown&&t.on("mousedown",this.original.line.mousedown),this.original.line.mouseout&&t.on("mouseout",this.original.line.mouseout),this.original.line.mouseover&&t.on("mouseover",this.original.line.mouseover),this.original.line.pressmove&&t.on("pressmove",this.original.line.pressmove),this.original.line.pressup&&t.on("pressup",this.original.line.pressup),this.original.line.removed&&t.on("removed",this.original.line.removed),this.original.line.rollout&&t.on("rollout",this.original.line.rollout),this.original.line.rollover&&t.on("rollover",this.original.line.rollover),this.original.line.tick&&t.on("tick",this.original.line.tick)),n+=t.measuredHeight,this.align===r.TOP_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.TOP_RIGHT?t.x=this.width-t.measuredWidth:this.align===r.MIDDLE_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.MIDDLE_RIGHT?t.x=this.width-t.measuredWidth:this.align===r.BOTTOM_CENTER?t.x=(this.width-t.measuredWidth)/2:this.align===r.BOTTOM_RIGHT&&(t.x=this.width-t.measuredWidth);this.align===r.TOP_LEFT||this.align===r.TOP_CENTER||this.align===r.TOP_RIGHT?this.block.y=0==i.top?this.lines[0].measuredHeight*i.ascent/i.units:this.lines[0].measuredHeight*i.ascent/i.units+this.lines[0].measuredHeight*i.top/i.units:this.align===r.MIDDLE_LEFT||this.align===r.MIDDLE_CENTER||this.align===r.MIDDLE_RIGHT?this.block.y=this.lines[0].measuredHeight+(this.height-n)/2+this.lines[0].measuredHeight*i.middle/i.units:(this.align===r.BOTTOM_LEFT||this.align===r.BOTTOM_CENTER||this.align===r.BOTTOM_RIGHT)&&(this.block.y=this.height-this.lines[this.lines.length-1].y+this.lines[0].measuredHeight*i.bottom/i.units),this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick))},n}(i.Container);e.CharacterText=t}(o||(o={})),function(e){!function(e){e[e.Top=0]="Top",e[e.CapHeight=1]="CapHeight",e[e.Center=2]="Center",e[e.BaseLine=3]="BaseLine",e[e.Bottom=4]="Bottom",e[e.XHeight=5]="XHeight",e[e.Ascent=6]="Ascent",e[e.Percent=7]="Percent"}(e.VerticalAlign||(e.VerticalAlign={}));var t=(e.VerticalAlign,function(t){function n(n){if(void 0===n&&(n=null),t.call(this),this.text="",this.characterCase=e.Case.NORMAL,this.size=12,this.font="belinda",this.tracking=0,this.ligatures=!1,this.minSize=null,this.maxTracking=null,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.style=null,this.debug=!1,this.original=null,this.autoExpand=!1,this.autoReduce=!1,this.overset=!1,this.oversetIndex=null,this.pathPoints=null,this.path="",this.start=0,this.end=null,this.flipped=!1,this.fit=0,this.align=0,this.valign=3,this.missingGlyphs=null,this.renderCycle=!0,this.valignPercent=1,this.initialTracking=0,this.initialOffset=0,this.measured=!1,this.oversetPotential=!1,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,n&&(this.original=n,this.set(n),this.original.tracking=this.tracking),null==this.style)e.FontLoader.load(this,[this.font]);else{for(var r=[this.font],i=this.style.length,o=0;i>o;++o)null!=this.style[o]&&null!=this.style[o].font&&r.push(this.style[o].font);e.FontLoader.load(this,r)}this.pathPoints=new e.Path(this.path,this.start,this.end,this.flipped,this.fit,this.align)}return a(n,t),n.prototype.complete=function(){},n.prototype.setPath=function(e){this.path=e,this.pathPoints.path=this.path,this.pathPoints.update()},n.prototype.setStart=function(e){this.start=e,this.pathPoints.start=this.start,this.pathPoints.update()},n.prototype.setEnd=function(e){this.end=e,this.pathPoints.end=this.end,this.pathPoints.update()},n.prototype.setFlipped=function(e){this.flipped=e,this.pathPoints.flipped=this.flipped,this.pathPoints.update()},n.prototype.setFit=function(e){void 0===e&&(e=0),this.fit=e,this.pathPoints.fit=this.fit,this.pathPoints.update()},n.prototype.setAlign=function(e){void 0===e&&(e=0),this.align=e,this.pathPoints.align=this.align,this.pathPoints.update()},n.prototype.fontLoaded=function(){this.layout()},n.prototype.render=function(){this.getStage().update()},n.prototype.getWidth=function(){return this.pathPoints.realLength},n.prototype.layout=function(){if(e.Accessibility.set(this),this.overset=!1,this.oversetIndex=null,this.removeAllChildren(),this.characters=[],this.missingGlyphs=null,this.measured=!1,this.oversetPotential=!1,1==this.debug){var t=new i.Shape;t.graphics.beginStroke("#FF0000"),t.graphics.setStrokeStyle(.1),t.graphics.decodeSVGPath(this.path),t.graphics.endFill(),t.graphics.endStroke(),this.addChild(t),t=new i.Shape;var n=this.pathPoints.getRealPathPoint(0);t.x=n.x,t.y=n.y,t.graphics.beginFill("black"),t.graphics.drawCircle(0,0,2),this.addChild(t),t=new i.Shape;n=this.pathPoints.getRealPathPoint(this.pathPoints.start);t.x=n.x,t.y=n.y,t.graphics.beginFill("green"),t.graphics.drawCircle(0,0,2),this.addChild(t),t=new i.Shape,n=this.pathPoints.getRealPathPoint(this.pathPoints.end),t.x=n.x,t.y=n.y,t.graphics.beginFill("red"),t.graphics.drawCircle(0,0,2),this.addChild(t),t=new i.Shape,n=this.pathPoints.getRealPathPoint(this.pathPoints.center),t.x=n.x,t.y=n.y,t.graphics.beginFill("blue"),t.graphics.drawCircle(0,0,2),this.addChild(t)}return""===this.text||void 0===this.text?void this.render():(this.block=new i.Container,this.addChild(this.block),!0!==this.autoExpand&&!0!==this.autoReduce||!1!==this.measure()?!1===this.renderCycle?(this.removeAllChildren(),void this.complete()):!1===this.characterLayout()?void this.removeAllChildren():(this.render(),void this.complete()):void this.removeAllChildren())},n.prototype.measure=function(){this.measured=!0;for(var t,n,r=(this.original.size,this.text.length),i=this.getWidth(),o={size:this.original.size,font:this.original.font,tracking:this.original.tracking,characterCase:this.original.characterCase},a=null,s=[],u=o.size,c=0;r>c;c++)a=this.text.charCodeAt(c),t=o,void 0!==this.original.style&&void 0!==this.original.style[c]&&(void 0===(t=this.original.style[c]).size&&(t.size=o.size),void 0===t.font&&(t.font=o.font),void 0===t.tracking&&(t.tracking=o.tracking)),t.size>u&&(u=t.size),n=e.FontLoader.fonts[t.font],s.push({char:this.text[c],size:t.size,charCode:a,font:t.font,offset:n.glyphs[a].offset,units:n.units,tracking:this.trackingOffset(t.tracking,t.size,n.units),kerning:n.glyphs[a].getKerning(this.getCharCodeAt(c+1),1)});var l=t.size,f=(t.font,n.glyphs[32].offset);n.units;s[s.length-1].tracking=0,r=s.length;var h=0,d=0,p=null;for(c=0;r>c;c++)h=h+(p=s[c]).offset+p.kerning,d+=(p.offset+p.kerning)*p.size,(p.offset+p.kerning+p.tracking)*p.size;if(d>i){if(!0===this.autoReduce)return this.tracking=0,this.size=this.original.size*i/(d+f*l),null!=this.minSize&&this.size<this.minSize&&(this.size=this.minSize,!1===this.renderCycle?this.overset=!0:this.oversetPotential=!0),!0}else{var g=this.offsetTracking((i-d)/r,p.size,p.units);if(0>g&&(g=0),g>this.original.tracking&&this.autoExpand)return this.tracking=null!=this.maxTracking&&g>this.maxTracking?this.maxTracking:g,this.size=this.original.size,!0;if(g<this.original.tracking&&this.autoReduce)return this.tracking=null!=this.maxTracking&&g>this.maxTracking?this.maxTracking:g,this.size=this.original.size,!0}return!0},n.prototype.characterLayout=function(){for(var t,n=this.text.length,r={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},o=r,a=0,s=0;n>s;s++)if(null!==this.style&&void 0!==this.style[s]&&(void 0===(o=this.style[s]).size&&(o.size=r.size),void 0===o.font&&(o.font=r.font),void 0===o.tracking&&(o.tracking=r.tracking),void 0===o.characterCase&&(o.characterCase=r.characterCase),void 0===o.fillColor&&(o.fillColor=r.fillColor),void 0===o.strokeColor&&(o.strokeColor=r.strokeColor),void 0===o.strokeWidth&&(o.strokeWidth=r.strokeWidth)),"\n"!=this.text.charAt(s)){if(!1===e.FontLoader.isLoaded(o.font))return e.FontLoader.load(this,[o.font]),!1;if(0==a&&(a=this.initialOffset+this.trackingOffset(this.initialTracking,o.size,e.FontLoader.getFont(o.font).units)),t=new e.Character(this.text.charAt(s),o,s),this.original.character&&(this.original.character.added&&t.on("added",this.original.character.added),this.original.character.click&&t.on("click",this.original.character.click),this.original.character.dblclick&&t.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&t.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&t.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&t.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&t.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&t.on("pressup",this.original.character.pressup),this.original.character.removed&&t.on("removed",this.original.character.removed),this.original.character.rollout&&t.on("rollout",this.original.character.rollout),this.original.character.rollover&&t.on("rollover",this.original.character.rollover),this.original.character.tick&&t.on("tick",this.original.character.tick)),t.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:s,character:this.text.charAt(s),font:o.font})),0==o.tracking&&1==this.ligatures){var u=this.text.substr(s,4);t._font.ligatures[u.charAt(0)]&&t._font.ligatures[u.charAt(0)][u.charAt(1)]&&(t._font.ligatures[u.charAt(0)][u.charAt(1)][u.charAt(2)]?t._font.ligatures[u.charAt(0)][u.charAt(1)][u.charAt(2)][u.charAt(3)]?(t.setGlyph(t._font.ligatures[u.charAt(0)][u.charAt(1)][u.charAt(2)][u.charAt(3)].glyph),s+=3):(t.setGlyph(t._font.ligatures[u.charAt(0)][u.charAt(1)][u.charAt(2)].glyph),s+=2):(t.setGlyph(t._font.ligatures[u.charAt(0)][u.charAt(1)].glyph),s+=1))}if(1==this.overset)break;if(1==this.measured&&a+t.measuredWidth>this.getWidth()&&1==this.oversetPotential){this.oversetIndex=s,this.overset=!0;break}if(0==this.measured&&a+t.measuredWidth>this.getWidth()){this.oversetIndex=s,this.overset=!0;break}t.hPosition=a,this.characters.push(t),this.block.addChild(t),a=a+t._glyph.offset*t.size+t.characterCaseOffset+t.trackingOffset()+t._glyph.getKerning(this.getCharCodeAt(s+1),t.size)}n=this.characters.length;var c,l=!1;for(s=0;n>s;s++)if(t=this.characters[s],c=this.pathPoints.getPathPoint(t.hPosition,a,t._glyph.offset*t.size),1==l&&(this.characters[s-1].parent.rotation=c.rotation,l=!1),1==c.next&&(l=!0),t.rotation=c.rotation,3==this.valign)if(t.x=c.x,t.y=c.y,c.offsetX){(f=new i.Container).x=c.x,f.y=c.y,f.rotation=c.rotation,t.parent.removeChild(t),f.addChild(t),t.x=c.offsetX,t.y=0,t.rotation=0,this.addChild(f)}else t.x=c.x,t.y=c.y,t.rotation=c.rotation;else{var f;(f=new i.Container).x=c.x,f.y=c.y,f.rotation=c.rotation,t.parent.removeChild(t),f.addChild(t),t.x=0,t.y=0==this.valign?t.size:4==this.valign?t._font.descent/t._font.units*t.size:1==this.valign?t._font["cap-height"]/t._font.units*t.size:5==this.valign?t._font["x-height"]/t._font.units*t.size:6==this.valign?t._font.ascent/t._font.units*t.size:2==this.valign?t._font["cap-height"]/t._font.units*t.size/2:7==this.valign?this.valignPercent*t.size:0,t.rotation=0,this.addChild(f)}return this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick)),!0},n.prototype.trackingOffset=function(e,t,n){return t*(2.5/n+1/900+e/990)},n.prototype.offsetTracking=function(e,t,n){return Math.floor(990*(e-2.5/n-1/900)/t)},n.prototype.getCharCodeAt=function(t){return this.characterCase==e.Case.NORMAL?this.text.charAt(t).charCodeAt(0):this.characterCase==e.Case.UPPER?this.text.charAt(t).toUpperCase().charCodeAt(0):this.characterCase==e.Case.LOWER?this.text.charAt(t).toLowerCase().charCodeAt(0):this.characterCase==e.Case.SMALL_CAPS?this.text.charAt(t).toUpperCase().charCodeAt(0):this.text.charAt(t).charCodeAt(0)},n}(i.Container));e.PathText=t}(o||(o={})),function(e){!function(e){e[e.Rainbow=0]="Rainbow",e[e.Stairstep=1]="Stairstep"}(e.PathFit||(e.PathFit={})),e.PathFit,function(e){e[e.Center=0]="Center",e[e.Right=1]="Right",e[e.Left=2]="Left"}(e.PathAlign||(e.PathAlign={}));var t=(e.PathAlign,function(){function e(e,t,n,r,i,o){void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=0),void 0===o&&(o=0),this.pathElement=null,this.path=null,this.start=0,this.center=null,this.end=null,this.angles=null,this.flipped=!1,this.fit=0,this.align=0,this.length=null,this.realLength=null,this.closed=!1,this.clockwise=!0,this.path=e,this.start=t,this.align=o,this.end=n,this.flipped=r,this.fit=i,this.update()}return e.prototype.update=function(){this.pathElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.pathElement.setAttributeNS(null,"d",this.path),this.length=this.pathElement.getTotalLength(),this.closed=-1!=this.path.toLowerCase().indexOf("z");var e=this.length/10,t=[];t.push(this.getRealPathPoint(0)),t.push(this.getRealPathPoint(e)),t.push(this.getRealPathPoint(2*e)),t.push(this.getRealPathPoint(3*e)),t.push(this.getRealPathPoint(4*e)),t.push(this.getRealPathPoint(5*e)),t.push(this.getRealPathPoint(6*e)),t.push(this.getRealPathPoint(7*e)),t.push(this.getRealPathPoint(8*e)),t.push(this.getRealPathPoint(9*e)),t.push(this.getRealPathPoint(10*e));var n=(t[1].x-t[0].x)*(t[1].y+t[0].y)+(t[2].x-t[1].x)*(t[2].y+t[1].y)+(t[3].x-t[2].x)*(t[3].y+t[2].y)+(t[4].x-t[3].x)*(t[4].y+t[3].y)+(t[5].x-t[4].x)*(t[5].y+t[4].y)+(t[6].x-t[5].x)*(t[6].y+t[5].y)+(t[7].x-t[6].x)*(t[7].y+t[6].y)+(t[8].x-t[7].x)*(t[8].y+t[7].y)+(t[9].x-t[8].x)*(t[9].y+t[8].y)+(t[10].x-t[9].x)*(t[10].y+t[9].y);this.clockwise=!(n>0),null==this.end&&(this.end=this.length),0==this.closed?(this.flipped,this.start>this.end?(this.realLength=this.start-this.end,this.center=this.start-this.realLength/2):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2)):0==this.clockwise?0==this.flipped?this.start>this.end?(this.realLength=this.start-this.end,this.center=this.end+this.realLength/2):(this.realLength=this.start+this.length-this.end,this.center=this.end+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):this.start>this.end?(this.realLength=this.end+this.length-this.start,this.center=this.start+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):0==this.flipped?this.start>this.end?(this.realLength=this.end+this.length-this.start,this.center=this.start+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):this.start>this.end?(this.realLength=this.start-this.end,this.center=this.end+this.realLength/2):(this.realLength=this.start+this.length-this.end,this.center=this.end+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length))},e.prototype.getRealPathPoint=function(e){return this.pathElement.getPointAtLength(e>this.length?e-this.length:0>e?e+this.length:e)},e.prototype.getPathPoint=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),e*=.99,t*=.99;var r,i,o,a=!0,s=0;if(0==this.closed?0==this.flipped?this.start>this.end?(2==this.align?s=this.start:0==this.align?s=this.start-(this.realLength-t)/2:1==this.align&&(s=this.start-this.realLength-t),o=s-e,a=!1):(2==this.align?s=this.start:0==this.align?s=this.start+(this.realLength-t)/2:1==this.align&&(s=this.start+this.realLength-t),o=s+e):this.start>this.end?(2==this.align?s=this.start:0==this.align?s=this.start-(this.realLength-t)/2:1==this.align&&(s=this.start-this.realLength-t),o=s-e,a=!1):(2==this.align?s=this.start:0==this.align?s=this.start+(this.realLength-t)/2:1==this.align&&(s=this.start+this.realLength-t),o=s-e):0==this.clockwise?0==this.flipped?this.start>this.end?(2==this.align?s=this.start:0==this.align?s=this.start-(this.realLength-t)/2:1==this.align&&(s=this.start-this.realLength-t),o=s-e,a=!1):(2==this.align?o=(s=this.start)-e:0==this.align?o=(s=this.start-(this.realLength-t)/2)-e:1==this.align&&(o=(s=this.start-this.realLength-t)-e),0>o&&(o+=this.length),a=!1):this.start>this.end?(2==this.align?o=(s=this.start)+e:0==this.align?o=(s=this.start+(this.realLength-t)/2)+e:1==this.align&&(o=(s=this.start+this.realLength-t)+e),o>this.length&&(o-=this.length)):(2==this.align?s=this.start:0==this.align?s=this.start+(this.realLength-t)/2:1==this.align&&(s=this.start+this.realLength-t),o=s+e):0==this.flipped?this.start>this.end?(2==this.align?o=(s=this.start)-e:0==this.align?o=(s=this.start-(this.realLength-t)/2)-e:1==this.align&&(o=(s=this.start-this.realLength-t)-e),0>o&&(o+=this.length),a=!1):(2==this.align?s=this.start:0==this.align?s=this.start-(this.realLength-t)/2:1==this.align&&(s=this.start-this.realLength-t),o=s-e,a=!1):this.start>this.end?(2==this.align?s=this.start:0==this.align?s=this.start+(this.realLength-t)/2:1==this.align&&(s=this.start+this.realLength-t),o=s+e):(2==this.align?o=(s=this.start)+e:0==this.align?o=(s=this.start+(this.realLength-t)/2)+e:1==this.align&&(o=(s=this.start+this.realLength-t)+e),o>this.length&&(o-=this.length)),r=this.getRealPathPoint(o),4==this.pathElement.pathSegList.getItem(this.pathElement.getPathSegAtLength(o)).pathSegType)if(a);else if(this.pathElement.getPathSegAtLength(o)!=this.pathElement.getPathSegAtLength(o-n)){var u=this.getRealPathPoint(o),c=this.getRealPathPoint(o-n),l=this.pathElement.pathSegList.getItem(this.pathElement.getPathSegAtLength(o)-1),f=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2));if(f>Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2))){r=u,i={x:l.x,y:l.y};var h=180*Math.atan((i.y-r.y)/(i.x-r.x))/Math.PI;return r.x>i.x&&(h+=180),0>h&&(h+=360),h>360&&(h-=360),r.rotation=h,r}return(r={x:l.x,y:l.y}).offsetX=-f,r.next=!0,r}i=this.getRealPathPoint(a?o+n:o-n);h=180*Math.atan((i.y-r.y)/(i.x-r.x))/Math.PI;return r.x>i.x&&(h+=180),0>h&&(h+=360),h>360&&(h-=360),r.rotation=h,r},e}());e.Path=t}(o||(o={})),function(e){var t=function(e){function t(){e.call(this),this.hasNewLine=!1,this.hasHyphen=!1,this.hasSpace=!1,this.spaceOffset=0}return a(t,e),t.prototype.lastCharacter=function(){return this.children[this.children.length-1]},t}(i.Container);e.Word=t}(o||(o={})),function(e){var t=function(e){function t(){e.call(this)}return a(t,e),t.prototype.lastWord=function(){return this.children[this.children.length-1]},t.prototype.lastCharacter=function(){return this.children[this.children.length-1]},t}(i.Container);e.Line=t}(o||(o={})),function(e){var t=function(){function e(){}return e.VERSION="0.8.5",e.LICENSE="BSD-2-Clause",e.CONTACT="ted@light.ly",e}();e.Info=t}(o||(o={})),window.txt=o},function(e,t){!function(e,t){"use strict";function n(e){return document.createElement(e)}function r(e,t){for(var n in t)try{e.style[n]=t[n]}catch(e){}return e}function i(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof e}function o(e,t){if("array"!==i(t))return-1;if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function a(){var e=arguments;for(var t in e[1])if(e[1].hasOwnProperty(t))switch(i(e[1][t])){case"object":e[0][t]=a({},e[0][t],e[1][t]);break;case"array":e[0][t]=e[1][t].slice(0);break;default:e[0][t]=e[1][t]}return e.length>2?a.apply(null,[e[0]].concat(Array.prototype.slice.call(e,2))):e[0]}function s(e){return 1===(e=Math.round(255*e).toString(16)).length?"0"+e:e}function u(e,t,n,r){e.addEventListener?e[r?"removeEventListener":"addEventListener"](t,n,!1):e.attachEvent&&e[r?"detachEvent":"attachEvent"]("on"+t,n)}var c;!function(){var t=e.performance;if(t&&(t.now||t.webkitNow)){var n=t.now?"now":"webkitNow";c=t[n].bind(t)}else c=function(){return+new Date}}();var l=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,f=e.requestAnimationFrame;!function(){for(var t=["moz","webkit","o"],n=0,r=0,i=t.length;r<i&&!l;++r)l=e[t[r]+"CancelAnimationFrame"]||e[t[r]+"CancelRequestAnimationFrame"],f=l&&e[t[r]+"RequestAnimationFrame"];l||(f=function(t){var r=c(),i=Math.max(0,16-(r-n));return n=r+i,e.setTimeout((function(){t(r+i)}),i)},l=function(e){clearTimeout(e)})}();var h="string"===i(document.createElement("div").textContent)?"textContent":"innerText";function d(e,t){"object"===i(e)&&void 0===e.nodeType&&(t=e,e=document.body),e||(e=document.body);var v,m,y,_,b,A,w,E,x,T=this,S=a({},d.defaults,t||{}),O={},C=[],k=[],P=S.threshold,N=0,I=c()-P,R=[],L=[],D="fps"===S.show;function M(e,t,n,r){return m[0|e][Math.round(Math.min((t-n)/(r-n)*100,100))]}function j(){O.legend.fps!==D&&(O.legend.fps=D,O.legend[h]=D?"FPS":"ms"),w=D?T.fps:T.duration,O.count[h]=w>999?"999+":w.toFixed(w>99?0:S.decimals)}function B(){if(y=c(),I<y-S.threshold&&(T.fps-=T.fps/Math.max(1,60*S.smoothing/S.interval),T.duration=1e3/T.fps),function(){for(E=S.history;E--;)R[E]=0===E?T.fps:R[E-1],L[E]=0===E?T.duration:L[E-1]}(),j(),S.heat){if(k.length)for(E=k.length;E--;)k[E].el.style[v[k[E].name].heatOn]=D?M(v[k[E].name].heatmap,T.fps,0,S.maxFps):M(v[k[E].name].heatmap,T.duration,S.threshold,0);if(O.graph&&v.column.heatOn)for(E=C.length;E--;)C[E].style[v.column.heatOn]=D?M(v.column.heatmap,R[E],0,S.maxFps):M(v.column.heatmap,L[E],S.threshold,0)}if(O.graph)for(x=0;x<S.history;x++)C[x].style.height=(D?R[x]?Math.round(A/S.maxFps*Math.min(R[x],S.maxFps)):0:L[x]?Math.round(A/S.threshold*Math.min(L[x],S.threshold)):0)+"px"}function F(){S.interval<20?(_=f(F),B()):(_=setTimeout(F,S.interval),b=f(B))}function U(e){(e=e||window.event).preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0),T.toggle()}function H(){S.toggleOn&&u(O.container,S.toggleOn,U,1),e.removeChild(O.container)}function G(){for(var t in O.container&&H(),function(){if(v=d.theme[S.theme],!(m=v.compiledHeatmaps||[]).length&&v.heatmaps.length){for(x=0;x<v.heatmaps.length;x++)for(m[x]=[],E=0;E<=100;E++)m[x][E]=(e=.0033*E,t=v.heatmaps[x].saturation,n=v.heatmaps[x].lightness,r=void 0,i=void 0,o=void 0,a=void 0,u=void 0,c=void 0,l=void 0,0==(a=n<=.5?n*(1+t):n+t-n*t)?"#000":(l=a*((a-(u=2*n-a))/a)*((e*=6)-(c=Math.floor(e))),0===c||6===c?(r=a,i=u+l,o=u):1===c?(r=a-l,i=a,o=u):2===c?(r=u,i=a,o=u+l):3===c?(r=u,i=a-l,o=a):4===c?(r=u+l,i=u,o=a):(r=a,i=u,o=a-l),"#"+s(r)+s(i)+s(o)));v.compiledHeatmaps=m}var e,t,n,r,i,o,a,u,c,l}(),O.container=r(n("div"),v.container),O.count=O.container.appendChild(r(n("div"),v.count)),O.legend=O.container.appendChild(r(n("div"),v.legend)),O.graph=S.graph?O.container.appendChild(r(n("div"),v.graph)):0,k.length=0,O)O[t]&&v[t].heatOn&&k.push({name:t,el:O[t]});if(C.length=0,O.graph)for(O.graph.style.width=S.history*v.column.width+(S.history-1)*v.column.spacing+"px",E=0;E<S.history;E++)C[E]=O.graph.appendChild(r(n("div"),v.column)),C[E].style.position="absolute",C[E].style.bottom=0,C[E].style.right=E*v.column.width+E*v.column.spacing+"px",C[E].style.width=v.column.width+"px",C[E].style.height="0px";Q(),j(),e.appendChild(O.container),O.graph&&(A=O.graph.clientHeight),S.toggleOn&&("click"===S.toggleOn&&(O.container.style.cursor="pointer"),u(O.container,S.toggleOn,U))}function Q(){r(O.container,S)}T.options=S,T.fps=0,T.duration=0,T.isPaused=0,T.tickStart=function(){N=c()},T.tick=function(){y=c(),P+=(y-I-P)/S.smoothing,T.fps=1e3/P,T.duration=N<I?P:y-N,I=y},T.pause=function(){return _&&(T.isPaused=1,clearTimeout(_),l(_),l(b),_=b=0),T},T.resume=function(){return _||(T.isPaused=0,F()),T},T.set=function(e,t){return S[e]=t,D="fps"===S.show,-1!==o(e,p)&&G(),-1!==o(e,g)&&Q(),T},T.showDuration=function(){return T.set("show","ms"),T},T.showFps=function(){return T.set("show","fps"),T},T.toggle=function(){return T.set("show",D?"ms":"fps"),T},T.hide=function(){return T.pause(),O.container.style.display="none",T},T.show=function(){return T.resume(),O.container.style.display="block",T},T.destroy=function(){T.pause(),H(),T.tick=T.tickStart=function(){}},G(),F()}d.extend=a,window.FPSMeter=d,d.defaults={interval:100,smoothing:10,show:"fps",toggleOn:"click",decimals:1,maxFps:60,threshold:100,position:"absolute",zIndex:10,left:"5px",top:"5px",right:"auto",bottom:"auto",margin:"0 0 0 0",theme:"dark",heat:0,graph:0,history:20};var p=["toggleOn","theme","heat","graph","history"],g=["position","zIndex","left","top","right","bottom","margin"]}(window),function(e,t,n){"use strict";t.theme={};var r=t.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:"5px",minWidth:"95px",height:"30px",lineHeight:"30px",textAlign:"right",textShadow:"none"},count:{heatOn:null,heatmap:null,position:"absolute",top:0,right:0,padding:"5px 10px",height:"30px",fontSize:"24px",fontFamily:"Consolas, Andale Mono, monospace",zIndex:2},legend:{heatOn:null,heatmap:null,position:"absolute",top:0,left:0,padding:"5px 10px",height:"30px",fontSize:"12px",lineHeight:"32px",fontFamily:"sans-serif",textAlign:"left",zIndex:2},graph:{heatOn:null,heatmap:null,position:"relative",boxSizing:"padding-box",MozBoxSizing:"padding-box",height:"100%",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};t.theme.dark=t.extend({},r,{heatmaps:[{saturation:.8,lightness:.8}],container:{background:"#222",color:"#fff",border:"1px solid #1a1a1a",textShadow:"1px 1px 0 #222"},count:{heatOn:"color"},column:{background:"#3f3f3f"}}),t.theme.light=t.extend({},r,{heatmaps:[{saturation:.5,lightness:.5}],container:{color:"#666",background:"#fff",textShadow:"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},count:{heatOn:"color"},column:{background:"#eaeaea"}}),t.theme.colorful=t.extend({},r,{heatmaps:[{saturation:.5,lightness:.6}],container:{heatOn:"backgroundColor",background:"#888",color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.2)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},column:{background:"#777",backgroundColor:"rgba(0,0,0,.2)"}}),t.theme.transparent=t.extend({},r,{heatmaps:[{saturation:.8,lightness:.5}],container:{padding:0,color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.5)"},count:{padding:"0 5px",height:"40px",lineHeight:"40px"},legend:{padding:"0 5px",height:"40px",lineHeight:"42px"},graph:{height:"40px"},column:{width:5,background:"#999",heatOn:"backgroundColor",opacity:.5}})}(window,FPSMeter)},function(e,t){!function(e){"performance"in e||(e.performance={});var t=e.performance;e.performance.now=t.now||t.mozNow||t.msNow||t.oNow||t.webkitNow||Date.now||function(){return(new Date).getTime()}}(self)},function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return o.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),f=1e3*l/Math.abs(s._rate),h=n._sprite[e][0]/1e3,d=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var p=function(){s._paused=!1,s._seek=c,s._start=h,s._stop=d,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=d)){var g=s._node;if(n._webAudio){var v=function(){n._playLock=!1,p(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;g.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===g.bufferSource.start?s._loop?g.bufferSource.noteGrainOn(0,c,86400):g.bufferSource.noteGrainOn(0,c,l):s._loop?g.bufferSource.start(0,c,86400):g.bufferSource.start(0,c,l),f!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var m=function(){g.currentTime=c,g.muted=s._muted||n._muted||o._muted||g.muted,g.volume=s._volume*o.volume(),g.playbackRate=s._rate;try{var r=g.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,p(),r.then((function(){n._playLock=!1,g._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,p(),n._emit("play",s._id)),g.playbackRate=s._rate,g.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),f):(n._endTimers[s._id]=function(){n._ended(s),g.removeEventListener("ended",n._endTimers[s._id],!1)},g.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=n._src,g.load());var y=window&&window.ejecta||!g.readyState&&o._navigator.isCocoonJS;if(g.readyState>=3||y)m();else{n._playLock=!0,n._state="loading";var _=function(){n._state="loaded",m(),g.removeEventListener(o._canPlayEvent,_,!1)};g.addEventListener(o._canPlayEvent,_,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)(n=r._soundById(t[u]))&&(n._volume=e,i[2]||r._stopFade(t[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var c=o.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),f=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-f)/r;f=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[a])&&(r.pause(o[a],!0),r.play(o[a],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),s=a.indexOf(i[0]);s>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=r._soundById(t[u])){r.playing(t[u])&&(n._rateSeek=r.seek(t[u]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=r.seek(t[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,f=1e3*l/Math.abs(n._rate);!r._endTimers[t[u]]&&n._paused||(r._clearTimer(t[u]),r._endTimers[t[u]]=setTimeout(r._ended.bind(r,n),f)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var i=n._getSoundIds(),a=i.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?o.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var f=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var h=function(){n._playLock?setTimeout(h,0):f()};setTimeout(h,0)}else f()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(t===r[i].fn&&o||!t&&o){r.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(e,r[i].fn,r[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void h(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);f(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?f(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(o)}},l=function(e){try{e.send()}catch(t){e.onerror()}},f=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,h(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(e){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=a,void 0!==n?(n.HowlerGlobal=i,n.Howler=o,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof e?a:(this._orientation=[e,t,n,r,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,i,o),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof e)return o._pos;o._pos=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;e=o[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(48))},function(e,t,n){var r=n(379),i=n(99),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i,o=n(195),a=n(196),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var d=o();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-s+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=g,i=h;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var _=0;_<6;++_)l[c+_]=f[_];return t||a(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Zero=48]="Zero",e[e.ClosedParen=48]="ClosedParen",e[e.One=49]="One",e[e.ExclamationMark=49]="ExclamationMark",e[e.Two=50]="Two",e[e.AtSign=50]="AtSign",e[e.Three=51]="Three",e[e.PoundSign=51]="PoundSign",e[e.Hash=51]="Hash",e[e.Four=52]="Four",e[e.DollarSign=52]="DollarSign",e[e.Five=53]="Five",e[e.PercentSign=53]="PercentSign",e[e.Six=54]="Six",e[e.Caret=54]="Caret",e[e.Hat=54]="Hat",e[e.Seven=55]="Seven",e[e.Ampersand=55]="Ampersand",e[e.Eight=56]="Eight",e[e.Star=56]="Star",e[e.Asterik=56]="Asterik",e[e.Nine=57]="Nine",e[e.OpenParen=57]="OpenParen",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.LeftWindowKey=91]="LeftWindowKey",e[e.RightWindowKey=92]="RightWindowKey",e[e.SelectKey=93]="SelectKey",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.DecimalPoint=110]="DecimalPoint",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.SemiColon=186]="SemiColon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.UnderScore=189]="UnderScore",e[e.PlusSign=187]="PlusSign",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.ClosedBracket=221]="ClosedBracket",e[e.Quote=222]="Quote"}(t.Key||(t.Key={}))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Key",(function(){return r})),function(e){e.Backspace="Backspace",e.Tab="Tab",e.Enter="Enter",e.Shift="Shift",e.Ctrl="Ctrl",e.Alt="Alt",e.PauseBreak="Pause",e.Pause="Pause",e.CapsLock="CapsLock",e.Escape="Escape",e.Space=" ",e.PageUp="PageUp",e.PageDown="PageDown",e.End="End",e.Home="Home",e.Control="Control",e.Clear="Clear",e.LeftArrow="ArrowLeft",e.UpArrow="ArrowUp",e.RightArrow="ArrowRight",e.DownArrow="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Insert="Insert",e.Delete="Delete",e.Zero="0",e.ClosedParen=")",e.One="1",e.ExclamationMark="!",e.Two="2",e.AtSign="@",e.Three="3",e.PoundSign="#",e.Hash="#",e.Four="4",e.DollarSign="$",e.Five="5",e.PercentSign="%",e.Six="6",e.Caret="^",e.Hat="^",e.Seven="7",e.Ampersand="&",e.Eight="8",e.Star="*",e.Asterik="*",e.Nine="9",e.OpenParen="(",e.A="A",e.B="B",e.C="C",e.D="D",e.E="E",e.F="F",e.G="G",e.H="H",e.I="I",e.J="J",e.K="K",e.L="L",e.M="M",e.N="N",e.O="O",e.P="P",e.Q="Q",e.R="R",e.S="S",e.T="T",e.U="U",e.V="V",e.W="W",e.X="X",e.Y="Y",e.Z="Z",e.LOWER_CASE_A="a",e.LOWER_CASE_B="b",e.LOWER_CASE_C="c",e.LOWER_CASE_D="d",e.LOWER_CASE_E="e",e.LOWER_CASE_F="f",e.LOWER_CASE_G="g",e.LOWER_CASE_H="h",e.LOWER_CASE_I="i",e.LOWER_CASE_J="j",e.LOWER_CASE_K="k",e.LOWER_CASE_L="l",e.LOWER_CASE_M="m",e.LOWER_CASE_N="n",e.LOWER_CASE_O="o",e.LOWER_CASE_P="p",e.LOWER_CASE_Q="q",e.LOWER_CASE_R="r",e.LOWER_CASE_S="s",e.LOWER_CASE_T="t",e.LOWER_CASE_U="u",e.LOWER_CASE_V="v",e.LOWER_CASE_W="w",e.LOWER_CASE_X="x",e.LOWER_CASE_Y="y",e.LOWER_CASE_Z="z",e.Meta="Meta",e.ContextMenu="ContextMenu",e.Numpad0="0",e.Numpad1="1",e.Numpad2="2",e.Numpad3="3",e.Numpad4="4",e.Numpad5="5",e.Numpad6="6",e.Numpad7="7",e.Numpad8="8",e.Numpad9="9",e.Multiply="*",e.Add="+",e.Subtract="-",e.DecimalPoint=".",e.Decimal=".",e.Divide="/",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.SemiColon=";",e.Equals="=",e.Comma=",",e.Dash="-",e.Period=".",e.UnderScore="_",e.PlusSign="+",e.Plus="+",e.ForwardSlash="/",e.Tilde="~",e.OpenCurlyBrace="{",e.ClosedCurlyBrace="}",e.OpenSquareBrace="[",e.ClosedSquareBrace="]",e.DoubleQuote='"',e.SingleQuote="'",e.BackTick="`"}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ca=void 0;var r={logger:new(n(383).Logger)};t.ca=r},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var i=r(n(4)),o=r(n(5)),a={},s=["info","log","warn","error"],u=function(){},c=Date.now(),l=function(e){var t="".concat(e.name,".").concat(e.level),n="".concat(e.file,":").concat(e.line);return["[".concat(t," ").concat(n,"]")].concat(e.args)},f=function(e){},h=function(){function e(t,n){(0,i.default)(this,e),this.name=t,this.entries=[],this.setLogLevel(n||"info")}return(0,o.default)(e,null,[{key:"factory",value:function(t,n){return a[t]||(a[t]=new e(t,n)),a[t]}}]),(0,o.default)(e,[{key:"context",value:function(t,n){return e.factory(t,n)}},{key:"getEntries",value:function(e){return this.entries.slice(-(e||0))}},{key:"proxy",value:function(e,t,n,r){if(this[e]!==u){var i={name:this.name,level:e,file:t,line:n,date:new Date,elapsed:Date.now()-c,url:window.location.href,agent:navigator.userAgent,args:[].slice.call(arguments,4)};return this.entries.push(i),this.entries.splice(0,this.entries.length-100),r&&f(i),l(i)}return null}},{key:"onRemote",value:function(e){f=e}},{key:"setFormat",value:function(e){l=e}},{key:"setLogLevel",value:function(e){s.forEach((function(t,n){var r=s.indexOf(e);if(this[t]=u,window.console&&n>=r&&"none"!==e)try{this[t]=window.console[t].bind(window.console,"".concat(this.name,"Logger: "))}catch(e){this[t]=Function.prototype.bind.apply(window.console[t])}}),this)}},{key:"remote",get:function(){return this}}]),e}();t.Logger=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMonkeyPatches=function(e){return Object.keys(e).forEach((function(t){var n=r[t];n&&n.length&&n.forEach((function(n){return e[t]=n(e[t])}))})),e};var r={is:[function(e){var t=e.ios;return e.ios=function(){return t()||e.ireadyApp()},e},function(e){return e.ireadyApp=function(){return window.hasOwnProperty("caDashboard")},e},function(e){return e.device=function(t){switch(t){case"chromebook":return/CrOS/.test(window.navigator.userAgent)}if(!e.ireadyApp())return!1;switch(t){case"ipad4":return["iPad3,4","iPad3,5","iPad3,6"].some((function(e){return-1!==window.caDashboard.deviceModel.indexOf(e)}));case"air":return/iPad4/.test(window.caDashboard.deviceModel);case"air2":return["iPad5,3","iPad5,4"].some((function(e){return-1!==window.caDashboard.deviceModel.indexOf(e)}));case"pro":return/iPad6/.test(window.caDashboard.deviceModel);default:return!1}},e}],React:[function(e){return e}],Howl:[],Sound:[],TimelineMax:[function(){return TimelineMax.clearLoops=function(){TweenMax.getAllTweens().forEach((function(e){e.kill&&e.kill(),e.pause&&e.pause(0,!0),e.remove&&e.remove()}))},TimelineMax}],createjs:[function(){var e=window.createjs,t=e.MovieClip.prototype,n=t.advance,r=t._updateTimeline,i=e.Touch._IE_disable;e.MovieClip.prototype.advance=function(e){n.call(this,void 0===e?null:e)},e.MovieClip.prototype._updateTimeline=function(e,t){r.call(this,null==e?0:e,t)},e.Touch._IE_disable=function(e){e.__touch&&i.call(this,e)}}],Emitter:[function(e){var t=e.prototype.off;e.prototype.off=e.prototype.removeListener=e.prototype.removeEventListener=function(e,n){var r=!1;return e&&(this._callbacks&&this._callbacks["$".concat(e)]&&this._callbacks["$".concat(e)].forEach((function(e){r=e===n||e.fn===n||r})),r||console.warn("Listener not found for",e)),t.call(this,e,n)}}],txt:[function(e){var t=function(){try{return localStorage.setItem("check","check"),localStorage.removeItem("check"),!0}catch(e){return!1}};return e.FontLoader.loadFont=function(n,r){if(e.FontLoader.fonts.hasOwnProperty(n))!0===e.FontLoader.fonts[n].loaded?e.FontLoader.check(r._id):e.FontLoader.fonts[n].targets.push(r._id);else{var i=e.FontLoader.fonts[n]=new e.Font;i.targets.push(r._id);var o=new XMLHttpRequest;if(t&&e.FontLoader.cache){var a=JSON.parse(localStorage.getItem("txt_font_"+n.split(" ").join("_")));null!=a&&a.version===e.FontLoader.version&&(o.cacheResponseText=a.font,o.cacheFont=!0)}o.onload=function(){t&&e.FontLoader.cache&&void 0===this.cacheFont&&localStorage.setItem("txt_font_"+n.split(" ").join("_"),JSON.stringify({font:this.responseText,version:e.FontLoader.version}));var r=this.responseText.split("\n");this.cacheResponseText&&(r=this.cacheResponseText.split("\n"));for(var o,a,s=r.length,u=0;u<s;){switch((o=r[u].split("|"))[0]){case"0":"id"===o[1]||"panose"===o[1]||"family"===o[1]||"font-style"===o[1]||"font-stretch"===o[1]?i[o[1]]=o[2]:i[o[1]]=parseInt(o[2]);break;case"1":(a=new e.Glyph).offset=parseInt(o[2])/i.units,a.path=o[3],i.glyphs[o[1]]=a;break;case"2":void 0===i.kerning[o[1]]&&(i.kerning[o[1]]={}),void 0===i.glyphs[o[1]]&&((a=new e.Glyph).offset=i.default/i.units,a.path="",i.glyphs[o[1]]=a),i.glyphs[o[1]].kerning[o[2]]=parseInt(o[3])/i.units,i.kerning[o[1]][o[2]]=parseInt(o[3])/i.units;break;case"3":o.shift();for(var c=o.length,l=0;l<c;l++)for(var f=o[l].split(""),h=f.length,d=i.ligatures,p=0;p<h;p++)void 0===d[f[p]]&&(d[f[p]]={}),p===h-1&&(d[f[p]].glyph=i.glyphs[o[l]]),d=d[f[p]]}u++}i.cloneGlyph(183,8226),i.cloneGlyph(8729,8226),i.cloneGlyph(12539,8226),i.cloneGlyph(9702,8226),i.cloneGlyph(9679,8226),i.cloneGlyph(9675,8226),void 0===i.top&&(i.top=0),void 0===i.middle&&(i.middle=0),void 0===i.bottom&&(i.bottom=0);var g=i.targets.length;i.loaded=!0;for(var v=0;v<g;++v)e.FontLoader.check(i.targets[v]);i.targets=[]},!0===o.cacheFont?o.onload():(o.open("get",e.FontLoader.path+n.split(" ").join("_")+".txt",!0),o.send())}},e},function(e){e.FontLoader.path="./fonts/";var t=e.FontLoader.load;return e.FontLoader.load=function(n,r){var i=!0;r.forEach((function(t){e.FontLoader.isLoaded(t)||(i=!1)})),i?n.fontLoaded():t(n,r)},e},function(e){return e.Text.prototype.render=function(){},e}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e){var t=e.rendererMapping,n=e.extendConfigFunction;return n&&(0,f.setExtendConfigFunction)(n),function(){window.onunhandledrejection=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,e&&e.reason&&e.reason instanceof Error&&console.error("Unhandled promise rejection: ".concat(e.reason)),!1}}(),o.preloadUtil.updateAndEase({pct:o.PROGRESS.LOADED_MAIN,msg:"loaded main.js and starting to boot the app"}),function(){window.com=window.com||{},window.com.cainc=window.com.cainc||{},window.com.cainc.ifabric=window.com.cainc.ifabric||{}}(),function(){var e=window.navigator.userAgent.match("CrOS"),t=window.navigator.maxTouchPoints>0;e&&t&&(n=window.navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),(n?parseInt(n[2],10):0)>=70)&&!("ontouchstart"in window)&&(window.ontouchstart=i._.noop);var n}(),Promise.resolve().then((function(){return d.audioUtil.checkNativeAudioDecodingSupport().then((function(e){r.store.dispatch((0,p.audioDecoder)(e?g.AudioDecoder.NATIVE:g.AudioDecoder.CUSTOM))}))})).then((function(){return(0,f.loadConfig)()})).then((function(e){return(0,a.setConfig)(e)})).then((function(){return o.preloadUtil.updateAndEase({pct:o.PROGRESS.SET_INITIAL_CONFIG,msg:"set initial config json"})})).then((function(){return(0,s.useModuleMapping)(t)})).then((function(){var e=(0,f.getPathFromConfig)("globalSFX");return(0,l.setGlobalAudioPath)(e),(0,l.initializeGlobalSFX)()})).then((function(){return o.preloadUtil.updateAndEase({pct:o.PROGRESS.INIT_GLOBAL_AUDIO,msg:"initialized global audio and sfx"})})).then((function(){return h.platformConnectionProvider.ready()})).then((function(){return o.preloadUtil.updateAndEase({pct:o.PROGRESS.PLATFORM_CONNECTOR_READY,msg:"platform connection ready"})})).then((function(){return new Promise((function(e,t){if(u.environmentUtil.isIntegratedEnvironment()){var n=document.createElement("script");n.onload=e,n.onerror=t,n.async=!0,n.src="/libs/ctp/1.1.2/ctp.js",document.body.appendChild(n)}else window.com.cainc.ctp={enableMedia:function(e){return e()}},e()}))})).then((function(){return o.preloadUtil.updateAndEase({pct:o.PROGRESS.LOADED_CTP,msg:"loaded Click To Play"})})).then((function(){return(0,c.init)()}))};var r=n(8),i=n(0),o=n(26),a=n(22),s=n(51),u=n(16),c=n(411),l=n(6),f=n(75),h=n(54),d=n(601),p=n(142),g=n(17);n(602)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=o,t.default=function(e){var t=e.getState();return e.subscribe((function(){var n=e.getState();Object.keys(i).forEach((function(e){(0,r.get)(t,e)!==(0,r.get)(n,e)&&i[e].forEach((function(e){return e(n)}))})),t=n})),o};var r=n(387),i={};function o(e,t){return i.hasOwnProperty(e)?i[e].push(t):i[e]=[t],function(){i[e]=i[e].filter((function(e){return e!==t}))}}},function(e,t,n){var r,i,o;!function(n,a){"use strict";"object"==typeof e.exports?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function r(t){return e.call(t)}var i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(e){var a,s,u=function(e){return Object.keys(u).reduce((function(t,n){return"create"===n||"function"==typeof u[n]&&(t[n]=u[n].bind(u,e)),t}),{})};function c(e,t){if(a(e,t))return e[t]}function l(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(o),n,r);var i=t[0],a=s(e,i);return 1===t.length?(void 0!==a&&r||(e[i]=n),a):(void 0===a&&("number"==typeof t[1]?e[i]=[]:e[i]={}),l(e[i],t.slice(1),n,r))}return a=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},s=e.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var n=c(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof n)throw new Error("For security reasons, object's magic properties cannot be set");return n}:function(e,t){return c(e,t)},u.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var a=0;a<r.length;a++){var s=o(r[a]);if(!("number"==typeof s&&i(n)&&s<n.length||(e.includeInheritedProps?s in Object(n):t(n,s))))return!1;n=n[s]}return!0},u.ensureExists=function(e,t,n){return l(e,t,n,!0)},u.set=function(e,t,n,r){return l(e,t,n,r)},u.insert=function(e,t,n,r){var o=u.get(e,t);r=~~r,i(o)||(o=[],u.set(e,t,o)),o.splice(r,0,n)},u.empty=function(e,t){var o,s;if(!n(t)&&(null!=e&&(o=u.get(e,t)))){if("string"==typeof o)return u.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}(o))return u.set(e,t,!1);if("number"==typeof o)return u.set(e,t,0);if(i(o))o.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===r(e)}(o))return u.set(e,t,null);for(s in o)a(o,s)&&delete o[s]}}},u.push=function(e,t){var n=u.get(e,t);i(n)||(n=[],u.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},u.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=u.get(e,t[i])))return r;return n},u.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return u.get(e,t.split("."),n);var r=o(t[0]),i=s(e,r);return void 0===i?n:1===t.length?i:u.get(e[r],t.slice(1),n)},u.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return u.del(e,t.split("."));var r=o(t[0]);return s(e,r),a(e,r)?1!==t.length?u.del(e[r],t.slice(1)):(i(e)?e.splice(r,1):delete e[r],e):e},u}var s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s}))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43)),o=n(71),a=r(n(389)),s=r(n(390)),u=function(e){var t=("object"===("undefined"==typeof window?"undefined":(0,i.default)(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.compose)((0,o.applyMiddleware)(a.default));return(0,o.createStore)(s.default,e,t)};t.default=u},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}n.r(t);var i=r();i.withExtraArgument=r,t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(71),i=n(25),o=n(30),a=n(20),s=n(52),u=n(14),c=n(117),l=n(90),f=n(9),h=n(86),d=n(146);Object(i.b)();const p=Object(r.combineReducers)({app:o.default,learningComponent:l.default,lesson:a.default,navigation:f.default,screen:u.default,text:s.default,userDetails:c.default,preferences:h.default,automation:d.default});t.default=p},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){e.exports=n(396)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(397),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=g;var l={},f={};f[o]=function(){return this};var h=Object.getPrototypeOf,d=h&&h(h(S([])));d&&d!==n&&r.call(d,o)&&(f=d);var p=_.prototype=m.prototype=Object.create(f);y.prototype=p.constructor=_,_.constructor=y,_[s]=y.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(p),e},c.awrap=function(e){return{__await:e}},b(A.prototype),A.prototype[a]=function(){return this},c.AsyncIterator=A,c.async=function(e,t,n,r){var i=new A(g(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(p),p[s]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function g(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=v(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function m(){}function y(){}function _(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=v(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(c).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=v(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(400))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var f=new(function(e){(0,a.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"load",value:function(e){var t=this,n=e;if(n&&n.length<=0)this.dispatchEvent("complete");else{"string"==typeof n&&(n=[n]);for(var r=[],i="",o=1;o<n.length;o++)i+="a",r.push({color:"#000000",size:45,font:n[o]});new c.txtjs.Text({text:i,font:n[0],style:r,width:300,complete:function(){t.dispatchEvent("complete")}})}}}]),n}(c.createjs.EventDispatcher));t.FontLoader=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVTT=a,t.generateCCEvent=s,t.getCues=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?u():a(e),r=[];return o._.forEach(n,(function(e){r.push(s(e,"start")),r.push(s(e,"end"))})),r};var r=n(403),i=n(7),o=n(0);function a(e){var t=new r.WebVTT.Parser({VTTCue:r.VTTCue},r.WebVTT.StringDecoder()),n=[],o=new RegExp(/^(\[(?:sfx|sound effects*)\])$/gi);return t.oncue=function(e){e.text.match(o)||n.push(e)},t.onparsingerror=function(e){i.utilLogger.log("WebVTT Parsing Error on ".concat(e))},t.parse(e),t.flush(),n}function s(e,t){var n="start"===t?"start":"end";return{time:"start"===t?1e3*e.startTime:1e3*e.endTime,targets:[{type:"callable-mechanism",target:e.text,action:"cc"}],type:n}}function u(){return[new r.VTTCue(0,Number.POSITIVE_INFINITY,"____")]}},function(e,t,n){var r=n(404),i=e.exports={WebVTT:n(405),VTTCue:n(408),VTTRegion:n(409)};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=r.VTTCue,u=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=a},i.restore=function(){r.VTTCue=s,r.VTTRegion=u},r.VTTCue||i.shim()},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(48))},function(e,t,n){var r=n(406),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=i(null)}function u(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function c(e,t,n){var r=e;function i(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),c(),t.endTime=i(),c(),function(e,t){var r=new s;u(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(e){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=i(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=r.createElement&&r.createElement("textarea"),f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},d={v:"title",lang:"lang"},p={rt:"ruby"};function g(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!p[t.localName]||p[t.localName]===e.localName}function i(t,n){var r=f[t];if(!r)return null;var i=e.document.createElement(r),o=d[t];return o&&n&&(i[o]=n.trim()),i}for(var o,s,u=e.document.createElement("div"),c=u,g=[];null!==(o=n());)if("<"!==o[0])c.appendChild(e.document.createTextNode((s=o,l.innerHTML=s,s=l.textContent,l.textContent="",s)));else{if("/"===o[1]){g.length&&g[g.length-1]===o.substr(2).replace(">","")&&(g.pop(),c=c.parentNode);continue}var v,m=a(o.substr(1,o.length-2));if(m){v=e.document.createProcessingInstruction("timestamp",m),c.appendChild(v);continue}var y=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(v=i(y[1],y[3])))continue;if(!r(c,v))continue;if(y[2]){var _=y[2].split(".");_.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(h.hasOwnProperty(n)){var r=t?"background-color":"color",i=h[n];v.style[r]=i}})),v.className=_.join(" ")}g.push(y[1]),c.appendChild(v),c=v}return u}var v=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(e){for(var t=0;t<v.length;t++){var n=v[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(m(n.charCodeAt(o)))return"rtl";return"ltr"}function _(){}function b(e,t,n){_.call(this),this.cue=t,this.cueDiv=g(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function A(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function w(e,t,n,r){var i=new A(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,l=c*Math.round(a),f=n[u]+c,h=s[0];Math.abs(l)>f&&(l=l<0?-1:1,l*=Math.ceil(f/c)*c),a<0&&(l+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(h,l)}else{var d=i.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=d/2;break;case"end":a-=d}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new A(t)}var p=function(e,t){for(var i,o=new A(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new A(e),a=u),e=new A(o)}return i||o}(i,s);t.move(p.toCSSCompatValues(n))}function E(){}_.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},_.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=i(_.prototype),b.prototype.constructor=b,A.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},A.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},A.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},A.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},A.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},A.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},A.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},A.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},E.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},E.convertCueToDOMTree=function(e,t){return e&&t?g(e,t):null};E.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=A.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<t.length;u++)s=t[u],n=new b(e,s,a),r.appendChild(n.div),w(0,n,o,i),s.displayState=n.div,i.push(A.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},E.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},E.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?u(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new s;u(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",a(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):u(e,(function(e,n){switch(e){case"Region":!function(e){var n=new s;if(u(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var l=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new o(o.Errors.BadSignature);t.state="HEADER"}for(var f=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(f?f=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{c(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=-1!==i.indexOf("--\x3e");if(!i||h&&(f=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new o(o.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=E},function(e,t,n){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=n(407);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r}).call(this,n(48))},function(e,t){},function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function o(e,t,r){this.hasBeenReset=!1;var o="",a=!1,s=e,u=t,c=r,l=null,f="",h=!0,d="auto",p="start",g="auto",v="auto",m=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(e){var t=function(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=i(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);t?(v=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},function(e,t){var n={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):u=t}}})}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getSumOfRawScores=p,t.getSumOfRawMaxScores=g,t.scoreUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=n(0),u=n(6),c=n(22),l=n(7),f=n(35);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return s._.sumBy(e,(function(e){return e.raw}))}function g(e){return s._.sumBy(e,(function(e){return e.max}))}function v(e){var t=null,n=s._.keys(e).length;return n>0&&(t=0,s._.each(e,(function(e){var r=p(e),i=g(e);t+=r/i*(1/n)}))),t}var m={STRAIGHT_AVERAGE:function(e,t){var n=e.concat(t);if(0===n.length)return l.utilLogger.warn("[calcStraightAverage] Received no results, returning null."),null;var r=p(n),i=g(n);return s._.round(r/i*100)},ACTIVITY_BASED_AVERAGE:function(e,t){if(!e.length&&!t.length)return l.utilLogger.warn("[calcActivityBasedAverage] Received no results, returning null."),null;e=s._.groupBy(e,"style"),t=s._.groupBy(t,"style");var n=v(e),r=v(t),i=null;if(s._.isNull(r))i=s._.round(100*n);else{var o=s._.find(c.assetUtil.config.scoring.factors,{section:u.LESSON_SECTION.REVIEW}),a=o?o.factor:null,f=(o=s._.find(c.assetUtil.config.scoring.factors,{section:u.LESSON_SECTION.QUIZ}))?o.factor:null;f&&a||(f=.5,a=.5),i=s._.round(100*(n*f+r*a))}return l.utilLogger.info("[Quiz Section score]: ".concat(n)),r&&l.utilLogger.info("[Review Section score]: ".concat(r)),i}},y=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"sanitizeResults",value:function(e){var t=s._.reject(e,(function(e){return 0===e.max}));return s._.map(t,(function(e){return d(d({},e),{},{raw:s._.min([e.max,e.raw])})}))}},{key:"calculateScore",value:function(e,t){var n=m[this.getScoringAlgorithm()];f.assertUtil.isNotNull("ScoreUtil","setConfig","algorithm",n,"Unhandled algorithm: ".concat(this.getScoringAlgorithm()));var r=n.call(this,e,t);return l.utilLogger.info("[calculateScore] Final lesson score: ".concat(r)),s._.isNumber(r)?r:null}},{key:"getStyleFromScreenId",value:function(e){return s._.truncate(e,{length:e.lastIndexOf("-"),omission:""})}},{key:"getScoringAlgorithm",value:function(){return c.assetUtil.config.scoring.algorithm}}]),e}());t.scoreUtil=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){return Promise.resolve().then((function(){return Promise.resolve().then((function(){return p.assetUtil.loadJson("instruction/reading-comp/release-12.6/6/config.json",{absoluteUrl:!0}).assetLoader})).then((function(e){return(0,p.setConfig)(e)})).then((function(){return d.preloadUtil.updateAndEase({pct:d.PROGRESS.ASSETUTIL_CONFIG_JSON,msg:"added config json as a json asset in assetUtil"})}))})).then((function(){return function(){h.globalLogger.log("Starting lesson"),v.automationUtil.isAutomationRunning()&&v.automationUtil.startAssetProfiling();var e=document.getElementById("ifabric-react-root");e||((e=document.createElement("div")).id="ifabric-react-root",document.body.insertBefore(e,document.body.firstChild));return document.oncontextmenu=function(){return!1},new Promise((function(t,n){h.globalLogger.log("Rendering lesson");var r=function(e){var t=e.match.params,n=t.demoId,r=t.lessonId,i=t.lessonURL,o=t.screenId,a=t.localFileName;return g.trackJsUtil.initializeErrorReporting(r),l.React.createElement(c.Provider,{store:m.store},l.React.createElement(f.default,{demoId:n,lessonId:r,lessonURL:i,screenId:o,localFileName:a}))};l.ReactDOM.render(l.React.createElement(l.Router,{basename:"/"},l.React.createElement(l.Switch,null,l.React.createElement(l.Route,{exact:!0,path:"/preview/:lessonURL",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/preview/:lessonURL/:screenId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/demo/:demoId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/demo/:demoId/:screenId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/local/:localFileName",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/local/:localFileName/:screenId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/lesson/:lessonId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/lesson/:lessonId/",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/lesson/:lessonId/:screenId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/:lessonId",render:r}),l.React.createElement(l.Route,{exact:!0,path:"/:lessonId/:screenId",render:r}),l.React.createElement(l.Redirect,{from:"/",to:"/demo/example"}),l.React.createElement(l.Route,{path:"*",component:_}))),e),window.scrollTo(0,1),t()}))}()}))};var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(0),f=r(n(412)),h=n(7),d=n(26),p=n(22),g=n(599),v=n(44),m=n(8);n(600);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,a.default)(n,e);var t=y(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return l.React.createElement("p",{style:{color:"white",textAlign:"center"}},"Unknown route")}}]),n}(l.React.Component)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(8),f=n(0),h=n(211),d=n(68),p=r(n(420)),g=n(16),v=r(n(264)),m=n(7),y=n(26),_=n(69),b=n(6),A=n(96),w=n(20),E=n(30),x=n(38),T=n(594),S=n(119),O=n(595),C=n(142),k=n(54),P=n(18),N=n(78);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var R=function(e){(0,a.default)(n,e);var t=I(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"_disableBackSpace",value:function(e){e.which===f.Key.Backspace&&(e.preventDefault(),e.returnValue=!1)}},{key:"_pauseApplication",value:function(){A.playerApi.navigation.pause()}},{key:"prepareApplication",value:function(){var e=this;return this.props.loadLessonState(this.props).then((function(){return e.props.initCheats()})).then((function(){return e.props.loadUserDetails()})).then((function(){return e.props.checkLessonStateDirective()})).then((function(){return e.props.loadLessonContent(e.props)})).then((function(t){return e.props.initLessonNavigation(t)})).then((function(){return e.props.startLessonNavigation()})).then((function(){return e.props.initApplication()}))}},{key:"componentDidMount",value:function(){if((f.is.firefox()||f.is.edge()||f.is.ie())&&_.eventManager.on("keydown",this._disableBackSpace,window),f.is.ios()){var e=g.environmentUtil.isIntegratedEnvironment()?window.parent:window;_.eventManager.on("caApplicationDidEnterBackground",this._pauseApplication,e)}m.controllerLogger.info("Loading lesson: ".concat(this.props.lessonId||this.props.demoId||this.props.lessonURL)),this.prepareApplication(),h.Character.init()}},{key:"componentWillUnmount",value:function(){_.eventManager.off("keydown"),_.eventManager.off("caApplicationDidEnterBackground")}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=function(){n.props.startApplication()};this.props.initialized&&!e.initialized&&this.props.setAppReady(),this.props.initialized&&this.props.firstRendererLoaded&&!this.props.started&&k.platformConnectionProvider.connection.loader.onCompleted((function(){g.environmentUtil.isIntegratedEnvironment()?window.com.cainc.ctp.enableMedia(r,{showImmediately:!k.platformConnectionProvider.previewMode}):window.com.cainc.ctp.enableMedia((function(){f._.defer(r)}),{showImmediately:!1})})),document.querySelector(".screen")&&(document.querySelector(".screen").style["pointer-events"]=this.state.navigationDisabled?"none":"auto"),e.disableFluidResize!==this.props.disableFluidResize&&N.learningComponentUtil.resizeContainer()}},{key:"render",value:function(){var e=null,t=this.props,n=t.initialized,r=t.started,i=t.firstRendererLoaded;if(n&&i){f._.defer(y.preloadUtil.update.bind(y.preloadUtil),y.PROGRESS.INIT_LOADED_STARTED,"[AppControllerView.render]: first renderer loaded, and app initialized and started")}return e=r?f.React.createElement(f.React.Fragment,null,f.React.createElement(f.LiveMessage,{message:b.ACCESSIBILITY.LESSON_LOADING||"","aria-live":"polite",clearOnUnmount:!0}),f.React.createElement(p.default,{lessonId:(0,w.getLessonInfo)(l.store.getState()).lessonId})):f.React.createElement(f.React.Fragment,null,f.React.createElement(f.LiveMessage,{message:b.ACCESSIBILITY.LESSON_LOADED||"","aria-live":"polite",clearOnUnmount:!0}),f.React.createElement("div",{id:"loaderContainer",className:"loadingContainer"},f.React.createElement(v.default,{visible:!0,icon:"loading"}))),f.React.createElement(f.LiveAnnouncer,null,e)}}],[{key:"propTypes",get:function(){return{demoId:f.PropTypes.string,lessonId:f.PropTypes.string,lessonURL:f.PropTypes.string,screenId:f.PropTypes.string,initialized:f.PropTypes.bool,firstRendererLoaded:f.PropTypes.bool,started:f.PropTypes.bool,loadLessonState:f.PropTypes.func,initCheats:f.PropTypes.func,loadUserDetails:f.PropTypes.func,loadLessonContent:f.PropTypes.func,initLessonNavigation:f.PropTypes.func,startLessonNavigation:f.PropTypes.func,initApplication:f.PropTypes.func,startApplication:f.PropTypes.func,setAppReady:f.PropTypes.func}}}]),n}(d.BaseControllerView),L=(0,c.connect)((function(e){var t=(0,E.getAppState)(e),n=t.started,r=t.initialized,i=t.ready,o=(0,E.getCheatValue)(e).disableFluidResize;return{started:n,initialized:r,ready:i,firstRendererLoaded:!1===f._.get(e,"learningComponent",{}).loading,disableFluidResize:o}}),{loadLessonState:x.loadLessonState,loadUserDetails:C.loadUserDetails,loadLessonContent:O.loadLessonContent,initApplication:C.initApplication,initLessonNavigation:P.initLessonNavigation,startLessonNavigation:P.startLessonNavigation,initCheats:S.initCheats,startApplication:C.startApplication,setAppReady:C.setAppReady,checkLessonStateDirective:T.checkLessonStateDirective})(R);t.default=L},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioContext=void 0;var i=r(n(23)),o=r(n(24)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=r(n(4)),f=r(n(5)),h=n(0),d=n(7),p=n(82),g=n(81),v=n(22);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(){function e(t,n,r){(0,l.default)(this,e),this._player=t,this._audioGroup=n,this._emtter=r,this._listenerTypes=["load","play","stop","pause","resume","end","complete"],h._.bindAll(this,this._listenerTypes)}return(0,f.default)(e,[{key:"listen",value:function(){var e=this;h._.forEach(this._listenerTypes,(function(t){e._player.on(t,e[t])}))}},{key:"dispose",value:function(e){var t=this;!e||h._.includes(this._audioGroup.soundIds,e)?h._.forEach(this._listenerTypes,(function(e){t._player.off(e,t[e])})):d.utilLogger.warn("Disregarding attempt to dispose audio ".concat(e,", for audio that is not currently loaded."),this._audioGroup)}},{key:"emit",value:function(e,t){if(!t||h._.includes(this._audioGroup.soundIds,t)){var n=this._audioGroup.id;this._emtter.emit(e,n,t)}}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.emit("complete",e),this.dispose(e)}},{key:"load",value:function(e){this.emit("load",e)}},{key:"play",value:function(e){e===h._.head(this._audioGroup.soundIds)&&this.emit("start"),this.emit("play",e)}},{key:"stop",value:function(e){this.emit("stop",e)}},{key:"pause",value:function(e){this.emit("pause",e)}},{key:"resume",value:function(e){this.emit("resume",e)}},{key:"end",value:function(e){this.emit("end",e),e===h._.last(this._audioGroup.soundIds)&&this.complete(e)}}]),e}(),_=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var r;return(0,l.default)(this,n),r=t.call(this),d.utilLogger.profile((0,o.default)(r),0,[],r.displayName),r._player=h._.bindAll(e),r._sounds=[],r._player.on("end",(function(e){h._.includes(r._sounds,e)&&r._removeFirst(r._sounds,e),g.cuepointDispatcher.dispatchAll(e)})),r._listeners=[],r}return(0,f.default)(n,[{key:"_removeFirst",value:function(e,t){var n=h._.indexOf(e,t);return e.splice(n,1)}}],[{key:"getDefaultContexts",value:function(e){var t;return t={},(0,i.default)(t,n.SYSTEM,new n(e)),(0,i.default)(t,n.USER,new n(e)),t}},{key:"SYSTEM",get:function(){return"SYSTEM"}},{key:"USER",get:function(){return"USER"}}]),(0,f.default)(n,[{key:"once",value:function(e,t){var r=arguments,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(h._.isNull(o))(0,a.default)((0,c.default)(n.prototype),"once",this).call(this,e,t);else{var s=function n(a){o===a&&(i.off(e,n),t.apply(i,r))};this.on(e,s)}}},{key:"playAudioParts",value:function(e,t){var n=h._.map(e,"src");return this.play(n,t)}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={id:(0,p.createId)(),soundIds:this._player.play(e,n)};this._sounds=[],this._sounds=this._sounds.concat(r.soundIds);var i=new y(this._player,r,this);return i.listen(),this._listeners.push(i),this.once("complete",(function(){return h._.pull(t._listeners,i)}),r.id),r}},{key:"pause",value:function(){var e=this;this._sounds.filter((function(t){return e._player.isPlaying(t)})).forEach(this._player.pause)}},{key:"resume",value:function(){var e=this;this._sounds.filter((function(t){return!e._player.isPlaying(t)})).forEach(this._player.resume)}},{key:"stop",value:function(){var e=this;return this._sounds.filter((function(t){return e._player.isPlaying(t)})).forEach(this._player.interrupt)}},{key:"clean",value:function(){if(this.stop(),this._sounds.length){var e=this._sounds[0];g.cuepointDispatcher.clear(e),this._player.emit("end",e,{cleanup:!0}),this._sounds.length=0}}},{key:"getPlaying",value:function(){var e=this;return this._sounds.filter((function(t){return e._player.isPlaying(t)}))}},{key:"_getLoadedAsset",value:function(e){return v.assetUtil.getLoadedAssets({type:"audio",id:e})}},{key:"_isSFXPlaying",value:function(){var e=this._player.getContext("SYSTEM").getPlaying(),t=h._.isEmpty(e)?-1:e[0],n=this._getLoadedAsset(t);return n&&n.sfx}},{key:"playing",get:function(){return h._.some(this._sounds,this._player.isPlaying)}}]),n}(h.Emitter);t.AudioContext=_},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.adaptivityEngine=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(6),u=n(415),c=s.ADP.ACTIONS,l=c.COMPLETE_COMPONENT,f=c.GOTO_SCREEN,h=s.ADP.SELECTORS,d=(h.CORRECT_SEQUENTIAL,h.EXIT_DATA,h.INCORRECT_SEQUENTIAL,h.PREVIOUSLY_FAILED_LESSON,new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"processDecisionPoint",value:function(e){var t=e.decisionPoint,n=e.facts,r=null;try{var i=t.rules,o=t.schemaVersion,s=u.adaptivityEngineUtils.evaluateRules(i,n,o);u.adaptivityEngineUtils.validateRules(s,"processDecisionPoint");var c=s[0],h=a.default.get(c,"actions[0]",null);switch(h.action){case l:r={action:l,finalGrade:a.default.get(h,"parameters[0]",null),dcInfo:{evaluationResults:c.dcInfo}};break;case f:default:r={action:f,nextScreenId:a.default.get(h,"parameters[0]",null),dcInfo:{evaluationResults:c.dcInfo}}}}catch(e){console.error("AdaptivityEngine could not evaluate rules for decision point[".concat(t.id,"] '").concat(t.title,"'"),e)}return r}},{key:"getAllCandidateScreens",value:function(e){var t=e.decisionPoint,n=(e.destinationIds,[]);return a.default.each(t.rules,(function(e){a.default.each(e.actions,(function(e){n.push(e.parameters[0])})),a.default.each(e.alternate_actions,(function(e){n.push(e.parameters[0])}))})),n}},{key:"getEvaluatedCandidateScreens",value:function(e){var t=e.decisionPoint,n=e.facts,r=e.currentStep,i=[],o=!1,s=!0,c=a.default.chain(t.rules).cloneDeep().map((function(e){return s=!0,e.conditions.forEach((function(e){var t=a.default.cloneDeep(e.operand1);e.operand1=u.adaptivityEngineUtils.resolveSelector(e.operand1,n);var i=u.adaptivityEngineUtils.evaluate(e);!i&&function(e,t){return t.parameters.includes(e.id)&&!e.state.complete}(r,t)&&(e.operand1=u.adaptivityEngineUtils.correctConditionWithCurrentStep(e.operand1,t.selector,n,r),i=u.adaptivityEngineUtils.evaluate(e),o=!0),s=s&&i})),s&&a.default.each(e.actions,(function(e){e.action!==l&&i.push(e.parameters[0])})),e})).value();if(0===i.length||1===i.length&&o){var f=a.default.last(c).alternate_actions[0].parameters[0];a.default.isUndefined(f)||i.push(f)}return i}}]),e}()));t.adaptivityEngine=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.adaptivityEngineUtils=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(6),u=n(35),c=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"correctConditionWithCurrentStep",value:function(e,t,n,r){switch(t){case s.ADP.SELECTORS.CORRECT_SEQUENTIAL:e+=n[r.id].max}return e}},{key:"_determineEligibility",value:function(e){var t=this,n=!0;return a.default.forEach(e.conditions,(function(r){var i=t.evaluate(r);e.dcInfo[r.id].result=i,n=n&&i})),n}},{key:"evaluate",value:function(e){var t=e.operand1,n=e.operator,r=e.operand2,i=!1;switch("K"===t&&(t=0),"K"===r&&(r=0),n){case"=":i=t==r;break;case"<":i=t<r;break;case"<=":i=t<=r;break;case">":i=t>r;break;case">=":i=t>=r;break;default:throw new Error("Unknown operator used in condition: '".concat(n,"' with operands '").concat(t,"' and '").concat(r,"'"))}return i}},{key:"_evaluateRule",value:function(e,t){var n={action:s.ADP.ACTIONS.GOTO_SCREEN},r=t?a.default.get(e,"actions[0]",n):a.default.get(e,"alternate_actions[0]",n),i=a.default.get(r,"parameters[0]",null);return r.parameters=[i],{id:e.id,actions:[r],dcInfo:e.dcInfo}}},{key:"evaluateRules",value:function(e,t,n){var r=this;n||(console.warn("[AdaptivityEngineUtils.evaluateRules]: adpSchema was not specified. This will be a required \n      parameter in the future. Defaulting to ".concat(s.ADP.DEFAULT_SCHEMA_VERSION," for now.")),n=s.ADP.DEFAULT_SCHEMA_VERSION),u.assertUtil.isNotNull("AdaptivityEngineUtils","evaluateRules","version of adaptivity schema",n);var i=a.default.chain(e).cloneDeep().map((function(e){return a.default.merge({},e,{dcInfo:{schema:n}})})).map((function(e){return a.default.merge({},e,{conditions:r._resolveConditions(e,t)})})).value(),o=[];return a.default.forEach(i,(function(e,t){var n=r._determineEligibility(e);if(n||e===a.default.last(i)){var s=r._evaluateRule(e,n);return o.push(s),!1}})),o}},{key:"_resolveConditions",value:function(e,t){var n=this,r=e.conditions;return a.default.map(r,(function(r){if(!a.default.isObject(r.operand1))throw new Error("must provide selector");var i=r.operand1,o=r.operand2,s=r.operator;e.dcInfo[r.id]={screens:JSON.stringify(i.parameters),type:i.selector};var u=n.resolveSelector(r.operand1,t);return e.dcInfo[r.id].condition="".concat(u," ").concat(s," ").concat(o),a.default.merge({},r,{operand1:u})}))}},{key:"resolveSelector",value:function(e,t){var n=0;switch(e.selector.startsWith(s.ADP.SELECTORS.EXIT_DATA)?s.ADP.SELECTORS.EXIT_DATA:e.selector){case s.ADP.SELECTORS.CORRECT_SEQUENTIAL:a.default.each(e.parameters,(function(e){n+=t[e].raw}));break;case s.ADP.SELECTORS.INCORRECT_SEQUENTIAL:var r=0;a.default.each(e.parameters,(function(e){n+=t[e].raw,r+=t[e].max})),n=r-n;break;case s.ADP.SELECTORS.PREVIOUSLY_FAILED_LESSON:n=t.previouslyFailedLesson?1:0;break;case s.ADP.SELECTORS.USE_ALTERNATE_INSTRUCTION_CONTENT:n=t.useAlternateInstructionContent?1:0;break;case s.ADP.SELECTORS.CHRON_GRADE:n=t.chronGrade;break;case s.ADP.SELECTORS.EXIT_DATA:if(1!==e.parameters.length){var i="[AdaptivityEngine][_resolveSelector] When using the ".concat(s.ADP.SELECTORS.EXIT_DATA," selector the Adaptivity Engine assumes that exactly one screen will be provided as a parameter");throw new Error(i)}var o=e.parameters[0],u=e.selector,c=a.default.get(t[o],u,null);if(a.default.isNull(c)){var l="[AdaptivityEngine][_resolveSelector] The 'exit_data' selector cannot be resolved because         ".concat(u," does not exist in local storage for screen ").concat(o);throw new Error(l)}n=c;break;case s.ADP.SELECTORS.RANDOM_VALUE:if(1!==e.parameters.length)throw new Error("[AdaptivityEngine.resolveSelector] When using the ".concat(s.ADP.SELECTORS.RANDOM_VALUE," selector the ")+"Adaptivity Engine assumes that exactly one random value key will be provided as a parameter. "+"Got: ".concat(e.parameters.length));var f=e.parameters[0];if(void 0===(n=t.randomAdpValues[f]))throw new Error("No value found for key: ".concat(f));break;default:throw new Error("Unknown selector '".concat(e.selector,"' used"))}return n}},{key:"validateRules",value:function(e,t){var n=this.constructor.name;u.assertUtil.isNotEmptyArray(n,t,"rules",e),u.assertUtil.isNumberEqualTo(n,t,"rules.length",e.length,1),u.assertUtil.isNotEmptyArray(n,t,"rules[0].actions",e[0].actions),u.assertUtil.isNumberNotGreaterThan(n,t,"rules[0].actions.length",e[0].actions.length,1),u.assertUtil.isNumberNotGreaterThan(n,t,"rules[0].actions[0].parameters.length",e[0].actions[0].parameters.length,1)}}]),e}());t.adaptivityEngineUtils=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectors=void 0;var r=n(0),i={findLastScreen:{hasParam:!0,func:function(e,t){for(var n=e.iterator,i=e.evaluate,o={me:n.cursor};n.hasPrev;){o.screen=n.prev();var a=i({constants:o,expressions:t}).value;if(!r._.isBoolean(a))throw new Error("[findLastScreen] predicate expression must return a boolean. Returned: ".concat(a));if(a)return o.screen.id}}},findSharedData:{hasParam:!0,func:function(e,t){for(var n,i=e.iterator,o=e.getSharedData;i.hasPrev&&r._.isUndefined(n);){var a=o(i.prev().id);n=r._.get(a,t)}return n}}};t.selectors=i},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.NavIterator=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(50),u=function(){function e(t){var n=t.navStepsMap,r=t.state,o=t.screens,a=t.results;(0,i.default)(this,e),this._navStepsMap=n,this._state=r,this._screens=o,this._results=a}return(0,o.default)(e,[{key:"reset",value:function(e){this._setCursor(e)}},{key:"prev",value:function(){var e=this._getPrevStep();if(!e)throw new Error("Out of bounds  you're at the beginning of the sequence. Check hasPrev() before calling this method.");return this._setCursor(e),this.cursor}},{key:"_setCursor",value:function(e){if(e){var t=a.default.isString(e)?e:e.id;if(t===s.NAV_ROOT_ID)throw new Error("cursor cannot be set to the root step");var n=this._screens[t];this._cursor=this._toContractualForm(n,this._results)}else this._cursor=null}},{key:"_getPrevStep",value:function(){return this._navStepsMap[this.cursor.id].prev}},{key:"_toContractualForm",value:function(e,t){return{id:e.id,properties:a.default.cloneDeep(e.properties),correct:1===t[e.id].raw}}},{key:"cursor",get:function(){return this._cursor||this._setCursor(this._state.currentStep),this._cursor}},{key:"hasPrev",get:function(){return!!this._getPrevStep()}}]),e}();t.NavIterator=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.teacherMenuUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(50),u=n(16),c=n(82),l=n(6),f=n(36),h=["screen_id"],d=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"buildTeacherNav",value:function(e){var t=e.teacherNavLookup,n=e.teacherModeScreens,r=[];return a.default.each(n,(function(e){var n=t[e.section];if(n){var i=e.activity||0,o=e.item||0;if(n[i]){var a=n[i][o];a&&r.push({value:a,name:e.label})}}})),r}},{key:"createTeacherNavLookup",value:function(e,t){for(var n,r,i,o=e[s.NAV_ROOT_ID],a=[],u=o,l=o.next;l;){if(u.section!==l.section)n=[],a[this._findSection(l.section,t).index]=n;this._isSameActivity(l,u)||(i=(0,c.createId)(),r=[],n.push(r)),l.activityId=i,r.push(l.id),u=l,l=l.next}return a}},{key:"sanitizeForTeacherMode",value:function(e){e.navigation=this._formatNavSections(e.navigation),e.navigation.forEach((function(e){e.screens=e.screens.filter((function(e){return e.screen_id}))})),e.adaptivity_decision_points={};var t=u.environmentUtil.query.sc;if(t){t=t.toLowerCase();if(e.navigation.length>3)throw new Error("Handler only knows how to deal with ".concat(3," sections. Found: ").concat(e.navigation.length));var n=[!1,!1,!1];switch(t){case"p":if(a.default.isEmpty(e.navigation[0].screens))throw new Error("Cannot suppress the practice and quiz sections in lessons that don't have instruction screens");n[1]=!0,n[2]=!0;break;case"q":n[2]=!0;break;default:throw new Error("Unsupported sc value: ".concat(u.environmentUtil.query.sc))}for(var r=2;r>-1;r--)n[r]&&(e.navigation[r].screens.forEach((function(t){delete e.screens[t.screen_id]})),e.navigation.splice(r,1))}}},{key:"_formatNavSections",value:function(e){var t=this,n=l.LESSON_SECTION.INSTRUCTION,r=l.LESSON_SECTION.PRACTICE,i=l.LESSON_SECTION.QUIZ;return a.default.map([n,r,i],(function(n){var r=t._findSection(n,e);return r&&(r.screens=a.default.filter(r.screens,(function(e){return a.default.every(h,(function(t){return a.default.has(e,t)}))}))),!a.default.isUndefined(r)&&a.default.isArray(r.screens)?r:{name:n,screens:[]}}))}},{key:"_findSection",value:function(e,t){return a.default.find(t,{name:e})}},{key:"_isSameActivity",value:function(e,t){var n=e.section===t.section,r=f.navStepsUtil.isSameStyle(e,t);return n&&r}}]),e}());t.teacherMenuUtil=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.menuLinksUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(7),u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"inventoryMenuChildren",value:function(e,t){var n=0;return e.menuFirstChildren.forEach((function(r){var i=t[r];do{n++,i=i.next!==e?i.next:null}while(i)})),n}},{key:"processMenuLinks",value:function(e,t,n){var r=[];e.forEach((function(e){var i=n[e.id],o=a.default.get(i,"properties.menuLinks");o&&(e.isMenuScreen=!0,e.menuFirstChildren=o,r.push(e));var s=a.default.get(i,"properties.menuExitScreen");s&&(e.next=t[s]),o&&e.next&&(e.next.prev=e)})),r.forEach((function(e){e.menuFirstChildren.forEach((function(r){var i=t[r];i.prev=null;do{a.default.get(n[i.id],"properties.menuChild")||s.utilLogger.warn("screen ".concat(i.id," should have properties.menuChild = true.")),i.parentMenuId=e.id,i=i.next.id!==e.id?i.next:null}while(i)}))}))}}]),e}());t.menuLinksUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(0),f=n(8),h=n(69),d=n(66),p=n(421),g=n(568),v=n(68),m=r(n(569)),y=r(n(576)),_=r(n(585)),b=r(n(592)),A=n(7),w=n(45),E=n(34),x=n(78),T=n(75),S=n(6),O=n(180),C=n(262),k=n(593),P=n(59),N=n(74),I=n(20),R=n(14),L=n(30),D=n(54),M=n(16),j=n(142),B=n(9),F=n(18),U=n(65),H=n(29),G=n(22),Q=n(86);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var V=function(e){(0,a.default)(n,e);var t=z(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).showModal=function(){O.focusUtil.suspended=!0,e._hideScreenControllerModal(),e.setState({modalVisible:!0}),document.activeElement&&document.activeElement.blur()},e._handleKeydown=function(t){t.which===l.Key.Tab&&(e.props.dispatchKeyboardNav(!0),(t.shiftKey?d.focusManager.backward():d.focusManager.forward())&&t.preventDefault())},e._handleMousedown=function(){e._screenControllerView&&e._screenControllerView.isModalVisible()||(e.props.dispatchKeyboardNav(!1),O.focusUtil.reset())},e._handleFocusin=function(){d.focusManager.clearReferences()},e._onHideModal=function(){O.focusUtil.suspended=!1,e.setState({modalVisible:!1})},e._onCloseModal=function(){e.props.keyboardNavigation&&O.focusUtil.refocus()},e._hideScreenControllerModal=function(){var t=e._screenControllerView&&e._screenControllerView.isModalVisible();return t&&e._screenControllerView.hideModal(),t},e._screenContainerRef=l.React.createRef(),e.togglePlayPause=function(){e._hideScreenControllerModal()||f.store.dispatch((0,F.togglePause)())},e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){document.getElementById("ifabric-react-root").setAttribute("lang",N.i18nUtil.currentLanguageAbbr),x.learningComponentUtil.resizeContainer(),h.eventManager.on("keydown:".concat(h.GLOBAL_CONTEXT),this._handleKeydown),h.eventManager.on("mousedown:".concat(h.GLOBAL_CONTEXT),this._handleMousedown),h.eventManager.on("focusin:".concat(h.GLOBAL_CONTEXT),this._handleFocusin)}},{key:"componentWillUnmount",value:function(){h.eventManager.off("keydown:".concat(h.GLOBAL_CONTEXT),this._handleKeydown),h.eventManager.off("mousedown:".concat(h.GLOBAL_CONTEXT),this._handleMousedown),h.eventManager.off("focusin:".concat(h.GLOBAL_CONTEXT),this._handleFocusin)}},{key:"componentDidUpdate",value:function(e,t){this.props.lessonComplete!==e.lessonComplete&&x.learningComponentUtil.resizeContainer()}},{key:"getParentNodeForModal",value:function(){return document.querySelector(".screen")}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLessonModalOpen,r=t.dispatchToggleCheats,i=t.dispatchToggleNav,o=t.dispatchBack,a=t.dispatchForward,s=t.dispatchCloseLesson,u=t.lessonInfo,c=t.keyboardNavigation,f=t.aystCheatEnabled,h=this.state.modalVisible,d=null,v=l._.get(G.assetUtil,"config.app.name",""),x=M.environmentUtil.isIntegratedEnvironment(),I=D.platformConnectionProvider.previewMode,R=D.platformConnectionProvider.reviewMode,L=!(I||R)&&x||f;try{A.controllerLogger.info("Rendering view for lesson: ".concat(this.props.lessonId));var j=(0,T.getLogoFromConfig)(),B=(0,T.getTitleTemplateFromConfig)();if(this.props.lessonComplete)w.animationUtil.pauseUpdates(),E.audioPlayer.getContexts().forEach((function(e){return e.stop()})),d=l.React.createElement("div",{id:"container"},l.React.createElement("div",{ref:"lesson",id:"lesson"},l.React.createElement(p.TopBar,{lessonTitle:u.title,sectionTitle:this.props.sectionTitle,lessonLevel:u.lessonLevel,onCloseClick:s,onLogoClick:l._.noop,logo:j,titleTemplate:B})));else{var F=this.props.isAutomationRunning||M.environmentUtil.isAutomationRunning();d=l.React.createElement(P.UIContextProvider,{ModalDialog:b.default,keyboardNavigation:c,isLessonCloseModal:h,isLessonModalOpen:n},(!M.environmentUtil.isIntegratedEnvironment()||D.platformConnectionProvider.superUser)&&l.React.createElement(_.default,{displayCheats:this.props.displayCheats,cheats:this.props.cheats}),l.React.createElement("div",{id:"container",className:(0,l.classNames)({cc:this.props.ccEnabled}),"data-keyboard-navigation":!!c||void 0,onBlur:O.focusUtil.onBlur,onFocus:O.focusUtil.onFocus},l.React.createElement("div",{id:"lesson",className:(0,l.classNames)({automation:F},"ca-".concat(v))},L&&l.React.createElement(g.AreYouStillThere,null),l.React.createElement("div",{id:"primary-wrapper","aria-hidden":this.props.idled},l.React.createElement(p.TopBar,{lessonTitle:u.title,sectionTitle:N.i18nUtil.translate(this.props.sectionTitle),lessonLevel:u.lessonLevel,onLogoClick:r,onCloseClick:this.showModal,logo:j,titleTemplate:B,disabled:h}),l.React.createElement(P.PrefPanelContextProvider,null,l.React.createElement(y.default,{ref:function(t){return e._screenContainerRef=t}}),l.React.createElement(P.PrefPanelContext.Consumer,null,(function(t){var n=t.prefPanelState;return l.React.createElement(m.default,{onBackButtonClick:o,onForwardButtonClick:a,onDoneButtonClick:e.screenDone,onPlayPauseClick:e.togglePlayPause,onShowNavClick:i,disabled:!n.isHidden||h})})))),l.React.createElement(C.ModalDialog,{className:"closeModal",isOpen:h,onAfterClose:this._onCloseModal,modalText:N.i18nUtil.translate("lessonClose"),modalAudio:S.AUDIO.LESSON_CLOSE_DIALOG_AUDIO,imageClassName:"closeModalImage",yesButton:{content:N.i18nUtil.translate("exit"),ariaLabel:S.ACCESSIBILITY.CLOSE_MODAL_YES,onClick:s},noButton:{content:N.i18nUtil.translate("keepWorking"),ariaLabel:S.ACCESSIBILITY.CLOSE_MODAL_NO,onClick:this._onHideModal},audioButton:{ariaLabel:S.AUDIO.LESSON_CLOSE_DIALOG_AUDIO},parentSelector:this.getParentNodeForModal,allowShards:!1,contentLabel:S.ACCESSIBILITY.CLOSE_MODAL,ariaHideApp:!1}),l.React.createElement(P.UIContext.Consumer,null,(function(e){var t=e.uiState.LessonModal;return t&&l.React.createElement(t,null)})),l.React.createElement(k.ClosedCaptions,null))))}}catch(e){A.controllerLogger.error(e)}return d}},{key:"screenDone",value:function(){f.store.dispatch((0,H.done)())}},{key:"_screenControllerView",get:function(){return l._.get(this._screenContainerRef,"screenControllerRef")}}],[{key:"propTypes",get:function(){return{aystCheatEnabled:l.PropTypes.bool,lessonId:l.PropTypes.string.isRequired,sectionTitle:l.PropTypes.string,lessonComplete:l.PropTypes.bool,isAutomationRunning:l.PropTypes.bool,displayCheats:l.PropTypes.bool,ccEnabled:l.PropTypes.bool,isLessonModalOpen:l.PropTypes.bool,dispatchToggleCheats:l.PropTypes.func,dispatchToggleNav:l.PropTypes.func,dispatchBack:l.PropTypes.func,dispatchForward:l.PropTypes.func,dispatchCloseLesson:l.PropTypes.func,dispatchKeyboardNav:l.PropTypes.func,lessonInfo:l.PropTypes.shape({title:l.PropTypes.string,lessonLevel:l.PropTypes.string}),cheats:l.PropTypes.objectOf(l.PropTypes.object),keyboardNavigation:l.PropTypes.bool,idled:l.PropTypes.bool}}}]),n}(v.BaseControllerView),W=(0,c.connect)((function(e){var t=(0,L.getAppState)(e),n=t.cheatsEnabled,r=t.idled,i=(0,R.getScreensState)(e).lessonModalState,o=(0,L.getCheatState)(e),a=(0,B.getNavigationState)(e),s=a.lessonComplete,u=a.keyboardNavigation,c=(0,I.getLessonInfo)(e),l=(0,B.getCurrentStep)(e).section;return{aystCheatEnabled:o.timeoutMode.value,displayCheats:n,isLessonModalOpen:i.isOpen,isAutomationRunning:o.automation.value,ccEnabled:(0,Q.isCCEnabled)(e),cheats:o,lessonInfo:c,sectionTitle:l,lessonComplete:s,keyboardNavigation:u,idled:r}}),(function(e){return{dispatchToggleCheats:function(){return e((0,j.toggleCheats)())},dispatchToggleNav:function(){return e((0,F.toggleNav)())},dispatchBack:function(){return e((0,F.back)())},dispatchForward:function(){return e((0,F.forward)())},dispatchCloseLesson:function(){return e((0,U.closeLesson)())},dispatchKeyboardNav:function(t){return e((0,F.setKeyboardNavEnabled)(t))}}}))(V);t.default=W},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TopBar=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(6),f=n(59),h=n(261),d=n(40);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,a.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._closeBtnRef=c.React.createRef(),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.context&&(0,this.context.registerFocusShards)(l.BUTTONS.LESSON_CLOSE,[this._closeBtnRef])}},{key:"_getDefaultTemplateOptions",value:function(){var e=this.props,t=e.lessonTitle,n=e.sectionTitle,r=e.lessonLevel;return{lessonTitle:t,sectionTitle:n===l.LESSON_SECTION.REVIEW?l.LESSON_SECTION.QUIZ:n,lessonLevel:r}}},{key:"_getHeaderTitle",value:function(){var e=this.props.titleTemplate,t=e.template;return c._.template(t)(c._.merge({},this._getDefaultTemplateOptions(),e))}},{key:"_getDefaultHeaderTitle",value:function(){return c._.template("${lessonTitle}  ${sectionTitle}  ${lessonLevel}")(this._getDefaultTemplateOptions())}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.logo,r=e.onCloseClick,i=e.onLogoClick,o=e.titleTemplate,a=c._.isEmpty(o)?this._getDefaultHeaderTitle():this._getHeaderTitle();return c.React.createElement("header",null,c.React.createElement(h.Logo,{className:"header__logo",onClick:i,url:n}),c.React.createElement("h1",{className:"header__title"},a),c.React.createElement("div",{className:"header__close_wrapper"},c.React.createElement(d.Button,{"aria-label":l.ACCESSIBILITY.CLOSE_BTN,id:l.BUTTONS.LESSON_CLOSE,forwardedRef:this._closeBtnRef,className:"header__close",disabled:t||!1,onClick:function(){r()},onClickDebounce:1e3,tabIndex:0})))}}],[{key:"propTypes",get:function(){return{sectionTitle:c.PropTypes.string,lessonTitle:c.PropTypes.string,lessonLevel:c.PropTypes.string,logo:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.bool]).isRequired,disabled:c.PropTypes.bool,titleTemplate:c.PropTypes.shape({template:c.PropTypes.string,prefix:c.PropTypes.string}).isRequired,onLogoClick:c.PropTypes.func.isRequired,onCloseClick:c.PropTypes.func.isRequired}}},{key:"defaultProps",get:function(){return{sectionTitle:"Loading",lessonTitle:"Loading",lessonLevel:"Loading"}}}]),n}(c.React.Component);t.TopBar=g,g.contextType=f.UIContext},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BottomBarContext=void 0;var r=n(0).React.createContext();t.BottomBarContext=r},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.UIContextProvider=t.UIContext=void 0;var i=r(n(23)),o=r(n(37)),a=n(0),s=n(96),u=n(22);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.BottomBarWrapper,n=e.Left,r=e.ProgressBar,i=e.Right,o=e.HelpButton,s=e.PlayPauseButton,c=e.SettingsButton,l=e.TeacherMenuButton,f=e.isMenuButtonShown,h=e.footerClassName,d=!a._.includes(h,"two-fifths")&&f;return u.assetUtil.config.newBottomBar?a.React.createElement(t,null,a.React.createElement(n,null,d?a.React.createElement(l,null):null),a.React.createElement(r,null),a.React.createElement(i,null,a.React.createElement(s,null),f&&!d?a.React.createElement(l,null):a.React.createElement(o,null),a.React.createElement(c,null))):a.React.createElement(t,null,a.React.createElement(n,null,a.React.createElement(l,null)),a.React.createElement(r,null),a.React.createElement(i,null,a.React.createElement(s,null),a.React.createElement(o,null)))},h=a.React.createContext();t.UIContext=h;t.UIContextProvider=function(e){var t=e.ModalDialog,n=e.children,r=e.keyboardNavigation,i=e.isLessonCloseModal,u=e.isLessonModalOpen,c=a.React.useState({BottomBar:f,LessonModal:null,focusShards:[],keyboardNavigation:r,isLessonCloseModal:i,isLessonModalOpen:u,contextToShards:{},isBottomBarWithModal:!1,shouldScale:!0}),d=(0,o.default)(c,2),p=d[0],g=d[1];return a.React.useEffect((function(){g(l(l({},p),{},{keyboardNavigation:r,isLessonCloseModal:i,isLessonModalOpen:u}))}),[r,i,u]),s.playerApi.ui.bottomBar={set component(e){g(l(l({},p),{},{BottomBar:e}))}},s.playerApi.ui.screen=l(l({},s.playerApi.ui.screen),{},{set shouldScreenScale(e){g(l(l({},p),{},{shouldScale:e}))}}),Object.defineProperty(s.playerApi.ui.modal,"component",{set:function(e){g(l(l({},p),{},{LessonModal:function(){return a.React.createElement(e,{ModalWrapper:t})}}))}}),a.React.createElement(h.Provider,{value:{uiState:p,registerFocusShards:function(e,t){p.contextToShards[e]=t,a._.mixin({toPairsDeep:function(e){return a._.flatMap(a._.toPairs(e),(function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return a._.isArray(r)?a._.toPairsDeep(r):[[n,r]]}))}}),p.focusShards=(0,a._)(p.contextToShards).toPairsDeep().map(1).value()},setShouldScale:function(e){return g(l(l({},p),{},{shouldScale:e}))},update:function(e){a._.each(e,(function(e,t){p[t]=e}))}}},n)}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioTask=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(214),f=n(62),h=n(7),d=n(0);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=p(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this,e))._data=r,o}return(0,o.default)(n,[{key:"abort",value:function(){(0,a.default)((0,c.default)(n.prototype),"abort",this).call(this),this._running&&(d._.defer(f.audioActions.stop,this._data),this._data.callbacks&&this._data.callbacks.onAbort&&this._data.callbacks.onAbort(this.data))}},{key:"run",value:function(){var e=(0,a.default)((0,c.default)(n.prototype),"run",this).call(this),t=this._data;if(h.storeLogger.info("CharacterLayer play audio",t),!this.paused)if(this._aborted)this.error();else{var r=t.context||"SYSTEM";t.async?(f.audioActions.start(t,r),this.done()):f.audioActions.start(t,r,this.done)}return e}}]),n}(l.DeferredTask);t.AudioTask=g},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.taskManager=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=new(function(){function e(){(0,i.default)(this,e),this._paused=!1,this.pausedTasks=[]}return(0,o.default)(e,[{key:"isPaused",value:function(){return this._paused}},{key:"pause",value:function(){this._paused=!0}},{key:"unpause",value:function(){this._paused=!1,a._.each(this.pausedTasks,(function(e){e.run()})),this.pausedTasks=[]}},{key:"enqueue",value:function(e){this.pausedTasks.push(e)}}]),e}());t.taskManager=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.InstantTask=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this,e))._onRun=r||l._.noop,o}return(0,o.default)(n,[{key:"run",value:function(){var e=(0,a.default)((0,c.default)(n.prototype),"run",this).call(this);return this.paused||(this._aborted?this.error():this.done(this._onRun(this.id))),e}}]),n}(n(127).Task);t.InstantTask=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TaskRunner=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.default)(this,n),(o=t.call(this,e)).tasks=r,o._parallel=a,o}return(0,o.default)(n,[{key:"abort",value:function(){(0,a.default)((0,c.default)(n.prototype),"abort",this).call(this),l._.forEach(this.tasks,(function(e){return e.abort()}))}},{key:"run",value:function(){return this._parallel?Promise.all(this.tasks.map((function(e){return e.start()}))):l._.reduce(this.tasks,(function(e,t){return e.then(t.start.bind(t))}),Promise.resolve())}}]),n}(n(127).Task);t.TaskRunner=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioModule=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(70),h=n(62),d=n(34),p=n(7),g=n(22);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m={},y=0,_=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var r,o=e.assets,s=e.cue,u=e.searchScreen,c=e.searchStyle;return(0,i.default)(this,n),r=t.call(this),f.sequenceRunner.getLatestAudioGroupData=r._getLatestAudioGroupData,r.assets=o,r.cue=s,r.searchScreen=u,r.searchStyle=c,r._priorityAsset={},l._.bindAll((0,a.default)(r),["startAudio","stopAudio","onAudioCue","onAudioStart","onAudioPlay","onAudioComplete","onAudioLock","onAudioUnlock"]),window.playSound=function(e){var t=r._getAudioByFilename("".concat(e,".mp3"));t?r.startAudio(t):p.rendererLogger.error("Could not find an audio asset for ".concat(e,"."))},r}return(0,o.default)(n,[{key:"pause",value:function(){d.audioPlayer.getContext("USER").pause(),d.audioPlayer.getContext("SYSTEM").pause()}},{key:"resume",value:function(){d.audioPlayer.getContext("USER").resume(),d.audioPlayer.getContext("SYSTEM").resume()}},{key:"stop",value:function(){l._.isEqual(this.priorityAsset,{})||(this.priorityAsset={}),d.audioPlayer.getContext("SYSTEM").stop(),d.audioPlayer.getContext("USER").stop()}},{key:"destroy",value:function(){window.playSound=null,d.audioPlayer.getContext("USER").clean(),d.audioPlayer.getContext("SYSTEM").clean(),this.cue=null,this.searchScreen=null,this.searchStyle=null}},{key:"listen",value:function(){var e=this;d.audioPlayer.on("cue",this.onAudioCue),l._.each(d.audioPlayer.getContexts(),(function(t){t.on("start",e.onAudioStart),t.on("play",e.onAudioPlay),t.on("complete",e.onAudioComplete)})),h.handler.on("AudioActions.start",this.startAudio),h.handler.on("AudioActions.stop",this.stopAudio)}},{key:"unlisten",value:function(){var e=this;d.audioPlayer.off("cue",this.onAudioCue),l._.each(d.audioPlayer.getContexts(),(function(t){t.off("start",e.onAudioStart),t.off("play",e.onAudioPlay),t.off("complete",e.onAudioComplete)})),h.handler.off("AudioActions.start",this.startAudio),h.handler.off("AudioActions.stop",this.stopAudio)}},{key:"startAudio",value:function(e){var t=e.asset,n=e.context,r=void 0===n?"USER":n,i=e.overlap,o=void 0!==i&&i,a=e.onComplete,s=void 0===a?l._.noop:a,u=e.onStart,c=void 0===u?l._.noop:u,f=t.id,p=this.assets;"USER"===r&&(l._.isEmpty(d.audioPlayer.getContext("USER").getPlaying())||h.audioActions.stop(),d.audioPlayer.getContext("USER").stop()),o||(d.audioPlayer.getContext("USER").stop(),d.audioPlayer.getContext("SYSTEM").stop()),this.priorityAsset.id&&this.priorityAsset.id!==t.id&&(this.priorityAsset={}),g.assetUtil.isAssetLoaded(t)?this._playAudio(t,r,l._.once(s),{overlap:o,onStart:c}):this._loadAudio(t,r,l._.once(s),{overlap:o,onStart:c}),l._.isEmpty(p[f])||(p[f].loading=!0,p[f].playing=!1,p[f].currentSoundId=null,p[f].currentDuration=0,this.emit("update"))}},{key:"_loadAudio",value:function(e,t,n,r){var i=this,o=r.overlap,a=r.onStart;this.priorityAsset={id:e.id,onComplete:n};g.assetUtil.loadAllAudioParts(e,(function(){i.priorityAsset.id===e.id&&i._playAudio(e,t,n,{overlap:o,onStart:a})}),n)}},{key:"stopAudio",value:function(e){if(e){var t=l._.filter(m,(function(t){return t.assetId===e.id}));l._.each(t,(function(e){l._.each(e.soundIds,(function(e){d.audioPlayer.isPlaying(e)&&d.audioPlayer.interrupt(e)}))}))}else d.audioPlayer.getContext("USER").stop()}},{key:"_getAudioByFilename",value:function(e){var t='//*[contains(src, "'.concat(e,'")]/..'),n=this.searchScreen(t);return l._.isEmpty(n)&&(n=this.searchStyle(t)),l._.head(n)}},{key:"_getAudioGroupData",value:function(e){return m[e]}},{key:"_getLatestAudioGroupData",value:function(e){return l._.chain(m).filter((function(t){return t.assetId===e})).sortBy("index").last().value()}},{key:"onAudioCue",value:function(e,t){var n=this;p.rendererLogger.info("CUE POINT:",t),l._.each(t.targets,(function(r){var i=n.cue({target:r,cuePointType:t.type,soundId:e,isPlaying:d.audioPlayer.isPlaying(e)});f.sequenceRunner.start(i)}))}},{key:"onAudioStart",value:function(e){var t=this._getAudioGroupData(e),n=this.assets[t.assetId];l._.isEmpty(n)||(n.loading=!1,n.playing=!0,n.currentSoundId=null,n.currentDuration=0,this.emit("update"))}},{key:"onAudioPlay",value:function(e,t){var n=this._getAudioGroupData(e),r=this.assets[n.assetId];l._.isEmpty(r)||(r.currentSoundId=t,r.currentDuration=d.audioPlayer.getProgress(t).duration,this.emit("update"))}},{key:"onAudioComplete",value:function(e){var t=this._getAudioGroupData(e),n=this.assets[t.assetId];l._.isEmpty(n)||(n.loading=!1,n.playing=!1,n.currentSoundId=null,n.currentDuration=0,this.emit("update"))}},{key:"onAudioLock",value:function(){p.utilLogger.warn("AudioModule.onAudioLock is deprecated. Please remove.")}},{key:"onAudioUnlock",value:function(){p.utilLogger.warn("AudioModule.onAudioUnlock is deprecated. Please remove.")}},{key:"_playAudio",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SYSTEM",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l._.noop,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(l._.isEmpty(e.id))throw new Error("Cannot play audio asset unless it has an id.");var i=e.id,o=l._.map(e.parts,"npc");"USER"===t&&d.audioPlayer.getContext("USER").stop();var a=d.audioPlayer.getContext(t),s=a.playAudioParts(e.parts,r);a.once("complete",n,s.id);var u=l._.zipObject(s.soundIds,o);m[s.id]=l._.merge(l._.cloneDeep(s),{assetId:i,index:y++,npcMap:u}),f.sequenceRunner.soundStart(e)}},{key:"priorityAsset",get:function(){return this._priorityAsset},set:function(e){l._.isUndefined(this._priorityAsset.onComplete)||this._priorityAsset.onComplete(),this._priorityAsset=e}}]),n}(l.Emitter);t.AudioModule=_},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasModule=t.ExtContainer=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(430),h=n(45),d=n(60),p=n(34),g=n(7),v=n(70),m=n(108),y=n(162),_=n(219),b=n(6);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var w=0,E=function(e){(0,s.default)(n,e);var t=A(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"addChild",value:function(e){(0,a.default)((0,c.default)(n.prototype),"addChild",this).call(this,e);for(var t=arguments.length,r=0;r<t;r++){var i=new l.createjs.Event("childAdded");i.data=arguments[r],this.dispatchEvent(i)}}}]),n}(l.createjs.Container);t.ExtContainer=E;var x=function(){function e(t){var n=this;(0,i.default)(this,e),this.draw=function(){n.stage&&h.animationUtil.invalidate(n.stage.name)},this._onChildAdded=function(e){var t=e.data.registrables;t&&t.forEach((function(e){e instanceof m.TextWidget?n.registerTextWidget(e):n.registerAssetDisplay(e)}))},this._onStageAdded=function(e){var t=e.name;t===n._stageName&&(n._stage=d.canvasUtil.getStage(n._stageName),l._.each(n._timelineAnimations,(function(e){h.animationUtil.addTimelineAnimation(t,e)})))},this._onTick=function(){l._.forEach(n._polledAudio,(function(e,t){var r=n._activityState.assets[t];if(r.currentSoundId){var i=p.audioPlayer.getProgress(r.currentSoundId),o=p.audioPlayer.getAverageVolume(r.currentSoundId);l._.forEach(e,(function(e){var t=i.position,n=i.duration,r=i.sound;return e(t,n,o,r)}))}}))},this._assetDisplays=[],this._activityState=t,this._polledAudio={},this._textWidgets=[],this._container=new E,this._container.setBounds(0,0,b.SCREEN.WIDTH,b.SCREEN.HEIGHT),this._container.name="".concat(this.constructor.name,"-").concat(w++),this._container.on("childAdded",this._onChildAdded),this._caches=[],this._timelineAnimations=[],this._stage=null}return(0,o.default)(e,[{key:"setup",value:function(e){this._stageName=e,this._setupScreenCalled=!0,y.collisionSystem.reset(),h.animationUtil.on("tick",this._onTick),d.canvasUtil.on("stageAdded",this._onStageAdded)}},{key:"cache",value:function(e){var t=e.getBounds();return e.cache(t.x,t.y,t.width,t.height),e}},{key:"update",value:function(e){this._setupScreenCalled||g.rendererLogger.error("".concat(this.constructor.name,".setupScreen() has not been called.")),this.container.mouseChildren=e.uiEnabled,this._updateAssetDisplays(e),this._updateTextWidgets(e),this._activityState=e}},{key:"unmount",value:function(){this._container.off("childAdded",this._onChildAdded),this._container=null,this._assetDisplays=null,d.canvasUtil.off("stageAdded",this._onStageAdded),h.animationUtil.off("tick",this._onTick),h.animationUtil.stopUpdates()}},{key:"enableCaching",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l._.isFunction(e.cache))throw new Error("Attempting to cache value without a cache method.");this._caches.push(e),l._.isEmpty(t)?e.cache():e.cache(t.x,t.y,t.width,t.height)}},{key:"createAudioBtn",value:function(e){var t=new f.AudioBtn(e);return this.registerAssetDisplay(t),t}},{key:"createBitmap",value:function(e){return new l.createjs.Bitmap(e)}},{key:"registerAssetDisplay",value:function(e){var t=l._.find(this._activityState.assets,{id:e.assetId}),n=this._activityState,r=n.uiEnabled,i=n.complete;e.update(t,r,i),this._assetDisplays.push(e)}},{key:"registerTextWidget",value:function(e){var t=this;e.registered||(e.registered=!0,this._textWidgets.push(e),l._.forEach(e.availableSpans,(function(n){var r=l._.find(t._activityState.assets,{id:n});r&&r.active&&e.applyEffect(n,{onUpdate:t.draw})})))}},{key:"replaceAudioBtn",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.audioBtn;if(l._.isString(t)?(g.rendererLogger.warn("Deprecated use of replaceAudioBtn - supply asset instead of id ".concat(t,".")),n=t):t&&(n=t.id),n&&(r=this.createAudioBtn(n)),i&&r){var o=e.localToLocal(i.x,i.y,e);r.x=o.x,r.y=o.y,e.addChild(r)}return i&&(i.visible=!1),r}},{key:"addChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e.container.addChild(t)}))}},{key:"pollAudioData",value:function(e,t){var n=this._polledAudio[e.id]||[];n.push(t),this._polledAudio[e.id]=n}},{key:"monitor",value:function(e){l._.includes(this._timelineAnimations,e)||(this._timelineAnimations.push(e),this.stage&&h.animationUtil.addTimelineAnimation(this.stage.name,e))}},{key:"rememberPosition",value:function(e,t){}},{key:"restorePosition",value:function(e){}},{key:"onHelpStop",value:function(e,t){g.rendererLogger.info("starting onHelpStop");this.greensockHelper.interruptJumps((function(){g.rendererLogger.info("completing onHelpStop"),t(),e(),v.sequenceRunner.abort({killAllTweens:!1})}))}},{key:"_updateAssetDisplays",value:function(e){var t=this;l._.each(this._assetDisplays,(function(n){var r=l._.find(t._activityState.assets,{id:n.assetId}),i=l._.find(e.assets,{id:n.assetId}),o=r!==i,a=t._activityState.uiEnabled!==e.uiEnabled,s=t._activityState.complete!==e.complete;(o||a||s)&&(n.update(i,e.uiEnabled,e.complete),t.draw())}))}},{key:"_updateTextWidgets",value:function(e){var t=this;l._.each(this._textWidgets,(function(n){l._.each(n.availableSpans,(function(r){var i=l._.find(t._activityState.assets,{id:r}),o=l._.find(e.assets,{id:r});if(i&&i.active!==o.active){var a=t.draw;o.active?n.applyEffect(r,{onUpdate:a}):n.removeEffect(r,{onUpdate:a})}}))}))}},{key:"stage",get:function(){return this._stage}},{key:"container",get:function(){return this._container}},{key:"greensockHelper",get:function(){return this._greensockHelper}},{key:"_greensockHelper",get:function(){return this._gsaHelper||(this._gsaHelper=new _.GreensockHelper(this)),this._gsaHelper}},{key:"HEIGHT",get:function(){return b.SCREEN.HEIGHT}},{key:"WIDTH",get:function(){return b.SCREEN.WIDTH}}]),e}();t.CanvasModule=x},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AudioBtn=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(62),l=n(7),f=n(431),h=n(124),d=n(6);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g="play",v="stop",m="disable",y="loading",_=function(e){(0,a.default)(n,e);var t=p(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),l.rendererLogger.info("AudioBtn id:",e),r.skin=new h.GLOBAL.AudioBtnSkin,r.skin.cursor=d.CURSOR.POINTER,r.on("mousedown",r.onClick),r.skin.stop(),r.addChild(r.skin),r.disableClickHandler=!1,r}return(0,o.default)(n,[{key:"update",value:function(e,t,n){e.locked||!t&&!n?this.skin.gotoAndStop(m):e.loading?this.skin.gotoAndStop(y):e.playing?this.skin.gotoAndStop(v):this.skin.gotoAndStop(g)}},{key:"onClick",value:function(){if(!this.disableClickHandler){var e=this.skin.currentLabel;e===g?c.audioActions.start(this.assetId):e===v&&c.audioActions.stop()}}}]),n}(f.AssetDisplay);t.AudioBtn=_},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AssetDisplay=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(6);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=f(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this)).assetId=e,r}return(0,o.default)(n,[{key:"update",value:function(e,t,n){throw new Error("".concat(this.constructor.name,".update is not implemented."))}},{key:"getFeedbackType",value:function(e,t){return e.active?this._correct?"correct":"incorrect":e.selected?this._correct?"correct":"incorrectInactive":t?"inactive":"active"}},{key:"clickable",set:function(e){this._clickable=e,this.cursor=e?l.CURSOR.POINTER:l.CURSOR.DEFAULT}}]),n}(c.createjs.Container);t.AssetDisplay=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(216);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this)).parts=null,r.characters=[],r._boundsPadding=2,r.debug=!0===e.debug,r.autoCache=!1!==e.autoCache,r.onClick=null,r._text=new l.txtjs.Text({x:0,y:0,text:"",size:e.size||90,font:e.font||"sweater_school_sb",width:e.width||1400,height:e.height||50,fillColor:e.color||"#000000",lineHeight:e.lineHeight||45,tracking:e.tracking||0,character:{click:r.handleClick.bind((0,a.default)(r))},align:void 0!==e.align?e.align:l.txtjs.Align.MIDDLE_CENTER}),r._metrics=e.metrics||{},r.setText(e.text),r}return(0,o.default)(n,[{key:"handleClick",value:function(e){e.target.spans=this.characters[e.target.index].spans,this.onClick&&this.onClick(e)}},{key:"setText",value:function(e){var t="".concat(e);this._text.text=e.replace(/\|/g,""),this.split(t)}},{key:"getText",value:function(){return this._text.text}},{key:"setMetrics",value:function(e){this._metrics=e}},{key:"split",value:function(e){this.removeAllChildren(),this._text.layout(),this.addChild(this._text),this.parts=[];var t=!e;if(/\|\|+/g.test(e)||/^\|/g.test(e)||/\|$/g.test(e))throw new Error("Illegal split pattern");for(var n=this._getCharacters(),r=null,i="",o=e?e.replace(/\n|\r/g,""):"",a=0;a<n.length;a++){var s=n[a];0===a&&(r=s.line),s.line!==r&&(i+="\n",r=s.line),o&&o.charAt(a)!==s.character.character&&"|"===o.charAt(a)&&(o=o.replace(/\|/,""),i+="|"),i+=s.character.character}if(o=i,!t||(o=o.split("").join("|"))){for(var u,c,l,h,d=o.split(/[\|\n|\r]/),p=0,g=0;g<d.length;g++)if(0!==(u=d[g]).length){c=new f.TextPart,l=0;for(var v=0;v<u.length;v++){var m=(h=n[p].character).parent.localToLocal(h.x,h.y,this);0===v&&(l=h.x+n[p].word.x,c.x=m.x,c.y=m.y),c.addChild(h),h.x-=l-n[p].word.x,p++}c._parent=this,c._measure(),c.setTransformPoint(.5,.5),this.addChild(c),this.parts.push(c)}this.removeChild(this._text),this.autoCache&&this.cache()}}},{key:"getColor",value:function(){return this._text.fillColor}},{key:"setColor",value:function(e){this._text.fillColor=e,this.parts.map((function(t){t.setColor(e)})),this.autoCache&&this.cache()}},{key:"getBounds",value:function(){for(var e,t,n,r=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,s=0;s<this.parts.length;s++)t=(e=this.parts[s]).getBounds(),(n=e.localToLocal(t.x,t.y,this)).x<r&&(r=n.x),n.y<i&&(i=n.y),n.x+t.width>o&&(o=n.x+t.width),n.y+t.height>a&&(a=n.y+t.height);return this._rectangle.setValues(r,i,o-r,a-i)}},{key:"cache",value:function(){this.parts.map((function(e){e.cache()}))}},{key:"uncache",value:function(){this.parts.map((function(e){e.uncache()}))}},{key:"_getCharacters",value:function(){for(var e,t,n,r=[],i=0;i<this._text.lines.length;i++){e=this._text.lines[i];for(var o=0;o<e.children.length;o++){t=e.children[o];for(var a=0;a<t.children.length;a++)n=t.children[a],r.push({character:n,word:t,line:e}),this.characters[n.index]?(n.spans=this.characters[n.index].spans,n.word=this.characters[n.index].word,this.characters[n.index].character=n):this.characters[n.index]={character:n,spans:[],word:t}}}return r}}]),n}(l.createjs.Container);t.Text=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TextFx=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"bounce",value:function(e){var t,n=e||{},r=n.target;t=r instanceof Array?r:r.parts?r.parts:[r];var i=function(){a._.each(t,(function(e){e.initialValues&&e.set(e.initialValues)})),n.onComplete&&n.onComplete()};a._.each(t,(function(e,r){e.setTransformPoint(.5,1);var o=.4*e._parent._text.size;new TimelineMax({onUpdate:n.onUpdate?n.onUpdate:a._.noop,onComplete:r===t.length-1&&i}).to(e,.1,{scaleY:.7*e.scaleY,ease:Linear.easeNone}).to(e,.3,{y:e.y-o,scaleY:e.scaleY,ease:Quad.easeOut}).to(e,.2,{y:e.y,ease:Quad.easeIn}).to(e,.15,{y:e.y-o/4,ease:Linear.easeNone}).to(e,.1,{y:e.y,ease:Linear.easeNone})}))}},{key:"pulse",value:function(e){var t,n,r=this,i=e||{},o=i.target;t=o instanceof Array?o:o.parts?o.parts:[o];for(var a=function(e){e===t.length-1&&(r.dispatchEvent("animationComplete"),i.onComplete&&i.onComplete())},s=function(){i.onUpdate&&i.onUpdate()},u=0;u<t.length;u++)(n=t[u]).setTransformPoint(.5,.5),new TimelineMax({repeat:1}).to(n,.5,{scaleX:1.25*n.scaleX,scaleY:1.25*n.scaleY,ease:Back.easeIn}).to(n,.3,{scaleX:1*n.scaleX,scaleY:1*n.scaleY}).eventCallback("onUpdate",s,[u],this).eventCallback("onComplete",a,[u],this)}}]),e}();t.TextFx=s,a.createjs.EventDispatcher.initialize(s)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TextGroup=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r;(0,i.default)(this,n),(r=t.call(this)).parts=e,l._.each(e,(function(e){r.addChild(e)}));var o=e[0];r._minX=o.x-o.regX+o.getBounds().x;var a=e[e.length-1];return r._maxX=a.x-a.regX+a.getBounds().x+a.getBounds().width,r._width=r._maxX-r._minX,r._height=e[0]._height,r._ascent=e[0].y-e[0].regY+e[0]._ascent,r.setTransformPoint(.5,.5),r._parent=o._parent,r}return(0,o.default)(n,[{key:"ungroup",value:function(){var e=this;l._.each(this.parts,(function(t){e._parent.addChild(t)})),this.parts=[]}},{key:"hasSameParts",value:function(e){var t=this;return l._.size(e)===l._.size(this.parts)&&l._.every(e,(function(e){return-1!==t.parts.indexOf(e)}))}},{key:"setTransformPoint",value:function(e,t){var n=this.regX,r=this.regY,i={x:this._width*e+this._minX,y:this._height*t+this._ascent};this.regX=i.x,this.regY=i.y,this.x+=i.x-n,this.y+=i.y-r}},{key:"setColor",value:function(e){l._.each(this.parts,(function(t){t.setColor(e)}))}},{key:"setHighlight",value:function(e){l._.each(this.parts,(function(t){t.setHighlight(e)}))}},{key:"reset",value:function(){l._.each(this.parts,(function(e){e.reset()}))}},{key:"getText",value:function(){var e="";return l._.each(this.parts,(function(t){e+=t.getText()})),e}},{key:"getBounds",value:function(){return this._rectangle.setValues(this._minX,this._ascent,this._width,this._height)}},{key:"draw",value:function(e,t){if(this._parent.debug)this._drawDebug();else{var r=this.getChildByName("debug");r&&this.removeChild(r)}(0,a.default)((0,c.default)(n.prototype),"draw",this).call(this,e,t)}},{key:"_drawDebug",value:function(){var e=this.getBounds(),t=this.getChildByName("debug");t||((t=new createjs.Shape).name="debug"),t.graphics.clear().setStrokeStyle(3).beginStroke("rgba(0,0,255,.3)").drawRect(e.x,e.y,e.width,e.height).endStroke().beginStroke("#0000ff").drawCircle(this.regX,this.regY,2).endStroke(),this.addChild(t)}}]),n}(createjs.Container);t.TextGroup=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(83),h=n(217),d=n(69),p=n(216);function g(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=v(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e))._textWidget=r,i._options=e.options||{},i._position=-1,i._xOffset=l._.get(i._options,"xOffset",0),i._ignoreChars=l._.get(i._options,"ignoreChars",[]),i.init(),i}return(0,a.default)(n,[{key:"init",value:function(){var e=this;this.addChild(this._createCursorGraphic()),this._textWidget.addChild(this),this._textWidget.onClick=this._onMouseClick.bind(this),this._textWidget.addEventListener("textChange",this._onTextWidgetChange.bind(this)),d.eventManager.on("keydown",this._onKeyEvent.bind(this)),this._textWidget.addEventListener("added",(function(){d.eventManager.on("click",e._onMouseClick.bind(e),e._textWidget.parent),e._textWidget.parent.anchors||h.AnchorUtil.mixinBaseAnchors(e._textWidget.parent)})),h.AnchorUtil.mixinBaseAnchors(this),h.AnchorUtil.mixinBaseAnchors.apply(h.AnchorUtil,g(i.default,this.textParts)),this.active=!1}},{key:"moveToPosition",value:function(e){if(l._.isEmpty(this.textParts))this.centerAsset();else{var t=this.textParts[e>=0?e:0];t&&(e>=0?(this.anchors.centerLeft.alignTo(t.anchors.centerRight,{left:this._xOffset-2}),this._position=e):(this.anchors.centerRight.alignTo(t.anchors.centerLeft,{left:2}),this._position=-1))}this._redraw()}},{key:"deleteAtCurrentPosition",value:function(){var e=this._textWidget.getText();return e=e.slice(0,this.position)+e.slice(this.position+1),this._position--,e}},{key:"deleteAfterCurrentPosition",value:function(){return this._position++,this.deleteAtCurrentPosition()}},{key:"insertAtCurrentPosition",value:function(e){var t=this._textWidget.getText();return this._position++,t.slice(0,this.position)+e+t.slice(this.position)}},{key:"characterAtPosition",value:function(e){return e>=0&&e<this.textParts.length?this.textParts[e]:null}},{key:"centerAsset",value:function(){this._textWidget.parent&&this.anchors.center.alignTo(this._textWidget.parent.anchors.center),this._position=-1}},{key:"isCharacterToSkip",value:function(e){return l._.indexOf(this._ignoreChars,e)>=0}},{key:"_onMouseClick",value:function(e){if(this.active){var t;e.stopPropagation();var n=e.target.parent;if(n instanceof p.TextPart){var r=function(e){return l._.isUndefined(e)?"":e.children[0].character},i=l._.indexOf(this.textParts,n),o=r(this.textParts[i-1]),a=(t=n.globalToLocal(e.stageX,e.stageY)).x<.5*n._width?-1:0;(0===a&&this.isCharacterToSkip(r(n))||a<0&&this.isCharacterToSkip(o))&&a--,this.moveToPosition(i+a)}else l._.isEmpty(this.textParts)||((t=(n=e.currentTarget).globalToLocal(e.stageX,e.stageY)).x<this._textWidget.x?this.moveToPosition(-1):t.x>this._textWidget.x+this._textWidget.getBounds().width&&this.moveToPosition(this.textParts.length-1))}}},{key:"_onTextWidgetChange",value:function(){this._textWidget.uncache(),h.AnchorUtil.mixinBaseAnchors.apply(h.AnchorUtil,g(i.default,this.textParts)),this._textWidget.addChild(this),this.moveToPosition(this.position),this._textWidget.cache()}},{key:"_onKeyEvent",value:function(e){if(this.active)switch(e.keyCode){case l.Key.LeftArrow:this.moveToPosition(this.position<0?this.position:this.position-1);break;case l.Key.RightArrow:this.moveToPosition(this.position<this.textParts.length?this.position+1:this.position);break;case l.Key.Backspace:e.preventDefault()}}},{key:"_redraw",value:function(){this.assetInfo.onUpdate&&this.assetInfo.onUpdate()}},{key:"_createCursorGraphic",value:function(){var e,t,n=this,r=this.assetInfo&&this.assetInfo.graphic?this.assetInfo.graphic:null;return l._.isNull(r)?(e=n._textWidget._text.size,(t=new l.createjs.Shape).graphics.s("red").ss(3).mt(0,0).lt(0,e).es(),n.setBounds(0,0,3,e),t):new r}},{key:"textParts",get:function(){return l._.filter(this._textWidget.children,(function(e){return e instanceof p.TextPart}))}},{key:"position",get:function(){return this._position}},{key:"active",get:function(){return this._isActive},set:function(e){this.visible=e,this._isActive=e}}]),n}(f.Widget);t.default=m},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(437)),s=function(){function e(t){(0,i.default)(this,e),this._displayObject=t}return(0,o.default)(e,[{key:"add",value:function(e,t){if(!this[e]){var n=new a.default(e,this._displayObject,t);this[e]=n}}},{key:"debug",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length)for(var i=0;i<n.length;i++)this[n[i]].debug&&this[n[i]].debug();else Object.keys(this).forEach((function(t){e[t].debug&&e[t].debug()}))}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(43)),o=r(n(4)),a=r(n(5)),s=r(n(218)),u=function(){function e(t,n,r){(0,o.default)(this,e),this._key=t,this._displayObject=n,this._point=r}return(0,a.default)(e,[{key:"alignTo",value:function(e,t){this._assertAnchor(e);var n=this.getAlignmentPoint(e,t);this._displayObject.set(n)}},{key:"getPoint",value:function(){return null!==this._point&&"object"===(0,i.default)(this._point)?this._point:this._point(this._displayObject)}},{key:"getAlignmentPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._assertAnchor(e),this._assertScale(this._displayObject);var n=s.default.getAlignmentPoint(this.displayObject,e.displayObject,this.getPoint(),e.getPoint()),r=this.displayObject.parent.scaleX,i=this.displayObject.parent.scaleY;return n.x-=(t.right||0)/r,n.x+=(t.left||0)/r,n.y+=(t.top||0)/i,n.y-=(t.bottom||0)/i,n}},{key:"debug",value:function(){this.displayObject.removeChild(this.displayObject.getChildByName("debugShape".concat(this._key))),this.displayObject.removeChild(this.displayObject.getChildByName("debugText".concat(this._key)));var e=new createjs.Shape,t=new createjs.Text(this._key,"14px","yellow");e.graphics.beginFill("red").drawCircle(0,0,3),t.getBounds=function(){return null},this.displayObject.addChild(e),this.displayObject.addChild(t),e.name="debugShape".concat(this._key),t.name="debugText".concat(this._key);var n=s.default.getAlignmentPoint(e,this.displayObject,{x:0,y:0},this.getPoint());e.set(n),t.set(n)}},{key:"_assertAnchor",value:function(t){if(!(t instanceof e))throw new Error("anchor must be an instance of Anchor")}},{key:"_assertScale",value:function(e){if(!(e.scaleX&&e.scaleY))throw new Error("The object must have a scale greater than 0")}},{key:"displayObject",get:function(){return this._displayObject}}]),e}();t.default=u},function(e,t,n){"use strict";(function(t){
/**
 * VERSION: 1.2.0
 * DATE: 2016-07-14
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * This file is to be used as a simple template for writing your own plugin. See the
 * TweenPlugin docs for more details.
 *
 * You can start by doing a search for "yourCustomProperty" and replace it with whatever the name
 * of your property is. This way of defining a plugin was introduced in version 1.9.0 - previous versions
 * of TweenLite won't work with this.
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
var n=e.exports&&void 0!==t?t:window;(n._gsQueue||(n._gsQueue=[])).push((function(){n._gsDefine.plugin({propName:"velocity",priority:1e4,API:2,version:"1.0.0",overwriteProps:["velocity"],init:function(e,t,n,r){var i=e.x-(Number.isNaN(n.vars.x)?e.x:n.vars.x),o=e.y-(Number.isNaN(n.vars.y)?e.y:n.vars.y),a=Math.sqrt(i*i+o*o);return n._active=!1,n.ratio=0,n.duration(a/t*n.vars.timeFactor),!1}})})),n._gsDefine&&n._gsQueue.pop()()}).call(this,n(48))},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayAnimationModule=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(7),u=function(){function e(){(0,i.default)(this,e),this._animations=[],this._activeAnimationIds=[]}return(0,o.default)(e,[{key:"process",value:function(e,t){this._animations!==e&&(this._processAnimations(e,t),this._animations=a._.cloneDeep(e))}},{key:"_processAnimations",value:function(e,t){var n=this;this._activeAnimationIds=this._activeAnimationIds||[],a._.each(e,(function(e){if(!a._.includes(n._activeAnimationIds,e.displayAnimationId)){s.rendererLogger.info("Process animation",e),n._activeAnimationIds.push(e.displayAnimationId),n._resolveAnimation(e,(function(){a._.pull(n._activeAnimationIds,e.displayAnimationId),e.complete()}),t)}}))}},{key:"_resolveAnimation",value:function(e,t,n){var r;if(a._.isFunction(e.target))r=e.target;else if(r=n[e.target].bind(n),!a._.isFunction(r))throw new Error("".concat(e.target," is not a function on the current display."));r(t,e.params)}}]),e}();t.DisplayAnimationModule=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(295)),s=r(n(296)),u=r(n(297)),c=r(n(298)),l=r(n(192)),f=r(n(299)),h=r(n(56)),d=r(n(300)),p=r(n(301)),g=r(n(302)),v=r(n(303)),m=r(n(304)),y=function(){function e(t){var n=t.rootDisplayObject,r=t.attributePaths,o=void 0===r?[]:r,s=t.childAttributePaths,u=void 0===s?[]:s,c=t.idPath,l=void 0===c?null:c;(0,i.default)(this,e),this._rootDisplayObject=n,this._idPath=l,this._attributePaths=o,this._childAttributePaths=u,this._canvasDocument=null,this._lookupMap=null,this._objectChildren=new WeakMap,(0,a.default)(this,"updateDocumentContext","select","selectAll")}return(0,o.default)(e,[{key:"getAncestors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return[];var n=[];t&&n.push(e);for(var r=e.parent.parent;r;)n.push(r),r=r.parent.parent;return n}},{key:"updateDocumentContext",value:function(e){var t=this;this._rootDisplayObject=e;var n=this._getDisplayList({displayObject:this._rootDisplayObject}),r=(0,s.default)(n,(function(e){return(0,f.default)(e,"easelQueryData")||(0,m.default)((0,d.default)(t._attributePaths,(function(t){return(0,f.default)(e,t)})))}));this._tagDisplayObjectForCreation(e),(0,c.default)(r,(function(e){t._tagDisplayObjectForCreation(e);var n=t.getAncestors(e,!0);(0,c.default)(n,(function(e){t._tagDisplayObjectForCreation(e)}))})),this._createDisplayObjectElementTree(e),this._canvasDocument=this._createDocumentContext(e)}},{key:"_tagDisplayObjectForCreation",value:function(e){e.easelQueryData||(e.easelQueryData={}),e.easelQueryData.createElement=!0}},{key:"select",value:function(e){return this._canvasDocument||this.updateDocumentContext(this._rootDisplayObject),this._lookupMap.get(this._canvasDocument.querySelector(e))}},{key:"selectAll",value:function(e){var t=this;return this._canvasDocument||this.updateDocumentContext(this._rootDisplayObject),(0,d.default)(this._canvasDocument.querySelectorAll(e),(function(e){return t._lookupMap.get(e)}))}},{key:"_getDisplayList",value:function(e){for(var t=e.displayObject,n=e.maxDepth,r=void 0===n?99:n,i=[],o=[],a={obj:t,depth:0};a;){if(i.push(a.obj),a.obj.children&&a.depth<r)for(var s=0;s<a.obj.children.length;s++)o.push({obj:a.obj.children[s],depth:a.depth+1});a=o.pop()}return i}},{key:"_createDocumentContext",value:function(e){this._lookupMap=new WeakMap;var t=document.implementation.createDocument("","",null),n=this._createElement(e,t);return t.appendChild(n),t}},{key:"clearCanvasDocument",value:function(){this._canvasDocument=null}},{key:"_getAttributes",value:function(e){var t=(0,v.default)(this._attributePaths.concat(["alpha","mouseChildren","mouseEnabled","name","regX","regY","rotation","scaleX","scaleY","numChildren","visible","x","y"]),(function(t,n){var r=(0,l.default)(e,n),i="data-".concat(n.replace(".","-"));return r&&((0,h.default)(r)?(0,c.default)(r,(function(e,n){(0,h.default)(e)||(t["".concat(i,"-").concat(n)]=e)})):t[i]=r),t}),{}),n=(0,l.default)(e,this._idPath);return n&&(t.id=n),(0,p.default)({},t,e.easelQueryData.attributes)}},{key:"duckType",value:function(e){var t="DisplayObject";return e.canvas?t="Stage":e.gotoAndPlay?t="MovieClip":e.addChild&&(t="Container"),t}},{key:"_createElement",value:function(e,t){var n=this,r=e.easelQueryData,i=this._getAttributes(e);r.classNames&&(i.class=r.classNames.join(" ")),r.tagName||(r.tagName=this.duckType(e));var o=t.createElement(r.tagName);return(0,c.default)(i,(function(e,t){o.setAttribute(t,e)})),this._lookupMap.set(o,e),this._objectChildren.has(e)&&(0,c.default)(this._objectChildren.get(e),(function(e){o.appendChild(n._createElement(e,t))})),o}},{key:"_createDisplayObjectElementTree",value:function(e){var t=this;if(e.children){var n=[];this._objectChildren.set(e,n);var r=(0,v.default)(e.children,(function(e,n){return t.tagIfHasChildAttributes(n),n.easelQueryData&&n.easelQueryData.createElement&&e.push(n),e}),[]);(0,c.default)(r,(function(e){n.push(e),e.children&&t._createDisplayObjectElementTree(e)}))}}},{key:"tagIfHasChildAttributes",value:function(e){var t=!1,n=this._childAttributePaths.reduce((function(n,r){return r in e&&(n[r]=e[r],t=!0),n}),{});t&&(e.easelQueryData=(0,p.default)(e.easelQueryData,{createElement:!0,attributes:n}))}},{key:"getClosestAccessible",value:function(e){var t=this.getAncestors(e,!0);return(0,u.default)(t,(function(e){return 0===(0,l.default)(e,"accessible.tabIndex")}))}},{key:"automationInfoHelper",value:function(e){return this.getDomElementInfo(e)||this.getDisplayObjectInfo(e)}},{key:"getDomElementInfo",value:function(e){return document.querySelector(e)?{type:"DOM",targetSelector:e,bounds:{},coordinates:{}}:null}},{key:"getDisplayObjectCoordinates",value:function(e){function t(e){var t=e.x,n=e.x+e.width/2,r=e.x+e.width,i=e.y,o=e.y+e.height/2,a=e.y+e.height;return{x:e.x,y:e.y,width:e.width,height:e.height,x1:t,x2:n,x3:r,y1:i,y2:o,y3:a,topLeft:{x:t,y:i},topCenter:{x:n,y:i},topRight:{x:r,y:i},centerLeft:{x:t,y:o},centerCenter:{x:n,y:o},centerRight:{x:r,y:o},bottomLeft:{x:t,y:a},bottomCenter:{x:n,y:a},bottomRight:{x:r,y:a}}}return r=(n=e).stage.canvas.getBoundingClientRect(),i=n.getBounds(),o={x:i.x,y:i.y,width:i.width,height:i.height},a=n.localToGlobal(i.x,i.y),s=n.localToGlobal(i.x+i.width,i.y+i.height),u={x:a.x,y:a.y,width:s.x-a.x,height:s.y-a.y},c=n.getTransformedBounds(),l=c?{x:c.x,y:c.y,width:c.width,height:c.height}:o,f=document.getElementById("container").getBoundingClientRect().width/1250,h=n.stage.canvas.getAttribute("scale"),d=f/(h?parseFloat(h,10):1),p={x:r.x+u.x*d,y:r.y+u.y*d,width:u.width*d,height:u.height*d},{localBounds:t(o),localTransformedBounds:t(l),stageBounds:t(u),viewportBounds:t(p),containerScale:f,stageScale:d,visible:n.visible};var n,r,i,o,a,s,u,c,l,f,h,d,p}},{key:"getDisplayObjectInfo",value:function(e){var t=this.select(e);if(t){var n=this.getDisplayObjectCoordinates(t),r=this.simplifyRectangle(n.viewportBounds),i=n.viewportBounds.centerCenter,o=i.x,a=i.y,s=this.getClosestAccessible(t);return{type:"easel",targetSelector:s?"#".concat(s.accessible.domId):null,coordinates:{x:o,y:a},bounds:r,displayObjectCoordinates:n}}return null}},{key:"simplifyRectangle",value:function(e){return(0,g.default)(e,["x","y","width","height"])}},{key:"canvasDocument",get:function(){return this._canvasDocument||this.updateDocumentContext(this._rootDisplayObject),this._canvasDocument}}]),e}();t.default=y},function(e,t,n){var r=n(164),i=n(444),o=n(56),a=n(222),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(109),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(445),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(49)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(223),i=n(450),o=n(170),a=n(133),s=r((function(e,t,n){var r=1;if(n.length){var u=a(n,o(s));r|=32}return i(e,r,t,n,u)}));s.placeholder={},e.exports=s},function(e,t,n){var r=n(449),i=n(220),o=n(110),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(226),i=n(451),o=n(452),a=n(229),s=n(468),u=n(233),c=n(469),l=n(235),f=n(236),h=n(238),d=Math.max;e.exports=function(e,t,n,p,g,v,m,y){var _=2&t;if(!_&&"function"!=typeof e)throw new TypeError("Expected a function");var b=p?p.length:0;if(b||(t&=-97,p=g=void 0),m=void 0===m?m:d(h(m),0),y=void 0===y?y:h(y),b-=g?g.length:0,64&t){var A=p,w=g;p=g=void 0}var E=_?void 0:u(e),x=[e,t,n,p,g,A,w,v,m,y];if(E&&c(x,E),e=x[0],t=x[1],n=x[2],p=x[3],g=x[4],!(y=x[9]=void 0===x[9]?_?0:e.length:d(x[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?o(e,t,y):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,p);else var T=i(e,t,n);return f((E?r:l)(T,x),e,t)}},function(e,t,n){var r=n(131),i=n(49);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},function(e,t,n){var r=n(165),i=n(131),o=n(229),a=n(232),s=n(170),u=n(133),c=n(49);e.exports=function(e,t,n){var l=i(e);return function i(){for(var f=arguments.length,h=Array(f),d=f,p=s(i);d--;)h[d]=arguments[d];var g=f<3&&h[0]!==p&&h[f-1]!==p?[]:u(h,p);if((f-=g.length)<n)return a(e,t,o,i.placeholder,void 0,h,g,void 0,void 0,n-f);var v=this&&this!==c&&this instanceof i?l:e;return r(v,this,h)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(167),i=n(233),o=n(456),a=n(458);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(457),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(167),i=n(234),o=n(168),a=n(41),s=n(76),u=n(459),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return u(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},function(e,t,n){var r=n(167),i=n(234),o=n(169);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(163),i=n(463),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(464);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(237),i=n(465),o=n(466);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(169),i=n(111),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var u=t[a];e[a]=i(u,n)?s[u]:void 0}return e}},function(e,t,n){var r=n(165),i=n(131),o=n(49);e.exports=function(e,t,n,a){var s=1&t,u=i(e);return function t(){for(var i=-1,c=arguments.length,l=-1,f=a.length,h=Array(f+c),d=this&&this!==o&&this instanceof t?u:e;++l<f;)h[l]=a[l];for(;c--;)h[l++]=arguments[++i];return r(d,s?n:this,h)}}},function(e,t,n){var r=n(230),i=n(231),o=n(133),a=Math.min;e.exports=function(e,t){var n=e[1],s=t[1],u=n|s,c=u<131,l=128==s&&8==n||128==s&&256==n&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==n;if(!c&&!l)return e;1&s&&(e[2]=t[2],u|=1&n?0:4);var f=t[3];if(f){var h=e[3];e[3]=h?r(h,f,t[4]):f,e[4]=h?o(e[3],"__lodash_placeholder__"):t[4]}return(f=t[5])&&(h=e[5],e[5]=h?i(h,f,t[6]):f,e[6]=h?o(e[5],"__lodash_placeholder__"):t[6]),(f=t[7])&&(e[7]=f),128&s&&(e[8]=null==e[8]?t[8]:a(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}},function(e,t,n){var r=n(471);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(472),i=n(56),o=n(134),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(473),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(475);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(240),i=n(476);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,t,n){var r=n(109),i=n(135),o=n(41),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(93),i=n(76);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(112);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},function(e,t,n){var r=n(242),i=n(136);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(93),i=n(173),o=n(76),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(221),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(63)(e))},function(e,t,n){var r=n(174),i=n(487),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(244)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(85);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){var r=n(490),i=n(530),o=n(250);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(175),i=n(245);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(o)var p=o(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(138),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(138);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(138);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(138);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(137);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(137),i=n(176),o=n(177);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(502),i=n(137),o=n(176);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(503),i=n(504),o=n(505),a=n(506),s=n(507);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(139);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(139),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(139),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(139);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(140);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(140);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(140);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(140);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(175),i=n(246),o=n(518),a=n(521),s=n(526),u=n(41),c=n(171),l=n(172),f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,p,g){var v=u(e),m=u(t),y=v?"[object Array]":s(e),_=m?"[object Array]":s(t),b=(y="[object Arguments]"==y?f:y)==f,A=(_="[object Arguments]"==_?f:_)==f,w=y==_;if(w&&c(e)){if(!c(t))return!1;v=!0,b=!1}if(w&&!b)return g||(g=new r),v||l(e)?i(e,t,n,d,p,g):o(e,t,y,n,d,p,g);if(!(1&n)){var E=b&&h.call(e,"__wrapped__"),x=A&&h.call(t,"__wrapped__");if(E||x){var T=E?e.value():e,S=x?t.value():t;return g||(g=new r),p(T,S,n,d,g)}}return!!w&&(g||(g=new r),a(e,t,n,d,p,g))}},function(e,t,n){var r=n(177),i=n(515),o=n(516);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(109),i=n(248),o=n(113),a=n(246),s=n(519),u=n(520),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var v=a(d(e),d(t),r,c,f,h);return h.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(522),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<l;){var m=e[h=c[f]],y=t[h];if(o)var _=u?o(y,m,h,t,e,s):o(m,y,h,e,t,s);if(!(void 0===_?m===y||a(m,y,n,o,s):_)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var b=e.constructor,A=t.constructor;b==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var r=n(523),i=n(524),o=n(136);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(240),i=n(41);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(241),i=n(525),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(527),i=n(176),o=n(528),a=n(529),s=n(228),u=n(93),c=n(222),l=c(r),f=c(i),h=c(o),d=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(84)(n(49),"DataView");e.exports=r},function(e,t,n){var r=n(84)(n(49),"Promise");e.exports=r},function(e,t,n){var r=n(84)(n(49),"Set");e.exports=r},function(e,t,n){var r=n(249),i=n(136);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(245),i=n(192),o=n(252),a=n(179),s=n(249),u=n(250),c=n(94);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(533),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(534);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(177);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(536);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(109),i=n(251),o=n(41),a=n(134),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(539),i=n(540),o=n(179),a=n(94);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(178);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(95),i=n(85),o=n(136);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},function(e,t,n){var r=n(237),i=n(95),o=n(238),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},function(e,t,n){var r=n(110);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(112),i=n(85);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(175),i=n(254),o=n(242),a=n(547),s=n(56),u=n(258),c=n(256);e.exports=function e(t,n,l,f,h){t!==n&&o(n,(function(o,u){if(h||(h=new r),s(o))a(t,n,u,l,e,f,h);else{var d=f?f(c(t,u),o,u+"",t,n,h):void 0;void 0===d&&(d=o),i(t,u,d)}}),u)}},function(e,t,n){var r=n(254),i=n(548),o=n(549),a=n(169),s=n(551),u=n(135),c=n(41),l=n(552),f=n(171),h=n(164),d=n(56),p=n(553),g=n(172),v=n(256),m=n(554);e.exports=function(e,t,n,y,_,b,A){var w=v(e,n),E=v(t,n),x=A.get(E);if(x)r(e,n,x);else{var T=b?b(w,E,n+"",e,t,A):void 0,S=void 0===T;if(S){var O=c(E),C=!O&&f(E),k=!O&&!C&&g(E);T=E,O||C||k?c(w)?T=w:l(w)?T=a(w):C?(S=!1,T=i(E,!0)):k?(S=!1,T=o(E,!0)):T=[]:p(E)||u(E)?(T=w,u(w)?T=m(w):d(w)&&!h(w)||(T=s(E))):S=!1}S&&(A.set(E,T),_(T,E,y,b,A),A.delete(E)),r(e,n,T)}}},function(e,t,n){(function(e){var r=n(49),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(63)(e))},function(e,t,n){var r=n(550);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(248);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(132),i=n(255),o=n(174);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(85),i=n(76);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(93),i=n(255),o=n(76),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(e,t,n){var r=n(555),i=n(258);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(257),i=n(130);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(56),i=n(174),o=n(557),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(223),i=n(259);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},function(e,t,n){var r=n(560),i=n(252);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(178),i=n(561),o=n(141);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}},function(e,t,n){var r=n(257),i=n(141),o=n(111),a=n(56),s=n(94);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,f=l-1,h=e;null!=h&&++c<l;){var d=s(t[c]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(c!=f){var g=h[d];void 0===(p=u?u(g,d,h):void 0)&&(p=a(g)?g:o(t[c+1])?[]:{})}r(h,d,p),h=h[d]}return e}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},function(e,t,n){var r=n(112);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DsExpressionEngine=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r,o=e.rngSeed,a=e.functions,s=e.constants,u=e.stepsMap,c=e.state,l=e.results,f=e.screens,h=e.additionalRuntime;return(0,i.default)(this,n),(r=t.call(this,{rngSeed:o,functions:a,constants:s,stepsMap:u,state:c,results:l,screens:f,additionalRuntime:h}))._addFunction("setToken",(function(e,t){if("content"===e)throw new Error('token "content" is a reserved keyword and cannot be used with setToken');r._dsResult.tokens[e]=t})),r._addFunction("setScreenProp",(function(e,t){r._dsResult.screenProps[e]=t})),r}return(0,o.default)(n,[{key:"evaluate",value:function(e){var t=e.expressions,r=e.constants;this._dsResult={tokens:{},screenProps:{}};var i=(0,a.default)((0,c.default)(n.prototype),"evaluate",this).call(this,{expressions:t,constants:r});if(l._.isEmpty(this._dsResult.tokens)&&l._.isEmpty(this._dsResult.screenProps))throw new Error("No DS tokens or screen props returned by expression");return delete i.warnings[l.expressionWarning.multipleAnonymousLines],i.value=this._dsResult,i}},{key:"_assertResult",value:function(e){var t=e.value;if(void 0!==t)throw new Error("A Data Sharing expression should not return a value. Returned: ".concat(t))}}]),n}(n(157).ExpressionEngine);t.DsExpressionEngine=h},function(e,t,n){e.exports=n.p+"448de8d26d100a3222a4aeb610dc9438.svg"},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this))._complete=!1,r._timeout=e,r._remaining=null,r._tId=null,r._olddate=Date.now(),l._.bindAll((0,a.default)(r),["_toggleCompleteState"]),r._tId=r._startTimer(),r}return(0,o.default)(n,[{key:"_toggleCompleteState",value:function(){this._complete=!this._complete,this._olddate=Date.now(),this._complete&&this.emit("timerComplete")}},{key:"reset",value:function(){this._complete=!1,this._olddate=Date.now(),this._remaining=null,clearTimeout(this._tId),this._tId=this._startTimer()}},{key:"pause",value:function(){null===this._remaining&&(this._remaining=this._timeout-(Date.now()-this._olddate),clearTimeout(this._tId))}},{key:"resume",value:function(){null!==this._remaining&&(this._complete||(this._tId=this._startTimer(this._remaining)),this._remaining=null)}},{key:"_startTimer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e||this._timeout;return setTimeout(this._toggleCompleteState,t)}},{key:"complete",get:function(){return this._complete}},{key:"time",get:function(){if(this._complete)return 0;if(null!==this._remaining)return this._remaining;var e=this._timeout-(Date.now()-this._olddate);return e<0&&(e=0),e}},{key:"id",get:function(){return this._tId}}]),n}(l.Emitter);t.Timer=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AreYouStillThere=t.ACTIVE_EVENTS=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(181),f=n(69),h=n(74),d=n(54),p=n(8),g=n(30),v=n(38),m=n(142),y=n(40);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=["keydown","wheel","mousewheel","mousedown","touchstart","touchend"];t.ACTIVE_EVENTS=b;var A=function(e){(0,a.default)(n,e);var t=_(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1},e._rutRef=c.React.createRef(),e.onIdle=function(){d.platformConnectionProvider.connection.component.pause().then((function(){e.setState({visible:!0}),p.store.dispatch((0,m.idleApplication)()),p.store.dispatch((0,v.createAndSaveLessonState)())})),e._rutRef.current&&e._rutRef.current.focus()},e.onActive=function(){d.platformConnectionProvider.connection.component.resume().then((function(){e.setState({visible:!1}),p.store.dispatch((0,m.resumeApplication)())}))},e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=(0,g.getCheatValue)(p.store.getState()),t=e.timeoutMode,n=e.timeoutValue,r=1e3*(t&&n?Number(n):120);this._idleTimer=l.idleService.create({timeout:r,idleCallback:this.onIdle,activeCallback:this.onActive,events:b,context:f.INTERNAL_CONTEXT,target:this._rutRef.current})}},{key:"componentWillUnmount",value:function(){this._idleTimer&&this._idleTimer.kill()}},{key:"render",value:function(){var e=this.state.visible;return c.React.createElement(c.React.Fragment,null,c.React.createElement("div",{"aria-hidden":!e,"aria-label":"Lesson is paused. Are you still there?",id:"ayst_rutContainer",className:(0,c.classNames)({ayst_fillViewport:e}),ref:this._rutRef,role:"text",tabIndex:-1},e&&c.React.createElement(c.React.Fragment,null,c.React.createElement("div",{id:"ayst_blurDiv"}),c.React.createElement("div",{"aria-hidden":!0,ref:this._textRef,id:"ayst_rutTextDiv",dangerouslySetInnerHTML:{__html:h.i18nUtil.translate("AYST_MSG")}}))),e&&c.React.createElement(y.Button,{className:"sr-only"},"Continue with lesson"))}}]),n}(c.React.Component);t.AreYouStillThere=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(32),f=n(8),h=n(0),d=n(68),p=n(7),g=n(59),v=n(305),m=n(306),y=n(307),_=n(570),b=n(573),A=n(574),w=n(575),E=n(14),x=n(9),T=n(30),S=n(6);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var P=function(e){return e===h.Key.Enter||e===h.Key.Space},N=function(e){(0,s.default)(n,e);var t=k(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).forceFocus=function(e){r.setState((function(){return{activeElementRef:e}}))},r.useDefaultFocus=function(){r.setState((function(){return{activeElementRef:null}}))},r.backButtonRef=h.React.createRef(),r.forwardButtonRef=h.React.createRef(),r.helpButtonRef=h.React.createRef(),r.manageFocus=function(e){var t=e.which,n=e.target;P(t)&&"button"===n.type&&n.classList.contains("back")?r.forceFocus(r.backButtonRef):P(t)&&"button"===n.type&&n.classList.contains("forward")?r.forceFocus(r.forwardButtonRef):r.useDefaultFocus()},r.playPauseClick=h._.debounce(r.props.onPlayPauseClick,100,{leading:!0,trailing:!1}),r.state.activeElementRef=null,r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{onBackButtonClick:h.PropTypes.func.isRequired,onForwardButtonClick:h.PropTypes.func.isRequired,onPlayPauseClick:h.PropTypes.func.isRequired,onShowNavClick:h.PropTypes.func,disabled:h.PropTypes.bool,footerClassName:h.PropTypes.string,lessonControlsEnabled:h.PropTypes.bool,isMenuButtonShown:h.PropTypes.bool,isPaused:h.PropTypes.bool,isNextBtnVisible:h.PropTypes.bool,animationRunning:h.PropTypes.bool,audioPlaying:h.PropTypes.bool,isAppIdled:h.PropTypes.bool,done:h.PropTypes.shape({visible:h.PropTypes.bool,callback:h.PropTypes.func}),help:h.PropTypes.shape({enabled:h.PropTypes.bool,visible:h.PropTypes.bool})}}}]),(0,a.default)(n,[{key:"componentDidUpdate",value:function(e,t){this.onPlayPauseClick!==this.props.onPlayPauseClick&&(this.playPauseClick=h._.debounce(this.props.onPlayPauseClick,100,{leading:!0,trailing:!1})),this.props.lessonControlsEnabled&&this.state.activeElementRef&&this.state.activeElementRef.current.focus()}},{key:"_shouldHelpBeDisabled",value:function(){var e=(0,E.getScreensState)(f.store.getState()).mediaState,t=e.animationInProgress,n=e.audioInProgress;return!(this.props.help.enabled&&!this.props.isPaused&&this.props.help.visible&&!this.props.isNextBtnVisible&&!t&&!n)}},{key:"render",value:function(){var e=this;try{var t=this.context.uiState.BottomBar,n=this.props,r=n.footerClassName,i=n.isLessonModalOpen;return h.React.createElement(g.BottomBarContext.Provider,{value:C(C(C({},this.state),this.props),{},{playPauseClick:this.playPauseClick,shouldHelpBeDisabled:this._shouldHelpBeDisabled(),backButtonRef:this.backButtonRef,forwardButtonRef:this.forwardButtonRef,helpButtonRef:this.helpButtonRef,settingsButtonRef:this.settingsButtonRef,manageFocus:this.manageFocus})},h.React.createElement(g.PrefPanelContext.Consumer,null,(function(n){var o=n.prefPanelState,a=(0,h.classNames)(r||"full","bottom-bar",{"pref-panel-open":!o.isHidden});return h.React.createElement("div",{"aria-label":S.ACCESSIBILITY.TOOLS_AND_SETTINGS,"aria-hidden":i,className:a,id:"bottom-bar-container",onKeyDown:e.manageFocus,role:"region"},t&&h.React.createElement(t,{BottomBarWrapper:h.React.Fragment,isMenuButtonShown:e.props.isMenuButtonShown,Left:b.LeftWrapper,Right:A.RightWrapper,ProgressBar:_.ProgressBarWrapper,HelpButton:y.HelpButtonWrapper,PlayPauseButton:v.PlayPauseButtonWrapper,SettingsButton:m.SettingsButtonWrapper,TeacherMenuButton:w.TeacherMenuButtonWrapper,footerClassName:r}))})))}catch(e){p.controllerLogger.error(e)}return null}}]),n}(d.BaseControllerView);N.contextType=g.UIContext;var I=(0,l.connect)((function(e){var t=(0,x.getNavigationState)(e),n=t.sectionMarkers,r=t.totalSteps,i=t.customBtns,o=t.done,a=t.help,s=t.pauseEnabled,u=t.lessonControlsEnabled,c=t.componentCompletedImmediately,l=t.paused,f=t.footerClassName,h=(0,T.getAppState)(e).idled,d=(0,E.getLessonModalState)(e).isOpen;return{markers:n,progress:(0,x.getProgress)(e),watermark:(0,x.getWatermark)(e),totalSteps:r,inProgress:(0,x.isCurrentInProgress)(e),customBtns:i,done:o,help:a,pauseEnabled:s,lessonControlsEnabled:u,componentCompletedImmediately:c,isPaused:l,isMenuButtonShown:(0,x.isMenuButtonShown)(e),isBackBtnDisabled:(0,x.isBackBtnDisabled)(e),isForwardBtnDisabled:(0,x.isForwardBtnDisabled)(e),isNextBtnVisible:(0,x.isNextBtnVisible)(e),footerClassName:f,isAppIdled:h,isLessonModalOpen:d}}))(N);t.default=I},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBarWrapper=t.ProgressBar=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(6),f=n(571),h=n(572),d=n(59);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,a.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.progress,n=e.totalSteps,r=e.watermark,i=e.markers,o=Math.round(100*t/n),a={width:"".concat(o,"%")},s={width:"".concat(100*r/n,"%")},u=[];return c._.forEach(c._.uniq(i),(function(e,i){var o={left:"".concat(100*e/n,"%")},a=t>=e?"active":"",s=r>=e;u.push(c.React.createElement("li",{key:i,className:(0,c.classNames)(a,{"progress-threshold":s}),style:o}))})),c.React.createElement("div",{className:"progress",role:"progressbar","aria-label":l.ACCESSIBILITY.PROGRESS,"aria-valuenow":o,"aria-valuemin":0,"aria-valuemax":100},c.React.createElement("div",{className:"progressbar-elements-container","aria-hidden":"true"},c.React.createElement("div",{id:"progress-bar",className:"bar",style:a}),c.React.createElement("div",{id:"progress-watermark",className:"bar",style:s}),c.React.createElement("ul",{className:"markers"},u)))}}],[{key:"propTypes",get:function(){return{markers:c.PropTypes.arrayOf(c.PropTypes.number),progress:c.PropTypes.number,watermark:c.PropTypes.number,totalSteps:c.PropTypes.number}}}]),n}(c.React.Component);t.ProgressBar=g;t.ProgressBarWrapper=function(e){var t=c.React.useContext(d.BottomBarContext),n=t.isBackBtnDisabled,r=t.isPaused,i=t.lessonControlsEnabled,o=t.onBackButtonClick,a=t.backButtonRef,s=t.markers,u=t.componentCompletedImmediately,p=t.watermark,v=t.progress,m=t.totalSteps,y=t.isForwardBtnDisabled,_=t.onForwardButtonClick,b=t.forwardButtonRef,A=c.React.useContext(d.UIContext).registerFocusShards;return c.React.useEffect((function(){A(l.BUTTONS.BOTTOM_BAR.PROGRESS_BAR,[a,b])})),c.React.createElement("div",{className:(0,c.classNames)("footer__progress-bar")},c.React.createElement(h.BackButton,{disabled:n||r,onClick:i?o:c._.noop,forwardedRef:a}),c.React.createElement(g,{markers:s,progress:u?m:v,watermark:p,totalSteps:m}),c.React.createElement(f.ForwardButton,{className:"forward",disabled:y||r,onClick:i?_:c._.noop,forwardedRef:b}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardButton=void 0;var r=n(0),i=n(6),o=n(40),a=function(e){var t=e.disabled,n=e.isHidden,a=e.onClick,s=e.forwardedRef;return r.React.createElement(o.Button,{id:i.BUTTONS.BOTTOM_BAR.PROGRESS_BAR.FORWARD,className:"forward",type:"button",tabIndex:0,disabled:t||!1,isHidden:n,onClick:a,pulseStart:1e4,"aria-label":i.ACCESSIBILITY.NEXT_BTN,forwardedRef:s,stopPropagation:!1})};t.ForwardButton=a,a.propTypes={disabled:r.PropTypes.bool,isHidden:r.PropTypes.bool,onClick:r.PropTypes.func,forwardedRef:r.PropTypes.object}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackButton=void 0;var r=n(0),i=n(6),o=n(40),a=function(e){var t=e.disabled,n=e.onClick,a=e.forwardedRef;return r.React.createElement(o.Button,{id:i.BUTTONS.BOTTOM_BAR.PROGRESS_BAR.BACK,className:"back",key:"back","aria-label":i.ACCESSIBILITY.PREVIOUS_BTN,tabIndex:0,disabled:t||!1,onClick:n,forwardedRef:a,stopPropagation:!1})};t.BackButton=a,a.propTypes={disabled:r.PropTypes.bool,onClick:r.PropTypes.func,forwardedRef:r.PropTypes.object}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftWrapper=void 0;var r=n(0),i=function(e){var t=e.children;return r.React.createElement("div",{className:(0,r.classNames)("footer__left")},t)};t.LeftWrapper=i,i.propTypes={children:r.PropTypes.oneOfType([r.PropTypes.element,r.PropTypes.arrayOf(r.PropTypes.element)])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightWrapper=void 0;var r=n(0),i=function(e){var t=e.children;return r.React.createElement("div",{className:(0,r.classNames)("footer__right")},t)};t.RightWrapper=i,i.propTypes={children:r.PropTypes.oneOfType([r.PropTypes.element,r.PropTypes.arrayOf(r.PropTypes.element)])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherMenuButtonWrapper=t.TeacherMenuButton=void 0;var r=n(0),i=n(6),o=n(40),a=n(59),s=function(e){var t=e.disabled,n=e.onClick,s=r.React.useRef(null),u=r.React.useContext(a.UIContext);return r.React.useEffect((function(){u&&(0,u.registerFocusShards)(i.BUTTONS.BOTTOM_BAR.TEACHER_MENU,[s])})),r.React.createElement(o.Button,{id:i.BUTTONS.BOTTOM_BAR.TEACHER_MENU,ref:function(e){return s.current=e&&e.ref},key:"teacherNav",disabled:t,"aria-label":i.ACCESSIBILITY.TEACHER_MENU_BTN,tabIndex:0,onClick:n})};t.TeacherMenuButton=s,s.propTypes={disabled:r.PropTypes.bool,onClick:r.PropTypes.func};t.TeacherMenuButtonWrapper=function(){var e=r.React.useContext(a.BottomBarContext),t=e.isMenuButtonShown,n=e.disabled,i=e.onShowNavClick,o=!r.React.useContext(a.PrefPanelContext).prefPanelState.isHidden;return t?r.React.createElement(s,{disabled:o||n,onClick:i}):null}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(0),f=n(68),h=r(n(577)),d=r(n(264)),p=r(n(580)),g=r(n(311)),v=n(66),m=n(59),y=n(9),_=n(90),b=n(30),A=n(14),w=n(22);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var x=function(e){(0,a.default)(n,e);var t=E(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._screenControllerViewRef=l.React.createRef(),e._pauseOverlayKeyEventsHandler=function(t){if(t.which===l.Key.Tab){var n=e._tabbableElements(),r=l._.indexOf(n,document.activeElement);-1!==r&&(v.focusManager.forwardElement=n[t.shiftKey?r:1+r],v.focusManager.backwardElement=n[t.shiftKey?r-1:r])}},e}return(0,o.default)(n,[{key:"_shouldRenderTabButtons",value:function(){var e=this.props.styleId,t=w.assetUtil.config[e],n=!0;return t&&t.hideTabButtons&&(n=!1),n}},{key:"_tabbableElements",value:function(){var e=l._.get(this.context,"uiState.contextToShards",{});return[l._.get(e,"['settings-gear'][0].current",null),l._.get(e,"['lesson-close'][0].current",null),l._.get(e,"['continue-btn'][0].current",null),l._.get(e,"['play-pause'][0].current",null)]}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.loading,i=n.paused,o=null;return r?o="loading":i&&(o="paused",e=this._pauseOverlayKeyEventsHandler),l.React.createElement("div",{id:"screen",className:"screen"},l.React.createElement("div",{id:"pref-panel-scaler",className:"pref-panel-scaled"},l.React.createElement(p.default,null)),l.React.createElement(m.PrefPanelContext.Consumer,null,(function(n){var r=n.prefPanelState;return l.React.createElement(d.default,{visible:t.showOverlay,icon:o,keyEventsHandler:e,isPrefPanelOpen:!r.isHidden})})),l.React.createElement("div",null,l.React.createElement(h.default,{key:"screenControllerView",ref:function(e){return t._screenControllerViewRef=e},loading:r})),this._shouldRenderTabButtons()&&l.React.createElement(g.default,{addRole:!0}))}},{key:"showOverlay",get:function(){var e=this.props,t=e.idled,n=e.loading,r=e.paused,i=e.showNav;return!t&&(n||r||i)}},{key:"screenControllerRef",get:function(){return this._screenControllerViewRef}}],[{key:"propTypes",get:function(){return{loading:l.PropTypes.bool,paused:l.PropTypes.bool,showNav:l.PropTypes.bool}}}]),n}(f.BaseControllerView);x.contextType=m.UIContext;var T=(0,c.connect)((function(e){var t=(0,y.getNavigationState)(e),n=t.paused,r=t.help,i=t.showNavPopover,o=t.currentStep;return{styleId:(0,A.getScreensState)(e).screens[o].style.id,loading:l._.get((0,_.getLearningComponentState)(e),"loading"),paused:n,showNav:i,help:r,idled:(0,b.getAppState)(e).idled}}),null,null,{forwardRef:!0})(x);t.default=T},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(153)),o=r(n(23)),a=r(n(39)),s=r(n(4)),u=r(n(5)),c=r(n(11)),l=r(n(12)),f=r(n(10)),h=n(32),d=n(68),p=n(6),g=n(0),v=n(8),m=n(22),y=n(44),_=n(75),b=n(96),A=n(69),w=n(262),E=n(14),x=n(9),T=n(16),S=n(18),O=n(80),C=n(90),k=n(29),P=n(30);function N(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var R=function(e){(0,c.default)(n,e);var t=I(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).showComponent=function(){var t=e.props.component;if(t){var n=e._lastActivityId===e.props.activityId;e._lastActivityId=e.props.activityId,n?(e.component&&e._resetComponent(e.component),e.component=t,e.component.render(e.screenHolder,b.playerApi),e.props.dispatch((0,S.enablePause)(!0)),e.props.dispatch((0,S.unpause)()),g._.defer((function(){e.props.dispatch((0,S.enableNavigation)())})),e._startComponent(e.component)):e.component?e.transitionOut(e.component,(function(){return e.transitionIn(t)})):e.transitionIn(t)}return null},e.transitionOut=function(t,n){t.pause(),e.props.componentCompletedImmediately||(e.props.dispatch((0,S.unpause)()),e.props.dispatch((0,S.enablePause)(!1)),e._resetComponent(t),g._.defer((function(){e.props.dispatch((0,S.enablePause)(!0)),n()})))},e.transitionIn=function(t){arguments.length>1&&void 0!==arguments[1]||g._.noop;document.activeElement&&document.activeElement.blur(),e.component=t,e.component.render(e.screenHolder,b.playerApi),e.props.dispatch((0,S.enablePause)(!1)),g._.defer((function(){g._.delay((function(){e.props.dispatch((0,S.enableNavigation)())}),100),e.props.dispatch((0,S.enablePause)(!0)),e._handleComponentOnTransitionIn(e.component,e.props.paused)}))},e._handleComponentOnTransitionIn=function(t,n){n||e._startComponent(t)},e._startComponent=function(t){t.start(),e.setState({componentHasStarted:!0});var n=document.activeElement;if(n){var r=document.querySelector("div.screen").contains(n),i=n.className.includes("hidden");(r||i)&&document.activeElement.blur()}e.props.dispatch((0,S.enablePause)(!0))},e._unpauseComponent=function(t,n){n||e._startComponent(t),t.unpause()},e._resetComponent=function(t){t.destroy(),e.props.dispatch((0,k.audioInProgress)(!1)),e.setState({componentHasStarted:!1}),e._clearStaleContexts(),b.playerApi.player.reset(),b.playerApi.navigation.help.enabled=!1,b.playerApi.navigation.help.visible=!1},e._clearStaleContexts=function(){var t=m.assetUtil.getLoadedContexts();g._.forEach(t,(function(t){t!==e.props.currentScreenId&&t!==e.props.nextScreenId&&m.assetUtil.clearContext(t)}))},e._handleKeyDown=function(t){var n=!e.isScreenAccessible;e.isLessonAccessible&&n&&(null!==document.querySelector(".ReactModal__Overlay")||t.keyCode!==g.Key.Tab||(e.isModalVisible()||t.preventDefault(),e._modalDialogRef.current.show()))},e._modalDialogRef=g.React.createRef(),e._isScreenUiEnabled=function(t){var n=!0===g._.get(e.props.component,"data.uiEnabled",!1),r=!0===g._.get(e.props.component,"renderer.state.uiEnabled",!1),i=!0===(0,x.isScreenElementsEnabled)(v.store.getState());return null!==t.component&&(n||r||i)},e._enableElement=function(e){e.removeAttribute("disabled"),e.setAttribute("aria-disabled","false")},e._disableElement=function(e){e.setAttribute("disabled",""),e.setAttribute("aria-disabled","true")},e.isModalVisible=function(){return e._modalDialogRef.current.state.modalVisible},e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){g._.defer(this.showComponent),A.eventManager.on("keydown:".concat(A.GLOBAL_CONTEXT),this._handleKeyDown)}},{key:"componentWillUnmount",value:function(){A.eventManager.off("keydown:".concat(A.GLOBAL_CONTEXT),this._handleKeyDown)}},{key:"shouldComponentUpdate",value:function(e,t){return!e.idled}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=null;this.props.paused!==e.paused&&this.component&&(n=this.props.paused),this.props.loading!==e.loading&&this.component&&this.props.loading&&(n=!0);var r=e.refreshKey!==this.props.refreshKey,i=g._.get(e.component,"screenData.id"),o=i!==g._.get(this.props.component,"screenData.id",i);return{shouldShowComponent:null!==e.component&&(r||o),shouldPauseComponent:n,shouldEnableComponentDOMUI:this._isScreenUiEnabled(e)&&!this.props.paused}}},{key:"componentDidUpdate",value:function(e,t,n){var r=this,i=n.shouldShowComponent,o=n.shouldPauseComponent,s=n.shouldEnableComponentDOMUI;i&&g._.defer(this.showComponent),g._.isNull(o)||e.currentScreenId!==this.props.currentScreenId||(o?this.component.pause():this._unpauseComponent(this.component,this.state.componentHasStarted));var u,c=document.querySelectorAll("[role=dialog]"),l=document.querySelectorAll(p.SCREEN_ELEMENT_SELECTOR);if(this.props.paused)u=l;else{var f=g._.filter(l,(function(e){return g._.some(c,(function(t){return t.contains(e)}))}));u=g._.without.apply(g._,[l].concat(N(a.default,f))),!1===this.props.paused&&g._.forEach(f,(function(e){return r._enableElement(e)}))}!0===s?g._.forEach(u,(function(e){return r._enableElement(e)})):!1===s&&g._.forEach(u,(function(e){return r._disableElement(e)}))}},{key:"showModal",value:function(){this._modalDialogRef.current.show()}},{key:"hideModal",value:function(){this._modalDialogRef.current.hide()}},{key:"getParentNodeForModal",value:function(){return document.querySelector("#lesson")}},{key:"render",value:function(){var e={};if(T.environmentUtil.isAutomationRunning()){var t={styleId:this.props.screen.style.id||this.props.screen.styleId,screenId:this.props.currentScreenId,sectionId:this.props.screen.properties.section,loading:!0===this.props.loading||!1,paused:this.props.paused,inProgess:this.props.inProgess,finished:this.props.finished,complete:this.props.complete};y.automationUtil.setCurrentScreenInfo(t),Object.assign.apply(Object,[e].concat(N(a.default,g._.map(t,(function(e,t){return(0,o.default)({},"data-".concat(g._.kebabCase(t)),"".concat(e))})))))}return g.React.createElement(g.React.Fragment,null,g.React.createElement("main",(0,i.default)({},e,{dangerouslySetInnerHTML:{__html:'<div id="screenHolder"></div>'},"aria-hidden":this.props.paused})),g.React.createElement(w.ModalDialog,{ref:this._modalDialogRef,modalText:p.ACCESSIBILITY.FFW_MODAL_MSG,modalAudio:p.AUDIO.INACCESSIBLE_SCREEN_MODAL_AUDIO,parentSelector:this.getParentNodeForModal,className:"inaccessible",imageClassName:"inaccessibleModalImage",allowShards:!1,yesButton:{content:p.ACCESSIBILITY.INACCESSIBLE_MODAL_YES,ariaLabel:p.ACCESSIBILITY.INACCESSIBLE_MODAL_YES},noButton:{content:p.ACCESSIBILITY.INACCESSIBLE_MODAL_NO,ariaLabel:p.ACCESSIBILITY.INACCESSIBLE_MODAL_NO,onClick:function(){b.playerApi.screen.enableNext(!0)}}}))}},{key:"screenHolder",get:function(){return document.getElementById("screenHolder")}},{key:"isLessonAccessible",get:function(){return!g._.get(m.assetUtil.config,"lessonWithoutKeyNav",!1)}},{key:"isScreenAccessible",get:function(){var e=g._.get(this.props.screen.style,"id",null);if(!g._.isString(e))throw new Error("Error getting screen id from screen style");return g._.get((0,_.getStyleConfig)(e),"accessible",!0)}}],[{key:"propTypes",get:function(){return{activityId:g.PropTypes.string,nextScreenId:g.PropTypes.string,currentScreenId:g.PropTypes.string,refreshKey:g.PropTypes.number,loading:g.PropTypes.bool,dispatch:g.PropTypes.func,componentCompletedImmediately:g.PropTypes.bool,paused:g.PropTypes.bool,inProgess:g.PropTypes.bool,idled:g.PropTypes.bool,finished:g.PropTypes.bool,complete:g.PropTypes.bool,screen:g.PropTypes.shape({id:g.PropTypes.string,properties:g.PropTypes.object,styleId:g.PropTypes.string,style:g.PropTypes.object}),component:g.PropTypes.shape({updatePaths:g.PropTypes.func})}}}]),n}(d.BaseControllerView),L=(0,h.connect)((function(e){var t=(0,E.getScreensState)(e).refreshKey,n=(0,E.getCurrentScreen)(e),r=(0,x.getCurrentStep)(e).activityId,i=O.learningComponentStorage.getComponent(n.id),o=(0,x.getNavigationState)(e),a=o.paused,s=o.componentCompletedImmediately,u=o.screenElementsEnabled,c=g._.get((0,C.getLearningComponentState)(e),C.LC_RENDERER_STATE_PATH),l=(0,P.getAppState)(e).idled;return{refreshKey:t,screen:n,paused:a,activityId:r,component:i,complete:(0,x.isCurrentCompleted)(e),inProgress:(0,x.isCurrentInProgress)(e),finished:(0,x.isCurrentFinished)(e),currentScreenId:g._.get((0,x.getCurrentStep)(e),"id"),nextScreenId:g._.get((0,x.getNextStep)(e),"id"),componentCompletedImmediately:s,screenElementsEnabled:u,rendererState:c,idled:l}}),null,null,{forwardRef:!0})(R);t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalAudioIcon=void 0;var r=n(0),i=r.React.createElement("svg",{id:"modal-audio-svg","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"20",viewBox:"0 0 24 20",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.React.createElement("path",{d:"M19.25,18.43a12.07,12.07,0,0,0,3.25-8.34,12,12,0,0,0-3.25-8.33M15.63,15.31a7.66,7.66,0,0,0,2-5.22,7.68,7.68,0,0,0-2-5.22",fill:"none",stroke:"#4d4d4d",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2.41"}),r.React.createElement("path",{d:"M8.42,1.53a19.71,19.71,0,0,1-3.56,3.1,16.94,16.94,0,0,1-3.39.2s-.35-.08-.66.49A13,13,0,0,0,0,9.82v.36a13,13,0,0,0,.8,4.5c.32.57.66.49.66.49a16.85,16.85,0,0,1,3.38.2,19.74,19.74,0,0,1,3.57,3.1c.88,1,1.27,1.32,2.14,1.14S11.5,18,11.5,18V2s0-1.4-.95-1.59S9.31.58,8.42,1.53Z",fill:"#4d4d4d"}));t.ModalAudioIcon=i},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.NavPopover=void 0;var i=r(n(3)),o=n(32),a=n(18),s=n(308),u=n(309),c=n(9);t.NavPopover=function(){var e=(0,o.useSelector)((function(e){return(0,c.getTeacherNav)(e)})),t=(0,o.useDispatch)();return i.default.createElement(u.Popover,{title:"Lesson Preview",onClick:function(){return t((0,a.toggleNav)())},visible:!0},i.default.createElement("label",null,"Skip to:"),i.default.createElement(s.Dropdown,{defaultValue:e.length>0?e[0]:{name:"Introduction"},options:e,onOptionSelect:function(e){t((0,a.toggleNav)()),t((0,a.jumpToStep)(e.value))},enabled:!0,key:"navDropdown",id:"nav-popover"}))}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PrefPanelWrapper=void 0;var i=r(n(37)),o=r(n(23)),a=r(n(145)),s=n(0),u=n(581),c=n(59),l=n(40),f=n(54),h=n(74),d=n(6);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=s.React.Fragment,m=function(e){var t=e.children,n=e.onApply,r=e.onCancel,i=e.onHide,o=e.onShow;return(0,s.React.useContext(c.PrefPanelContext).update)({onApply:n,onCancel:r,onHide:i,onShow:o}),s.React.createElement(v,null,t)};t.PrefPanelWrapper=m,m.propTypes={children:s.PropTypes.oneOfType([s.PropTypes.array,s.PropTypes.element,s.PropTypes.object]),onApply:s.PropTypes.func,onCancel:s.PropTypes.func,onHide:s.PropTypes.func,onShow:s.PropTypes.func};var y=function(){var e=s.React.useContext(c.PrefPanelContext),t=e.prefPanelState,n=e.hidePrefPanel,r=e.onTogglePrefChanged,o=e.setState,p=s.React.useContext(c.UIContext),v=p.keyboardNavigation,y=p.focusShards,_=t.AdditionalContent,b=t.revertToggles,A=t.isHidden,w=t.onApply,E=t.onCancel,x=t.ccToggled,T=t.isSlidingIn,S=t.isSlidingOut,O={ccToggled:x},C=(0,s.classNames)({hide:A,"pref-panel":!A,"sliding-in":T,"sliding-out":S});return s.React.createElement("div",{className:C,role:"dialog",onAnimationEnd:function(e){switch(e.animationName){case"pref-panel-slide-out":o(g(g({},t),{},{isHidden:!0,isSlidingOut:!1})),t.onHide&&t.onHide();break;case"pref-panel-slide-in":o(g(g({},t),{},{isSlidingIn:!1})),t.onShow&&t.onShow()}},"aria-labelledby":"pref-panel-title"},s.React.createElement(a.default,{disabled:A,returnFocus:v,shards:function(e){s._.mixin({toPairsDeep:function(e){return s._.flatMap(s._.toPairs(e),(function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return s._.isObjectLike(r)?s._.toPairsDeep(r):[[n,r]]}))}});var t=[d.BUTTONS.LESSON_CLOSE];return s._.filter(e,(function(e){return e.current&&t.includes(e.current.id)}))}(y)},s.React.createElement("div",{className:"container"},s.React.createElement("h1",{className:"title",id:"pref-panel-title"},h.i18nUtil.translate("LessonSettings")),s.React.createElement(u.AccessibilityOptions,{onToggle:r,revertToggles:b,toggleStates:O}),s.React.createElement("div",{className:"additionalContent"},_&&s.React.createElement(_,{PrefPanelWrapper:m})),s.React.createElement("div",{className:"button-row"},s.React.createElement(l.Button,{id:"applyBtn",className:"apply",type:"button",tabIndex:0,"aria-label":"Save lesson settings",onClick:function(){!f.platformConnectionProvider.previewMode&&f.platformConnectionProvider.persistPreferencesToPlatform(),n(!1),w()}},h.i18nUtil.translate("OK")),s.React.createElement(l.Button,{id:"cancelBtn",className:"cancel",type:"button",tabIndex:0,"aria-label":"Cancel lesson settings",onClick:function(){n(x),E()}},h.i18nUtil.translate("Cancel"))))))};t.default=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityOptions=void 0;var i=n(32),o=n(0),a=r(n(310)),s=n(86),u=n(206),c=n(74),l=o.React.useEffect,f=function(e){var t=e.onToggle,n=e.revertToggles,r=e.toggleStates,f=(0,i.useDispatch)(),h=(0,i.useSelector)((function(e){return(0,s.getPreferencesState)(e)})).ccEnabled,d=function(){f((0,u.updatePreferences)({ccEnabled:!h})),t("ccToggled")};return l((function(){n&&r.ccToggled&&d()}),[n]),o.React.createElement("div",{className:"optionSection"},o.React.createElement("h2",{className:"optionSettingTitle"},c.i18nUtil.translate("Accessibility")),o.React.createElement("div",{className:"control-row"},o.React.createElement("span",{id:"cc-toggle-switch",className:"control-label"},c.i18nUtil.translate("ClosedCaptions")),o.React.createElement(a.default,{className:"closed-captions-toggle","aria-label":c.i18nUtil.translate("ClosedCaptions"),"aria-labelledby":"cc-toggle-switch",isOn:h,onToggle:d})))};t.AccessibilityOptions=f,f.propTypes={onToggle:o.PropTypes.func,revertToggles:o.PropTypes.bool,toggleStates:o.PropTypes.shape({ccToggled:o.PropTypes.bool})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NextButtonWrapper=t.NextButton=void 0;var r=n(32),i=n(0),o=n(6),a=n(40),s=n(9),u=n(18),c=function(e){var t=e.disabled,n=e.isHidden,r=e.onClick;return i.React.createElement(a.Button,{id:"next-button",className:"next glow",key:"next","aria-label":o.ACCESSIBILITY.NEXT_BTN,tabIndex:0,disabled:t,isHidden:n,onClick:r})};t.NextButton=c,c.propTypes={disabled:i.PropTypes.bool,isHidden:i.PropTypes.bool,onClick:i.PropTypes.func};t.NextButtonWrapper=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return(0,s.getNavigationState)(e)})),n=t.paused,o=t.lessonControlsEnabled,a=(0,r.useSelector)((function(e){return(0,s.isNextBtnVisible)(e)}));return i.React.createElement(c,{disabled:n,isHidden:!a,onClick:o?function(){return e((0,u.forward)())}:i._.noop})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoneButtonWrapper=t.DoneButton=void 0;var r=n(32),i=n(0),o=n(6),a=n(40),s=n(9),u=function(e){var t=e.disabled,n=e.isHidden,r=e.onClick;return i.React.createElement(a.Button,{id:"done-button",className:"done",key:"done","aria-label":o.ACCESSIBILITY.DONE_BTN,tabIndex:0,isHidden:n,disabled:t,onClick:r,onClickDebounce:1e3})};t.DoneButton=u,u.propTypes={disabled:i.PropTypes.bool,isHidden:i.PropTypes.bool,onClick:i.PropTypes.func};t.DoneButtonWrapper=function(){var e=(0,r.useSelector)((function(e){return(0,s.getNavigationState)(e)})),t=e.paused,n=e.done,o=e.lessonControlsEnabled,a=n.callback;return i.React.createElement(u,{isHidden:!n.visible,disabled:!n.enabled||t,onClick:o?a:i._.noop})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomButtonWrapper=t.CustomButton=void 0;var r=n(32),i=n(0),o=n(40),a=n(9),s=function(e){var t=e.disabled,n=e.isHidden,r=e.onClick,a=e["aria-label"],s=e.buttonName;return i.React.createElement(o.Button,{id:"custom-button-".concat(s),className:(0,i.classNames)("customBtn",s),key:"customBtn","aria-label":a,tabIndex:0,isHidden:n,disabled:t,onClick:r})};t.CustomButton=s,s.propTypes={disabled:i.PropTypes.bool,isHidden:i.PropTypes.bool,onClick:i.PropTypes.func,"aria-label":i.PropTypes.string,buttonName:i.PropTypes.string};var u=function(e){var t=e.buttonName,n=(0,r.useSelector)((function(e){return(0,a.getNavigationState)(e)})),o=n.paused,u=n.customBtns[t];return i.React.createElement(s,{"aria-label":u.label||"",isHidden:!u.visible,disabled:!u.enabled||o,onClick:i._.isFunction(u.callback)?u.callback:i._.noop,buttonName:t})};t.CustomButtonWrapper=u,u.propTypes={buttonName:i.PropTypes.string}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(32),l=n(0),f=n(68),h=n(20),d=n(586),p=n(587),g=n(588),v=n(590),m=n(9),y=n(30),_=n(6),b=n(33);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var w=_.CHEATS.USE_DIRECTIVE,E=function(e){(0,a.default)(n,e);var t=A(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.shouldShowDirective,n=e.displayCheats,r=e.cheats,i=e.step,o=e.authoring,a=b.statefulNavStepsUtil.getAllSteps(),s={display:n?"block":"none"};return l.React.createElement("div",{className:"cheats",style:s},l.React.createElement("form",null,l.React.createElement(p.CheatHeader,{steps:a,stepID:i.id,isAdaptivePoint:i.isAdaptivePoint,authoring:o}),l.React.createElement("div",{className:"toggles buttons"},l._.map(l._.filter(r,(function(e){return l._.startsWith(e.type,"button")})),(function(e){return l.React.createElement(d.CheatButton,{key:e.id,cheatData:e})})),l.React.createElement("div",{className:"quality"},l.React.createElement("div",{className:"cheat-label"},"Quality: "),l.React.createElement(g.CheatComponent,{cheatData:l._.find(r,{id:"quality"})}))),l.React.createElement("div",{className:"toggles"},l._.map(l._.filter(r,(function(e){return l._.startsWith(e.type,"toggle")})),(function(e){return l.React.createElement(g.CheatComponent,{key:e.id,cheatData:e})})))),t?l.React.createElement(v.LessonDirectiveGenerationTool,{steps:a}):null)}}],[{key:"propTypes",get:function(){return{displayCheats:l.PropTypes.bool,cheats:l.PropTypes.objectOf(l.PropTypes.object),step:l.PropTypes.shape({id:l.PropTypes.string,isAdaptivePoint:l.PropTypes.bool}),authoring:l.PropTypes.shape({export_date:l.PropTypes.string})}}}]),n}(f.BaseControllerView),x=(0,c.connect)((function(e){return{step:(0,m.getCurrentStep)(e),authoring:(0,h.getLessonAuthoring)(e),shouldShowDirective:(0,y.getCheatState)(e)[w].value}}))(E);t.default=x},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CheatButton=void 0;var i=r(n(3)),o=r(n(27)),a=n(40),s=function(e){var t=e.cheatData;return i.default.createElement("div",null,i.default.createElement(a.Button,{id:t.id,content:t.label,"aria-label":t.label,tabIndex:-1,className:"btn",title:t.title,onClick:function(){t.callback&&t.callback()}}))};t.CheatButton=s,s.propTypes={cheatData:o.default.shape({callback:o.default.func,id:o.default.string,label:o.default.string,title:o.default.string})}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CheatHeader=void 0;var i=r(n(3)),o=r(n(15)),a=n(32),s=r(n(27)),u=n(261),c=n(75),l=n(18),f=function(e){var t,n,r=e.steps,s=e.stepID,f=e.isAdaptivePoint,h=e.authoring,d=(0,a.useDispatch)(),p=(0,c.getLogoFromConfig)(),g=o.default.endsWith(window.location.href,"/")?window.location.href.substring(0,window.location.href.length-1):window.location.href,v=g.match(/::/)?g.replace(/\/[\d]+::.+$/,"/".concat(s)):"".concat(g,"/").concat(s),m=decodeURIComponent(g),y=/\/#\/.*\/\/(.*)\/export\/(.*)/.exec(m);y&&(t="https://".concat(y[1],"/edit-lesson/#").concat(y[2]),n="https://".concat(y[1],"/export/").concat(y[2]));var _=h.author_name;return i.default.createElement("table",null,i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",{style:{textAlign:"center"}},i.default.createElement(u.Logo,{className:"logo",url:p,alt:""}),i.default.createElement("span",{className:"cheat-label"},"iFabric: v",window.com.cainc.ifabric.version)),i.default.createElement("td",null,i.default.createElement("div",{className:"cheat-label"},"Current Screen (",i.default.createElement("a",{className:"step-url",href:v,target:"_blank",rel:"noopener noreferrer"},"Permalink"),")"),i.default.createElement("select",{className:"dropdown",key:"nav",onChange:function(e){d((0,l.jumpToStep)(e.target.value))},value:s},o.default.map(o.default.toArray(r),(function(e,t){var n=o.default.reduce(o.default.words(e.section),(function(e,t){return e+t[0]}),"");return i.default.createElement("option",{key:e.id,value:e.id},t+1,".",e.id," (",e.style,") [",n,"]")})))),i.default.createElement("td",null,i.default.createElement("div",{className:"cheat-label"},"Adaptive Point"),f?"Yes":"No"),i.default.createElement("td",null,i.default.createElement("div",{className:"authoring-url"},i.default.createElement("div",{className:"cheat-label"},"Lesson Author"),_)),y&&i.default.createElement("td",null,i.default.createElement("div",{className:"authoring-url"},i.default.createElement("div",{className:"cheat-label"},"Links"),i.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"View Authored Lesson"),i.default.createElement("br",null),i.default.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"Export Lesson JSON"))))))};t.CheatHeader=f,f.propTypes={steps:s.default.objectOf(s.default.object),stepID:s.default.string,title:s.default.bool,isAdaptivePoint:s.default.bool,authoring:s.default.object}},function(e,t,n){"use strict";var r=n(2),i=n(123);Object.defineProperty(t,"__esModule",{value:!0}),t.CheatComponent=void 0;var o=r(n(37)),a=i(n(3)),s=n(32),u=r(n(15)),c=r(n(105)),l=n(0),f=n(87),h=n(589),d=n(119),p=function(e){var t=e.cheatData,n=(0,s.useDispatch)(),r=(0,a.useState)(!1),i=(0,o.default)(r,2),l=i[0],p=i[1],g=function(e){return function(t){var r={id:e,value:t.target.value};n((0,d.updateCheat)(r))}},v=function(e){var t=(0,f.getCheats)()[e.id];(0,f.persistCheat)({key:e.id,value:e.value}),(e.value!==t||e.value&&!l)&&(p(!0),e.callback&&e.callback(e.value))},m=function(e){return u.default.get(e,"id")?a.default.createElement("select",{className:"dropdown",id:"".concat(e.id,"Dropdown"),value:e.value,onChange:g(e.id,e.defaultValue)},u.default.map(e.options,(function(e){var t=u.default.isObject(e)?e:{value:e,label:e,key:e};return a.default.createElement("option",{key:t.key,value:t.value},t.label)}))):null},y=function(e){return a.default.createElement("input",{className:"sm",type:"number",placeholder:e.placeholder,onChange:g(e.id),value:e.value})};return(0,a.useEffect)((function(){v(t),t.extras&&v(t.extras)}),[t]),"select"===t.type?m(t):function(e){return a.default.createElement("div",{className:(0,c.default)({extras:e.extras})},a.default.createElement(h.ToggleCheckbox,{key:e.id,id:e.id,checked:e.value,onToggle:(t=e.id,function(e){var r={id:t,value:!e};n((0,d.updateCheat)(r))}),label:e.label}),e.extras?a.default.createElement("div",null,a.default.createElement("div",{className:"cheat-label"},e.extras.label),("toggle-input"===e.type?y:m).bind(void 0)(e.extras)):null);var t}.bind(void 0)(t)};t.CheatComponent=p,p.propTypes={cheatData:l.PropTypes.shape({callback:l.PropTypes.func,id:l.PropTypes.string,label:l.PropTypes.string,title:l.PropTypes.string})}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleCheckbox=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),l._.bindAll((0,o.default)(r),"click"),r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{id:l.PropTypes.string,label:l.PropTypes.string,onToggle:l.PropTypes.func,checked:l.PropTypes.bool}}}]),(0,a.default)(n,[{key:"click",value:function(e){var t=this.props;(0,t.onToggle)(t.checked)}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.id,r=e.label;return l.React.createElement("div",{className:"toggle-wrapper"},l.React.createElement("label",{id:"".concat(n,"-label"),htmlFor:n},r),l.React.createElement("div",{className:"onoffswitch"},l.React.createElement("input",{type:"checkbox",id:n,className:"onoffswitch-checkbox",onClick:this.click,onChange:l._.noop,checked:!!t}),l.React.createElement("label",{className:"onoffswitch-label",htmlFor:n})))}}]),n}(l.React.Component);t.ToggleCheckbox=h},function(e,t,n){"use strict";var r=n(123),i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LessonDirectiveGenerationTool=void 0;var o=i(n(39)),a=i(n(37)),s=r(n(3)),u=n(32),c=i(n(15)),l=i(n(27)),f=n(88),h=n(20),d=n(17),p=n(591),g=n(51),v=n(22);function m(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var y=d.LessonStateDirectiveActions.UPDATE_FINGERPRINT,_=d.LessonStateDirectiveActions.RESET_COMPONENT,b=d.LessonStateDirectiveActionCriterions.BEFORE_SCREEN,A=d.LessonStateDirectiveActionCriterions.COMPONENT,w=d.LessonStateDirectiveKeys.FINGERPRINT,E=d.LessonStateDirectiveKeys.ACTION,x=d.LessonStateDirectiveKeys.ACTION_TYPE,T=d.LessonStateDirectiveKeys.ACTION_CRITERIA,S=d.LessonStateDirectiveKeys.DIRECTIVE,O=function(e){var t=e.steps,n=(0,u.useSelector)((function(e){return(0,h.getLessonContent)(e)})),r=f.localStorageUtil.fetch(S),i=c.default.get(n,"fingerprints.lesson",""),l=c.default.get(n,"lessonId"),O=(0,s.useState)(!!r),C=(0,a.default)(O,2),k=C[0],P=C[1],N=(0,s.useState)(p.lessonDirectiveGenerationUtil.buildBlankLessonDirective()),I=(0,a.default)(N,2),R=I[0],L=I[1];(0,s.useEffect)((function(){if(!c.default.isEmpty(r)){var e=c.default.merge(p.lessonDirectiveGenerationUtil.buildBlankLessonDirective(),r[0]);L(e)}}),[]);var D=function(e,t){var n=p.lessonDirectiveGenerationUtil.applyValuesToLessonDirective({directive:R,value:e.target.value,key:t});L(n),P(!1)},M=c.default.get(v.assetUtil,"config.multiSection",!1),j=p.lessonDirectiveGenerationUtil.generateComponentOptions({isMultiSection:M}),B=p.lessonDirectiveGenerationUtil.generateBeforeScreenOptions({directive:R,steps:t,isMultiSection:M});return s.default.createElement("form",{className:"lesson-directive-generator",onSubmit:function(e){e.preventDefault();try{var t=p.lessonDirectiveGenerationUtil.buildCleanLessonDirective({directive:R});console.log(JSON.stringify(t,null,2)),f.localStorageUtil.store(S,[t]),P(!0)}catch(e){alert("Something went wrong:\n".concat(e))}}},s.default.createElement("h4",null,"Lesson Directive Generation Tool for Bulk State Reset"),s.default.createElement("p",{className:"lesson-fingerprint-text"},"Loaded Lesson Fingerprint: ",s.default.createElement("span",null,i)),s.default.createElement("label",{htmlFor:"fingerprint-input"},"Fingerprint",s.default.createElement("input",{id:"fingerprint-input",value:R[w],onChange:function(e){return D(e,w)},placeholder:"Enter a fingerprint",type:"text",required:!0})),s.default.createElement("label",{htmlFor:"action-type-select"},"Action Type",s.default.createElement("select",{id:"action-type-select",onChange:function(e){return D(e,x)},value:d.LessonStateDirectiveActions[R[E][x]],required:!0},s.default.createElement("option",{value:d.LessonStateDirectiveActions[y]},y),s.default.createElement("option",{value:d.LessonStateDirectiveActions[_]},_))),s.default.createElement("label",{htmlFor:"component-select"},"Component",s.default.createElement("select",{id:"component-select",value:R[E][T][A],disabled:R[E][x]===y||!R[E][x],onChange:function(e){return D(e,A)},required:R[E][x]===_},s.default.createElement("option",{value:"",disabled:!0,hidden:!0},"Select an component"),c.default.map(j,(function(e){return s.default.createElement("option",{key:e,value:e},e)})))),s.default.createElement("label",{htmlFor:"before-screen-select"},"Before Screen (Optional)",s.default.createElement("select",{id:"before-screen-select",value:R[E][T][b],disabled:R[E][x]===_&&!R[E][T][A],onChange:function(e){return D(e,b)}},s.default.createElement("option",{value:"",disabled:!0,hidden:!0},"Select a screen"),s.default.createElement("option",{value:""},"N/A"),c.default.map(B,(function(e){var t=e.id,n=e.section,r=e.style,i=e.screenCount;return s.default.createElement("option",{key:t,value:t},i,".",t," (",r,") [",n,"]")})))),s.default.createElement("div",{className:"lesson-directive-btn-container"},s.default.createElement("span",{className:"created-marker ".concat(k?"created":""),role:"img","aria-label":"created"},""),s.default.createElement("button",{className:"btn clear-form-btn",type:"button",onClick:function(){localStorage.removeItem(S),L(p.lessonDirectiveGenerationUtil.buildBlankLessonDirective()),P(!1)}},"Clear"),s.default.createElement("button",{className:"btn create-form-btn",type:"submit"},"Create"),s.default.createElement("button",{className:"btn refresh-page-btn",type:"button",onClick:function(){window.location.reload()}},"Refresh"),s.default.createElement("button",{className:"btn download-btn",type:"button",onClick:function(){var e=f.localStorageUtil.fetch(S);g.webApiUtil.fetchLessonContent(l,null).then((function(t){c.default.isEmpty(e)?alert("No lessonDirective found in localStorage"):t.fingerprint!==e[0].fingerprint?g.webApiUtil.fetchLessonExtraContent(l,null).then((function(t){var n=c.default.cloneDeep(t);delete n.fingerprint,e[0].date=(new Date).toString(),n[S]?n[S]=[].concat(m(o.default,n[S]),m(o.default,e)):n[S]=e;var r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),a=document.createElement("a");a.style.display="none",a.href=i,a.setAttribute("download","lesson-extra.json"),document.body.appendChild(a),a.click(),document.body.removeChild(a)})):alert("Error: Fingerprint in new lessonDirective cannot match latest fingerprint")}))}},"Download")),s.default.createElement("p",null,"Caution: Read Confluence document before use."))};t.LessonDirectiveGenerationTool=O,O.propTypes={steps:l.default.objectOf(l.default.object)}},function(e,t,n){"use strict";n.r(t),n.d(t,"lessonDirectiveGenerationUtil",(function(){return _}));var r=n(15),i=n.n(r),o=n(17),a=n(104),s=n(6);const{UPDATE_FINGERPRINT:u,RESET_COMPONENT:c}=o.LessonStateDirectiveActions,{BEFORE_SCREEN:l,COMPONENT:f}=o.LessonStateDirectiveActionCriterions,{FINGERPRINT:h,ACTION:d,ACTION_TYPE:p,ACTION_CRITERIA:g}=o.LessonStateDirectiveKeys,{INSTRUCTION:v,PRACTICE:m,QUIZ:y}=s.LESSON_SECTION;const _=new class{constructor(){this.applyValuesToLessonDirective=({directive:e,key:t,value:n})=>{const r=i.a.cloneDeep(e);switch(t===p&&n===o.LessonStateDirectiveActions[u]&&(r[d][g][f]=""),t===p&&n===o.LessonStateDirectiveActions[c]&&(r[d][g][l]=""),t===f&&n!==r[d][g][f]&&(r[d][g][l]=""),t){case h:r[h]=i.a.trim(n);break;case p:r[d][p]=i.a.get(o.LessonStateDirectiveActions,n);break;case f:r[d][g][f]=n;break;case l:r[d][g][l]=n}return r},this.buildCleanLessonDirective=({directive:e})=>{const t=i.a.cloneDeep(e),n=t[d][g];n[f]||delete t[d][g][f],n[l]||delete t[d][g][l],i.a.isEmpty(t[d][g])&&delete t[d][g];const{isValid:r,error:o}=a.b.validateDirectiveSyntax([t]);if(!r)throw new Error("Invalid Lesson Directives Syntax.\n"+o);return t},this.buildBlankLessonDirective=()=>i.a.cloneDeep({[h]:"",[d]:{[p]:u,[g]:{[f]:"",[l]:""}}}),this.generateBeforeScreenOptions=({directive:e,steps:t,isMultiSection:n})=>{const r=e[d][g][f],o=e[d][p],a=i.a.toArray(t),s=i.a.map(a,(e,t)=>{const{id:n,style:r}=e,o=i.a.reduce(i.a.words(e.section),(e,t)=>e+t[0],"");return{id:n,component:e.section,section:o,style:r,screenCount:t+1}});return i.a.filter(s,e=>!!n||(o!==c||e.component===r))},this.generateComponentOptions=({isMultiSection:e})=>e?[y]:[v,m,y]}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(153)),o=r(n(39)),a=r(n(37)),s=r(n(4)),u=r(n(5)),c=r(n(11)),l=r(n(12)),f=r(n(10)),h=n(32),d=r(n(145)),p=n(0),g=n(68),v=n(59),m=n(6),y=n(14);function _(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var A=function(e){(0,c.default)(n,e);var t=b(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._modalRef=p.React.createRef(),e._onAfterOpen=function(){var t=e.modal.props.shouldCloseOnEsc,n=e.modal.portal;n.handleKeyDown=function(e){t&&e.keyCode===p.Key.Escape&&(e.stopPropagation(),n.requestClose(e))},e._setModalTrapTabIndex()},e._setModalTrapTabIndex=function(){var e=document.querySelectorAll("[data-react-modal-body-trap]");p._.forEach(e,(function(e){return e.setAttribute("tabindex","-1")}))},e._parentNodeSelector=function(){return document.getElementById("screen")},e._isActive=function(){return!0},e._focusShards=function(t){p._.mixin({toPairsDeep:function(e){return p._.flatMap(p._.toPairs(e),(function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return p._.isObjectLike(r)?p._.toPairsDeep(r):[[n,r]]}))}});var n=[m.BUTTONS.LESSON_CLOSE].concat(e.props.bottomBarShards?(0,p._)(m.BUTTONS.BOTTOM_BAR).toPairsDeep().map(1).value():[]);return p._.filter(t,(function(e){return e.current&&n.includes(e.current.id)}))},e}return(0,u.default)(n,[{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,i=r.isOpen,o=r.clickedButton;o&&e.isOpen&&!i&&o.focus(),this._updateContext(i)}},{key:"_updateContext",value:function(e){this.context&&this.context.update({isBottomBarWithModal:e&&this.props.bottomBarShards})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.overlayClassName,s=t.customShards,u=t.isOpen,c=t.contentLabel,l=t.aria;return u&&n?p.React.createElement(v.UIContext.Consumer,null,(function(t){var f=t.uiState,h=f.focusShards,g=f.keyboardNavigation,v=f.isLessonCloseModal;return p.React.createElement(p.ReactModal,(0,i.default)({},e.props,{aria:l,isOpen:u,appElement:e._appNode,parentSelector:e._parentNodeSelector,className:(0,p.classNames)("lessonModalDisplay",r),contentLabel:c,overlayClassName:(0,p.classNames)("lessonModalOverlay",a),shouldCloseOnOverlayClick:e._isActive(),shouldCloseOnEsc:e._isActive(),ref:e._modalRef,onAfterOpen:e._onAfterOpen}),p.React.createElement(d.default,{disabled:v,returnFocus:g,shards:[].concat(_(o.default,e._focusShards(h)),_(o.default,s))},n))})):null}},{key:"modal",get:function(){return this._modalRef.current}},{key:"_appNode",get:function(){return document.getElementById("screenHolder")}}],[{key:"propTypes",get:function(){return{id:p.PropTypes.string,className:p.PropTypes.string,overlayClassName:p.PropTypes.string,children:p.PropTypes.oneOfType([p.PropTypes.array,p.PropTypes.element,p.PropTypes.object]),bottomBarShards:p.PropTypes.bool,customShards:p.PropTypes.arrayOf(p.PropTypes.oneOfType([p.PropTypes.func,p.PropTypes.shape({current:p.PropTypes.object})])),isOpen:p.PropTypes.bool,contentLabel:p.PropTypes.string,aria:p.PropTypes.shape({modal:p.PropTypes.bool})}}},{key:"defaultProps",get:function(){return{bottomBarShards:!1,customShards:[]}}}]),n}(g.BaseControllerView);A.contextType=v.UIContext;var w=(0,h.connect)((function(e){return{isOpen:(0,y.getLessonModalState)(e).isOpen}}))(A);t.default=w},function(e,t,n){"use strict";var r=n(123),i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptions=void 0;var o=i(n(37)),a=i(n(15)),s=r(n(3)),u=n(32),c=n(34),l=n(209),f=n(81),h=n(44),d=n(16),p=n(86),g=function(e){return s.default.createElement("p",e)};t.ClosedCaptions=function(){var e=(0,s.useState)(),t=(0,o.default)(e,2),n=t[0],r=t[1],i=(0,s.useState)(),v=(0,o.default)(i,1)[0],m=(0,s.useState)(),y=(0,o.default)(m,1)[0];return(0,s.useEffect)((function(){var e=function(){r(null),v=null},t=function(t){f.cuepointDispatcher.removePendingCuesByFilter(t,(function(e){return"cc"===e.targets[0].action})),e()},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t.target===v||n.cleanup)&&e()},i=function(e,t){d.environmentUtil.isAutomationRunning()&&h.automationUtil.recordCuepoint({url:e,data:t});var i=t.targets[0];i&&"cc"===i.action&&(y&&(clearTimeout(y),y=null),"start"===t.type?(r(i.target),v=i.target):"end"===t.type&&(y=a.default.delay(n,1300,i)))};return f.cuepointDispatcher.on("cue",i),c.audioPlayer.on("stop",t),c.audioPlayer.on("end",n),l.videoMonitor.on("end",e),function(){f.cuepointDispatcher.off("cue",i),c.audioPlayer.off("stop",t),c.audioPlayer.off("end",n),l.videoMonitor.off("end",e)}}),[]),(0,u.useSelector)((function(e){return(0,p.getPreferencesState)(e)})).ccEnabled?s.default.createElement("div",{className:"closed-captions-container"},n?s.default.createElement(g,{dangerouslySetInnerHTML:{__html:n}}):null):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"executeLessonStateDirectiveActions",(function(){return m})),n.d(t,"checkLessonStateDirective",(function(){return y}));var r=n(0),i=n(20),o=n(51),a=n(7),s=n(88),u=n(38),c=n(17),l=n(30),f=n(104),h=n(6);const{DIRECTIVE:d,ACTION_TYPE:p,ACTION_PARAMS:g}=c.LessonStateDirectiveKeys,{USE_DIRECTIVE:v}=h.CHEATS,m=e=>t=>{const{UPDATE_FINGERPRINT:n,RESET_COMPONENT:i}=c.LessonStateDirectiveActions;e.forEach(e=>{const o=r._.get(e,[p]);switch(o){case n:{const{DIRECTIVE_FINGERPRINTS:n}=f.a,i=r._.get(e,`${[g]}.${[n]}`);t(Object(u.updateLessonState)({fingerprints:i}));break}case i:t(Object(u.resetLessonState)());break;default:a.actionLogger.warn(`checkAndExecuteLessonDirectiveActions: unsupported action type '${o}'`)}a.actionLogger.log(`checkAndExecuteLessonDirectiveActions: action '${o}' executed`)})},y=()=>(e,t)=>{const n=Object(i.getLessonState)(t()),{currentLessonId:u}=n;return u&&!r._.get(n,"initial")?o.webApiUtil.fetchLessonExtraContent(u,null).then(o=>{const{fingerprints:a}=Object(i.getLessonState)(t()),{fingerprint:u,asset:c}=o,{[v]:h}=Object(l.getCheatValue)(t());if(u!==a.extra||h){let{[d]:t}=c,i=[];if(h){const e=s.localStorageUtil.fetch(d)||[];t=t?[...t,...e]:e}if(t&&f.b.validateDirectiveSyntax(t).isValid){const o={fingerprints:{lesson:"",extra:u||""}};i=f.b.transformDirectiveToActions(t,n,o),r._.isEmpty(i)||e(m(i))}}},e=>{a.actionLogger.warn(`checkLessonStateDirective: failed lesson state directive check - '${e}'`)}):Promise.resolve()}},function(e,t,n){"use strict";n.r(t),n.d(t,"loadLessonContentRequest",(function(){return l})),n.d(t,"lessonContentPrepared",(function(){return f})),n.d(t,"lessonContentSanitized",(function(){return h})),n.d(t,"loadLessonContentSuccess",(function(){return d})),n.d(t,"loadLessonContentFailure",(function(){return p})),n.d(t,"loadLessonContent",(function(){return g}));var r=n(0),i=n(20),o=n(1),a=n(16),s=n(152),u=n(30),c=n(38);const l=e=>({type:o.LESSON_CONTENT_LOAD_REQUEST,payload:e}),f=e=>({type:o.LESSON_CONTENT_PREPARED,payload:e}),h=e=>({type:o.LESSON_CONTENT_SANITIZED,payload:e}),d=e=>({type:o.LESSON_CONTENT_LOAD_SUCCESS,payload:e}),p=e=>({type:o.LESSON_CONTENT_LOAD_FAILURE,payload:e}),g=e=>(t,n)=>{t(l(e));const o=Object(u.getCheatValue)(n()),{grade:g,schoolYearLevel:v}=(!a.environmentUtil.query.showMenu&&o.showMenu,o),m=Object(i.getLessonState)(n()),y=r._.get(m,"fingerprints",{});return Object(s.fetchAndPrepareLessonContent)({lessonInfo:s.lessonContentUtil.getLessonInfo(e),cheatInfo:{grade:g,schoolYearLevel:v},fingerprints:y}).then(e=>{t(d(e));const n=r._.cloneDeep(e),i=s.lessonContentUtil.transformAndPrepareLessonContent(n);return t(Object(c.sanitizeOnContentLoaded)(n)),t(h({content:n,state:m})),t(f(i)),Promise.resolve(n)},e=>{t(p(e))})}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.closedCaptionsUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(597),s=n(0),u=n(7),c=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"injectVTTSuppressions",value:function(e){var t=s._.get(e,"style.accessibility.ccOff");t&&(s._.isString(t)&&(t=[t]),t.forEach((function(t){var n=(0,a.JSONPath)({path:t,json:e});n?n.forEach((function(n){n&&n.parts?s._.forEach(n.parts,(function(e){e.suppressVTT=!0})):u.utilLogger.warn("no audioparts data found at path: ".concat(t," for screen '").concat(e.id,"'"))})):u.utilLogger.error("CC suppress path ".concat(t," cannot be resolved for screen ").concat(e.id))})))}}]),e}());t.closedCaptionsUtil=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return(s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(e)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,"JSONPath",(function(){return m}));var d=Object.prototype.hasOwnProperty;function p(e,t){return(e=e.slice()).push(t),e}function g(e,t){return(t=t.slice()).unshift(e),t}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,e);var t,n,r=(t=s,n=a(),function(){var e,r=i(t);if(n){var o=i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return s}(u(Error));function m(e,t,n,i,o){if(!(this instanceof m))try{return new m(e,t,n,i,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=i,i=n,n=t,t=e,e=null);var a=e&&"object"===r(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!d.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var s={path:a?e.path:t};a?"json"in e&&(s.json=e.json):s.json=n;var u=this.evaluate(s);if(!u||"object"!==r(u))throw new v(u);return u}}m.prototype.evaluate=function(e,t,n,i){var o=this,a=this.parent,s=this.parentProperty,u=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===r(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!d.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,u=d.call(e,"flatten")?e.flatten:u,this.currResultType=d.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=d.call(e,"sandbox")?e.sandbox:this.currSandbox,c=d.call(e,"wrap")?e.wrap:c,this.currPreventEval=d.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=d.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=d.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,a=d.call(e,"parent")?e.parent:a,s=d.call(e,"parentProperty")?e.parentProperty:s,e=e.path}if(a=a||null,s=s||null,Array.isArray(e)&&(e=m.toPathString(e)),(e||""===e)&&t){var l=m.toPathArray(e);"$"===l[0]&&l.length>1&&l.shift(),this._hasParentSelector=null;var f=this._trace(l,t,["$"],a,s,n).filter((function(e){return e&&!e.isParentSelector}));return f.length?c||1!==f.length||f[0].hasArrExpr?f.reduce((function(e,t){var n=o._getPreferredOutput(t);return u&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(f[0]):c?[]:void 0}},m.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:m.toPathArray(e.path);return e.pointer=m.toPointer(n),e.path="string"==typeof e.path?e.path:m.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return m.toPathString(e[t]);case"pointer":return m.toPointer(e.path);default:throw new TypeError("Unknown result type")}},m.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:m.toPathString(e.path),t(r,n,e)}},m.prototype._trace=function(e,t,n,i,o,a,s,u){var c,l=this;if(!e.length)return c={path:n,value:t,parent:i,parentProperty:o,hasArrExpr:s},this._handleCallback(c,a,"value"),c;var h=e[0],v=e.slice(1),m=[];function y(e){Array.isArray(e)?e.forEach((function(e){m.push(e)})):m.push(e)}if(("string"!=typeof h||u)&&t&&d.call(t,h))y(this._trace(v,t[h],p(n,h),t,h,a,s));else if("*"===h)this._walk(h,v,t,n,i,o,a,(function(e,t,n,r,i,o,a,s){y(l._trace(g(e,n),r,i,o,a,s,!0,!0))}));else if(".."===h)y(this._trace(v,t,n,i,o,a,s)),this._walk(h,v,t,n,i,o,a,(function(e,t,n,i,o,a,s,u){"object"===r(i[e])&&y(l._trace(g(t,n),i[e],p(o,e),i,e,u,!0))}));else{if("^"===h)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:v,isParentSelector:!0};if("~"===h)return c={path:p(n,h),value:o,parent:i,parentProperty:null},this._handleCallback(c,a,"property"),c;if("$"===h)y(this._trace(v,t,n,null,null,a,s));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(h))y(this._slice(h,v,t,n,i,o,a));else if(0===h.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(h,v,t,n,i,o,a,(function(e,t,n,r,i,o,a,s){l._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,i,o,a)&&y(l._trace(g(e,n),r,i,o,a,s,!0))}))}else if("("===h[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");y(this._trace(g(this._eval(h,t,n[n.length-1],n.slice(0,-1),i,o),v),t,n,i,o,a,s))}else if("@"===h[0]){var _=!1,b=h.slice(1,-2);switch(b){case"scalar":t&&["object","function"].includes(r(t))||(_=!0);break;case"boolean":case"string":case"undefined":case"function":r(t)===b&&(_=!0);break;case"integer":!Number.isFinite(t)||t%1||(_=!0);break;case"number":Number.isFinite(t)&&(_=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(_=!0);break;case"object":t&&r(t)===b&&(_=!0);break;case"array":Array.isArray(t)&&(_=!0);break;case"other":_=this.currOtherTypeCallback(t,n,i,o);break;case"null":null===t&&(_=!0);break;default:throw new TypeError("Unknown value type "+b)}if(_)return c={path:n,value:t,parent:i,parentProperty:o},this._handleCallback(c,a,"value"),c}else if("`"===h[0]&&t&&d.call(t,h.slice(1))){var A=h.slice(1);y(this._trace(v,t[A],p(n,A),t,A,a,s,!0))}else if(h.includes(",")){var w,E=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(h.split(","));try{for(E.s();!(w=E.n()).done;){var x=w.value;y(this._trace(g(x,v),t,n,i,o,a,!0))}}catch(e){E.e(e)}finally{E.f()}}else!u&&t&&d.call(t,h)&&y(this._trace(v,t[h],p(n,h),t,h,a,s,!0))}if(this._hasParentSelector)for(var T=0;T<m.length;T++){var S=m[T];if(S&&S.isParentSelector){var O=this._trace(S.expr,t,S.path,i,o,a,s);if(Array.isArray(O)){m[T]=O[0];for(var C=O.length,k=1;k<C;k++)T++,m.splice(T,0,O[k])}else m[T]=O}}return m},m.prototype._walk=function(e,t,n,i,o,a,s,u){if(Array.isArray(n))for(var c=n.length,l=0;l<c;l++)u(l,e,t,n,i,o,a,s);else n&&"object"===r(n)&&Object.keys(n).forEach((function(r){u(r,e,t,n,i,o,a,s)}))},m.prototype._slice=function(e,t,n,r,i,o,a){if(Array.isArray(n)){var s=n.length,u=e.split(":"),c=u[2]&&Number.parseInt(u[2])||1,l=u[0]&&Number.parseInt(u[0])||0,f=u[1]&&Number.parseInt(u[1])||s;l=l<0?Math.max(0,l+s):Math.min(s,l),f=f<0?Math.max(0,f+s):Math.min(s,f);for(var h=[],d=l;d<f;d+=c){this._trace(g(d,t),n,r,i,o,a,!0).forEach((function(e){h.push(e)}))}return h}},m.prototype._eval=function(e,t,n,r,i,o){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=m.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},m.cache={},m.toPathString=function(e){for(var t=e,n=t.length,r="$",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+=/^[\*0-9]+$/.test(t[i])?"["+t[i]+"]":"['"+t[i]+"']");return r},m.toPointer=function(e){for(var t=e,n=t.length,r="",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(r+="/"+t[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},m.toPathArray=function(e){var t=m.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()};m.prototype.vm={runInNewContext:function(e,t){var n=Object.keys(t),r=[];!function(e,t,n){for(var r=e.length,i=0;i<r;i++){n(e[i])&&t.push(e.splice(i--,1)[0])}}(n,r,(function(e){return"function"==typeof t[e]}));var i=n.map((function(e,n){return t[e]})),o=r.reduce((function(e,n){var r=t[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+e}),"");/(["'])use strict\1/.test(e=o+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var a=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),u=a>-1?e.slice(0,a+1)+" return "+e.slice(a+1):" return "+e;return s(Function,l(n).concat([u])).apply(void 0,l(i))}}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.loopbackUtil=void 0;var i=r(n(23)),o=r(n(4)),a=r(n(5)),s=r(n(39)),u=n(0),c=n(6),l=n(64),f=n(97),h=n(126);function d(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function p(e){return d(s.default,e).reverse()}var g=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"processLoopbacksAndAgcRepeats",value:function(e){this._processAGCs(e),this._processLoops(e)}},{key:"_processLoops",value:function(e){var t=this;e.navigation.forEach((function(n){var r=t._inventoryNav(n),i=r.adpRefs,o=r.navElementMap;p(i).forEach((function(r){var i=e.adaptivity_decision_points[r.id],a=t._checkForLoopback(i,o,n);a&&function(){var s=i.loop_limit;delete i.loop_limit;for(var u=i,c=0,l=function(i){var l=o[a].index,f=r.index-(i===s?1:0),h=t._replicateAndInsert({lessonContent:e,section:n,fromIndex:l,toIndex:f,insertAt:r.index+1+c,idSuffix:"_loop_".concat(i),tagWithProgenitor:!0}),d=h.screenReplicas,p=h.replicaAdpId;d.forEach((function(e){var n=e.screenDef;t._setScreenLoopProps(n,{iteration:i,limit:s})})),t._replaceAdpGotoTarget(u,a,d[0].to),c+=d.length+(p?1:0),u=e.adaptivity_decision_points[p]},f=1;f<=s;f++)l(f)}()}))}))}},{key:"_processAGCs",value:function(e){var t=this;e.navigation.forEach((function(n){var r=t._inventoryNav(n),i=r.screenRefs,o=r.navElementMap;p(i).forEach((function(r){var i=e.screens[r.id];h.agcLessonUtil.isAGCScreen(i)&&i.repeat&&function(){for(var a=[r.id],s=1;s<=i.repeat;s++){t._replicateAndInsert({lessonContent:e,section:n,fromIndex:r.index,toIndex:r.index,insertAt:r.index+s,idSuffix:"_".concat(s)}).screenReplicas.forEach((function(e){return a.push(e.to)}))}a.forEach((function(t){return delete e.screens[t].repeat}));var u=t._nextAdpDef(e,n,r.index);if(u){var c=t._checkForLoopback(u,o,n);c&&(c===i.id||o[c].index<o[r.id].index)&&t._replaceScreenRefInConditions.apply(t,[u,r.id].concat(a))}}()}))}))}},{key:"_inventoryNav",value:function(e){var t=this,n=[],r=[],i={};return e.screens.forEach((function(e,o){var a={index:o};if(t._isScreen(e))a.id=e.screen_id,r.push(a);else{if(!t._isAdp(e))throw new Error("Unhandled screen type");a.id=e.decision_point_id,n.push(a)}i[a.id]=a})),{adpRefs:n,screenRefs:r,navElementMap:i}}},{key:"_checkForLoopback",value:function(e,t,n){var r,i=this.getAllAdpOutcomeScreens(e),o=t[e.id],a={actionTargets:[],alternateTargets:[]};if(["actionTargets","alternateTargets"].forEach((function(e){i[e].forEach((function(n){var r=t[n];if(!r)throw new Error("Nav element ".concat(n," not found"));r.index<o.index&&a[e].push(n)}))})),a.alternateTargets.length)throw new Error("Loopbacks cannot be specified via alternate actions");var s=a.actionTargets;if(s.length){if(Object.keys(e.rules).length>1)throw new Error("Loopbacks cannot be specified on ADP's with multiple outcomes");r=s[0]}if(r){if(l.navSectionUtil.isQuiz(n.name))throw new Error("loopbacks are illegal in the Quiz or Review section");if(Number(e.loop_limit)<1)throw new Error("A limit > 0 was not specified on ADP ".concat(e.id))}return r}},{key:"_replicateAndInsert",value:function(e){for(var t=this,n=e.lessonContent,r=e.section,i=e.fromIndex,o=e.toIndex,a=e.insertAt,s=e.idSuffix,u=e.tagWithProgenitor,c={screenReplicas:[]},l=c.screenReplicas,h=0,d=i;d<=o;d++){var p=r.screens[d];if(this._isScreen(p)){if(n.screens[p.screen_id][f.SCREEN_SKIP_FILTER])throw new Error("[".concat(p.screen_id,"] Skip filter not permitted on a screen inside a loopback"));var g=this._replicateAndInsertElement({definitionsCollection:n.screens,replicateDefId:p.screen_id,idSuffix:s,referenceIdName:"screen_id",section:r,insertAt:a+h++});u&&this._setScreenLoopProps(g,{progenitor:p.screen_id}),l.push({from:p.screen_id,to:g.id,screenDef:g})}else{if(!this._isAdp(p))throw new Error("Unhandled type: ".concat(p));!function(){if(d<o)throw new Error("The replication sequence contains ADP ".concat(p.decision_point_id,". ")+"Replication of ADPs that are not at the end of a sequence is not supported");var e=t._replicateAndInsertElement({definitionsCollection:n.adaptivity_decision_points,replicateDefId:p.decision_point_id,idSuffix:s,referenceIdName:"decision_point_id",section:r,insertAt:a+h++});c.replicaAdpId=e.id,l.forEach((function(n){t._replaceScreenRefInConditions(e,n.from,n.to)}))}()}}return c}},{key:"_replicateAndInsertElement",value:function(e){var t=e.definitionsCollection,n=e.replicateDefId,r=e.idSuffix,o=e.referenceIdName,a=e.section,s=e.insertAt,c=u._.cloneDeep(t[n]);return c.id+=r,t[c.id]=c,a.screens.splice(s,0,(0,i.default)({},o,c.id)),c}},{key:"_replaceAdpGotoTarget",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.rules.forEach((function(e){["actions","alternate_actions"].forEach((function(n){e[n].forEach((function(e){"goto_screen"===e.action&&e.parameters.forEach((function(n,i){var o;n===t&&(o=e.parameters).splice.apply(o,[i,1].concat(r))}))}))}))}))}},{key:"_replaceScreenRefInConditions",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=!1;if(e.rules.forEach((function(e){e.conditions.forEach((function(e){var n,i=e.operand1.parameters.indexOf(t);-1!==i&&((n=e.operand1.parameters).splice.apply(n,[i,1].concat(r)),o=!0)}))})),!o)throw new Error("No reference to screen ".concat(t," found in rules for ADP ").concat(e.id))}},{key:"_isScreen",value:function(e){return null!=e.screen_id}},{key:"_isAdp",value:function(e){return null!=e.decision_point_id}},{key:"_nextAdpDef",value:function(e,t,n){for(var r=e.adaptivity_decision_points,i=t.screens.length,o=n;o<i;o++){var a=t.screens[o];if(this._isAdp(a))return r[a.decision_point_id]}return null}},{key:"getAllAdpOutcomeScreens",value:function(e){var t=this,n={actionTargets:[],alternateTargets:[]};return e.rules.forEach((function(e){t._appendScreenRefs(e.actions,n.actionTargets),t._appendScreenRefs(e.alternate_actions,n.alternateTargets)})),n}},{key:"_appendScreenRefs",value:function(e,t){e.forEach((function(e){if(e.action===c.ADP.ACTIONS.GOTO_SCREEN){var n=e.parameters[0];t.includes(n)||t.push(n)}}))}},{key:"_setScreenLoopProps",value:function(e,t){e.properties||(e.properties={}),e.properties.loopback||(e.properties.loopback={}),Object.assign(e.properties.loopback,t)}}]),e}());t.loopbackUtil=g},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.trackJsUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(8),u=n(22),c=n(16),l=n(7),f=n(14),h=n(9),d=new(function(){function e(){(0,i.default)(this,e),a._.bindAll(this,"_filterOnError","_handleError")}return(0,o.default)(e,[{key:"_filterOnError",value:function(e){return!0}},{key:"_getUserIdForTracking",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return a._.get(e.parent,"lessonBridge.info.studentId",!1)||"NON_IREADY"}},{key:"_handleError",value:function(e,t){var n=!0;try{if(n=this._filterOnError(e)){var r=(0,h.getNavigationState)(s.store.getState()),i=(0,f.getScreensState)(s.store.getState()),o=a._.get(r,"currentStep","Not loaded yet"),l={currentStep:o,host:c.environmentUtil.getHostName(),cheatsEnabled:a._.get(r,"cheatsEnabled",!1),lessonComplete:a._.get(r,"lessonComplete",!1),lessonPaused:a._.get(r,"paused",!1),lessonResumed:a._.get(i,"resumed",!1),backButtonPresses:a._.get(r,"buttonPresses.back.length",0),helpButtonPresses:a._.get(r,"buttonPresses.help.length",0),nextButtonPresses:a._.get(r,"buttonPresses.next.length",0),pauseButtonPresses:a._.get(r,"buttonPresses.pause.length",0),unpauseButtonPresses:a._.get(r,"buttonPresses.unpause.length",0),screenStyle:a._.get(i,"screens[".concat(o,"].style.id"),"Not loaded yet"),screenSection:a._.get(i,"screens[".concat(o,"].properties.section"),"Not loaded yet"),loadedAudio:a._.get(a._.filter(u.assetUtil.assetLog,{type:"audio"}),"length",0),loadedImages:a._.get(a._.filter(u.assetUtil.assetLog,{type:"image"}),"length",0),loadedVideo:a._.get(a._.filter(u.assetUtil.assetLog,{type:"video"}),"length",0),loadedJson:a._.get(a._.filter(u.assetUtil.assetLog,{type:"json"}),"length",0),loadedFonts:a._.get(a._.filter(u.assetUtil.assetLog,{type:"font"}),"length",0),activityId:this.lessonBridgeExists(),ifabricVersion:a._.get(window.com.cainc.ifabric,"version","iFabric Version Undefined")};-1!==e.message.search("DC_start")&&(l.dataCaptureMessage=JSON.parse('"'.concat(e.message.replace(/(.*DC_start.*?|DC_end.*)/gm,""),'"'))),a._.forEach(l,(function(t,n){return e.metadata.push({key:n,value:t})}))}}catch(e){}return n}},{key:"lessonBridgeExists",value:function(){return a._.isUndefined(window.parent.lessonBridge)?"Lesson Bridge Missing":window.parent.lessonBridge.info.activityId}},{key:"initializeErrorReporting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;l.globalLogger.log("initializeErrorReporting called");try{t.trackJs&&(e&&t.trackJs.addMetadata("lessonId",e),u.assetUtil&&t.trackJs.addMetadata("lessonComponentId",c.environmentUtil.query.csid),t.trackJs.configure({onError:this._handleError,userId:this._getUserIdForTracking()}))}catch(e){l.globalLogger.error(e)}}}]),e}());t.trackJsUtil=d},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.lessonReportUtil=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(8),u=n(7),c=n(16),l=n(6),f=n(20),h=n(14),d=n(9),p=n(30),g=new(function(){function e(){(0,i.default)(this,e),this._report={},this._createPublicApi()}return(0,o.default)(e,[{key:"collectReportData",value:function(){return this._reset(),this._report.reportDate=this._getReportDate(),this._report.environment=c.environmentUtil.getHostName(),this._getLessonContentData(),this._getLessonNavigationData(),this._getScoringData(),this._getiFabricVersion(),u.utilLogger.info("Report raw details: ".concat(JSON.stringify(this._report))),this._report}},{key:"printReport",value:function(){var e=this;this.collectReportData();var t="-------------------------------",n={};a._.each(l.LESSON_REPORT_MANIFEST,(function(r){a._.startsWith(r,"----")?n["".concat(r)]=t:n["".concat(r)]=a._.get(e._report,r)}));var r=a._.get(this._report.scoreData.results,this._report.lessonNavigationData.currentStep,{});n["-----Lesson-Score-Information-----"]=t,n["currentScreenScore.score"]=r.raw||0,n["currentScreenScore.max"]=r.max||0,console.table(n)}},{key:"_createPublicApi",value:function(){var e=this,t=a._.get(window,"com.cainc.ifabric.lessonReport",{});a._.set(window,"com.cainc.ifabric.lessonReport",t),t.printReport=function(){return e.printReport()},t.collectReportData=function(){return e.collectReportData()}}},{key:"_getLessonContentData",value:function(){var e=(0,f.getLessonContent)(s.store.getState());return this._report.lessonContentData=e,e}},{key:"_getLessonNavigationData",value:function(){var e=a._.clone((0,d.getNavigationState)(s.store.getState())),t=(0,h.getScreensState)(s.store.getState()).screens;return e.currentStyle=a._.get(t[e.currentStep],"style.id"),e.cheatsEnabled=(0,p.getAppState)(s.store.getState()).cheatsEnabled,this._report.lessonNavigationData=e,e}},{key:"_getScoringData",value:function(){var e=(0,f.getLessonResults)(s.store.getState());return this._report.scoreData=e,e}},{key:"_getiFabricVersion",value:function(){return this._report.ifabricVersion=window.com.cainc.ifabric.version}},{key:"_getReportDate",value:function(){var e=new Date,t=a._.map([e.getMonth()+1,e.getDate(),e.getFullYear()],(function(e){return 1===e.toString().length?"0".concat(e):e})),n=a._.map([e.getHours(),e.getMinutes(),e.getSeconds()],(function(e){return 1===e.toString().length?"0".concat(e):e}));return"Date: ".concat(t.join("."),", Time: ").concat(n.join(":"))}},{key:"_reset",value:function(){this._report={}}},{key:"report",get:function(){return this._report}}]),e}());t.lessonReportUtil=g},function(e,t,n){"use strict";n.r(t),n.d(t,"audioUtil",(function(){return r}));const r=new class{checkNativeAudioDecodingSupport(){return new Promise(e=>{const t=Uint32Array.from("7romps,v7h4km,8y6lhp,2t4w,8y6lhp,ud4ajt,dzs8yx,27wr28,s4thly,17k9nnk,wahpbh,l3561q,eta6w1,e7cdh4,dddlbo,tyuyi8,1im8aej,kofo99,biyc69,feztsp,zjtcmc,1luzhbt,1pekbj9,1l981wu,1xmvqzh,tviurq,1t8fs3e,1q6kwez,1jswwl7,nesq0w,1vgjg7d,itvp7x,1aklzf6,1883ecn,18rzr6x,1uqxfuc,1amykjz,1tztjq,1q1vxbg,1spnp3j,1qgesbh,ei9j7y,ndra8k,1kipc97,1nhk6xl,1oyoorh,gknpfh,q16ywr,1xlfbis,n8jabh,hh3qa7,6tmman,1h1fe76,1lo8mf3,h5fby4,18zr63y,1vliave,1lf60un,j8dsbk,1sxrdw4,3vvrh1,h5unbs,14f07q,8hjw12,1pjusn4,fg6o60,1tvrmhl,9td9ed,y5vkf2,7veddi,ehbauw,13avlbi,1nhsz92,si49nd,e2dbhy,1fh2uq8,yjwxn5,ff7fr0,1fmwhmu,jd0u5t,1wyujqa,11l2vhv,1y26vau,69dybj,1v38oto,a4jmir,101y5mo,o9fegw,vcqtjs,510zr,1a19c15,m5y,1y6n1ts,1lu8be7,1xx5og,1o36hti,4vp,vl9s00,ho8bev,11nd,0,25detb,qmcwzh,3j4cj,nuzvof,hqzh7u,4kc9k,pixmov,ymls6m,bv0kgf,1xxloc,1e308w1,tys8g,ux3g1z,3a,szg4fg,2s,0,0,tys5c,6g,1el4,74,0,0,1ekg,0,0,0,1ekg,0,0,0,cn4,0,0,0,0,0,0,0,jz6rm,r1ddtd,2z,sz0pjw,2s,3,0,0,1,0,o,0,0,75,1ekg,0,0,0,1ekg,0,0,0,cn4,0,0,0,walx5w,37,w0xkbg,38,0,1,13ydjs,1ekg,9zlds,t8qfmx,2p,syqu5c,2s,0,0,1bq25ts,13ydl0,7ns4i,0,u2p6p9,36,0,wl11j4,32,0,0,wl0v7k,qzqaum,s538tq,36,t92xoh,k8e,ud9d6o,ju0,0,0,t8q134,k8e,vqmby8,k85,0,74,vra4g0,6ek,74,wb6kg1,leq,wb70n4,jub,0,74,v704jk,j78,0,74,0,jz6rk,35s,j1xzpc,0,w0nh1c,msk,zio8ow,1goe8,zipn9d,hs70xs,l,5k8qo0,5k8qo0,znkiyt,nvcf0l,zisgkl,k1aps,8vn08w,w18vw3,0,jz6rk,jz6rk,5m9s,9zlds,9fm70g,7romps,rldz77,0,9zlds,9zlds,tys5c,9zlds,8vn08w,xz4n03,0,0,tys5c,1ixrls0,1k1pzb4,1dxyww,5jrvnk,uwmmpf,0,9zlds,c7i4u8,77pfy8,rv9ab7,1,u30goi,jz6rk,9zlds,1ekf,rbdwcg,m7b,ux7280,lf0,74,lc,74,rvga2o,j90,s54lc0,j90,0,ruxnuo,mlo,0,rv4i68,v6jejt,lf4,0,0,t6kkqo,4jkoc,1axjcow,4cj1w,rs04qo,3sw2p,1ekg,l35534,eteeld,f1jl14,ddc7ce".split(",").map(e=>parseInt(e,36))).buffer,n=new(window.AudioContext||window.webkitAudioContext);try{n.decodeAudioData(t).then(()=>e(!0)).catch(()=>e(!1))}catch(r){n.decodeAudioData(t,()=>e(!0),()=>e(!1))}})}}},,,function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SortingOrchestrator=void 0;var i,o=r(n(39)),a=r(n(4)),s=r(n(5)),u=r(n(28)),c=r(n(11)),l=r(n(12)),f=r(n(10)),h=n(114),d=n(0),p=n(92),g=n(183),v=n(19);function m(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var _=v.dcPayloadBuilders.SortResponsePayload,b=(0,g.inherits)(h.BaseOrchestrator)(i=function(e){(0,c.default)(n,e);var t=y(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"init",value:function(){d._.forEach(this.sortableAssetStates,(function(e){return e.visible=!0})),this.initialized()}},{key:"ready",value:function(e){this.state.complete?this.showCompletedState(e):(this.properties.playIntro?this.activityIntro(e):this.itemIntro(e),e.enableUI()),v.dataCaptureUtil.sendEvent({type:v.DC_EVENT_TYPES.SCREEN,payload:v.DC_EVENT_PAYLOADS.START})}},{key:"itemIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"activityIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"showCompletedState",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"runAutoplay",value:function(e){return this._revealNextMove(),!0}},{key:"help",value:function(e){e.playAudio(this.style.help),v.dataCaptureUtil.sendEvent({payload:v.DC_EVENT_PAYLOADS.HELP})}},{key:"select",value:function(e,t){var n=t.id,r=t.selectedBucketId,i=this.state,a=this.properties,s=this.sortable,u=this.screen,c=!1,l=0,f=d._.find(i.assets,{id:n});if(d._.forEach(i.assets,(function(e){return e.active=!1})),r||!1===r){var h=d._.find(s,{id:n}),p=(0,d._)(i.assets).filter({bucketId:r}).size();(!h.sortable||-1===a.maxOccupancy||a.maxOccupancy>=p)&&(f.bucketId=r,f.userSelectedBucketId=r,f.selected=!0,f.active=!0),"done"!==a.feedback.method&&(l=++f.attempt),c=r===h.bucketId,f.correct=r===h.bucketId,this.autoplay&&!c&&(f.bucketId=null,f.userSelectedBucketId=null)}if("done"!==a.feedback.method){var g=a.feedback.attempts;i.feedback={correct:c,attempt:l,maxAttempts:g,playing:!0}}if("done"!==a.feedback.method){var v=[];if(i.uiEnabled=!1,f.enabled=!1,c?(this.isFirstAttempt(l)&&!u.labels&&this.incrementScore(),this.playCorrectFeedback(e,t)):i.feedback.attempt>a.feedback.attempts?(d._.find(i.assets,{id:t.id}).bucketId=d._.find(s,{id:n}).bucketId,this.playIncorrectFeedback(e,t)):(f.enabled=!0,this.playTryAgainFeedback(e,t)),f.attempt<=a.feedback.attempts){if(!c&&this.properties.feedback.deselect){var y=d._.find(s,{id:n});v.push(y)}else if(!this.properties.feedback.deselect){if(d._.every(s,(function(e){var t=i.assets[e.id];return t.bucketId===e.bucketId||t.attempt===f.attempt}))){v.push.apply(v,m(o.default,d._.filter(s,(function(e){var t=i.assets[e.id];return!e.bucketId||e.bucketId!==t.bucketId}))))}}e.execute(this.reset.bind(this),v)}this._sendResponseEvent({assets:[t],correct:c}),d._.isEmpty(v)&&this.allAnswered?e.completeScreen():e.enableUI()}else r&&this.autoplay&&this._revealNextMove(),this.enableDone(e,this.allDocked);return c}},{key:"reset",value:function(e){var t=this.state;d._.forEach(e,(function(e){t.assets[e.id].bucketId=null})),this.commit()}},{key:"deselect",value:function(e,t){var n=t.id,r=this.state,i=d._.find(r.assets,{id:n});i.bucketId=null,i.userSelectedBucketId=null,this.enableDone(e,this.allDocked)}},{key:"done",value:function(e){var t=this.state,n=this.sortable,r=this.properties;d._.forEach(d._.filter(n,(function(e){var n=d._.find(t.assets,{id:e.id});return e.bucketId&&e.bucketId===n.bucketId})),(function(e){var n=d._.find(t.assets,{id:e.id});n.displayFeedback=!0,n.enabled=!1}));var i=d._.every(n,(function(e){var n=d._.find(t.assets,{id:e.id});return!e.bucketId||e.bucketId===n.bucketId})),o=d._.filter(n,(function(e){var n=d._.find(t.assets,{id:e.id});return!e.bucketId||e.bucketId!==n.bucketId}));d._.forEach(d._.map(o,"id"),(function(e){d._.find(t.assets,{id:e}).bucketId=null})),t.feedback.playing=!0,t.feedback.attempt++,this.enableDone(e,!1),i?(this.isFirstAttempt(t.feedback.attempt)&&this.incrementScore(),this.playCorrectFeedback(e),e.completeScreen()):t.feedback.attempt>=r.feedback.attempts?(this.playIncorrectFeedback(e),e.completeScreen()):(this.playTryAgainFeedback(e),e.enableUI());var a=d._.chain(n).map((function(e){return d._.find(t.assets,{id:e.id})})).filter((function(e){return e.bucketId})).map((function(e){return{id:e.id,bucketId:e.userSelectedBucketId}})).value();this._sendResponseEvent({assets:a,correct:i})}},{key:"playCorrectFeedback",value:function(e,t){}},{key:"playIncorrectFeedback",value:function(e,t){}},{key:"playTryAgainFeedback",value:function(e,t){}},{key:"enableDone",value:function(e){}},{key:"removeDistractors",value:function(){var e=this,t=d._.filter(this.sortable,(function(e){return!e.bucketId}));d._.forEach(t,(function(t){e.state.assets[t.id].visible=!1})),this.commit()}},{key:"showCorrect",value:function(){var e=this,t=d._.filter(this.sortable,(function(e){return e.bucketId}));d._.forEach(t,(function(t){var n=e.state.assets[t.id];n.bucketId=t.bucketId,n.displayFeedback=!0,n.enabled=!1})),this.commit()}},{key:"_revealNextMove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=this.screen,r=this.sortable,i=d._.map(n.buckets,"id"),o=null;d._.forEach(i,(function(n){var r=d._.find(t.assets,{bucketId:n});o||r&&!e||(o=n);var i=d._.find(t.assets,{id:n});i.enabled=n===o}));var a=e;d._.forEach(r,(function(n){var r=d._.find(t.assets,{id:n.id});r.bucketId?r.enabled=!1:a||!e&&n.bucketId===o?(r.enabled=!0,r.showDisabled=!1,a=!1):(r.enabled=!1,r.showDisabled=!0)}))}},{key:"_sendResponseEvent",value:function(e){var t=this,n=e.correct,r=e.assets;v.dataCaptureUtil.sendEvent({type:v.DC_EVENT_TYPES.RESPONSE,payload:function(){var e=new _;return d._.each(r,(function(t){e.add({elementId:t.id,bucketId:t.bucketId||t.selectedBucketId})})),e.correct=n,e.currentScreenScore=t.state.result.score,e.maxScreenScore=t.state.result.max,e},contextData:{screen:this.screen,attemptNum:this.state.feedback.attempt}})}},{key:"allDocked",get:function(){var e=[];return d._.forEach(this.sortableAssetStates,(function(t){t.bucketId&&e.push(t)})),e.length===this.screen.buckets.length}},{key:"allAnswered",get:function(){var e=this.state,t=this.sortable;return d._.every(t,(function(t){return!t.bucketId||d._.find(e.assets,{id:t.id}).bucketId}))}},{key:"sortableAssetStates",get:function(){var e=this,t=d._.map(this.sortable,"id");return d._.map(t,(function(t){return e.state.assets[t]}))}},{key:"sortable",get:function(){return p.jsonUtil.find(this.screen,this.properties.sortable)}},{key:"randomizedPaths",get:function(){return[this.properties.sortable]}},{key:"properties",get:function(){return d._.merge((0,u.default)((0,f.default)(n.prototype),"properties",this),{sortable:"/structure/words",maxOccupancy:1,feedback:{attempts:2,method:"done"}})}}]),n}(h.BaseOrchestrator))||i;t.SortingOrchestrator=b;var A=b;t.default=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReadingOrchestrator=void 0;var i,o=r(n(4)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(114),h=n(183),d=n(19);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=(0,h.inherits)(f.BaseOrchestrator)(i=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"init",value:function(){this.initialized(),this.autoHelpEnablement=!1}},{key:"ready",value:function(e){this.properties.firstItem&&!this.state.complete?this.activityIntro(e):this.state.complete||this.itemIntro(e),e.enableUI(),d.dataCaptureUtil.sendEvent({type:d.DC_EVENT_TYPES.SCREEN,payload:d.DC_EVENT_PAYLOADS.START,contextData:{screen:this.screen}})}},{key:"itemIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"activityIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"help",value:function(e){d.dataCaptureUtil.sendEvent({payload:d.DC_EVENT_PAYLOADS.HELP,contextData:{screen:this.screen}}),e.playAudio(this.style.help)}},{key:"select",value:function(e,t){}}],[{key:"_getReadingInitialState",value:function(e){return l._.merge(f.BaseOrchestrator._getBaseInitialState(e),{autoplayMode:!0,currentPage:0,selectedOptions:[]})}},{key:"getInitialState",value:function(e){return n._getReadingInitialState(e)}}]),n}(f.BaseOrchestrator))||i;t.ReadingOrchestrator=g;var v=g;t.default=v},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MCsOrchestrator=void 0;var i,o=r(n(4)),a=r(n(5)),s=r(n(28)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(6),h=n(0),d=n(114),p=n(184),g=n(183),v=n(197),m=n(19),y=n(79);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var b=m.dcPayloadBuilders.SelectionResponsePayload,A=(0,g.inherits)(d.BaseOrchestrator)(i=function(e){(0,u.default)(n,e);var t=_(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"init",value:function(){var e=this.state,t=this.screen;if(this.setMaxScore(1),t.properties.autoplay){var n=h._.filter(t.structure.options,["correct",!1]);h._.map(n,"id").forEach((function(t){return e.assets[t].enabled=!1}))}this.initialized()}},{key:"ready",value:function(e){this.state.complete?this.showCompletedState(e):(this.properties.playIntro?this.activityIntro(e):this.itemIntro(e),e.enableUI()),m.dataCaptureUtil.sendEvent({type:m.DC_EVENT_TYPES.SCREEN,payload:m.DC_EVENT_PAYLOADS.START,contextData:{screen:this.screen}})}},{key:"itemIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"activityIntro",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"showCompletedState",value:function(e){throw new Error("method must be overridden by a subclass")}},{key:"help",value:function(e){e.playAudio(this.style.help),m.dataCaptureUtil.sendEvent({payload:m.DC_EVENT_PAYLOADS.HELP,contextData:{screen:this.screen}})}},{key:"select",value:function(e,t){this._addStagedSelection(t),this._updateOptionStates(),this._withDoneButton?this._shouldShowDoneButton&&e.showDoneButton(this.autoHideDone):this._done(e)}},{key:"done",value:function(e){this._done(e)}},{key:"_isSelectionCorrect",value:function(e){return e.is_correct}},{key:"_isOptionEnabled",value:function(e){return!this.state.assets[e.id].selected}},{key:"_done",value:function(e){var t=this.state,n=this.style,r=this._stagedSelectedOption;this._stateFeedback.correct=this._isSelectionCorrect(r),t.uiEnabled=!1,this._selectedOptions.push(r),this._clearStagedSelection();var i=++this._stateFeedback.attempt;this._stateFeedback.playing=!0,this._stateFeedback.assetId=r.id;var o,a,s,u=this._screenFeedback.max_number_of_attempts||this._options.length,c=this._getComparator(),l={sequencer:e,response:r,isCorrect:this._stateFeedback.correct,attempt:i,maxAttempts:u,feedbackDef:this._screenFeedback,styleFeedbackDef:n.feedback,comparator:c},f=null;this._stateFeedback.correct?(f=this.incrementScore,o=this.preCorrectFeedback,a=this.postCorrectFeedback,this._isLastPart&&(s=e.completeScreen)):i<u?(o=this.preTryAgainFeedback,a=this.postTryAgainFeedback):(o=this.preIncorrectFeedback,a=this.postIncorrectFeedback,this._isLastPart&&this._completeScreenOnFinalIncorrect?s=e.completeScreen:this._isLastPart&&(s=e.hideDoneButton)),"function"==typeof f&&f.call(this,{attempt:i}),o.call(this,e),this.playFeedback(l),e.execute(this._updateOptionStates.bind(this)),a.call(this,e),s&&s.call(e),s!==e.completeScreen&&e.enableUI();var h=this.createPayload(r);h.correct=l.isCorrect,h.currentScreenScore=this.state.result.score,h.maxScreenScore=this.state.result.max;var d={screen:this.screen,attemptNum:i};m.dataCaptureUtil.sendEvent({type:m.DC_EVENT_TYPES.RESPONSE,payload:function(){return h},contextData:d});var p=h.payload,g=this.dcResponseToShareData(p,d);g&&y.dataShareUtil.persistSharedData(g,d.screen.id)}},{key:"dcResponseToShareData",value:function(e,t){return y.dataShareUtil.dcResponseToShareData(e,t)}},{key:"createPayload",value:function(e){return v.responseDataMiners.mineId(e,new b)}},{key:"_getComparator",value:function(){}},{key:"runAutoplay",value:function(e){return!0}},{key:"incrementScore",value:function(e){var t=e.increment,r=void 0===t?1:t,i=e.attempt;this.isFirstAttempt(i)&&(0,s.default)((0,l.default)(n.prototype),"incrementScore",this).call(this,r)}},{key:"preCorrectFeedback",value:function(e){e.playAudio(f.GLOBAL.SFX.CORRECT)}},{key:"postCorrectFeedback",value:function(e){}},{key:"preIncorrectFeedback",value:function(e){e.playAudio(f.GLOBAL.SFX.INCORRECT),e.execute(this.highlightCorrect.bind(this))}},{key:"postIncorrectFeedback",value:function(e){this.hideDoneOnIncorrect&&e.hideDoneButton()}},{key:"preTryAgainFeedback",value:function(e){e.playAudio(f.GLOBAL.SFX.INCORRECT)}},{key:"postTryAgainFeedback",value:function(e){}},{key:"highlightCorrect",value:function(){var e=this.state,t=this.screen.structure.options;h._.forEach(t,(function(t){var n=e.assets[t.id];n.active=t.correct,t.correct&&(n.selected=!0)})),this.commit()}},{key:"_updateOptionStates",value:function(){var e=this,t=this.state,n=h._.map(this._selectedOptions,"id");this._options.forEach((function(r){var i=t.assets[r.id];e._stagedSelectedOption&&i.id===e._stagedSelectedOption.id?(i.active=!0,i.selected=!0):(i.active=!1,i.selected=!e._allowReselection&&h._.includes(n,i.id)),i.enabled=e._isOptionEnabled(r)}))}},{key:"disableIncorrectChoices",value:function(e){e?e.execute(this._disableIncorrectChoices.bind(this)):this._disableIncorrectChoices()}},{key:"_disableIncorrectChoices",value:function(){var e=this;this._options.forEach((function(t){var n=e.state.assets[t.id];n.active=!1,n.enabled=t.is_correct,n.selected=!1}))}},{key:"playFeedback",value:function(e){p.feedbackUtil.getFeedback(e)}},{key:"_addStagedSelection",value:function(e){this.state.stagedSelectedOption=e}},{key:"_clearStagedSelection",value:function(){this.state.stagedSelectedOption=null}},{key:"randomizedPaths",get:function(){return["/structure/options"]}},{key:"properties",get:function(){if(!this._properties){var e=this.screen.structure.options;this._properties=h._.merge((0,s.default)((0,l.default)(n.prototype),"properties",this),{maxAttempts:Math.min(2,e.length-1)})}return this._properties}},{key:"_options",get:function(){return this.screen.options}},{key:"_withDoneButton",get:function(){return!1}},{key:"_allowReselection",get:function(){return!1}},{key:"_completeScreenOnFinalIncorrect",get:function(){return!0}},{key:"_isLastPart",get:function(){return!0}},{key:"_screenFeedback",get:function(){return this.screen.feedback}},{key:"_selectedOptions",get:function(){return this.state.selectedOptions}},{key:"_stagedSelectedOption",get:function(){return this.state.stagedSelectedOption}},{key:"_shouldShowDoneButton",get:function(){return!0}},{key:"hideDoneOnIncorrect",get:function(){return void 0!==this._hideDoneOnIncorrect&&this._hideDoneOnIncorrect},set:function(e){this._hideDoneOnIncorrect=e}}],[{key:"_createInitialSelectionsStructure",value:function(){return{selectedOptions:[],stagedSelectedOption:null}}},{key:"_getMCsInitialState",value:function(e){return h._.merge(d.BaseOrchestrator._getBaseInitialState(e),n._createInitialSelectionsStructure())}},{key:"getInitialState",value:function(e){return n._getMCsInitialState(e)}}]),n}(d.BaseOrchestrator))||i;t.MCsOrchestrator=A;var w=A;t.default=w},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionOrchestrator=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(6),f=n(114),h=n(265),d=n(0);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=l.GLOBAL.SFX,v=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"init",value:function(){(0,a.default)((0,c.default)(n.prototype),"init",this).call(this),this.createProcessor(),this.initProcessor(),this.initialized(),this.setMaxScore(1)}},{key:"ready",value:function(e){this.state.complete?this.showCompletedState(e):this._processor.ready(e)}},{key:"createProcessor",value:function(){this._processor=new h.SelectionProcessor({style:this.screen.style,screen:this.screen,section:this.screen.properties.section})}},{key:"initProcessor",value:function(){var e=this;this._processor.model=this.state,this._processor.clearStagingArea=this.clearStagingArea.bind(this),this._processor.stageSelection=this.stageSelection.bind(this),this._processor.unstageSelection=this.unstageSelection.bind(this),this._processor.getCurrentScreenPart=function(){return e.currentScreenPart},this._processor.comparator=this.comparator,this._processor.preTryAgainFeedback=this.preTryAgainFeedback.bind(this),this._processor.postTryAgainFeedback=this.postTryAgainFeedback.bind(this),this._processor.preCorrectFeedback=this.preCorrectFeedback.bind(this),this._processor.postCorrectFeedback=this.postCorrectFeedback.bind(this),this._processor.preIncorrectFeedback=this.preIncorrectFeedback.bind(this),this._processor.postIncorrectFeedback=this.postIncorrectFeedback.bind(this),this._processor.maxScore=this.maxScore,this._processor.exitPart=this.exitPart.bind(this),this._processor.readyPart=this.readyPart.bind(this),this._processor.withDoneButton=function(){return e._withDoneButton},this._processor.shouldEnableDoneButton=this.shouldEnableDoneButton.bind(this),this._processor.isCorrect=this.isCorrect.bind(this),this._processor.getStagedSelection=function(){return e.stagedSelection},this._processor._playFeedback=this._processor.playFeedback,this.playFeedback&&(this._processor.playFeedback=this.playFeedback.bind(this)),this._processor.init()}},{key:"requestUserInput",value:function(e){this._processor.requestUserInput(e),(0,a.default)((0,c.default)(n.prototype),"requestUserInput",this).call(this,e)}},{key:"onHelpStop",value:function(e){this._processor.onHelpStop(e),(0,a.default)((0,c.default)(n.prototype),"onHelpStop",this).call(this,e)}},{key:"select",value:function(e,t){this._processor.select(e,t)}},{key:"deselect",value:function(e,t){this._processor.deselect(e,t)}},{key:"done",value:function(e){this._done(e)}},{key:"_done",value:function(e){this._processor.done(e)}},{key:"postDone",value:function(e,t){var n=t.isComplete;this._processor.postDone(e,{isComplete:n})}},{key:"outro",value:function(e){}},{key:"disableUI",value:function(){this.state.uiEnabled=!1}},{key:"incrementScore",value:function(e){var t=e.isCorrect,r=e.attempt;t&&1===r&&(0,a.default)((0,c.default)(n.prototype),"incrementScore",this).call(this,1)}},{key:"preTryAgainFeedback",value:function(e){e.playAudio(g.INCORRECT)}},{key:"postTryAgainFeedback",value:function(e){}},{key:"preCorrectFeedback",value:function(e){e.playAudio(g.CORRECT)}},{key:"postCorrectFeedback",value:function(e){}},{key:"preIncorrectFeedback",value:function(e){e.playAudio(g.INCORRECT)}},{key:"postIncorrectFeedback",value:function(e){}},{key:"exitPart",value:function(e,t){}},{key:"readyPart",value:function(e,t){throw new Error("Subclass must implement readyPart")}},{key:"showCompletedState",value:function(e){throw new Error("Subclass must implement showCompletedState")}},{key:"help",value:function(e){throw new Error("Subclass must implement help")}},{key:"isCorrect",value:function(e){throw new Error("Subclass must implement isCorrect")}},{key:"shouldEnableDoneButton",value:function(){throw new Error("Subclass must implement shouldEnableDoneButton. If you used one of the MathOrchestratorUtil.mixinStaging methods, note that they have a manageDoneButtonEnablement option, which will mix an implementation of this method in for you.")}},{key:"clearStagingArea",value:function(){throw new Error("Subclass must implement clearStagingArea. You may want to use one of the OrchestratorUtil mixin staging methods to implement this.")}},{key:"stageSelection",value:function(e){throw new Error("Subclass must implement stageSelection. You may want to use one of the OrchestratorUtil mixin staging methods to implement this.")}},{key:"unstageSelection",value:function(e){throw new Error("Subclass must implement unstageSelection. You may want to use one of the OrchestratorUtil mixin staging methods to implement this.")}},{key:"incrementAttempts",value:function(){throw new Error("Subclass must implement incrementAttempts. You may want to use one of the OrchestratorUtil mixin state data handler methods to implement this.")}},{key:"_stateFeedback",get:function(){var e=this._processor;return e.getStateFeedback?e.getStateFeedback():this.state.feedback}},{key:"currentPartIndex",get:function(){return this._processor.currentPartIndex}},{key:"isInQuizSection",get:function(){return this._processor.isInQuizSection}},{key:"attempt",get:function(){return this._processor.attempt}},{key:"isLastPart",get:function(){return this._processor.isLastPart()}},{key:"comparator",get:function(){}},{key:"maxScore",get:function(){return 1}},{key:"_withDoneButton",get:function(){throw new Error("Subclass must implement get _withDoneButton")}},{key:"stagedSelection",get:function(){throw new Error("Subclass must implement get stagedSelection. You may want to use one of the OrchestratorUtil mixin staging methods to implement this.")}},{key:"committedSelections",get:function(){throw new Error("Subclass must implement get committedSelections. You may want to use one of the OrchestratorUtil mixin state data handler methods to implement this.")}},{key:"maxAttempts",get:function(){throw new Error("Subclass must implement get maxAttempts. You may want to use one of the OrchestratorUtil mixin state data handler methods to implement this.")}},{key:"screenFeedback",get:function(){throw new Error("Subclass must implement get screenFeedback. You may want to use one of the OrchestratorUtil mixin state data handler methods to implement this.")}}],[{key:"createInitialSelectionsStructure",value:function(){return{selections:[]}}},{key:"_getSelectionsInitialState",value:function(e){var t=f.BaseOrchestrator._getBaseInitialState(e),r=n.createInitialSelectionsStructure(e);return d._.merge(t,r)}},{key:"getInitialSinglePartState",value:function(e){return n._getSelectionsInitialState(e)}},{key:"getInitialMultipartState",value:function(e,t){if(t<0)throw new Error("Negative part count is invalid");for(var r=[],i=0;i<t;i++){var o=n.createInitialSelectionsStructure();o.feedback=f.BaseOrchestrator._createInitialFeedbackStructure(),r.push(o)}var a=f.BaseOrchestrator._getBaseInitialState(e);return delete a.feedback,d._.merge(a,{parts:r})}},{key:"uninitializedPartIndex",get:function(){return h.SelectionProcessor.uninitializedPartIndex}}]),n}(f.BaseOrchestrator);t.SelectionOrchestrator=v},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.TweenUtility=void 0;var i=r(n(4)),o=r(n(5)),a=n(609),s=n(613),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"later",value:function(e){return new s.DelayedAction(e)}},{key:"create",get:function(){return new a.Animator}}]),e}();t.TweenUtility=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Animator=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(610),u=n(611),c=function(){function e(){(0,i.default)(this,e),this._actionTable=new s.ActionTable,this._animation=null,this._target=null,this._durationOverride=null}return(0,o.default)(e,[{key:"changeActionTable",value:function(e){return this._actionTable=e,this}},{key:"before",value:function(e){return this._actionTable.addBefore(e),this}},{key:"during",value:function(e){return this._actionTable.addDuring(e),this}},{key:"after",value:function(e){return this._actionTable.addAfter(e),this}},{key:"over",value:function(e){return this._durationOverride=e,this._animation&&(this._animation.duration=this._durationOverride),this}},{key:"start",value:function(){var e=this.target;if(!e)throw new Error("unable to start animation. target cannot be undefined or null");var t=this.animation;if(!t)throw new Error("unable to start animation. no animation has been defined");if(!t.valid)throw new Error("unable to start animation. animation definition sequence was not correctly terminated");var n=t.execute();this._prepareAnimationSequence(n,t),this._startAnimationSequence(t,e,n)}},{key:"stop",value:function(){this._tweenLiteTween&&this._tweenLiteTween.kill()}},{key:"move",value:function(e){return this._target=e,this._animation=new u.PositionalAnimation(this),this._durationOverride&&(this._animation.duration=this._durationOverride),this._animation}},{key:"_prepareAnimationSequence",value:function(e,t){var n=this,r=this.actionTable;if(r.addAfter((function(){return n._invalidate()})),0===t.duration)return this._callActions(r.before),this._callActions(r.during),a.TweenLite.set(this.target,e),void this._callActions(r.after);Object.assign(e,{onStart:function(){return n._callActions(r.before)},onUpdate:function(){return n._callActions(r.during)},onComplete:function(){return n._callActions(r.after)}})}},{key:"_startAnimationSequence",value:function(e,t,n){var r=e.type,i=a.TweenLite[r];if(!i)throw new Error('unable to start animation. TweenLite does not have the method "'.concat(r,'" animation type is not valid.'));var o=.001*e.duration;this._tweenLiteTween=i(t,o,n)}},{key:"_callActions",value:function(e){e.forEach((function(e){return e()}))}},{key:"_invalidate",value:function(){this._animation=null,this._target=null,this._tweenLiteTween=null}},{key:"actionTable",get:function(){return this._actionTable}},{key:"animation",get:function(){return this._animation}},{key:"target",get:function(){return this._target}}]),e}();t.Animator=c},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTable=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(){(0,i.default)(this,e),this._before=[],this._during=[],this._after=[]}return(0,o.default)(e,[{key:"reset",value:function(){this._before.length=0,this._during.length=0,this._after.length=0}},{key:"addBefore",value:function(e){this._before.push(e)}},{key:"addDuring",value:function(e){this._during.push(e)}},{key:"addAfter",value:function(e){this._after.push(e)}},{key:"before",get:function(){return this._before.slice()}},{key:"during",get:function(){return this._during.slice()}},{key:"after",get:function(){return this._after.slice()}}]),e}();t.ActionTable=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PositionalAnimation=t.PositionalAnimationData=void 0;var i=r(n(5)),o=r(n(11)),a=r(n(12)),s=r(n(10)),u=r(n(4)),c=n(612);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var f=function e(){(0,u.default)(this,e),this.spawn=null,this.origin=null,this.destination=null};t.PositionalAnimationData=f;var h=function(e){(0,o.default)(n,e);var t=l(n);function n(e){var r;return(0,u.default)(this,n),(r=t.call(this,e)).data.position=new f,r}return(0,i.default)(n,[{key:"at",value:function(e){return this.data.position.spawn=e,this}},{key:"to",value:function(e){return this._type="to",this.data.position.destination=e,this.animator}},{key:"from",value:function(e){return this._type="from",this.data.position.origin=e,this.animator}},{key:"execute",value:function(){return this.data.position.spawn&&(Number.isNaN(this.data.position.spawn.x)||(this.animator.target.x=this.data.position.spawn.x),Number.isNaN(this.data.position.spawn.y)||(this.animator.target.y=this.data.position.spawn.y)),"from"===this.type?this.data.position.origin:this.data.position.destination}}]),n}(c.Animation);t.PositionalAnimation=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(t){(0,i.default)(this,e),this._duration=1e3,this._type="invalid",this._animator=t,this._data={}}return(0,o.default)(e,[{key:"execute",value:function(){throw new Error("Animation must be subclassed, and execute() method must be overrided and implemented")}},{key:"valid",get:function(){return"invalid"!==this._type}},{key:"animator",get:function(){return this._animator}},{key:"type",get:function(){return this._type}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"data",get:function(){return this._data}}]),e}();t.Animation=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DelayedAction=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=function(){function e(t){(0,i.default)(this,e),this._waitTime=.001*t}return(0,o.default)(e,[{key:"execute",value:function(e){a.TweenLite.delayedCall(this._waitTime,(function(){return e()}))}}]),e}();t.DelayedAction=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.layoutHelper=void 0;var i=r(n(39)),o=n(35),a=n(58),s=n(0);function u(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function c(e,t){var n=e.reduce((function(e,t){var n=t.getTransformedBounds();return n.width*n.height+e}),0),r=a.layoutUtil.getBounds(t),i=r.width*r.height,s=Math.ceil(i/(n/e.length));o.assertUtil.isNumberGreaterEqualTo("LayoutHelper","layoutHelper","maxChildren",s,e.length)}t.layoutHelper=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(o.assertUtil.isFunction("LayoutHelper","layoutHelper","layout.draw",e.draw),o.assertUtil.isArray("LayoutHelper","layoutHelper","group",t),!(n instanceof s.createjs.Container)){o.assertUtil.isObject("LayoutHelper","layoutHelper","container",n);var l=new s.createjs.Container;l.setBounds(0,0,n.width,n.height),n=l}return(e.validateBounds||c)(t,n,a),e.draw(t,n,a),(r=n).addChild.apply(r,u(i.default,t)),n}},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.GraphingFunctionLayout=void 0;var i=r(n(4)),o=r(n(5)),a=n(58),s=n(269),u=n(35),c=n(0),l=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r=n.sx,i=void 0===r?t.interval.a:r,o=n.padding,l=void 0===o?0:o,f=n.yOffset,h=void 0===f?0:f,d=n.xOffset,p=void 0===d?0:d;if(u.assertUtil.isNumber("GraphingFunctionLayout","draw","sx",i),u.assertUtil.isNumber("GraphingFunctionLayout","draw","padding",l),u.assertUtil.isNumberGreaterEqualTo("GraphingFunctionLayout","draw","padding",l,0),u.assertUtil.isNumber("GraphingFunctionLayout","draw","yOffset",h),u.assertUtil.isNumber("GraphingFunctionLayout","draw","xOffset",p),!(t instanceof s.GraphingFunction))throw new Error("The graphingFunction must be an instance of a GraphingFunction");var g=i,v=t.f;c._.forEach(e,(function(e){e.set({x:g+p,y:v(g)+h}),g+=l+a.layoutUtil.getBounds(e).width}))}},{key:"validateBounds",value:function(e,t){}}]),e}();t.GraphingFunctionLayout=l},function(e,t,n){var r=n(208),i=n(617);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!i.environmentUtil.isAutomationRunning())return r._.random(e,t,n);return e};var r=n(0),i=n(16)},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Curve=void 0;var i=r(n(43)),o=r(n(4)),a=r(n(5)),s=window.com.greensock.TweenMax,u=window.com.greensock.plugins.BezierPlugin,c=function(){function e(t){(0,o.default)(this,e),this._points=t||[],this._loadPlotStyle({})}return(0,a.default)(e,null,[{key:"define",value:function(){for(var t=new e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if((0,i.default)(r[0])===(0,i.default)({}))return t.addPoints(r),t;for(var a=r.length,s=0;s<a;){var u=r[s],c=r[s+1];t.addXY(u,c),s+=2}return t}}]),(0,a.default)(e,[{key:"clear",value:function(){this._points.length=0}},{key:"addPoint",value:function(e){this._points.push(e)}},{key:"addXY",value:function(e,t){this._points.push({x:e,y:t})}},{key:"addPoints",value:function(e){this._points=this._points.concat(e)}},{key:"applyMotionTo",value:function(e,t,n,r,i){s.to(e,t||1,{bezier:this._points,ease:n||Power1.easeInOut,onComplete:r,onUpdate:i})}},{key:"plot",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;window.console.warn("plot: ".concat(e," ").concat(t," ").concat(n," ").concat(r));var i=u.bezierThrough(this._points),o=i.x.length;t&&this._loadPlotStyle(t),e.save(),this._applyPlotStyle(e),this._plotStyle.debug?this._plotDebugCurve(e,i,o,n,r):this._plotCurve(e,i,o,n,r),e.restore()}},{key:"toGraphics",value:function(e){e&&this._loadPlotStyle(e);var t=this._plotStyle,n=u.bezierThrough(this._points),r=n.x.length,i=new createjs.Graphics;i.setStrokeStyle(t.width),t.dash&&i.setStrokeDash([t.dash.line,t.dash.gap],0);for(var o=0;o<r;o+=1){var a=n.x[o],s=n.y[o],c=a.a,l=s.a,f=a.d,h=s.d,d=a.b,p=s.b,g=a.c,v=s.c;i.beginStroke(t.color),i.moveTo(c,l),i.bezierCurveTo(d,p,g,v,f,h),i.endStroke()}return i}},{key:"toShape",value:function(e){var t=this.toGraphics(e);return new createjs.Shape(t)}},{key:"_loadPlotStyle",value:function(e){var t=e.dash,n=e.debug,r=e.color,i=void 0===r?"white":r,o=e.width,a=void 0===o?1:o;return this._plotStyle={color:i,width:a},t&&Object.assign(this._plotStyle,{dash:{line:t.line||4,gap:t.gap||16}}),n&&Object.assign(this._plotStyle,{debug:!0,tangent:{color:n.tangentColor||"white",width:n.tangentLineWidth||1},handles:{endPoint:{color:n.endPointHandleColor||"yellow",size:n.endPointHandleSize||3},control:{color:n.controlHandleColor||"red",size:n.controlHandleSize||3}}}),this}},{key:"_applyPlotStyle",value:function(e){var t=this._plotStyle;e.strokeStyle=t.color,e.lineWidth=t.width,t.dash&&e.setLineDash([t.dash.line,t.dash.gap])}},{key:"_plotCurve",value:function(e,t,n,r,i){for(var o=0;o<n;o+=1){var a=t.x[o],s=t.y[o],u=a.a*r,c=s.a*i,l=a.d*r,f=s.d*i,h=a.b*r,d=s.b*i,p=a.c*r,g=s.c*i;e.beginPath(),e.moveTo(u,c),e.bezierCurveTo(h,d,p,g,l,f),e.stroke()}}},{key:"_plotDebugCurve",value:function(e,t,n,r,i){for(var o=this._plotStyle,a=o.tangent.color,s=o.tangent.widget,u=o.handles.endPoint.color,c=o.handles.endPoint.size,l=o.handles.control.color,f=o.handles.control.size,h=.5*c,d=.5*f,p=[],g=0;g<n;g+=1){var v=t.x[g],m=t.y[g],y=v.a*r,_=m.a*i,b=v.d*r,A=m.d*i,w=v.b*r,E=m.b*i,x=v.c*r,T=m.c*i;e.beginPath(),e.moveTo(y,_),e.bezierCurveTo(w,E,x,T,b,A),e.stroke(),e.save(),e.setLineDash(p),e.strokeStyle=a,e.lineWidth=s,e.beginPath(),e.moveTo(y,_),e.lineTo(w,E),e.stroke(),e.beginPath(),e.moveTo(b,A),e.lineTo(x,T),e.stroke(),e.fillStyle=u,e.fillRect(y-h,_-h,c,c),e.fillRect(b-h,A-h,c,c),e.fillStyle=l,e.fillRect(w-d,E-d,f,f),e.fillRect(x-d,T-d,f,f),e.restore()}}},{key:"points",get:function(){return this._points.slice()}}]),e}();t.Curve=c},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.processorUtil=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(35),u=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"defineProperty",value:function(e){var t=e.target,n=e.property,r=e.getter,i=e.setter;Object.defineProperty(t,n,{get:r,set:i,enumerable:!0})}},{key:"mixinStagingSingleSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.manageDoneButtonEnablement;e.clearStagingArea=function(){return e._stagedSelection=null},e.stageSelection=function(t){return e._stagedSelection=t},e.unstageSelection=function(){return e.clearStagingArea()},e.getStagedSelection=function(){return e._stagedSelection},e.shouldEnableDoneButton=n?function(){return!!e.getStagedSelection()}:function(){return!1}}},{key:"mixinStagingMultiSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.manageDoneButtonEnablement,r=t.enableDoneWhenSelectionCountAtLeast;n&&s.assertUtil.isNumberGreaterThan(this.constructor.name,"mixinStagingMultiSelection","enableDoneWhenSelectionCountAtLeast",r,0),e.clearStagingArea=function(){e._stagedSelection=[]},e.clearStagingArea(),e.stageSelection=function(t){e._stagedSelection.push(t)},e.unstageSelection=function(t){e._stagedSelection=a.default.filter(e.getStagedSelection(),(function(e){return e.id!==t.id}))},e.getStagedSelection=function(){return e._stagedSelection},n&&(e.shouldEnableDoneButton=function(){return e.getStagedSelection().length>=r})}},{key:"mixinStandardSingleStateDataHandlers",value:function(e){e.getCommittedSelections=function(){return e.model.selections},e.incrementAttempts=function(){return e.attempt+1},e.getScreenFeedback=function(){return e.screen.feedback},e.getStateFeedback=function(){return e.screen.feedback},e.getMaxAttempts=function(){var t=e.screen,n=t.feedback?t.feedback.max_number_of_attempts:void 0;return a.default.isUndefined(n)?1:n}}},{key:"mixinStandardMultiStateDataHandlers",value:function(e){e.getCurrentStatePart=function(){return e.model.parts[e.currentPartIndex]},e.getCommittedSelections=function(){return e.getCurrentStatePart().selections},e.incrementAttempts=function(){return e.attempt+1},e.getScreenFeedback=function(){return e.getCurrentScreenPart().feedback},e.getStateFeedback=function(){return e.getCurrentStatePart().feedback},e.getMaxAttempts=function(){return e.getScreenFeedback().max_number_of_attempts}}}]),e}());t.processorUtil=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Confetti=void 0;var i=r(n(5)),o=r(n(24)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(4)),l=n(0),f=n(143);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var d=function e(t,n){(0,c.default)(this,e),this.image=new l.createjs.Shape,this.color=l.createjs.Graphics.getRGB(l._.random(0,16777215)<<0),this.image.graphics.f(this.color,1).r(0,0,15,15),this.image.scaleX=l._.random(0,100)/100,this.image.scaleY=l._.random(0,100)/100,this.image.x=Math.floor(l._.random(0,t.canvas.width)),this.image.y=-Math.floor(l._.random(0,t.canvas.height)),this.image.initRotation=l._.random(0,8),this.image.initSkewX=l._.random(0,5),this.image.initVelocity=n+l._.random(0,5),this.image.initOsci=l._.random(0,4)-2},p=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var r,i=e.element,a=e.numParticles,s=void 0===a?2e3:a,u=e.gravity,l=void 0===u?5:u,f=e.onUpdate,h=void 0===f?function(){return!0}:f,p=e.onComplete,g=void 0===p?function(){return!0}:p;(0,c.default)(this,n),r=t.call(this);var v=[],m=(0,o.default)(r);if(r._element=i,r._particles=v,r._numParticles=s,r._gravity=l,r._onUpdate=h,r._onComplete=g,!i)throw new Error("element is undefined or null");function y(){!function(){for(var e=0;e<v.length;e++){var t=v[e];t.y>=0&&(t.visible=!0),t.rotation+=t.initRotation,t.skewX+=t.initSkewX,t.y+=t.initVelocity,t.x+=t.initOsci,t.y>=i.canvas.height&&(i.removeChild(t),v.splice(e,1))}v.length<=0&&(m.resetConfetti(),g())}(),h()}r.resetConfetti=function(){TweenMax.ticker.removeEventListener("tick",y);for(var e=0;e<v.length;e++)i.removeChild(v[e]);v=[]};for(var _=0;_<s;_++){var b=new d(i,l);v.push(b.image),i.addChild(b.image)}return TweenMax.ticker.addEventListener("tick",y),r}return(0,i.default)(n,[{key:"reset",value:function(){this.resetConfetti()}}]),n}(f.Effect);t.Confetti=p},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Slime=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(24)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(e){var r,o,s=e.element,u=e.initPos,c=void 0===u?{x:0,y:0}:u,f=e.finalPos,h=void 0===f?{x:400,y:400}:f,d=e.color,p=void 0===d?"#0f0":d,g=e.onUpdate,v=void 0===g?function(){return!0}:g,m=e.onComplete,y=void 0===m?function(){return!0}:m;(0,i.default)(this,n),r=t.call(this);var _=0,b=[],A=new TimelineMax({paused:!0}),w=(0,a.default)(r),E=new l.createjs.Shape,x=new l.createjs.Container;if(r._initPos=c,r._finalPos=h,r._color=p,r._onUpdate=v,r._onComplete=y,!s)throw new Error("element is undefined or null");s.addChild(x);for(var T=0;T<72;T++)b.push({x:h.x,y:h.y,angle:5*T,size:5+l._.random(0,3),life:200+l._.random(0,250)});function S(){w.resetSlime(),y()}function O(){!function(){_=Date.now()-o,o=Date.now();for(var e=0;e<b.length;e++){var t=b[e];t.x+=4*Math.cos(t.angle)+l._.random(0,2)-l._.random(0,2),t.y+=4*Math.sin(t.angle)+l._.random(0,2)-l._.random(0,2),t.life-=_,t.size-=_/50,t.size<=0&&(t.life=0),t.life<=0&&b.splice(e--,1)}}(),function(){for(var e=new l.createjs.Shape,t=0;t<b.length;t++){var n=b[t];e.graphics.arc(n.x,n.y,n.size,0,2*Math.PI,!1).f(p,.8),x.addChild(e)}}(),b.length<=0&&(w.resetTicker(),TweenMax.to(x,1.5,{delay:.5,alpha:0,onComplete:S}))}function C(){O(),v()}function k(){_=0,o=Date.now(),TweenMax.ticker.addEventListener("tick",C)}return r.resetTicker=function(){TweenMax.ticker.removeEventListener("tick",C)},r.resetSlime=function(){w.resetTicker(),s.removeChild(x),b=[],A.remove()},E.graphics.f(p).drawEllipse(0,0,20,18),E.x=c.x,E.y=c.y,x.addChild(E),A.to(E,.5,{bezier:{values:[{x:c.x,y:c.y},{x:h.x,y:h.y}]},ease:Linear.easeIn,onUpdate:v(),onComplete:k}),A.restart(),r}return(0,o.default)(n,[{key:"reset",value:function(){this.resetSlime()}}]),n}(n(143).Effect);t.Slime=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Beam=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var f=function(e){(0,a.default)(n,e);var t=l(n);function n(e){var r,o=e.element,a=e.bounds,s=void 0===a?{x:0,y:0,w:0,h:0}:a,u=e.duration,l=void 0===u?1:u,f=e.direction,h=void 0===f?1:f,d=e.tint,p=void 0===d?"#FFF":d,g=e.onUpdate,v=void 0===g?function(){return!0}:g,m=e.onComplete,y=void 0===m?function(){return!0}:m;(0,i.default)(this,n),r=t.call(this);var _=0;if(!o)throw new Error("element is undefined or null");var b=!o.cacheCanvas;function A(){_++,o.shadow=new c.createjs.Shadow(p,0,0,_),v()}function w(){b&&o.uncache(),y()}return b&&o.cache(s.x,s.y,s.w,s.h),r.resetBeam=function(){o.shadow=new c.createjs.Shadow("#fff",0,0,0),TweenMax.to(o,0,{alpha:1,easel:{tint:"#fff",tintAmount:0}}),v()},h>0?(TweenMax.to(o,l,{easel:{tint:p,tintAmount:.75},onUpdate:A}),TweenMax.to(o,l/2,{alpha:0,delay:l,onUpdate:v,onComplete:w})):(TweenMax.to(o,l/2,{alpha:1,onUpdate:v}),TweenMax.to(o,l,{delay:l,easel:{tint:p,tintAmount:0},onUpdate:A,onComplete:w})),r}return(0,o.default)(n,[{key:"reset",value:function(){this.resetBeam()}}]),n}(n(143).Effect);t.Beam=f},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLight=void 0;var i,o,a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(4)),l=n(0),f=n(143);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var d=function e(t){var n=t.element,r=t.x,i=t.y,o=t.h,a=t.w;(0,c.default)(this,e);var s=new l.createjs.Shape;s.compositeOperation="destination-out",s.graphics.beginFill("#ff0000"),s.graphics.moveTo(r,i).lineTo(r-a/2,i+o).lineTo(r+a/2,i+o).lineTo(r,i);var u=new l.createjs.BlurFilter(45,70,1);s.filters=[u],s.cache(0,0,n.canvas.width,n.canvas.height);var f=new l.createjs.Shape;f.graphics.f("rgba(0, 0, 0, 0.8)").r(0,0,n.canvas.width,n.canvas.height).f("rgba(255, 255, 255, 0.15)").drawEllipse(r-a/2,i+o-5,a,30),this.enable=function(){n.addChild(f,s)},this.disable=function(){n.removeChild(f,s)}},p=function(e){(0,a.default)(n,e);var t=h(n);function n(e){var r,a=e.element,s=e.bounds,u=void 0===s?{x:400,y:100,h:300,w:100}:s;if((0,c.default)(this,n),r=t.call(this),!a)throw new Error("element is undefined or null");r._element=a,r._bounds=u;var f=u.x,h=u.y,p=u.h,g=u.w;(i=new l.createjs.Shape).graphics.beginLinearGradientFill(["rgba(255, 51, 51, .25)","rgba(255, 51, 51, .45)"],[1,.1],f,h,f+g/2,h+p),i.graphics.moveTo(f,h).lineTo(f-g/2,h+p).lineTo(f+g/2,h+p).lineTo(f,h);var v=new l.createjs.BlurFilter(45,70,1);return i.filters=[v],i.cache(0,0,a.canvas.width,a.canvas.height),o=new d({element:a,x:f,y:h,h:p,w:g}),r.enable=function(){o.enable(),a.addChild(i)},r.disable=function(){o.disable(),a.removeChild(i)},r}return n}(f.Effect);t.SpotLight=p},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.widgetFactory=t.WidgetFactory=void 0;var i=r(n(4)),o=r(n(5)),a=n(0),s=n(268),u=n(271),c=n(272),l=n(273),f=n(108),h=n(274),d=n(626),p=n(275),g=n(276),v=n(277),m=n(278),y=n(160),_=n(22),b=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"createAudioButton",value:function(e){var t=e.audioInfo,n=new s.AudioBtn(t);return this._prepareAndInitializeWidget(n),n}},{key:"createBitmap",value:function(e){var t=e.imageInfo,n=_.assetUtil.getAsset(t);return n?new a.createjs.Bitmap(n):new a.createjs.Bitmap(t.src)}},{key:"createGenericContainer",value:function(e){var t=e.display,n=e.background,r=e.audioInfo,i=e.content,o=e.layoutHelper,a=e.preprocessor,s=new g.GenericContainer({display:t,background:n,audioInfo:r,content:i,layoutHelper:o,preprocessor:a});return this._prepareAndInitializeWidget(s),s}},{key:"createTextWidget",value:function(e){var t,n=e.textInfo,r=e.textOptions,i=e.background,o=e.placementIndex,a=void 0===o?0:o,s=e.cursorInfo;if(i){var u=a||i.totalFrames||1;t=i["placement_".concat(u)]}var c=n.value.toString(),l=new f.TextWidget(c,t,n.spans,r,s);return y.widgetUtil.mixinRelativePositioning(l),this._prepareAndInitializeWidget(l),l}},{key:"createHTMLTextWidget",value:function(e){var t=e.asset,n=e.htmlOptions,r=new h.HTMLTextWidget(t);return a._.isUndefined(n)||r.set(n),this._prepareAndInitializeWidget(r),r}},{key:"createCompositeText",value:function(e){var t,n,r=e.textInfo,i=e.display,o=e.background,s=e.textOptions,c=e.registerForUpdates;a._.isString(r)||a._.isNumber(r)?n={value:r}:(t=r.items.audio,n=r.items.text);var l=new u.CompositeText({assetInfo:n,display:i,background:o,textOptions:s,audioInfo:t,registerForUpdates:c});return this._prepareAndInitializeWidget(l),l}},{key:"createCompositeImage",value:function(e){var t=e.imageInfo,n=e.display,r=e.background,i=e.audioInfo,o=new c.CompositeImage({assetInfo:t,display:n,background:r,audioInfo:i});return this._prepareAndInitializeWidget(o),o}},{key:"createGraphic",value:function(e){var t=e.asset,n=e.display,r=e.flipVertical,i=void 0!==r&&r,o=e.flipHorizontal,a=void 0!==o&&o,s=e.isAnimatable,u=void 0!==s&&s,c=new v.Graphic({asset:t,isAnimatable:u});return c.init(),a&&(c.asset.scaleX=-1),i&&(c.asset.scaleY=-1),u&&n.monitor(t),c}},{key:"createTextOptions",value:function(e){var t=e.optionInfos,n=e.display,r=e.backgroundType,i=e.sameWidth,o=e.sameHeight,a=e.config;return this._createOptions({optionInfos:t,display:n,backgroundType:r,sameWidth:i,sameHeight:o,optionCreator:this._createTextOptionWidget,config:a})}},{key:"createImageOptions",value:function(e){var t=e.optionInfos,n=e.display,r=e.backgroundType,i=e.sameWidth,o=e.sameHeight;return this._createOptions({optionInfos:t,display:n,backgroundType:r,sameWidth:i,sameHeight:o,optionCreator:this._createImageOptionWidget})}},{key:"createReadTextWidget",value:function(e){var t=e.assetInfo,n=e.htmlInfo,r=e.styleInfo,i=e.wigitize,o=new d.ReadTextWidget({assetInfo:t,htmlInfo:n,styleInfo:r,wigitize:i});return this._prepareAndInitializeWidget(o),o}},{key:"createMenuBarWidget",value:function(e){var t=e.menuItems,n=e.display,r=e.config,i=new m.MenuBarWidget({menuItems:t,display:n,config:r});return this._prepareAndInitializeWidget(i),i}},{key:"_createOptions",value:function(e){var t=this,n=e.optionInfos,r=e.display,i=e.backgroundType,o=e.sameWidth,s=e.sameHeight,u=e.optionCreator,c=e.config,l=[],f=i;if(a._.forEach(n,(function(e){var n=t._getOptionAudioInfo(e),i=u({display:r,background:new f,assetInfo:e,audioInfo:n,config:c});t._prepareAndInitializeWidget(i),l.push(i)})),o&&this._toSameWidth(l),s)throw new Error("not yet implemented");return l}},{key:"_toSameWidth",value:function(e){throw new Error("not yet implemented")}},{key:"_createTextOptionWidget",value:function(e){var t=e.assetInfo,n=e.display,r=e.background,i=e.audioInfo,o=e.config,s=new l.TextOption({assetInfo:t,display:n,background:r,audioInfo:i});return s._textOptions=a._.isFunction(o)?o(t):o,s}},{key:"_createImageOptionWidget",value:function(e){var t=e.assetInfo,n=e.display,r=e.background,i=e.audioInfo;return new p.ImageOption({assetInfo:t,display:n,background:r,audioInfo:i})}},{key:"_getOptionAudioInfo",value:function(e){var t;return"audio"===e.type?t=e:e.items&&(t=e.items.audio),t}},{key:"_prepareAndInitializeWidget",value:function(e){var t=this;Object.assign(e,{get _widgetFactory(){return t}}),e.init&&e.init()}}]),e}();t.WidgetFactory=b;var A=new b;t.widgetFactory=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ReadTextWidget=void 0;var i=r(n(39)),o=r(n(4)),a=r(n(5)),s=r(n(28)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(0),h=n(83),d=n(77),p=n(274),g=n(62);function v(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=m(n);function n(e){var r,i=e.assetInfo,a=e.htmlInfo,s=void 0===a?{}:a,u=e.styleInfo,c=void 0===u?{}:u,l=e.wigitize,f=void 0===l||l;return(0,o.default)(this,n),(r=t.call(this,i))._htmlInfo=s,r._styleInfo=c,r._wigitize=f,r._htmlElements=[],r}return(0,a.default)(n,[{key:"init",value:function(){var e=this;(0,s.default)((0,l.default)(n.prototype),"init",this).call(this),f._.bindAll(this,["_onAudioComplete"]);var t,r=this.assetInfo.html.id;document.getElementById(r)?this._htmlElements.push(document.getElementById(r)):(t=this._htmlElements).push.apply(t,v(i.default,[].slice.call(document.querySelectorAll('[sentence-id="'.concat(r,'"]')))));f._.each(this._htmlElements,(function(e){return e.style.visibility="visible"})),this._wigitize&&f._.each(this._htmlElements,(function(t){e._textWidget=new p.HTMLTextWidget(t),e._textWidget.set(e._htmlInfo),e.addChild(e._textWidget)})),f._.each(this._htmlElements,(function(t){return f._.extend(t.style,e._styleInfo)}))}},{key:"readText",value:function(e){this._highlightText(),g.audioActions.start(this.assetInfo.audio,"SYSTEM",this._onAudioComplete(e))}},{key:"highlightText",value:function(){this._highlightText()}},{key:"unhighlightText",value:function(){this._resetHighlightedText()}},{key:"toggleHtmlElement",value:function(e){f._.each(this.htmlElements,(function(t){t.style.visibility=e?"visible":"hidden"}))}},{key:"toggleColorSpans",value:function(e){f._.each(this.htmlElements,(function(t){f._.each(d.htmlUtil.find(t,"span"),(function(t){e?d.htmlUtil.addClass(t,"color-target-word"):d.htmlUtil.removeClass(t,"color-target-word")}))}))}},{key:"_highlightText",value:function(){f._.each(this.htmlElements,(function(e){if(""!==e.innerHTML.trim()){var t=document.createElement("span");t.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(t),d.htmlUtil.addClass(t,"highlight")}}))}},{key:"_resetHighlightedText",value:function(){f._.each(this.htmlElements,(function(e){var t=e.querySelector(".highlight");if(t){var n=t.innerHTML;e.removeChild(t),e.innerHTML=n}}))}},{key:"_onAudioComplete",value:function(e){var t=this;return function(){t._resetHighlightedText(),e()}}},{key:"textWidget",get:function(){return this._textWidget}},{key:"htmlElements",get:function(){return this._htmlElements}}]),n}(h.Widget);t.ReadTextWidget=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.interactionFactory=t.InteractionFactory=void 0;var i=r(n(4)),o=r(n(5)),a=n(187),s=n(628),u=n(629),c=n(630);var l=function(){function e(){var t;(0,i.default)(this,e),t=this,[s.bucketsInteractionFactoryPlugin,u.draggablesInteractionFactoryPlugin,c.dragAndDropsInteractionFactoryPlugin].forEach((function(e){return Object.assign(t,e)}))}return(0,o.default)(e,[{key:"createSubmitOptionOnClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.assetInfo;this.createClickable(e,(function(){a.screenActions.optionSelect(t)}))}},{key:"createClickable",value:function(e,t){new a.Clickable(e,t).addBehavior()}}]),e}();t.InteractionFactory=l;var f=new l;t.interactionFactory=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bucketsInteractionFactoryPlugin=void 0;var r=n(0),i=n(6),o=n(60),a=n(187),s="Empty",u="NotEmpty",c="Full",l="Hover",f="NotActive",h="EmptyOrNotEmpty",d="NotEmptyOrFull",p={INFINITE_CAPACITY:"INFINITE_CAPACITY",DEFAULT_CAPACITY:1,TEN_FRAME_CAPACITY:10,_createBucketCollidable:function(e,t,n,s){var u=a.COLLIDABLE_TYPES.BUCKET,c=a.COLLIDABLE_TYPES.DRAG_AND_DROP;if(t){var l=new createjs.Container;l.setBounds(0,0,i.SCREEN.WIDTH,i.SCREEN.HEIGHT);var f=r._.get(e,"parent.display.props.stage",null);o.canvasUtil.addWidgetToStage(l,f);var h=new a.Collidable(e,u,c,a.collisionUtil.BOX_TYPE,l);return h.addBehavior(),h}var d=new a.Collidable(e,u,c,n,s);return d.addBehavior(),d},_createBucket:function(e){var t=e.widget,n=e.draw,r=e.response,i=e.options,o=void 0===i?{}:i;t.bucketCapacity=o.capacity||this.DEFAULT_CAPACITY,t.bucketCapacity===this.INFINITE_CAPACITY&&(t.bucketCapacity=Number.MAX_SAFE_INTEGER),t.bucketContentSize=0;var p=this._createBucketCollidable(t,o.isFullScreen,t[o.dropZoneShapeTypeProp],t[o.dropZoneProp]),g=o.startInactive?f:s,v=s;o.startInactive&&p.removeBehavior();var m=!1;a.StateMachine.create({target:t,initial:g,events:[{name:"activate",from:f,to:v},{name:"deactivate",from:[c,s,u,f,l],to:f},{name:"hover",from:[s,u],to:l},{name:"off",from:l,to:h},{name:"pop",from:[c,u],to:h},{name:"push",from:[l,s,u],to:d},{name:"_toEmpty",from:h,to:s},{name:"_toFull",from:d,to:c},{name:"_toNotEmpty",from:[d,h],to:u}],callbacks:{onenterstate:function(e,i,o){var s={name:e,from:i,to:o};m&&r[o]&&(0,a.applyResponse)(t,n,s,r[o]),o===g&&(m=!0)},onleavestate:function(e,i,o){var s={name:e,from:i,to:o};r["leave".concat(i)]&&(0,a.applyResponse)(t,n,s,r["leave".concat(i)])},onbeforepush:function(){if(t.bucketContentSize+=1,t.bucketContentSize>t.bucketCapacity)throw new Error("Content size should never be larger than the capacity.")},onbeforepop:function(){if(t.bucketContentSize-=1,t.bucketContentSize<0)throw new Error("Content size should never be smaller than 0.")},onenterNotEmptyOrFull:function(){t.bucketContentSize<t.bucketCapacity?t._toNotEmpty():t._toFull()},onenterEmptyOrNotEmpty:function(){0===t.bucketContentSize?t._toEmpty():t._toNotEmpty()},onenterFull:function(){p.removeBehavior()},onleaveFull:function(){p.addBehavior()},onactivate:function(){p.addBehavior()},ondeactivate:function(){v=t.current===f?v:t.current,p.removeBehavior()}}})},_createBuckets:function(e){var t=this,n=e.widgets,r=e.draw,i=e.response,o=e.interactionMediator,a=e.options,s=Array.isArray(n)?n:[n];return s.forEach((function(e){t._createBucket({widget:e,draw:r,response:i,interactionMediator:o,options:a})})),s}};t.bucketsInteractionFactoryPlugin=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.draggablesInteractionFactoryPlugin=void 0;var r=n(187),i={_createDragAndDrops:function(e){var t=this,n=e.widgets,r=e.draw,i=e.response,o=e.options;(Array.isArray(n)?n:[n]).forEach((function(e){t._createDragAndDrop({widget:e,draw:r,response:i,options:o})}))},_createDragAndDrop:function(e){var t=e.widget,n=e.draw,i=e.response,o=e.options,a=void 0===o?{}:o;a.xOffset=a.xOffset||0,a.yOffset=a.yOffset||0,a.tweenHomeDuration=a.tweenHomeDuration||1,a.tweenToBucketDuration=a.tweenToBucketDuration||1;var s=new r.Collidable(t,r.COLLIDABLE_TYPES.DRAG_AND_DROP,r.COLLIDABLE_TYPES.BUCKET),u=new r.Draggable(t,n,a.isStickyDrag);s.addBehavior(),u.addBehavior();var c=null,l=!1,f=!0;r.StateMachine.create({target:t,initial:"Initial",events:[{name:"enterFirstTarget",from:"ActiveNotOverTarget",to:"ActiveOverTarget"},{name:"exitAllTargets",from:"ActiveOverTarget",to:"ActiveNotOverTarget"},{name:"drop",from:"ActiveNotOverTarget",to:"TweenHome"},{name:"tweenComplete",from:"TweenHome",to:"Initial"},{name:"incorrect",from:"PendingFeedback",to:"TweenHome"},{name:"select",from:"PendingFeedback",to:"ActiveOverTarget"},{name:"correct",from:"PendingFeedback",to:"Accepted"},{name:"tweenComplete",from:"TweenToBucket",to:"PendingFeedback"},{name:"sendToTarget",from:"Initial",to:"TweenToBucket"},{name:"sendHome",from:"PendingFeedback",to:"TweenHome"},{name:"drop",from:"ActiveOverTarget",to:"TweenToBucket"},{name:"select",from:"Initial",to:"ActiveNotOverTarget"}],callbacks:{onenterstate:function(e,o,a){var s={name:e,from:o,to:a};l&&i[a]&&(0,r.applyResponse)(t,n,s,i[a]),"Initial"===a&&(l=!0)},onleavestate:function(e,o,a){var s={name:e,from:o,to:a};i["leave".concat(o)]&&(0,r.applyResponse)(t,n,s,i["leave".concat(o)])},onbeforesendToTarget:function(e,t,n,r){c=r.bucket,f=!1},onleaveTweenHome:function(){t.mouseEnabled=!0},onleaveTweenToBucket:function(){t.mouseEnabled=!0},onenterTweenHome:function(e,i,o,s){var u=function(){t.tweenComplete.call(t),s&&s.onComplete&&s.onComplete()};t.mouseEnabled=!1;var c=!0;if(a.onHomeDrop){var l=a.onHomeDrop(t);if(!(l instanceof r.TimelineLite))throw new Error("onHomeDrop currently supports a custom TimelineLite/TimelineMax instance being returned");c=!1,l.call(u),l.play()}c&&(0,r.tweenToTarget)({onComplete:u,onUpdate:n,x:t.originalX,y:t.originalY,newParent:t.originalParent,duration:a.tweenHomeDuration,widget:t})},onenterTweenToBucket:function(e,i,o,s){var u=function(){t.tweenComplete.call(t),s&&s.onComplete&&s.onComplete()};t.mouseEnabled=!1,c.push();var l=c.x,f=c.y,h=!0;if(a.onBucketDrop){var d={name:e,from:i,to:o,args:s},p=a.onBucketDrop(t,c,d);if(p instanceof r.TimelineLite){h=!1;var g=p;g.call(u),g.play()}else{if(!p.x||!p.y)throw new Error("onBucketDrop currently supports a TimelineLite/TimelineMax instance or x/y coordinates being returned");var v=p;l+=v.x,f+=v.y}}l+=a.xOffset,f+=a.yOffset,h&&(0,r.tweenToTarget)({onComplete:u,x:l,y:f,newParent:c.parent,widget:t,onUpdate:n,duration:a.tweenToBucketDuration})},onenterPendingFeedback:function(){r.screenActions.optionSelect({id:t.assetId,selectedBucketId:c.assetId,isStudentSelect:f}),f=!0},onleavePendingFeedback:function(e){var n=c;"select"!==e&&"sendHome"!==e&&"incorrect"!==e||("select"===e?(c.pop(),c.hover()):(c.pop(),c=null),r.screenActions.optionDeselect({id:t.assetId,deselectedBucketId:n.assetId}))},onenterAccepted:function(){t.mouseEnabled=!1}}}),u.onSelect=function(){t.select.call(t),s.checkForCollision()},u.onDrop=function(){t.drop.call(t)},u.onDrag=function(){a.onDrag&&a.onDrag(t),s.checkForCollision()},s.onCollisionUpdate=function(){var e=s.searchActiveCollisionsFor(r.COLLIDABLE_TYPES.BUCKET),n=r._.filter(e,(function(e){return"Full"!==e.widget.current&&"NotActive"!==e.widget.current}));if(n.length>0){var i=r.collisionUtil.getClosestCollidable(s,n).widget,o=c!==i;if(!c)i.hover.call(i),t.enterFirstTarget.call(t),c=i;else if(o){var a=c;a.off.call(a),i.hover.call(i),c=i}}else c&&(c.off.call(c),t.exitAllTargets.call(t),c=null)}},_createClickAndFlyPlusDragAndDrops:function(e){var t=this,n=e.widgets,i=e.draw,o=e.response,a=e.options,s=e.buckets,u=Array.isArray(n)?n:[n];r._.forEach(u,(function(e){t._createClickAndFlyPlusDragAndDrop({widget:e,draw:i,response:o,options:a,buckets:s})}))},_createClickAndFlyPlusDragAndDrop:function(e){var t,n=e.widget,i=e.draw,o=e.response,a=e.options,s=e.buckets,u=new r.Collidable(n,r.COLLIDABLE_TYPES.DRAG_AND_DROP,r.COLLIDABLE_TYPES.BUCKET),c=new r.Draggable(n,i);u.addBehavior(),c.addBehavior();var l=!1;r.StateMachine.create({target:n,initial:"Initial",events:[{name:"_select",from:"Initial",to:"MoveChoice"},{name:"_firstPressMove",from:"MoveChoice",to:"ActiveNotOverTarget"},{name:"_toTweenToDropZone",from:"TweenToDropZoneOrInitial",to:"TweenToDropZone"},{name:"_drop",from:"MoveChoice",to:"TweenToDropZoneOrInitial"},{name:"_toInitial",from:"TweenToDropZoneOrInitial",to:"Initial"},{name:"_tweenComplete",from:"TweenToDropZone",to:"PendingFeedback"},{name:"_select",from:"PendingFeedback",to:"Deciding"},{name:"_firstPressMove",from:"Deciding",to:"ActiveOverTarget"},{name:"_drop",from:"Deciding",to:"TweenHome"},{name:"_tweenComplete",from:"TweenHome",to:"Initial"},{name:"_enterFirstTarget",from:["ActiveNotOverTarget","MoveChoice"],to:"ActiveOverTarget"},{name:"_exitAllTargets",from:"ActiveOverTarget",to:"ActiveNotOverTarget"},{name:"_drop",from:"ActiveNotOverTarget",to:"TweenHome"},{name:"_drop",from:"ActiveOverTarget",to:"TweenToDropZone"},{name:"sendHome",from:"PendingFeedback",to:"TweenHome"},{name:"sendToTarget",from:"Initial",to:"TweenToDropZoneOrInitial"},{name:"accept",from:"PendingFeedback",to:"Accepted"}],callbacks:{onenterstate:function(e,t,a){var s={name:e,from:t,to:a};l&&o[a]&&(0,r.applyResponse)(n,i,s,o[a]),"Initial"===a&&(l=!0)},onleavestate:function(e,t,a){var s={name:e,from:t,to:a};o["leave".concat(t)]&&(0,r.applyResponse)(n,i,s,o["leave".concat(t)])},onenterTweenToDropZoneOrInitial:function(e,i,o,a){(t=r._.find(s,(function(e){return"Empty"===e.current||"NotEmpty"===e.current})))?n._toTweenToDropZone(a):n._toInitial()},onenterTweenToDropZone:function(e,o,s,c){var l=function(){"TweenToDropZoneOrInitial"===o&&"TweenToDropZone"===s&&u.checkForCollision(),n._tweenComplete.call(n),c&&c.onComplete&&c.onComplete()};n.mouseEnabled=!1;var f=t.x,h=t.y,d=!0;if(a.onBucketDrop){var p={name:e,from:o,to:s,args:c},g=a.onBucketDrop(n,t,p);if(g instanceof r.TimelineLite){d=!1;var v=g;v.call(l),v.play()}else{if(!g.x||!g.y)throw new Error("onBucketDrop currently supports a TimelineLite/TimelineMax instance or x/y coordinates being returned");var m=g;f+=m.x,h+=m.y}}d&&(0,r.tweenToTarget)({onComplete:l,x:f,y:h,newParent:t.parent,duration:.4,widget:n,onUpdate:i})},onenterPendingFeedback:function(){r.screenActions.optionSelect({id:n.assetId,bucketId:t.assetId}),n.mouseEnabled=!0,t.push()},onleavePendingFeedback:function(e){"accept"!==e&&(t.pop(),r.screenActions.optionDeselect({id:n.assetId}))},onleaveDeciding:function(e){"_firstPressMove"===e&&t.hover()},onenterTweenHome:function(e,o,s,c){var l=function(){n._tweenComplete.call(n),"Deciding"===o&&"TweenHome"===s&&u.checkForExitingCollision(),c&&c.onComplete&&c.onComplete()};n.mouseEnabled=!1,t=null;var f=!0;if(a.onHomeDrop){var h={name:e,from:o,to:s,args:c},d=a.onHomeDrop(n,h);if(!(d instanceof r.TimelineLite))throw new Error("onHomeDrop currently supports a custom TimelineLite/TimelineMax instance being returned");f=!1,d.call(l),d.play()}f&&(0,r.tweenToTarget)({onComplete:l,x:n.originalX,y:n.originalY,duration:.4,newParent:n.originalParent,widget:n,onUpdate:i})},onleaveTweenHome:function(){n.mouseEnabled=!0},onenterAccepted:function(){n.mouseEnabled=!1}}}),c.onSelect=function(){n._select.call(n)},c.onDrop=function(){n._drop.call(n)},c.onDrag=function(){u.checkForCollision()},c.onFirstPressMove=function(){n._firstPressMove.call(n)},u.onCollisionUpdate=function(){var e=u.searchActiveCollisionsFor(r.COLLIDABLE_TYPES.BUCKET),i=r._.filter(e,(function(e){return"Full"!==e.widget.current&&"NotActive"!==e.widget.current}));if(i.length>0){var o=r.collisionUtil.getClosestCollidable(u,i).widget,a=t!==o;if(!t)o.hover(),n._enterFirstTarget(),t=o;else if(a){t.off(),o.hover(),t=o}}else t&&(t.off(),n._exitAllTargets(),t=null)}}};t.draggablesInteractionFactoryPlugin=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragAndDropsInteractionFactoryPlugin=void 0;var r={createDragAndDrop:function(e){var t=e.buckets,n=e.draggables,r=e.draw,i=e.draggableResponse,o=void 0===i?{}:i,a=e.bucketResponse,s=void 0===a?{}:a,u=e.vars,c=void 0===u?{}:u;this._createDragAndDrops({widgets:n,draw:r,response:o,options:c.draggables}),this._createBuckets({widgets:t,draw:r,response:s,options:c.buckets})},createClickAndFlyPlusDragAndDrop:function(e){var t=e.buckets,n=e.draggables,r=e.draw,i=e.draggableResponse,o=void 0===i?{}:i,a=e.bucketResponse,s=void 0===a?{}:a,u=e.vars,c=void 0===u?{}:u;t=Array.isArray(t)?t:[t],this._createClickAndFlyPlusDragAndDrops({widgets:n,draw:r,response:o,options:c,buckets:t}),this._createBuckets({widgets:t,draw:r,response:s,options:c.buckets})}};t.dragAndDropsInteractionFactoryPlugin=r},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CanvasBaseDisplay=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=r(n(13)),l=n(0),f=n(284),h=n(128),d=n(62),p=n(6),g=n(44),v=n(45),m=n(60),y=n(7);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,a.default)(n,e);var t=_(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).draw=function(){r.canvasModule.draw()},r.canvasModule=new h.CanvasModule(r.state),r.getBackground=l._.memoize(r.getBackground),r}return(0,o.default)(n,[{key:"listen",value:function(){this.canvasModule.container.on("added",this.onContainerAdded),this.canvasModule.container.on("removed",this.onContainerRemoved)}}],[{key:"propTypes",get:function(){return{parentContainer:l.PropTypes.shape({}),updateCanvas:l.PropTypes.func,stage:l.PropTypes.string,transition:l.PropTypes.func,screen:l.PropTypes.shape({id:l.PropTypes.string}),images:l.PropTypes.objectOf(l.PropTypes.object),videos:l.PropTypes.objectOf(l.PropTypes.object),animations:l.PropTypes.objectOf(l.PropTypes.object),initialState:l.PropTypes.object,plory:l.PropTypes.shape({}),yoop:l.PropTypes.shape({}),snargg:l.PropTypes.shape({}),backgroundContainer:l.PropTypes.shape({})}}},{key:"defaultProps",get:function(){return{}}}]),(0,o.default)(n,[{key:"onTransitionedIn",value:function(){d.screenActions.ready()}},{key:"transition",value:function(){this.props.transition(this.container,this.onTransitionedIn)}},{key:"componentDidMount",value:function(){var e=this;l.AccessibilityModule.register({displayObject:this.container,role:"main"}),m.canvasUtil.on("stageAdded",(function(t){var n=c.default.ios()?document.createElement("div"):"accessibility-wrapper";l.AccessibilityModule.setupStage(t,n,(function(){t.accessibilityTranslator.root=e.container,!c.default.ios()&&v.animationUtil.on("afterUpdate",t.accessibilityTranslator.update)}))})),m.canvasUtil.on("stageRemoved",(function(e){!c.default.ios()&&v.animationUtil.off("afterUpdate",e.accessibilityTranslator.update),l.AccessibilityModule.releaseStage(e)})),this.canvasModule.setup(this.props.stage),this.setupScreen(this.props,this.state),this.props.backgroundContainer.addChild(this.getBackground()),this.listen(this.props,this.state),g.automationUtil.resetAudioHistory(),this.transition()}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&(this.canvasModule.update(this.state),this.updateScreen(this.state))}},{key:"componentWillUnmount",value:function(){this.canvasModule.container.off("added",this.onContainerAdded),this.canvasModule.container.off("removed",this.onContainerRemoved),m.canvasUtil.off("stageAdded"),m.canvasUtil.off("stageRemoved"),this.unlisten(),this.canvasModule.unmount()}},{key:"showDoneButton",value:function(e,t){d.screenActions.showDone(t),e()}},{key:"hideDoneButton",value:function(e){d.screenActions.hideDone(),e()}},{key:"enableDone",value:function(e,t){d.screenActions.enableDone(t),e()}},{key:"setCharacterAudio",value:function(e){}},{key:"cache",value:function(e){return this.canvasModule.cache(e)}},{key:"createAudioBtn",value:function(e){return this.canvasModule.createAudioBtn(e)}},{key:"createBitmap",value:function(e){var t=e.id,n=e.type;if("image"!==n)throw new Error("Cannot create bitmap from asset type ".concat(n,"."));return this.canvasModule.createBitmap(this.props.images[t].getElement())}},{key:"registerAssetDisplay",value:function(e){this.canvasModule.registerAssetDisplay(e)}},{key:"registerTextWidget",value:function(e){this.canvasModule.registerTextWidget(e)}},{key:"addChildren",value:function(e){this.canvasModule.addChildren(e)}},{key:"monitor",value:function(e){this.canvasModule.monitor(e)}},{key:"onHelpStop",value:function(e,t){this.canvasModule.onHelpStop(e,t)}},{key:"onContainerAdded",value:function(){}},{key:"onContainerRemoved",value:function(){}},{key:"render",value:function(){return null}},{key:"getBackground",value:function(){y.rendererLogger.error("CanvasBaseDisplay.getBackground is abstract")}},{key:"setupScreen",value:function(e,t){y.rendererLogger.error("CanvasBaseDisplay.setupScreen is abstract",e)}},{key:"updateScreen",value:function(e){y.rendererLogger.error("CanvasBaseDisplay.updateScreen is abstract",e)}},{key:"unlisten",value:function(){}},{key:"assetId",get:function(){return this._assetId}},{key:"container",get:function(){return this.canvasModule.container}},{key:"hasConsole",get:function(){return!1}},{key:"WIDTH",get:function(){return p.SCREEN.WIDTH}},{key:"HEIGHT",get:function(){return p.SCREEN.HEIGHT}},{key:"greensockHelper",get:function(){return this._greensockHelper}},{key:"_greensockHelper",get:function(){return this.canvasModule.greensockHelper}}]),n}(f.BaseDisplay);t.CanvasBaseDisplay=b;var A=b;t.default=A},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.displayPersistenceManager=void 0;var i=r(n(4)),o=r(n(5)),a=n(35),s=n(0),u=new(function(){function e(){(0,i.default)(this,e),this._cache={}}return(0,o.default)(e,[{key:"retrieve",value:function(e){return a.assertUtil.isString(this.constructor.name,"retrieve","key",e),this._cache[e]}},{key:"persist",value:function(e,t){if(a.assertUtil.isString(this.constructor.name,"store","key",e),this._cache[e])throw new Error("Naming collision found. ".concat(e," already exists with value of: ").concat(this._cache[e]));this._cache[e]=t}},{key:"destroyAll",value:function(){this._cache={}}},{key:"destroy",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s._.forEach(n,(function(t){delete e._cache[t]}))}}]),e}());t.displayPersistenceManager=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.maxWidth,a=r.containerPaddingX,s=void 0===a?0:a,u=r.containerPaddingY,c=void 0===u?0:u,f=r.interItemSpacingX,h=void 0===f?0:f,d=r.interItemSpacingY,p=void 0===d?0:d,g=r.reflowTimelineConfig,v=void 0===g?{duration:0,position:0,itemComplete:l._.noop}:g;return(0,i.default)(this,n),(e=t.call(this))._maxWidth=o,e._containerPaddingX=s,e._containerPaddingY=c,e._interItemSpacingX=h,e._interItemSpacingY=p,e._reflowTimelineConfig=v,e._reflowing=!1,e.enableReflowAnimation=!0,e._rowData=[],e}return(0,o.default)(n,[{key:"wouldFlowTo",value:function(e){if(this.contains(e))throw new Error("wouldFlowTo only produces valid results for DisplayObjects that are not already in the container");return this._computePosForNewDisplayObject(e,!1)}},{key:"addChild",value:function(e){var t=this._computePosForNewDisplayObject(e,!0);e.x=t.x,e.y=t.y,(0,a.default)((0,c.default)(n.prototype),"addChild",this).call(this,e)}},{key:"addChildAt",value:function(e,t){(0,a.default)((0,c.default)(n.prototype),"addChildAt",this).call(this,e,t),this.reflow()}},{key:"removeAllChildren",value:function(){(0,a.default)((0,c.default)(n.prototype),"removeAllChildren",this).call(this),this._rowData=[]}},{key:"_removeChildAt",value:function(e,t){(0,a.default)((0,c.default)(n.prototype),"_removeChildAt",this).call(this,e,t),this.reflow()}},{key:"setChildIndex",value:function(e,t){(0,a.default)((0,c.default)(n.prototype),"setChildIndex",this).call(this,e,t),this.reflow()}},{key:"sortChildren",value:function(e){(0,a.default)((0,c.default)(n.prototype),"sortChildren",this).call(this,e),this.reflow()}},{key:"swapChildren",value:function(e,t){(0,a.default)((0,c.default)(n.prototype),"swapChildren",this).call(this,e,t),this.reflow()}},{key:"swapChildrenAt",value:function(e,t){(0,a.default)((0,c.default)(n.prototype),"swapChildrenAt",this).call(this,e,t),this.reflow()}},{key:"_computePosForNewDisplayObject",value:function(e,t){var n=l._.last(this.children),r=this._reflowedPos?l._.get(l._.last(this._reflowedPos),"x"):l._.get(n,"x");return this._computePositionAfter(e,this.children.length,n,r,t)}},{key:"reflow",value:function(){var e=this;!this._reflowing&&this.enableReflowAnimation&&(this._reflowing=!0,this._reflowTimeline&&this._reflowTimeline.kill(),this._reflowTimeline=new TimelineMax({onComplete:function(){e._reflowedPos=void 0,e._reflowTimeline=void 0}}),this._reflowedPos=[],l._.forEach(this.children,(function(t,n){var r=e._computePositionAfter(t,n,n>=1?e.children[n-1]:void 0,l._.get(l._.last(e._reflowedPos),"x"),!0);e._reflowedPos.push(r),e._reflowTimeline.to(t,e._reflowTimelineConfig.duration,{x:r.x,y:r.y,onComplete:function(){e._reflowTimelineConfig.itemComplete(t)}},e._reflowTimelineConfig.position)})),this._reflowing=!1)}},{key:"_computePositionAfter",value:function(e,t,n,r,i){var o,a,s=e.getBounds();if(0===t)o=this.containerPaddingX+e.regX,a=this.containerPaddingY+e.regY,i&&(this._rowData=[{top:this.containerPaddingY,height:s.height,startIndex:0,endIndex:0}]);else{var u=n.getBounds(),c=r-n.regX+u.width;if(c+this.interItemSpacingX+s.width<=this.maxWidth-this.containerPaddingX){var f=l._.last(this._rowData);o=c+this.interItemSpacingX+e.regX,a=f.top+e.regY,i&&(f.height=Math.max(f.height,s.height),f.endIndex=t)}else{var h=l._.last(this._rowData);o=this.containerPaddingX+e.regX,a=h.top+h.height+this.interItemSpacingY+e.regY,i&&this._rowData.push({top:h.top+h.height+this.interItemSpacingY,height:s.height,startIndex:t,endIndex:t})}}return new createjs.Point(o,a)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth=e,this.reflow()}},{key:"containerPaddingX",get:function(){return this._containerPaddingX},set:function(e){this._containerPaddingX=e,this.reflow()}},{key:"containerPaddingY",get:function(){return this._containerPaddingY},set:function(e){this._containerPaddingY=e,this.reflow()}},{key:"interItemSpacingX",get:function(){return this._interItemSpacingX},set:function(e){this._interItemSpacingX=e,this.reflow()}},{key:"interItemSpacingY",get:function(){return this._interItemSpacingY},set:function(e){this._interItemSpacingY=e,this.reflow()}},{key:"enableReflowAnimation",set:function(e){this._enableReflowAnimation=e},get:function(){return this._enableReflowAnimation}}]),n}(createjs.Container);t.default=h},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLayer=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(45),h=n(60);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var p=0,g=function(e){(0,s.default)(n,e);var t=d(n);function n(e){var r;(0,i.default)(this,n),(r=t.call(this,e)).canvasRef=l.React.createRef(),l._.bindAll((0,o.default)(r),"invalidate"),r._scaler=new l.createjs.Container,r._transitionLayer=new l.createjs.Container,r._scene=new l.createjs.Container,r._backgroundLayer=new l.createjs.Container,r._rendererLayer=new l.createjs.Container,r._foregroundLayer=new l.createjs.Container,r.container.addChild(r._scene),r.container.addChild(r._backgroundLayer),r.container.addChild(r._rendererLayer),r.container.addChild(r._foregroundLayer),r._scene.name="scene",r._backgroundLayer.name="backgroundLayer",r._rendererLayer.name="renderer",r._foregroundLayer.name="foregroundLayer",++p;var a=r.props.name;return r._stageName=a||"stage".concat(p),r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{className:l.PropTypes.string,name:l.PropTypes.string,children:l.PropTypes.oneOfType([l.PropTypes.array,l.PropTypes.element,l.PropTypes.object]),height:l.PropTypes.number,id:l.PropTypes.string,mouseEnabled:l.PropTypes.bool,topMost:l.PropTypes.bool,top:l.PropTypes.number,scale:l.PropTypes.number,style:l.PropTypes.shape(),width:l.PropTypes.number}}},{key:"defaultProps",get:function(){return{className:""}}}]),(0,a.default)(n,[{key:"componentDidMount",value:function(){this._stage=new l.createjs.Stage(this.canvasRef.current),this.stage.addChild(this.container),this.stage.name=this._stageName,this._boundStageUpdate=f.animationUtil.invalidate.bind(f.animationUtil,this.stage.name),f.animationUtil.register(this._stageName,this._stage),f.animationUtil.autoTick&&f.animationUtil.addEventListener("tick",this.invalidate),h.canvasUtil.addStage(this.stage)}},{key:"componentDidUpdate",value:function(){this._stage.update()}},{key:"componentWillUnmount",value:function(){h.canvasUtil.removeStage(this.stage),this.stage.canvas=null,f.animationUtil.unregister(this.stage.name),f.animationUtil.removeEventListener("tick",this.invalidate),this._backgroundLayer.removeAllChildren(),this.container.removeAllChildren(),delete this._stage}},{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e._stage.addChild(t)})),f.animationUtil.invalidate(this.stage.name)}},{key:"invalidate",value:function(){this._boundStageUpdate()}},{key:"setBackground",value:function(e){this._backgroundLayer.addChild(e)}},{key:"setForeground",value:function(e){this._foregroundLayer.addChild(e)}},{key:"setRenderer",value:function(e){this._rendererLayer.addChild(e)}},{key:"setTransition",value:function(e){this.container.addChild(this._transitionLayer),this._transitionLayer.addChild(e),e.content.addChild(this._scene),e.content.addChild(this._backgroundLayer),e.content.addChild(this._rendererLayer),e.content.addChild(this._foregroundLayer)}},{key:"render",value:function(){var e={stage:this._stageName,containers:{foregroundLayer:this._foregroundLayer,backgroundLayer:this._backgroundLayer},parentContainer:this._rendererLayer},t=this.props,n=t.children,r=t.className,i=t.height,o=void 0===i?937:i,a=t.id,s=t.name,u=t.top,c=t.style,f=void 0===c?{}:c,h=t.width,d=void 0===h?1250:h,p=l._.isArray(n)?n:[n],g=l.React.Children.map(l._.compact(p),(function(t){return l.React.cloneElement(t,e)}));return this._scaler.y=-u,l.React.createElement(l.React.Fragment,null,l.React.createElement("div",{id:"accessibility-wrapper"}),l.React.createElement("canvas",{className:r,name:s,ref:this.canvasRef,height:o,width:d,style:f,id:a},g))}},{key:"stage",get:function(){return this._stage}},{key:"container",get:function(){return this._scaler}},{key:"canvas",get:function(){return this.canvasRef.current}},{key:"height",get:function(){return this.props.height}},{key:"width",get:function(){return this.props.width}}]),n}(l.React.Component);t.CanvasLayer=g},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterLayer=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(5)),s=r(n(11)),u=r(n(12)),c=r(n(10)),l=n(0),f=n(270),h=n(45),d=n(60),p=n(70),g=n(7),v=n(211);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var r;(0,i.default)(this,n),(r=t.call(this,e)).getPlory=function(){return r._plory},r.getYoop=function(){return r._yoop},r.getSnargg=function(){return r._snargg},r.getBase=function(){return r._base},r.getNPCs=function(){return[r.getYoop(),r.getSnargg(),r.getPlory()]},r._updateSequenceState=function(){r.setState({characterProperties:l._.cloneDeep(p.sequenceRunner.characterProperties),cacheAnimations:l._.cloneDeep(p.sequenceRunner.cacheAnimations),animations:l._.cloneDeep(p.sequenceRunner.activeCharacterAnimations),characterAudio:l._.cloneDeep(p.sequenceRunner.characterAudio)})},r._processAnimations=function(e){l._.forEach(e,(function(e){var t=r["_".concat(e.target)];if(l._.includes(r.activeAnimationIds,e.animationId))e.looping&&(e.waitForComplete||e.loop||r._complete(t,e));else if(r.activeAnimationIds.push(e.animationId),g.controllerLogger.info("play",e),"animation"===e.type){var n=r._loop.bind((0,o.default)(r)),i=r._cycle.bind((0,o.default)(r)),a=0;t.restorePosition(),t.play(e.action,e.duration),l._.each(t.mouths,(function(e){e.gotoAndStop(0),e.tickEnabled=!1})),t.on("cycle",(function(){i(t,e.animationId,++a)})),t.on("complete",(function(){n(t,e.animationId,++a)}))}else if("tween"===e.type){if(t.restorePosition(),e.init){var s=l._.defaults(l._.cloneDeep(e.init),{rotation:0,scaleX:1,scaleY:1,alpha:1,mask:null});l._.forEach(s,(function(e,n){t[n]=e})),t.savePosition()}var u,c;if(e.to?(u=l.TweenLite.to,c=e.to):e.from&&(u=l.TweenLite.from,c=e.from),u&&c){var h=!l._.isBoolean(e.useFrames)||e.useFrames;t.tweening=!0,u(t,e.duration,l._.merge({useFrames:h,onUpdate:t.invalidate,onComplete:function(){t.tweening=!1,t.savePosition(),e.complete()},delay:e.delay,ease:e.easing||"Sine.easeInOut"},c))}}else if("hide"===e.type)r._hideNPCs(),e.complete();else if("wait"===e.type){var d=!l._.isBoolean(e.useFrames)||e.useFrames;l.TweenLite.to({},e.duration,{useFrames:d,onComplete:e.complete})}else if("effect"===e.type){var p=l._.merge({},e.config,{onUpdate:t.invalidate,onComplete:e.complete,element:t,duration:e.duration?e.duration/1e3:1,bounds:t.getTransformedBounds()||t.getBounds()||t.nominalBounds});f.fx[e.effect](p)}}))},r._updateCharacterProperties=function(e){r._plory.parent&&r._plory.parent.removeChild(r._plory),r["_".concat(e.plory.layer)].addChild(r._plory),r._yoop.parent&&r._yoop.parent.removeChild(r._yoop),r["_".concat(e.yoop.layer)].addChild(r._yoop),r._snargg.parent&&r._snargg.parent.removeChild(r._snargg),r["_".concat(e.snargg.layer)].addChild(r._snargg),r._plory.saveParent(),r._yoop.saveParent(),r._snargg.saveParent(),r._plory.invalidate=h.animationUtil.invalidate.bind(h.animationUtil,r._plory.stage.name),r._yoop.invalidate=h.animationUtil.invalidate.bind(h.animationUtil,r._yoop.stage.name),r._snargg.invalidate=h.animationUtil.invalidate.bind(h.animationUtil,r._snargg.stage.name),r._plory.invalidate(),r._yoop.invalidate(),r._snargg.invalidate()};var a=r.props.containers,s=a.foregroundLayer,u=a.backgroundLayer;return r.activeAnimationIds=[],r._fg=s,r._mg=s,r._bg=u,r._base=u,r._fg.name="fg",r._bg.name="bg",r._yoop=new v.Character("Yoop"),r._plory=new v.Character("Plory"),r._snargg=new v.Character("Snargg"),r.state={},r._listen(),r}return(0,a.default)(n,null,[{key:"propTypes",get:function(){return{children:l.PropTypes.oneOfType([l.PropTypes.array,l.PropTypes.element,l.PropTypes.object]),containers:l.PropTypes.shape({foregroundLayer:l.PropTypes.shape({addChild:l.PropTypes.func}),backgroundLayer:l.PropTypes.shape({addChild:l.PropTypes.func})}),parentContainer:l.PropTypes.shape({addChild:l.PropTypes.func}),activityId:l.PropTypes.string,playIntro:l.PropTypes.bool,stage:l.PropTypes.string}}}]),(0,a.default)(n,[{key:"componentDidMount",value:function(){this._hideNPCs(),this._updateSequenceState()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.activityId,i=n.playIntro,o=this.state,a=o.characterProperties,s=o.cacheAnimations,u=o.animations,c=o.characterAudio;(e.activityId!==r||e.playIntro&&!i)&&(this._plory&&this._plory.reset(),this._yoop&&this._yoop.reset(),this._snargg&&this._snargg.reset()),t.characterProperties!==a&&this._updateCharacterProperties(a),t.cacheAnimations!==s&&this._cacheAnimations(s),t.animations!==u&&this._processAnimations(u),l._.isEqual(t.characterAudio,c)||this._updateCharacterAudio(c)}},{key:"componentWillUnmount",value:function(){this._unlisten(),this.cleanup(),h.animationUtil.off("tick",this._onTick),this._fg.removeAllChildren(),this._mg.removeAllChildren(),this._bg.removeAllChildren(),this._base.removeAllChildren()}},{key:"cleanup",value:function(){try{this._hideNPCs()}catch(e){}l._.forEach([this._yoop,this._plory,this._snargg],(function(e){h.animationUtil.off("tick",e._onTick);try{e.reset(),d.canvasUtil.recursivelyCleanDisplayObjects(e)}catch(e){}}))}},{key:"_listen",value:function(){p.sequenceRunner.on("change",this._updateSequenceState)}},{key:"_unlisten",value:function(){p.sequenceRunner.off("change",this._updateSequenceState)}},{key:"_hideNPCs",value:function(){l._.forEach([this._yoop,this._plory,this._snargg],(function(e){e.x=-1e3,e.removeAllEventListeners("cycle"),e.removeAllEventListeners("complete"),e.stop(),e.invalidate()}))}},{key:"_cacheAnimations",value:function(e){var t=this;l._.forEach(e,(function(e){t["_".concat(e.target)].cache(e.action)}))}},{key:"_complete",value:function(e,t){g.controllerLogger.info("complete",t),l._.pull(this.activeAnimationIds,t.animationId),e.removeAllEventListeners("cycle"),e.removeAllEventListeners("complete"),e.stop(),e.savePosition(),t.complete()}},{key:"_cycle",value:function(e,t,n){var r=this.state.animations,i=l._.find(r,{animationId:t});g.controllerLogger.info("cycle",i,n),(n<(i.loops||1)||i.loop)&&e.cycle()}},{key:"_loop",value:function(e,t,n){var r=this.state.animations,i=l._.find(r,{animationId:t});g.controllerLogger.info("loop",i,n),n>=(i.loops||1)&&!i.loop?this._complete(e,i):e.play(i.action)}},{key:"_updateCharacterAudio",value:function(e){this._yoop.audioId=e.yoop.currentAudioId,this._plory.audioId=e.plory.currentAudioId,this._snargg.audioId=e.snargg.currentAudioId}},{key:"render",value:function(){try{var e=this.props,t=e.children,n=e.containers.backgroundLayer,r=e.parentContainer,i=e.stage,o=l.React.Children.map(t,(function(e){var t={backgroundContainer:n,parentContainer:r,stage:i};return l.React.cloneElement(e,t)}));return l.React.createElement("div",null,o)}catch(e){g.controllerLogger.error(e)}return null}}]),n}(l.React.Component);t.CharacterLayer=y},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLTextControllerView=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(0),l=n(8),f=n(68),h=n(14),d=n(52);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,a.default)(n,e);var t=p(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).state={contentVisible:!1,enableWords:!1,activeHTML:[]},r.container=c.React.createRef(),r}return(0,o.default)(n,null,[{key:"propTypes",get:function(){return{}}}]),(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=l.store.subscribe((function(){var t=(0,d.getReadTextState)(l.store.getState()),n={contentVisible:t.contentVisible,enableWords:t.enableWords,activeHTML:t.activeHTML},r=e.state;c._.isEqual(n,r)||e.setState(n)}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=c._.map(this.htmlTexts,(function(e){return e.id})).join("-"),t={__html:c._.reduce(this.htmlTexts,(function(e,t){return e.concat(t.getElement().outerHTML)}),"")},n=this.state,r=n.contentVisible,i=n.enableWords,o=(0,c.classNames)({hidden:!r,enabled:i});return c.React.createElement("div",null,c.React.createElement("div",{id:"htmlTexts",className:o,ref:this.container,key:e,dangerouslySetInnerHTML:t}))}},{key:"htmlTexts",get:function(){return!c._.isUndefined((0,h.getCurrentScreen)(l.store.getState()).shared)?(0,d.getReadTextState)(l.store.getState()).activeHTML:(0,d.getHTMLTextState)(l.store.getState()).activeHTML}}]),n}(f.BaseControllerView);t.HTMLTextControllerView=g},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayLayout=void 0;var i=r(n(4)),o=r(n(5)),a=n(35),s=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r=n.rows,i=void 0===r?2:r,o=n.columns,s=void 0===o?5:o,u=n.array,c=void 0===u?[]:u,l=n.padding,f=n.yOffset,h=void 0===f?0:f,d=n.xOffset,p=void 0===d?0:d;a.assertUtil.isNumberGreaterThan("ArrayLayout","draw","rows",i,0),a.assertUtil.isNumberGreaterThan("ArrayLayout","draw","columns",s,0),a.assertUtil.isArray("ArrayLayout","draw","array",c);var g=t.getTransformedBounds(),v=g.width,m=g.height,y=0,_=0,b=0,A=0;if(0===c.length){s=e.length<s?e.length:s,i=Math.ceil(e.length/s);var w,E=0;do{for(c.push(w=[]);w.length<s;)w.push(E++<e.length?1:0)}while(c.length<i)}else i=c.length,s=c[0].length;if(l){var x=e[0].getTransformedBounds();_=x.width+l,y=x.height+l,b=(v-_*s)/2+p,A=(m-y*i)/2+h}else _=v/s,y=m/i,v,m;var T=0;c.forEach((function(t,n){a.assertUtil.isNumberEqualTo("ArrayLayout","draw","row.length",t.length,s),t.forEach((function(t,r){if(1===t){var i=e[T++];if(i){var o=i.getTransformedBounds();i.set({x:r*_+b+(_-o.width)/2,y:n*y+A+(y-o.height)/2})}}}))}));a.assertUtil.isNumberNotGreaterThan("ArrayLayout","draw","childN",e.length,T)}}]),e}();t.ArrayLayout=s},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.OvalLayout=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(15)),s=n(285),u=function(){function e(t,n,r){var o=r.radiusX,a=r.radiusY;r.segmentDivisions;(0,i.default)(this,e),this.group=t,this.container=n,this.radiusX=Math.round(o),this.radiusY=Math.round(a),this.containerBounds=this.container.getBounds(),this._calcEllipse(this.radiusX,this.radiusY)}return(0,o.default)(e,[{key:"layout",value:function(){this.group.length>0&&this._layoutObjectsAlongEllipse(this.group)}},{key:"_calcEllipse",value:function(e,t){this.f=function(n){return Math.sqrt(Math.pow(t,2)-Math.pow(n,2)*Math.pow(t,2)/Math.pow(e,2))},this.interval={a:-e,b:e},this._pointSet=[];for(var n={x:0,y:-this.f(0),dist:0},r=1;r<=this.interval.b;r+=1){var i={x:r,y:-this.f(r)},o=i.y-n.y;i.dist=n.dist+Math.sqrt(1+o*o),this._pointSet.push(i),n=i}for(var a=this.interval.b;a>=this.interval.a;a-=1){var s={x:a,y:this.f(a)},u=s.y-n.y;s.dist=n.dist+Math.sqrt(1+u*u),this._pointSet.push(s),n=s}for(var c=this.interval.a;c<0;c+=1){var l={x:c,y:-this.f(c)},f=l.y-n.y;l.dist=n.dist+Math.sqrt(1+f*f),this._pointSet.push(l),n=l}var h=this._pointSet[this._pointSet.length-1],d=this._pointSet[0].x-h.x,p=this._pointSet[0].y-h.y;this._pointSet[0].dist=h.dist+Math.sqrt(d*d+p*p)}},{key:"_layoutObjectsAlongEllipse",value:function(e){var t=this,n=this._pointSet[0].dist/e.length;this._pointSet[0].dist=0;var r=this.containerBounds.width/2,i=this.containerBounds.height/2,o=0;a.default.forEach(e,(function(e,a){for(var s=a*n;o<t._pointSet.length&&t._pointSet[o].dist<s;o++);var u=e.getTransformedBounds();e.x=t._pointSet[o].x+r-u.width/2,e.y=t._pointSet[o].y+i-u.height/2}))}}]),e}(),c=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r=n.radiusX,i=n.radiusY,o=n.segmentDivisions,a=t.getTransformedBounds(),c=0,l=0;e.forEach((function(e){var t=e.getTransformedBounds();t.width>c&&(c=t.width),t.height>l&&(l=t.height)}));var f=(a.width-c)/2,h=(a.height-l)/2;((!r||r>f)&&(r=f),(!i||i>h)&&(i=h),r===i)?s.CircularLayout.draw(e,t,{radius:r}):new u(e,t,{radiusX:r,radiusY:i,segmentDivisions:o}).layout()}}]),e}();t.OvalLayout=c},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LinearHorizontalLayout=void 0;var i=r(n(4)),o=r(n(5)),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r=n.padding,i=t.getTransformedBounds(),o=e.reduce((function(e,t){return e+t.getTransformedBounds().width}),0),a=r||(i.width-o)/(e.length+1),s=i.width-(o+a*(e.length-1)),u=r?s/2-a:0;e.forEach((function(e){var t=e.getTransformedBounds(),n=(i.height-t.height)/2+e.regY;u+=a,e.set({x:u,y:n}),u+=t.width}))}}]),e}();t.LinearHorizontalLayout=a},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ScatteredLayout=void 0;var i=r(n(4)),o=r(n(5)),a=n(158),s=n(35),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"draw",value:function(e,t,n){var r=n.padding,i=void 0===r?2:r,o=n.paddingX,s=void 0===o?i:o,u=n.paddingY,c=void 0===u?i:u,l=n.cellXPadPercent,f=void 0===l?.8:l,h=n.cellYPadPercent,d=void 0===h?.8:h,p=n.debug,g=void 0!==p&&p,v={};if(v.group=e,v.container=t,v.paddingX=s,v.paddingY=c,v.cellXPadPercent=f,v.cellYPadPercent=d,v.count=e.length,this._validateArguments(v),0!==v.count){var m=a.sizingUtil.findLargestItemByBoundsArea(e);v.maxBounds=a.sizingUtil.trueSizeOf(m),v.containerBounds=a.sizingUtil.trueSizeOf(t),v.gridData=this._getBestFitGrid(v),v.cellBounds=this._calculateCellBounds(v),v.grid=this._assembleGrid(v),g&&this._debug(v),this._layout(v)}else console.warn("The group array was empty. Returning early.")}},{key:"_validateArguments",value:function(e){var t=e.paddingX,n=e.paddingY,r=e.cellXPadPercent,i=e.cellYPadPercent,o=this.constructor.name,a="_validateArguments";s.assertUtil.isNumberGreaterEqualTo(o,a,"paddingX",t,0),s.assertUtil.isNumberGreaterEqualTo(o,a,"paddingY",n,0),s.assertUtil.isNumberGreaterThan(o,a,"cellXPadPercent",r,0),s.assertUtil.isNumberGreaterThan(o,a,"cellYPadPercent",i,0),s.assertUtil.isNumberNotGreaterThan(o,a,"cellXPadPercent",r,1),s.assertUtil.isNumberNotGreaterThan(o,a,"cellYPadPercent",i,1)}},{key:"_calculateCellBounds",value:function(e){var t=e.containerBounds,n=e.paddingX,r=e.paddingY,i=e.gridData,o=i.rows,a=i.columns;return{width:(t.width-n*(a-1))/a,height:(t.height-r*(o-1))/o}}},{key:"_getBestFitGrid",value:function(e){for(var t=e.containerBounds,n=e.maxBounds,r=e.paddingX,i=e.paddingY,o=e.cellXPadPercent,a=e.cellYPadPercent,s=e.count,u=n.width/o,c=n.height/a,l=c,f=1;(l+=c+i)<=t.height;)f++;for(var h=u,d=1;(h+=u+r)<=t.width;)d++;if(s>f*d)throw new Error("Cannot create a grid for the specified number of objects: ".concat(s,". ")+"Try reducing the padding or increasing the cell percentages.");return{rows:f,columns:d}}},{key:"_debug",value:function(e){var t=e.paddingX,n=e.paddingY,r=e.grid,i=e.gridData,o=e.containerBounds,a=e.container,s=e.cellBounds,u=i.rows,c=i.columns,l=o.width,f=o.height,h=s.width,d=s.height,p=new createjs.Container;p.setBounds(l,f);for(var g=0;g<c-1;g++){var v=(new createjs.Graphics).f("#FF0000").dr(0,0,t,o.height),m=new createjs.Shape(v);p.addChild(m);var y=h*(g+1)+t*g;m.set({x:y,alpha:.5})}for(var _=0;_<u-1;_++){var b=(new createjs.Graphics).f("#FF0000").dr(0,0,o.width,n),A=new createjs.Shape(b);p.addChild(A);var w=d*(_+1)+n*_;A.set({y:w,alpha:.5})}for(var E=0;E<u;E++)for(var x=0;x<c;x++){var T=(new createjs.Graphics).f("#FFF500").dr(0,0,h,d),S=new createjs.Shape(T);p.addChild(S),S.set({x:r[E][x].x,y:r[E][x].y,alpha:.5})}a.addChild(p)}},{key:"_assembleGrid",value:function(e){for(var t=e.gridData,n=e.paddingX,r=e.paddingY,i=e.cellBounds,o=[],a=t.rows,s=t.columns,u=i.width,c=i.height,l=0;l<a;l++){o.push([]);for(var f=0;f<s;f++)o[l].push({x:(u+n)*f,y:(c+r)*l})}return o}},{key:"_layout",value:function(e){for(var t=e.count,n=e.group,r=e.grid,i=e.cellBounds,o=e.maxBounds,a=i.width-o.width,s=i.height-o.height,u=[],c=0;c<r.length;c++)u=u.concat(r[c]);for(var l=0;l<t;l++){var f=window.SELENIUM_RUNNING,h=f?l:Math.floor(Math.random()*u.length),d=f?0:Math.floor(Math.random()*(a+1)),p=f?0:Math.floor(Math.random()*(s+1)),g=u[h];n[l].set({x:g.x+d,y:g.y+p}),!f&&u.splice(h,1)}}}]),e}();t.ScatteredLayout=u},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Sequencer=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(11)),s=r(n(12)),u=r(n(10)),c=n(185),l=n(35),f=n(182),h=n(16);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var p=function(e){(0,a.default)(n,e);var t=d(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this)).api=e,r}return(0,o.default)(n,[{key:"showHelpButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.help.visible=!0}))}},{key:"hideHelpButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.help.visible=!1}))}},{key:"enableHelp",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.execute((function(){c.rendererUtil.enableHelp(e.api,t)}))}},{key:"disableHelp",value:function(){var e=this;return this.execute((function(){e.api.navigation.help.enabled=!1}))}},{key:"showDoneButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.done.visible=!0}))}},{key:"hideDoneButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.done.visible=!1}))}},{key:"enableDoneButton",value:function(e){var t=this;return this.execute((function(){var n=t.api.navigation.done;n.enabled=!0,e&&!n.visible&&(n.visible=!0)}))}},{key:"disableDoneButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.done.enabled=!1}))}},{key:"showCustomButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.customButton.visible=!0}))}},{key:"hideCustomButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.customButton.visible=!1}))}},{key:"enableCustomButton",value:function(e){var t=this;return this.execute((function(){var n=t.api.navigation.customButton;n.enabled=!0,e&&!n.visible&&(n.visible=!0)}))}},{key:"disableCustomButton",value:function(){var e=this;return this.execute((function(){e.api.navigation.customButton.enabled=!1}))}},{key:"executeAndWait",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0===t.userInteraction?this._pushAndReturn({type:"executeAndWait",method:e,args:[t]}):this.animateDisplay(e,t)}},{key:"wait",value:function(e){return h.environmentUtil.warn("seq.wait is deprecated. Use seq.waitSeconds instead."),this._pushAndReturn({type:"delay",duration:e})}},{key:"waitSeconds",value:function(e){return this._pushAndReturn({type:"delay",duration:e})}},{key:"waitFrames",value:function(){throw new Error("Use seq.waitSeconds instead!")}},{key:"completeScreen",value:function(e){var t=this,n=this.constructor.name;return l.assertUtil.isNotNull(n,"completeScreen","result",e),l.assertUtil.isNumberGreaterEqualTo(n,"completeScreen","result.max",e.max,0),l.assertUtil.isNumberGreaterEqualTo(n,"completeScreen","result.raw",e.raw,0),this.execute((function(){t.onCompleteScreen&&t.onCompleteScreen(),t.api.screen.complete(e)}))}},{key:"finish",value:function(e){var t=this;return this.execute((function(){t.onFinish&&t.onFinish(),t.api.screen.enableNext(e)}))}},{key:"enableUI",value:function(){throw new Error("enableUI must be implemented")}},{key:"disableUI",value:function(){throw new Error("disableUI must be implemented")}}]),n}(f.Sequencer);t.Sequencer=p},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CanvasBaseRenderer=void 0;var i=r(n(4)),o=r(n(24)),a=r(n(28)),s=r(n(5)),u=r(n(11)),c=r(n(12)),l=r(n(10)),f=n(0),h=n(286),d=n(128),p=n(6),g=n(44),v=n(7);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=m(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).registerTextWidget=function(e){r.canvasModule.registerTextWidget(e)},r.canvasModule=new d.CanvasModule,r.registerAsCallableMechanismTarget((0,o.default)(r)),r}return(0,s.default)(n,[{key:"listen",value:function(){}},{key:"unlisten",value:function(){}}],[{key:"propTypes",get:function(){return{updateCanvas:f.PropTypes.func,addTimelineAnimation:f.PropTypes.func,removeTimelineAnimation:f.PropTypes.func,transition:f.PropTypes.func,screen:f.PropTypes.shape,images:f.PropTypes.shape,videos:f.PropTypes.shape,animations:f.PropTypes.shape,initialState:f.PropTypes.shape,getPlory:f.PropTypes.func,getYoop:f.PropTypes.func,getSnargg:f.PropTypes.func,getBackgroundContainer:f.PropTypes.func}}},{key:"defaultProps",get:function(){return{}}}]),(0,s.default)(n,[{key:"componentDidMount",value:function(){(0,a.default)((0,l.default)(n.prototype),"componentDidMount",this).call(this),this.canvasModule.setup(this.props.getBackgroundContainer().name),this.setupScreen(this.props,this.state),this.props.getBackgroundContainer().addChild(this.getBackground()),this.listen(this.props,this.state),g.automationUtil.resetAudioHistory()}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t&&(this.canvasModule.update(t),this.updateScreen(t)),!1}},{key:"componentWillUnmount",value:function(){this.canvasModule.unmount(),this.unlisten()}},{key:"cache",value:function(e){return this.canvasModule.cache(e)}},{key:"createAudioBtn",value:function(e){return this.canvasModule.createAudioBtn(e)}},{key:"createBitmap",value:function(e){var t=e.id,n=e.type;if("image"!==n)throw new Error("Cannot create bitmap from asset type ".concat(n,"."));return this.canvasModule.createBitmap(this.props.images[t].getElement())}},{key:"registerAssetDisplay",value:function(e){this.canvasModule.registerAssetDisplay(e)}},{key:"addChildren",value:function(e){this.canvasModule.addChildren(e)}},{key:"draw",value:function(){this.canvasModule.draw()}},{key:"monitor",value:function(e){this.canvasModule.monitor(e)}},{key:"onHelpStop",value:function(e,t){this.canvasModule.onHelpStop(e,t)}},{key:"onContainerAdded",value:function(){}},{key:"onContainerRemoved",value:function(){}},{key:"setupScreen",value:function(e,t){v.rendererLogger.error("CanvasBaseDisplay.setupScreen is abstract",e)}},{key:"updateScreen",value:function(e){v.rendererLogger.error("CanvasBaseDisplay.updateScreen is abstract",e)}},{key:"getBackground",value:function(){v.rendererLogger.error("CanvasBaseDisplay.getBackground is abstract")}},{key:"assetId",get:function(){return this._assetId}},{key:"hasConsole",get:function(){return!1}},{key:"WIDTH",get:function(){return p.SCREEN.WIDTH}},{key:"HEIGHT",get:function(){return p.SCREEN.HEIGHT}}]),n}(h.BaseRenderer);t.CanvasBaseRenderer=y;var _=y;t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.legacyAltActions=t.legacyAltStores=void 0;var r=n(96),i={navigationStore:{getAllSteps:function(){return r.playerApi.navigation.getAllSteps()},getDoneState:function(){return r.playerApi.navigation.done},getHelpState:function(){return r.playerApi.navigation.help},isMenuButtonShown:function(){return r.playerApi.navigation.isMenuButtonShown()},getStep:function(e){return r.playerApi.navigation.getStep(e)},isCurrentFinished:function(){return r.playerApi.navigation.isCurrentFinished()},getCurrentStep:function(){return r.playerApi.navigation.getCurrentStep()},isLastActiveStep:function(){return r.playerApi.navigation.isLastActiveStep()},isPaused:function(){return r.playerApi.navigation.isPaused()},getPreviousStep:function(){return r.playerApi.navigation.getPreviousStep()},getNextStep:function(){return r.playerApi.navigation.getNextStep()},isFinalStep:function(){return r.playerApi.navigation.isFinalStep()},hasCompleted:function(e){return r.playerApi.navigation.hasCompleted(e)},isCurrentScreenFirstItem:function(){return r.playerApi.navigation.isCurrentScreenFirstItem()}},readTextStore:{listen:function(e){return r.playerApi.readText.listen(e)},getCurrentPage:function(){return r.playerApi.readText.getCurrentPage()},isContentVisible:function(){return r.playerApi.readText.isContentVisible()},getContent:function(){return r.playerApi.readText.getContent()}},screenStore:{getCurrentScreen:function(){return r.playerApi.screen.getCurrentScreen()}}};t.legacyAltStores=i;var o={screenActions:{enableLessonControls:function(){return r.playerApi.screen.enableLessonControls()},disableLessonControls:function(){return r.playerApi.screen.disableLessonControls()}},navigationActions:{jumpToScreen:function(e){return r.playerApi.navigation.goto(e)},setShowMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.playerApi.navigation.setShowMenu(e)},setClassName:function(e){return r.playerApi.navigation.setClassName(e)},startProgress:function(){return r.playerApi.screen.inProgress()},setHelpEnabled:function(e){return r.playerApi.navigation.help.enabled=e},setDoneEnabled:function(e){return r.playerApi.navigation.done.enabled=e}},readTextActions:{toggleContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.playerApi.readText.toggleContent(e)}}};t.legacyAltActions=o},function(e,t){var n;"function"!=typeof(n=window.Element.prototype).matches&&(n.matches=n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof n.closest&&(n.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.MAPPING=void 0;var i=r(n(23));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={};/j5Running=1/.test(document.location.search)&&(s.lesson={transform:function(e){return delete e.adaptivity_decision_points,e.navigation=e.navigation.map((function(e){return a(a({},e),{},{screens:e.screens.filter((function(e){return!("decision_point_id"in e)}))})})),e}});var u=a({},s);t.MAPPING=u},function(e,t,n){var r={"./ab_t1_s1/index":[732,0,15],"./go_t1_s1/index":[734,0,12],"./go_t2_s1/index":[736,0,7],"./go_t5_s1/index":[738,0,5],"./mc_t22_s1/index":[740,0,10],"./mc_t25_s1/index":[742,0,8],"./mt_t1_s1/index":[744,0,11],"./mt_t2_s1/index":[746,0,9],"./rc_ffw_t1_s1/index":[748,0,13],"./rc_ffw_t1_s2/index":[750,0,14],"./sm_t1_s1/index":[752,0,6],"./sr_t1_s1/index":[754,0,16],"./tp_t1_s1/index":[757,0,4]};function i(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then((function(){var e=t[0];return n.t(e,7)})):Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return Object.keys(r)},i.id=646,e.exports=i},function(e,t,n){var r={"./RCLearningComponent":[314,1],"./RCLearningComponent.js":[314,1]};function i(e){var t=r[e];return t?n.e(t[1]).then((function(){var e=t[0];return n.t(e,7)})):Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return Object.keys(r)},i.id=647,e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendAudio=function(){return r.GlobalAudio.extend({RCT_IMAGE_ZOOM:"G3_5_EQUATION_APPEAR",RCT_AC_APPEAR:"G3_5_SUBTLE_ASCENDING_POPS",RCT_AC_CLICK_1:"G3_5_AC_CLICK_1",RCT_AC_DRAWER_IN:"G3_5_AC_DROP",RCT_AC_PLACE_INBOX:"G3_5_POP_ON",RCT_AC_SELECT:"CLICK",RCT_AC_SETUP:"G3_5_AC_SETUP_FROG",RCT_ACCOLADE1:"G3_5_ACCOLADE_1",RCT_ACCOLADE2:"G3_5_ACCOLADE_2",RCT_ACCOLADE3:"G3_5_ACCOLADE_3",RCT_ACCOLADE4:"G3_5_ACCOLADE_4",RCT_ACCOLADE5:"G3_5_ACCOLADE_5",RCT_ACCOLADE6:"G3_5_ACCOLADE_6",RCT_ACTIVITY_COMPLETE:"SWISH_QUICK",RCT_AV_OPEN:"G3_5_AVMODALOPEN",RCT_CLICK:"G3_5_CLICK",RCT_CLUE:"G3_5_AC_CLUECARD",RCT_CLUE_CHANGLING:"G3_5_AC_CHANGEFLING",RCT_CLUE_CLOSE:"G3_5_SLIDER_DISAPPEARS_1",RCT_CLUE_FLIP:"G3_5_CLUECARD_FLIP",RCT_CLUE_OPEN:"G3_5_SLIDE_SHORT_1",RCT_CORRECT:"G3_5_CORRECT",RCT_COVER_PAGE_TURN:"PAGE_TURN",RCT_COVER_UNLOCK_APPEAR:"CHIME_MALLETS",RCT_GO_APPEAR:"G3_5_EQUATION_APPEAR",RCT_IF_CORRECT:"CLICK",RCT_IF_INCORRECT:"G3_5_INACTIVETEXT",RCT_INCORRECT:"G3_5_INCORRECT",RCT_MAZE_OPEN:"G3_5_MAZE_DROP_OPEN",RCT_PANEL90_CLOSE:"G3_5_PANELCOLLAPSE",RCT_PANEL90_OPEN:"G3_5_PANELEXPAND",RCT_SLOWDOWN:"G3_5_SLOWDOWN",RCT_SWISH1:"G3_5_MOVEMENTONOFF_SWISH01",RCT_SWISH2:"G3_5_MOVEMENTONOFF_SWISH02",RCT_UNDO_BUTTON:"G3_5_ACSWAP",G3_5_SLIDER_DISAPPEARS_2:"G3_5_SLIDER_DISAPPEARS_2",G3_5_GO_IN01_ALT1:"G3_5_GO_IN01_ALT1",G3_5_GO_IN02_ALT1:"G3_5_GO_IN02_ALT1"})},t.waitForFonts=function(){var e=[{cssText:"font-family: Muli; font-size: 15px;",expectedWidth:106},{cssText:"font-family: Muli; font-size: 15px; font-weight: bold;",expectedWidth:110},{cssText:'font-family: "Muli-Bold-700"; font-size: 15px; font-weight: bold;',expectedWidth:109},{cssText:"font-family: Unna; font-size: 15px;",expectedWidth:91},{cssText:"font-family: Unna; font-size: 15px; font-weight: bold;",expectedWidth:94},{cssText:"font-family: Unna; font-size: 15px; font-style: italic;",expectedWidth:86},{cssText:"font-family: Unna; font-size: 15px; font-weight: bold; font-style: italic;",expectedWidth:91},{cssText:"font-family: open-sans; font-size: 15px; font-weight: 700;",expectedWidth:113}];return o.each(e,(function(e){var t=document.createElement("span");t.setAttribute("aria-hidden","true"),t.style.cssText="".concat(e.cssText," position: absolute; top: 0; left: 0; color: transparent;"),t.innerHTML="Hamburgevons",document.body.insertBefore(t,document.body.firstChild),e.span=t})),new Promise((function(t){var n=(new Date).getTime(),r=setInterval((function(){o.each(e,(function(e){e.ready||e.span.offsetWidth>=e.expectedWidth-1&&e.span.offsetWidth<=e.expectedWidth+1&&(e.span.remove(),e.ready=!0)}));var i=((new Date).getTime()-n)/1e3;(o.every(e,(function(e){return!0===e.ready}))||i>10)&&(clearInterval(r),t())}),10)}))};var r=n(122),i=r.SHARED_DEPENDENCIES.is,o=r.SHARED_DEPENDENCIES._;i.ipad(13)&&document.body.setAttribute("data-ipad-ios13",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){switch(t.info.grade){case"Grade K":case"Grade 1":case"Grade 2":e.teacherModeScreens=[{label:"Instruction: Intro",section:0,activity:0,item:0},{label:"Instruction: Activity",section:0,activity:0,item:1},{label:"Instruction: Pre-Activity",section:0,activity:1,item:0},{label:"Instruction: Activity",section:0,activity:1,item:1},{label:"Instruction: Activity",section:0,activity:1,item:2},{label:"Instruction: Activity",section:0,activity:1,item:3},{label:"Instruction: Activity",section:0,activity:1,item:4},{label:"Instruction: Activity",section:0,activity:1,item:5},{label:"Instruction: Activity",section:0,activity:1,item:6},{label:"Instruction: Activity",section:0,activity:1,item:7},{label:"Instruction: Activity",section:0,activity:1,item:8},{label:"Instruction: Activity",section:0,activity:1,item:9},{label:"Instruction: Activity",section:0,activity:1,item:10},{label:"Instruction: Activity",section:0,activity:2,item:0},{label:"Instruction: Activity",section:0,activity:2,item:1},{label:"Instruction: Activity",section:0,activity:2,item:2},{label:"Instruction: Activity",section:0,activity:2,item:3},{label:"Instruction: Activity",section:0,activity:2,item:4},{label:"Instruction: Activity",section:0,activity:2,item:5},{label:"Instruction: Activity",section:0,activity:2,item:6},{label:"Instruction: Activity",section:0,activity:2,item:7},{label:"Instruction: Activity",section:0,activity:2,item:8},{label:"Instruction: Activity",section:0,activity:2,item:9},{label:"Instruction: Activity",section:0,activity:2,item:10},{label:"Instruction: Activity",section:0,activity:3,item:0},{label:"Instruction: Activity",section:0,activity:3,item:1},{label:"Instruction: Activity",section:0,activity:3,item:2},{label:"Instruction: Activity",section:0,activity:3,item:3},{label:"Instruction: Activity",section:0,activity:3,item:4},{label:"Instruction: Activity",section:0,activity:3,item:5},{label:"Instruction: Activity",section:0,activity:3,item:6},{label:"Instruction: Activity",section:0,activity:3,item:7},{label:"Instruction: Activity",section:0,activity:3,item:8},{label:"Instruction: Activity",section:0,activity:3,item:9},{label:"Instruction: Activity",section:0,activity:3,item:10},{label:"Instruction: Activity",section:0,activity:4,item:0},{label:"Instruction: Activity",section:0,activity:4,item:1},{label:"Instruction: Activity",section:0,activity:4,item:2},{label:"Instruction: Activity",section:0,activity:4,item:3},{label:"Instruction: Activity",section:0,activity:4,item:4},{label:"Instruction: Activity",section:0,activity:4,item:5},{label:"Instruction: Activity",section:0,activity:4,item:6},{label:"Instruction: Activity",section:0,activity:4,item:7},{label:"Instruction: Activity",section:0,activity:4,item:8},{label:"Instruction: Activity",section:0,activity:4,item:9},{label:"Instruction: Activity",section:0,activity:4,item:10},{label:"Instruction: Activity",section:0,activity:5,item:0},{label:"Instruction: Activity",section:0,activity:5,item:1},{label:"Instruction: Activity",section:0,activity:5,item:2},{label:"Instruction: Activity",section:0,activity:5,item:3},{label:"Instruction: Activity",section:0,activity:5,item:4},{label:"Instruction: Activity",section:0,activity:5,item:5},{label:"Instruction: Activity",section:0,activity:5,item:6},{label:"Instruction: Activity",section:0,activity:5,item:7},{label:"Instruction: Activity",section:0,activity:5,item:8},{label:"Instruction: Activity",section:0,activity:5,item:9},{label:"Instruction: Activity",section:0,activity:5,item:10},{label:"Instruction: Activity",section:0,activity:6,item:0},{label:"Instruction: Activity",section:0,activity:6,item:1},{label:"Instruction: Activity",section:0,activity:6,item:2},{label:"Instruction: Activity",section:0,activity:6,item:3},{label:"Instruction: Activity",section:0,activity:6,item:4},{label:"Instruction: Activity",section:0,activity:6,item:5},{label:"Instruction: Activity",section:0,activity:6,item:6},{label:"Instruction: Activity",section:0,activity:6,item:7},{label:"Instruction: Activity",section:0,activity:6,item:8},{label:"Instruction: Activity",section:0,activity:6,item:9},{label:"Instruction: Activity",section:0,activity:6,item:10},{label:"Instruction: Activity",section:0,activity:7,item:0},{label:"Instruction: Activity",section:0,activity:7,item:1},{label:"Instruction: Activity",section:0,activity:7,item:2},{label:"Instruction: Activity",section:0,activity:7,item:3},{label:"Instruction: Activity",section:0,activity:7,item:4},{label:"Instruction: Activity",section:0,activity:7,item:5},{label:"Instruction: Activity",section:0,activity:7,item:6},{label:"Instruction: Activity",section:0,activity:7,item:7},{label:"Instruction: Activity",section:0,activity:7,item:8},{label:"Instruction: Activity",section:0,activity:7,item:9},{label:"Instruction: Activity",section:0,activity:7,item:10},{label:"Instruction: Activity",section:0,activity:8,item:0},{label:"Instruction: Activity",section:0,activity:8,item:1},{label:"Quiz: Intro",section:2,activity:0,item:0},{label:"Quiz: Activity",section:2,activity:0,item:1},{label:"Quiz: Pre-Activity",section:2,activity:1,item:0},{label:"Quiz: Activity",section:2,activity:1,item:1},{label:"Quiz: Activity",section:2,activity:1,item:2},{label:"Quiz: Activity",section:2,activity:1,item:3},{label:"Quiz: Activity",section:2,activity:1,item:4},{label:"Quiz: Activity",section:2,activity:1,item:5},{label:"Quiz: Activity",section:2,activity:1,item:6},{label:"Quiz: Activity",section:2,activity:1,item:7},{label:"Quiz: Activity",section:2,activity:1,item:8},{label:"Quiz: Activity",section:2,activity:1,item:9},{label:"Quiz: Activity",section:2,activity:1,item:10},{label:"Quiz: Activity",section:2,activity:2,item:0},{label:"Quiz: Activity",section:2,activity:2,item:1},{label:"Quiz: Activity",section:2,activity:2,item:2},{label:"Quiz: Activity",section:2,activity:2,item:3},{label:"Quiz: Activity",section:2,activity:2,item:4},{label:"Quiz: Activity",section:2,activity:2,item:5},{label:"Quiz: Activity",section:2,activity:2,item:6},{label:"Quiz: Activity",section:2,activity:2,item:7},{label:"Quiz: Activity",section:2,activity:2,item:8},{label:"Quiz: Activity",section:2,activity:2,item:9},{label:"Quiz: Activity",section:2,activity:2,item:10},{label:"Quiz: Activity",section:2,activity:3,item:0},{label:"Quiz: Activity",section:2,activity:3,item:1},{label:"Quiz: Activity",section:2,activity:3,item:2},{label:"Quiz: Activity",section:2,activity:3,item:3},{label:"Quiz: Activity",section:2,activity:3,item:4},{label:"Quiz: Activity",section:2,activity:3,item:5},{label:"Quiz: Activity",section:2,activity:3,item:6},{label:"Quiz: Activity",section:2,activity:3,item:7},{label:"Quiz: Activity",section:2,activity:3,item:8},{label:"Quiz: Activity",section:2,activity:3,item:9},{label:"Quiz: Activity",section:2,activity:3,item:10},{label:"Quiz: Activity",section:2,activity:4,item:0},{label:"Quiz: Activity",section:2,activity:4,item:1},{label:"Quiz: Activity",section:2,activity:4,item:2},{label:"Quiz: Activity",section:2,activity:4,item:3},{label:"Quiz: Activity",section:2,activity:4,item:4},{label:"Quiz: Activity",section:2,activity:4,item:5},{label:"Quiz: Activity",section:2,activity:4,item:6},{label:"Quiz: Activity",section:2,activity:4,item:7},{label:"Quiz: Activity",section:2,activity:4,item:8},{label:"Quiz: Activity",section:2,activity:4,item:9},{label:"Quiz: Activity",section:2,activity:4,item:10},{label:"Quiz: Activity",section:2,activity:5,item:0},{label:"Quiz: Activity",section:2,activity:5,item:1},{label:"Quiz: Activity",section:2,activity:5,item:2},{label:"Quiz: Activity",section:2,activity:5,item:3},{label:"Quiz: Activity",section:2,activity:5,item:4},{label:"Quiz: Activity",section:2,activity:5,item:5},{label:"Quiz: Activity",section:2,activity:5,item:6},{label:"Quiz: Activity",section:2,activity:5,item:7},{label:"Quiz: Activity",section:2,activity:5,item:8},{label:"Quiz: Activity",section:2,activity:5,item:9},{label:"Quiz: Activity",section:2,activity:5,item:10},{label:"Quiz: Activity",section:2,activity:6,item:0},{label:"Quiz: Activity",section:2,activity:6,item:1},{label:"Quiz: Activity",section:2,activity:6,item:2},{label:"Quiz: Activity",section:2,activity:6,item:3},{label:"Quiz: Activity",section:2,activity:6,item:4},{label:"Quiz: Activity",section:2,activity:6,item:5},{label:"Quiz: Activity",section:2,activity:6,item:6},{label:"Quiz: Activity",section:2,activity:6,item:7},{label:"Quiz: Activity",section:2,activity:6,item:8},{label:"Quiz: Activity",section:2,activity:6,item:9},{label:"Quiz: Activity",section:2,activity:6,item:10},{label:"Quiz: Activity",section:2,activity:7,item:0},{label:"Quiz: Activity",section:2,activity:7,item:1},{label:"Quiz: Activity",section:2,activity:7,item:2},{label:"Quiz: Activity",section:2,activity:7,item:3},{label:"Quiz: Activity",section:2,activity:7,item:4},{label:"Quiz: Activity",section:2,activity:7,item:5},{label:"Quiz: Activity",section:2,activity:7,item:6},{label:"Quiz: Activity",section:2,activity:7,item:7},{label:"Quiz: Activity",section:2,activity:7,item:8},{label:"Quiz: Activity",section:2,activity:7,item:9},{label:"Quiz: Activity",section:2,activity:7,item:10},{label:"Quiz: Activity",section:2,activity:8,item:0},{label:"Quiz: Activity",section:2,activity:8,item:1}];break;case"Grade 3":case"Grade 4":case"Grade 5":case"Grade 6":case"Grade 7":case"Grade 8":e.globalAssets.push({type:"audio",src:"${content}/shared/global/audio/sfx/g3_5_accolade_6.mp3"},{type:"audio",src:"${content}/shared/global/audio/sfx/g3_5_equation_appear.mp3"},{type:"audio",src:"${content}/shared/global/audio/sfx/page_turn.mp3"});var r=[];n.each([{label:"Instruction: Activity",index:0,maxActivities:8,maxConsecutiveRenderers:6},{label:"Quiz: Activity",index:2,maxActivities:16,maxConsecutiveRenderers:6}],(function(e){for(var t=0;t<e.maxActivities;t++)for(var n=0;n<e.maxConsecutiveRenderers;n++)r.push({label:e.label,section:e.index,activity:t,item:n})})),e.teacherModeScreens=r}return e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(67),i=n.n(r),o=n(43),a=n.n(o),s=n(23),u=n.n(s),c=n(3),l=n.n(c),f=n(292),h=n.n(f),d=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function p(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(h.a[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(d),o=null;null!==(o=i.exec(e));)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var g=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,v=/^\s*$/,m=Object.create(null);function y(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(y,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var _={parse:function(e,t){t||(t={}),t.components||(t.components=m);var n,r=[],i=[],o=-1,a=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");r.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(g,(function(s,u){if(a){if(s!=="</"+n.name+">")return;a=!1}var c,l="/"!==s.charAt(1),f=s.startsWith("\x3c!--"),h=u+s.length,d=e.charAt(h);if(f){var g=p(s);return o<0?(r.push(g),r):((c=i[o]).children.push(g),r)}if(l&&(o++,"tag"===(n=p(s)).type&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!d||"<"===d||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),0===o&&r.push(n),(c=i[o-1])&&c.children.push(n),i[o]=n),(!l||n.voidElement)&&(o>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(o--,n=-1===o?r:i[o]),!a&&"<"!==d&&d)){c=-1===o?r:i[o].children;var m=e.indexOf("<",h),y=e.slice(h,-1===m?void 0:m);v.test(y)&&(y=" "),(m>-1&&o+c.length>=0||" "!==y)&&c.push({type:"text",content:y})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+y("",t)}),"")}},b="".replace,A=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,w={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'};function E(e){return w[e]}var x=n(4),T=n.n(x),S=n(5),O=n.n(S);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P,N={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},I=l.a.createContext();function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N=k(k({},N),e)}function L(){return N}var D=function(){function e(){T()(this,e),this.usedNamespaces={}}return O()(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function M(e){P=e}function j(){return P}var B={type:"3rdParty",init:function(e){R(e.options.react),M(e)}};function F(e){return function(t){return new Promise((function(n){var r=U();e.getInitialProps?e.getInitialProps(t).then((function(e){n(k(k({},e),r))})):n(r)}))}}function U(){var e=j(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],n={},r={};return e.languages.forEach((function(n){r[n]={},t.forEach((function(t){r[n][t]=e.getResourceBundle(n,t)||{}}))})),n.initialI18nStore=r,n.initialLanguage=e.language,n}function H(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var G={};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&G[t[0]]||("string"==typeof t[0]&&(G[t[0]]=new Date),H.apply(void 0,t))}function z(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Q("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))))}function W(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}var q=["format"],X=["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function J(e){return e?e&&e.children?e.children:e.props&&e.props.children:[]}function Z(e){return Array.isArray(e)?e:[e]}function ee(e,t,n,r,i,o){if(""===t)return[];var s=r.transKeepBasicHtmlNodesFor||[],u=t&&new RegExp(s.join("|")).test(t);if(!e&&!u)return[t];var c={};!function e(t){Z(t).forEach((function(t){"string"!=typeof t&&($(t)?e(J(t)):"object"!==a()(t)||l.a.isValidElement(t)||Object.assign(c,t))}))}(e);var f=_.parse("<0>".concat(t,"</0>")),h=K(K({},c),i);function d(e,t,n){var r=J(e),i=g(r,t.children,n);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return l.a.isValidElement(e)}))}(r)&&0===i.length?r:i}function p(e,t,n,r,i){e.dummy&&(e.children=t),n.push(l.a.cloneElement(e,K(K({},e.props),{},{key:r}),i?void 0:t))}function g(t,i,c){var f=Z(t);return Z(i).reduce((function(t,i,v){var m,y,_,w,x=i.children&&i.children[0]&&i.children[0].content&&n.services.interpolator.interpolate(i.children[0].content,h,n.language);if("tag"===i.type){var T=f[parseInt(i.name,10)];!T&&1===c.length&&c[0][i.name]&&(T=c[0][i.name]),T||(T={});var S=0!==Object.keys(i.attrs).length?(y={props:i.attrs},(w=K({},_=T)).props=Object.assign(y.props,_.props),w):T,O=l.a.isValidElement(S),C=O&&$(i,!0)&&!i.voidElement,k=u&&"object"===a()(S)&&S.dummy&&!O,P="object"===a()(e)&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"==typeof S){var N=n.services.interpolator.interpolate(S,h,n.language);t.push(N)}else if($(S)||C){p(S,d(S,i,c),t,v)}else if(k){var I=g(f,i.children,c);t.push(l.a.cloneElement(S,K(K({},S.props),{},{key:v}),I))}else if(Number.isNaN(parseFloat(i.name))){if(P)p(S,d(S,i,c),t,v,i.voidElement);else if(r.transSupportBasicHtmlNodes&&s.indexOf(i.name)>-1)if(i.voidElement)t.push(l.a.createElement(i.name,{key:"".concat(i.name,"-").concat(v)}));else{var R=g(f,i.children,c);t.push(l.a.createElement(i.name,{key:"".concat(i.name,"-").concat(v)},R))}else if(i.voidElement)t.push("<".concat(i.name," />"));else{var L=g(f,i.children,c);t.push("<".concat(i.name,">").concat(L,"</").concat(i.name,">"))}}else if("object"!==a()(S)||O)1===i.children.length&&x?t.push(l.a.cloneElement(S,K(K({},S.props),{},{key:v}),x)):t.push(l.a.cloneElement(S,K(K({},S.props),{},{key:v})));else{var D=i.children[0]?x:null;D&&t.push(D)}}else if("text"===i.type){var M=r.transWrapTextNodes,j=o?(m=n.services.interpolator.interpolate(i.content,h,n.language),b.call(m,A,E)):n.services.interpolator.interpolate(i.content,h,n.language);M?t.push(l.a.createElement(M,{key:"".concat(i.name,"-").concat(v)},j)):t.push(j)}return t}),[])}return J(g([{dummy:!0,children:e||[]}],f,Z(e||[]))[0])}function te(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,s=e.tOptions,u=void 0===s?{}:s,f=e.values,h=e.defaults,d=e.components,p=e.ns,g=e.i18n,v=e.t,m=e.shouldUnescape,y=i()(e,X),_=Object(c.useContext)(I)||{},b=_.i18n,A=_.defaultNS,w=g||b||j();if(!w)return Q("You will need to pass in an i18next instance by using i18nextReactModule"),t;var E=v||w.t.bind(w)||function(e){return e},x=K(K({},L()),w.options&&w.options.react),T=p||E.ns||A||w.options&&w.options.defaultNS;T="string"==typeof T?[T]:T||["translation"];var S=h||function e(t,n){if(!t)return"";var r="",o=Z(t),s=n.transKeepBasicHtmlNodesFor||[];return o.forEach((function(t,o){if("string"==typeof t)r+="".concat(t);else if(l.a.isValidElement(t)){var u=Object.keys(t.props).length,c=s.indexOf(t.type)>-1,f=t.props.children;if(!f&&c&&0===u)r+="<".concat(t.type,"/>");else if(f||c&&0===u)if(t.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&1===u&&"string"==typeof f)r+="<".concat(t.type,">").concat(f,"</").concat(t.type,">");else{var h=e(f,n);r+="<".concat(o,">").concat(h,"</").concat(o,">")}else r+="<".concat(o,"></").concat(o,">")}else if(null===t)H("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===a()(t)){var d=t.format,p=i()(t,q),g=Object.keys(p);if(1===g.length){var v=d?"".concat(g[0],", ").concat(d):g[0];r+="{{".concat(v,"}}")}else H("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else H("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)})),r}(t,x)||x.transEmptyNodeValue||o,O=x.hashTransKey,C=o||(O?O(S):S),k=f?u.interpolation:{interpolation:K(K({},u.interpolation),{},{prefix:"#$?",suffix:"?$#"})},P=K(K(K(K({},u),{},{count:n},f),k),{},{defaultValue:S,ns:T}),N=ee(d||t,C?E(C,P):S,w,x,P,m),R=void 0!==r?r:x.defaultTransParent;return R?l.a.createElement(R,y,N):N}var ne=n(37),re=n.n(ne);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=Object(c.useContext)(I)||{},i=r.i18n,o=r.defaultNS,a=n||i||j();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new D),!a){Q("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}a.options.react&&void 0!==a.options.react.wait&&Q("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=oe(oe(oe({},L()),a.options.react),t),f=l.useSuspense,h=l.keyPrefix,d=e||o||a.options&&a.options.defaultNS;d="string"==typeof d?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(d);var p=(a.isInitialized||a.initializedStoreOnce)&&d.every((function(e){return V(e,a,l)}));function g(){return a.getFixedT(null,"fallback"===l.nsMode?d:d[0],h)}var v=Object(c.useState)(g),m=re()(v,2),y=m[0],_=m[1],b=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=l.bindI18n,t=l.bindI18nStore;function n(){b.current&&_(g)}return b.current=!0,p||f||z(a,d,(function(){b.current&&_(g)})),e&&a&&a.on(e,n),t&&a&&a.store.on(t,n),function(){b.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,n)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,n)}))}}),[a,d.join()]);var A=Object(c.useRef)(!0);Object(c.useEffect)((function(){b.current&&!A.current&&_(g),A.current=!1}),[a]);var w=[y,a,p];if(w.t=y,w.i18n=a,w.ready=p,p)return w;if(!p&&!f)return w;throw new Promise((function(e){z(a,d,(function(){e()}))}))}var se=["forwardedRef"];function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var o=r.forwardedRef,a=i()(r,se),s=ae(e,a),u=re()(s,3),c=u[0],f=u[1],h=u[2],d=ce(ce({},a),{},{t:c,i18n:f,tReady:h});return t.withRef&&o?d.ref=o:!t.withRef&&o&&(d.forwardedRef=o),l.a.createElement(n,d)}r.displayName="withI18nextTranslation(".concat(W(n),")"),r.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(r,Object.assign({},e,{forwardedRef:t}))})):r}}var fe=["ns","children"];function he(e){var t=e.ns,n=e.children,r=ae(t,i()(e,fe)),o=re()(r,3),a=o[0],s=o[1],u=o[2];return n(a,{i18n:s,lng:s.language},u)}function de(e){var t=e.i18n,n=e.defaultNS,r=e.children,i=Object(c.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return Object(c.createElement)(I.Provider,{value:i},r)}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.i18n,i=Object(c.useContext)(I)||{},o=i.i18n,a=r||o||j();a.options&&a.options.isClone||(e&&!a.initializedStoreOnce&&(a.services.resourceStore.data=e,a.options.ns=Object.values(e).reduce((function(e,t){return Object.keys(t).forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}),a.options.ns),a.initializedStoreOnce=!0,a.isInitialized=!0),t&&!a.initializedLanguageOnce&&(a.changeLanguage(t),a.initializedLanguageOnce=!0))}var ge=["initialI18nStore","initialLanguage"];function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(){return function(e){function t(t){var n=t.initialI18nStore,r=t.initialLanguage,o=i()(t,ge);return pe(n,r),l.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}return t.getInitialProps=F(e),t.displayName="withI18nextSSR(".concat(W(e),")"),t.WrappedComponent=e,t}}n.d(t,"date",(function(){return ye})),n.d(t,"time",(function(){return _e})),n.d(t,"number",(function(){return be})),n.d(t,"select",(function(){return Ae})),n.d(t,"plural",(function(){return we})),n.d(t,"selectOrdinal",(function(){return Ee})),n.d(t,"Trans",(function(){return te})),n.d(t,"useTranslation",(function(){return ae})),n.d(t,"withTranslation",(function(){return le})),n.d(t,"Translation",(function(){return he})),n.d(t,"I18nextProvider",(function(){return de})),n.d(t,"withSSR",(function(){return me})),n.d(t,"useSSR",(function(){return pe})),n.d(t,"I18nContext",(function(){return I})),n.d(t,"initReactI18next",(function(){return B})),n.d(t,"setDefaults",(function(){return R})),n.d(t,"getDefaults",(function(){return L})),n.d(t,"setI18n",(function(){return M})),n.d(t,"getI18n",(function(){return j})),n.d(t,"composeInitialProps",(function(){return F})),n.d(t,"getInitialProps",(function(){return U}));var ye=function(){return""},_e=function(){return""},be=function(){return""},Ae=function(){return""},we=function(){return""},Ee=function(){return""}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t);var i=n(100);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Object(i.a)(e,t,n[t])}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}var p={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},g=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.init(t,n)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||p,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,o({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),v=function(){function e(){a(this,e),this.observers={}}return u(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function m(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function y(e){return null==e?"":""+e}function _(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function b(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function A(e,t,n){var r=b(e,t,Object);r.obj[r.k]=n}function w(e,t){var n=b(e,t),r=n.obj,i=n.k;if(r)return r[i]}function E(e,t,n){var r=w(e,n);return void 0!==r?r:w(t,n)}function x(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):x(e[r],t[r],n):e[r]=t[r]);return e}function T(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function O(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return S[e]})):e}var C="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s];var c=r.slice(o+a).join(n);return c?k(u,c,n):void 0}i=i[r[o]]}return i}}var P=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return a(this,t),n=l(this,f(t).call(this)),C&&v.call(c(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return d(t,e),u(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=w(this.data,a);return s||!o||"string"!=typeof n?s:k(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),A(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var u=w(this.data,s)||{};r?x(u,n,i):u=o({},u,n),A(this.data,s,u),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?o({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(v),N={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}},I={},R=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,t),n=l(this,f(t).call(this)),C&&v.call(c(n)),_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,c(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=g.create("translator"),n}return d(t,e),u(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,n,i){var a=this;if("object"!==r(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,u=this.extractFromKey(e[e.length-1],n),c=u.key,l=u.namespaces,f=l[l.length-1],h=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(d){var p=n.nsSeparator||this.options.nsSeparator;return f+p+c}return c}var g=this.resolve(e,n),v=g&&g.res,m=g&&g.usedKey||c,y=g&&g.exactUsedKey||c,_=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],A=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(w&&v&&E&&b.indexOf(_)<0&&("string"!=typeof A||"[object Array]"!==_)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,o({},n,{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(s){var x="[object Array]"===_,T=x?[]:{},S=x?y:m;for(var O in v)if(Object.prototype.hasOwnProperty.call(v,O)){var C="".concat(S).concat(s).concat(O);T[O]=this.translate(C,o({},n,{joinArrays:!1,ns:l})),T[O]===C&&(T[O]=v[O])}v=T}}else if(w&&"string"==typeof A&&"[object Array]"===_)(v=v.join(A))&&(v=this.extendTranslation(v,e,n,i));else{var k=!1,P=!1,N=void 0!==n.count&&"string"!=typeof n.count,I=t.hasDefaultValue(n),R=N?this.pluralResolver.getSuffix(h,n.count):"",L=n["defaultValue".concat(R)]||n.defaultValue;!this.isValidLookup(v)&&I&&(k=!0,v=L),this.isValidLookup(v)||(P=!0,v=c);var D=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=D&&P?void 0:v,j=I&&L!==v&&this.options.updateMissing;if(P||k||j){if(this.logger.log(j?"updateKey":"missingKey",h,f,c,j?L:v),s){var B=this.resolve(c,o({},n,{keySeparator:!1}));B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var H=0;H<U.length;H++)F.push(U[H]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);var G=function(e,t,r){a.options.missingKeyHandler?a.options.missingKeyHandler(e,f,t,j?r:M,j,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,f,t,j?r:M,j,n),a.emit("missingKey",e,f,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?F.forEach((function(e){a.pluralResolver.getSuffixes(e).forEach((function(t){G([e],c+t,n["defaultValue".concat(t)]||L)}))})):G(F,c,L))}v=this.extendTranslation(v,e,n,g,i),P&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(c)),(P||k)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(o({},n,{interpolation:o({},this.options.interpolation,n.interpolation)}));var s,u=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(u){var c=e.match(this.interpolator.nestingRegexp);s=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=o({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),u){var f=e.match(this.interpolator.nestingRegexp);s<(f&&f.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=N.handle(d,e,t,this.options&&this.options.postProcessPassResolved?o({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,d=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!I["".concat(d[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(I["".concat(d[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u,l=c,d=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(d,c,n,e,s);else f&&(o=a.pluralResolver.getSuffix(n,s.count)),f&&h&&d.push(l+o),h&&d.push(l+="".concat(a.options.contextSeparator).concat(s.context)),f&&d.push(l+=o);for(;u=d.pop();)a.isValidLookup(t)||(r=u,t=a.getResource(n,e,u,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,"defaultValue".length)&&void 0!==e[t])return!0;return!1}}]),t}(v);function L(e){return e.charAt(0).toUpperCase()+e.slice(1)}var D=function(){function e(t){a(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}return u(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=L(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=L(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=L(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),M=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],j={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function B(){var e={};return M.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:j[t.fc]}}))})),e}var F=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.languageUtils=t,this.options=n,this.logger=g.create("pluralResolver"),this.rules=B()}return u(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.logger=g.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return u(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:O,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?T(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?T(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?T(t.nestingPrefix):t.nestingPrefixEscaped||T("$t("),this.nestingSuffix=t.nestingSuffix?T(t.nestingSuffix):t.nestingSuffixEscaped||T(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,s,u=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var f=function(e){if(e.indexOf(u.formatSeparator)<0){var i=E(t,c,e);return u.alwaysFormat?u.format(i,void 0,n,o({},r,t,{interpolationkey:e})):i}var a=e.split(u.formatSeparator),s=a.shift().trim(),l=a.join(u.formatSeparator).trim();return u.format(E(t,c,s),l,n,o({},r,t,{interpolationkey:s}))};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return u.escapeValue?l(u.escape(e)):l(e)}}].forEach((function(t){for(s=0;i=t.regex.exec(e);){if(void 0===(a=f(i[1].trim())))if("function"==typeof h){var n=h(e,i,r);a="string"==typeof n?n:""}else{if(d){a=i[0];continue}u.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),a=""}else"string"==typeof a||u.useRawValueToEscape||(a=y(a));var o=t.safeValue(a);if(e=e.replace(i[0],o),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=u.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o({},a);function u(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),t&&(s=o({},t,s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=f.shift(),c=f,l=!0}if((r=t(u.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=y(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return i.format(e,t,a.lng,o({},a,{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();var H=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a(this,t),i=l(this,f(t).call(this)),C&&v.call(c(i)),i.backend=e,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=g.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return d(t,e),u(t,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(t)<0&&u.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,s,u,c,l,f;r=n.loaded,s=o,c=b(r,[i],Object),l=c.obj,f=c.k,l[f]=l[f]||[],u&&(l[f]=l[f].concat(s)),u||l[f].push(s),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,o({},a,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),t}(v);function G(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===r(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===r(e[2])||"object"===r(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function Q(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function z(){}var V=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(a(this,t),e=l(this,f(t).call(this)),C&&v.call(c(e)),e.options=Q(n),e.services={},e.logger=g,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),l(e,c(e));setTimeout((function(){e.init(n,r)}),0)}return e}return d(t,e),u(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=o({},G(),this.options,Q(t)),this.format=this.options.interpolation.format,n||(n=z),!this.options.isClone){this.modules.logger?g.init(r(this.modules.logger),this.options):g.init(null,this.options);var i=new D(this.options);this.store=new P(this.options.resources,this.options);var a=this.services;a.logger=g,a.resourceStore=this.store,a.languageUtils=i,a.pluralResolver=new F(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new U(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new H(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new R(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var l=m(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=m();return e||(e=this.languages),t||(t=this.options.ns),n||(n=z),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&N.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=m();this.emit("languageChanging",e);var i=function(i){e||i||!n.services.languageDetector||(i=[]);var o="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);o&&(n.language||(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o)),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,a=function e(t,a){var s;if("object"!==r(a)){for(var u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];s=i.options.overloadTranslationOptionHandler([t,a].concat(c))}else s=o({},a);s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns;var f=i.options.keySeparator||".",h=n?"".concat(n).concat(f).concat(t):t;return i.t(h,s)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=m();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=m();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,i=o({},this.options,n,{isClone:!0}),a=new t(i),s=["store","services","language"];return s.forEach((function(t){a[t]=e[t]})),a.services=o({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new R(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(v));t.default=V},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=(n(27),{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"}),a=function(e){var t=e.message,n=e["aria-live"];return i.a.createElement("div",{style:o,role:"log","aria-live":n},t||"")};a.propTypes={};var s=a;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:!1,setAlternateAssertive:!1},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.oldPolitemessage,r=t.oldPoliteMessageId,i=t.oldAssertiveMessage,o=t.oldAssertiveMessageId,a=e.politeMessage,s=e.politeMessageId,u=e.assertiveMessage,c=e.assertiveMessageId;return n!==a||r!==s?{politeMessage1:t.setAlternatePolite?"":a,politeMessage2:t.setAlternatePolite?a:"",oldPolitemessage:a,oldPoliteMessageId:s,setAlternatePolite:!t.setAlternatePolite}:i!==u||o!==c?{assertiveMessage1:t.setAlternateAssertive?"":u,assertiveMessage2:t.setAlternateAssertive?u:"",oldAssertiveMessage:u,oldAssertiveMessageId:c,setAlternateAssertive:!t.setAlternateAssertive}:null},t.prototype.render=function(){var e=this.state,t=e.assertiveMessage1,n=e.assertiveMessage2,r=e.politeMessage1,o=e.politeMessage2;return i.a.createElement("div",null,i.a.createElement(s,{"aria-live":"assertive",message:t}),i.a.createElement(s,{"aria-live":"assertive",message:n}),i.a.createElement(s,{"aria-live":"polite",message:r}),i.a.createElement(s,{"aria-live":"polite",message:o}))},t}(r.Component);l.propTypes={};var f=l;function h(){console.warn("Announcement failed, LiveAnnouncer context is missing")}var d=i.a.createContext({announceAssertive:h,announcePolite:h});var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.announcePolite=function(e,t){r.setState({announcePoliteMessage:e,politeMessageId:t||""})},r.announceAssertive=function(e,t){r.setState({announceAssertiveMessage:e,assertiveMessageId:t||""})},r.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:r.announcePolite,announceAssertive:r.announceAssertive}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.announcePoliteMessage,n=e.politeMessageId,r=e.announceAssertiveMessage,o=e.assertiveMessageId,a=e.updateFunctions;return i.a.createElement(d.Provider,{value:a},this.props.children,i.a.createElement(f,{assertiveMessage:r,assertiveMessageId:o,politeMessage:t,politeMessageId:n}))},t}(r.Component),g=n(99),v=n.n(g);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,r;m(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,e.call.apply(e,[this].concat(o))),r.announce=function(){var e=r.props,t=e.message,n=e["aria-live"],i=e.announceAssertive,o=e.announcePolite;"assertive"===n&&i(t||"",v()()),"polite"===n&&o(t||"",v()())},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.announce()},t.prototype.componentDidUpdate=function(e){this.props.message!==e.message&&this.announce()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.clearOnUnmount,n=e.announceAssertive,r=e.announcePolite;!0!==t&&"true"!==t||(n(""),r(""))},t.prototype.render=function(){return null},t}(r.Component);_.propTypes={};var b=_,A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e){return i.a.createElement(d.Consumer,null,(function(t){return i.a.createElement(b,A({},t,e))}))};w.propTypes={};var E=w,x=function(e){var t=e.children;return i.a.createElement(d.Consumer,null,(function(e){return t(e)}))};x.propTypes={};var T=x;n.d(t,"LiveAnnouncer",(function(){return p})),n.d(t,"LiveMessage",(function(){return E})),n.d(t,"LiveMessenger",(function(){return T}))},function(e,t,n){"use strict";n.r(t);var r=n(290),i=n.n(r),o=n(291),a=n.n(o),s=n(15),u=n.n(s);const c=new RegExp("^[a-zA-Z_]\\w*$");const l=new class{validateName(e){if(!c.exec(e))throw new Error("invalid name: "+e)}},f="variables",h=[f,"unusedVars"];function d({name:e,value:t,constants:n,level:r=0}){if(e&&(l.validateName(e),0===r)){if(h.includes(e))throw new Error("Reserved key: "+e);if(e in n)throw new Error(`'${e}' is an existing constant and cannot be overwritten`)}if(u.a.isFunction(t))throw new Error("context cannot contain any functions");u.a.isArray(t)?t.forEach(e=>d({value:e,constants:n,level:r+1})):u.a.isObject(t)&&u.a.forEach(t,(e,t)=>d({name:t,value:e,constants:n,level:r+1}))}const p={noReturnValue:"no-return-value",multipleAnonymousLines:"multiple-anonymous-lines",excessiveNumberOfLines:"excessive-number-of-lines",unusedVariables:"unused-variables"},g={[p.noReturnValue]:{title:"no return value",desc:"The expression didn't return a value. To return a value, a line shouldn't set a variable."},[p.multipleAnonymousLines]:{title:"multiple anonymous lines",desc:'A line that doesn\'t set a variable indicates the return value of the expression. There is more than one such line. The last of these "wins" and sets the return value  the others are effectively lost.',units:"lines"},[p.excessiveNumberOfLines]:{title:"excessive number of lines",desc:"The number of executables lines in the expression exceeds 50."},[p.unusedVariables]:{title:"unused variables",desc:"These variables have values assigned that were never read back out."}},v=/(\/\/\s*.*)$/,m=new RegExp("^(([a-zA-Z_]\\w*)\\s?=(?!=)\\s?)?(.+)$");function y(e){const t=[];return e.trim().split("\n").forEach((e,n)=>{if(""!==(e=e.trim().replace(v,"").trim())){const r=m.exec(e),i=r[2],o=r[3];t.push({linenum:n+1,variable:i,expression:o})}}),t}function _(e,t){if(null==t)throw new Error("Second param can't be null or undefined");return null==e?t:e}function b(e,t,n){e[t]={payload:n,meta:g[t]}}class A{constructor({rngSeed:e,functions:t={},constants:n={}}={}){this._jexl=new i.a.Jexl;const r=function(e){const t=a()(e);return{randomInt:(e,n)=>Math.floor(t()*(n-e)+e)}}(e);this._functionRuntime={random:r},this.precision=6,this._constants={},Object.keys(n).forEach(e=>this._constants[e]=n[e]),Object.keys(r).forEach(e=>{this._addFunction(e,r[e])}),this._addFunction("abs",e=>Math.abs(e)),this._addFunction("ceil",e=>Math.ceil(e)),this._addFunction("floor",e=>Math.floor(e)),this._addFunction("ifNull",_),this._addFunction("max",(...e)=>Math.max(...e)),this._addFunction("min",(...e)=>Math.min(...e)),this._addFunction("round",e=>Math.round(e)),this._addFunction("sqrt",e=>Math.sqrt(e)),Object.keys(t).forEach(e=>this._addFunction(e,t[e],this._functionRuntime))}parse(e){y(e).forEach(e=>{const{linenum:t,expression:n}=e;try{this._parseExpression(n)}catch(e){throw e.message=`[line: ${t}] ${e.message}`,e}})}evaluate({expressions:e,constants:t={}}){const n=function(...e){const t={constants:{},[f]:{},unusedVars:new Set};return u.a.forEach(e,e=>{u.a.forEach(e,(e,n)=>{d({name:n,value:e,constants:t.constants}),t.constants[n]=e})}),new Proxy(t,{get(e,t){if(t===f)return e[f];if("unusedVars"===t)return Array.from(e.unusedVars);const n=t in e.constants?e.constants[t]:e[f][t];if(void 0===n)throw new Error("Undefined symbol: "+t);return e.unusedVars.delete(t),n},set:(e,t,n)=>(d({name:t,value:n,constants:e.constants}),e[f][t]=n,e.unusedVars.add(t),!0)})}(this._constants,t);let r;const i=[],o=y(e);o.forEach(e=>{const{linenum:t,variable:o,expression:a}=e;try{let e=this._parseExpression(a).evalSync(n);if("number"==typeof e){e%1!=0&&(e=Number(e.toFixed(this.precision)))}o?n[o]=e:(i.push(t),r=e)}catch(e){throw e.message=`[line: ${t}] ${e.message}`,e.variables=n.variables,e}});const a={};o.length>50&&b(a,p.excessiveNumberOfLines,o.length),0===i.length?b(a,p.noReturnValue,""):i.length>1&&b(a,p.multipleAnonymousLines,i);const{unusedVars:s}=n;return s.length&&b(a,p.unusedVariables,s),{value:r,variables:n.variables,warnings:a}}_parseExpression(e){return this._jexl.compile(e)}_addFunction(e,t,n){if(l.validateName(e),this._jexl.getFunction(e))throw new Error(`A function named '${e}' already exists`);n&&(t=t.bind(null,n)),this._jexl.addFunction(e,t)}}n.d(t,"ExpressionEngine",(function(){return A})),n.d(t,"expressionWarning",(function(){return p}))}]);
